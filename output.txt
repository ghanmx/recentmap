

// .\package.json
{
  "name": "vite_react_shadcn_ts",
  "private": true,
  "version": "0.0.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "tsc -b && vite build",
    "build:dev": "tsc -b && vite build --mode development",
    "lint:fix": "eslint -c eslint.config.js .",
    "preview": "vite preview",
    "format": "prettier --write .",
    "type-check": "tsc --noEmit",
    "analyze": "vite build --mode analyze"
  },
  "dependencies": {
    "@eslint/plugin-kit": "^0.2.3",
    "@formspree/react": "^2.5.1",
    "@hookform/resolvers": "^3.9.1",
    "@mapbox/polyline": "^1.2.1",
    "@netlify/content-engine": "^1.5.0",
    "@radix-ui/react-accordion": "^1.2.1",
    "@radix-ui/react-alert-dialog": "^1.1.2",
    "@radix-ui/react-aspect-ratio": "^1.1.0",
    "@radix-ui/react-avatar": "^1.1.1",
    "@radix-ui/react-checkbox": "^1.1.2",
    "@radix-ui/react-collapsible": "^1.1.1",
    "@radix-ui/react-context-menu": "^2.2.2",
    "@radix-ui/react-dialog": "^1.1.2",
    "@radix-ui/react-dropdown-menu": "^2.1.2",
    "@radix-ui/react-hover-card": "^1.1.2",
    "@radix-ui/react-label": "^2.1.0",
    "@radix-ui/react-menubar": "^1.1.2",
    "@radix-ui/react-navigation-menu": "^1.2.1",
    "@radix-ui/react-popover": "^1.1.2",
    "@radix-ui/react-progress": "^1.1.0",
    "@radix-ui/react-radio-group": "^1.2.1",
    "@radix-ui/react-scroll-area": "^1.2.1",
    "@radix-ui/react-select": "^2.1.2",
    "@radix-ui/react-separator": "^1.1.0",
    "@radix-ui/react-slider": "^1.2.1",
    "@radix-ui/react-slot": "^1.1.0",
    "@radix-ui/react-switch": "^1.1.1",
    "@radix-ui/react-tabs": "^1.1.1",
    "@radix-ui/react-toast": "^1.2.2",
    "@radix-ui/react-toggle": "^1.1.0",
    "@radix-ui/react-toggle-group": "^1.1.0",
    "@radix-ui/react-tooltip": "^1.1.4",
    "@stackbit/cms-core": "^3.1.16",
    "@stackbit/cms-git": "^1.0.28",
    "@stripe/react-stripe-js": "^3.0.0",
    "@stripe/stripe-js": "^5.2.0",
    "@supabase/supabase-js": "^2.46.2",
    "@tailwindcss/aspect-ratio": "^0.4.2",
    "@tailwindcss/forms": "^0.5.9",
    "@tanstack/react-query": "^5.61.5",
    "@types/leaflet": "^1.9.14",
    "axios": "^1.7.8",
    "class-variance-authority": "^0.7.1",
    "cmdk": "^1.0.4",
    "d3-color": "^3.1.0",
    "d3-path": "^3.1.0",
    "date-fns": "^4.1.0",
    "embla-carousel-react": "^8.5.1",
    "eslint-plugin-unused-imports": "^4.1.4",
    "framer-motion": "^11.12.0",
    "geojson": "^0.5.0",
    "glob": "^11.0.0",
    "google-auth-library": "^9.15.0",
    "http-cache-semantics": "^4.1.1",
    "http-proxy-middleware": "^3.0.3",
    "input-otp": "^1.4.1",
    "leaflet": "^1.9.4",
    "lodash": "^4.17.21",
    "lovable-tagger": "^1.0.19",
    "lru-cache": "^11.0.2",
    "lucide-react": "^0.462.0",
    "minimatch": "^10.0.1",
    "next-themes": "^0.4.3",
    "prop-types": "^15.8.1",
    "react": "^18.3.1",
    "react-calendar": "^5.1.0",
    "react-day-picker": "^9.4.0",
    "react-dom": "^18.3.1",
    "react-draggable": "^4.4.6",
    "react-hook-form": "^7.53.2",
    "react-leaflet": "^4.2.1",
    "react-resizable-panels": "^2.1.7",
    "react-router-dom": "^7.0.1",
    "recharts": "^2.13.3",
    "rimraf": "^6.0.1",
    "sonner": "^1.7.0",
    "string-similarity-js": "^2.1.4",
    "tailwind-merge": "^2.5.5",
    "tailwindcss-animate": "^1.0.7",
    "vaul": "^1.1.1",
    "zod": "^3.23.8"
  },
  "devDependencies": {
    "@eslint/js": "^9.15.0",
    "@stackbit/types": "^2.1.8",
    "@tailwindcss/typography": "^0.5.15",
    "@types/d3-color": "^3.1.3",
    "@types/d3-path": "^3.1.0",
    "@types/geojson": "^7946.0.14",
    "@types/http-cache-semantics": "^4.0.4",
    "@types/minimatch": "^5.1.2",
    "@types/node": "^22.10.1",
    "@types/prop-types": "^15.7.13",
    "@types/react": "^18.3.13",
    "@types/react-dom": "^18.3.1",
    "@vitejs/plugin-react-swc": "^3.7.2",
    "autoprefixer": "^10.4.20",
    "eslint": "^9.15.0",
    "eslint-plugin-react-hooks": "^5.1.0-rc.0",
    "eslint-plugin-react-refresh": "^0.4.14",
    "gh-pages": "^6.2.0",
    "globals": "^15.12.0",
    "postcss": "^8.4.49",
    "prettier": "^3.4.1",
    "prettier-plugin-tailwindcss": "^0.6.9",
    "tailwindcss": "^3.4.15",
    "typescript": "^5.7.2",
    "typescript-eslint": "^8.16.0",
    "vite": "^5.4.11"
  },
  "eslintConfig": {
    "extends": [
      "eslint:recommended",
      "plugin:react/recommended",
      "plugin:@typescript-eslint/recommended",
      "prettier"
    ],
    "plugins": [
      "react-hooks",
      "unused-imports"
    ],
    "rules": {
      "unused-imports/no-unused-imports": "error",
      "unused-imports/no-unused-vars": [
        "warn",
        {
          "vars": "all",
          "varsIgnorePattern": "^_",
          "args": "after-used",
          "argsIgnorePattern": "^_"
        }
      ],
      "@typescript-eslint/no-unused-vars": "off",
      "react-refresh/only-export-components": [
        "warn",
        {
          "allowConstantExport": true
        }
      ]
    }
  },
  "prettier": {
    "singleQuote": true,
    "semi": false,
    "tailwindConfig": "./tailwind.config.ts"
  }
}


// .\tsconfig.json
{
  "files": [],
  "references": [
    { "path": "./tsconfig.app.json" },
    { "path": "./tsconfig.node.json" }
  ],
  "compilerOptions": {
    "baseUrl": ".",
    "paths": {
      "@/*": ["./src/*"]
    },
    "noImplicitAny": false,
    "noUnusedParameters": false,
    "skipLibCheck": true,
    "allowJs": true,
    "noUnusedLocals": false,
    "strictNullChecks": false
  }
}



// C:\Users\israe\Documents\GitHub\recentmap\components.json
{
  "$schema": "https://ui.shadcn.com/schema.json",
  "style": "default",
  "rsc": false,
  "tsx": true,
  "tailwind": {
    "config": "tailwind.config.ts",
    "css": "src/index.css",
    "baseColor": "slate",
    "cssVariables": true,
    "prefix": ""
  },
  "aliases": {
    "components": "@/components",
    "utils": "@/lib/utils",
    "ui": "@/components/ui",
    "lib": "@/lib",
    "hooks": "@/hooks"
  }
}



// C:\Users\israe\Documents\GitHub\recentmap\eslint.config.js
import js from '@eslint/js'
import globals from 'globals'
import reactHooks from 'eslint-plugin-react-hooks'
import reactRefresh from 'eslint-plugin-react-refresh'
import tseslint from 'typescript-eslint'
import unusedImports from 'eslint-plugin-unused-imports'

export default tseslint.config(
  { ignores: ['dist', '.netlify'] },
  {
    extends: [js.configs.recommended, ...tseslint.configs.recommended],
    files: ['**/*.{ts,tsx}'],
    languageOptions: {
      ecmaVersion: 2024,
      globals: {
        ...globals.browser,
        React: true,
        JSX: true,
      },
      parserOptions: {
        project: true,
        ecmaFeatures: {
          jsx: true,
          modules: true,
        },
      },
    },
    plugins: {
      'react-hooks': reactHooks,
      'react-refresh': reactRefresh,
      'unused-imports': unusedImports,
    },
    rules: {
      ...reactHooks.configs.recommended.rules,
      'react-refresh/only-export-components': [
        'warn',
        { allowConstantExport: true },
      ],
      '@typescript-eslint/no-unused-vars': [
        'warn',
        { 
          argsIgnorePattern: '^_',
          varsIgnorePattern: '^_',
        },
      ],
      'unused-imports/no-unused-imports': 'error',
      'unused-imports/no-unused-vars': 'off',
      '@typescript-eslint/strict-boolean-expressions': 'error',
      '@typescript-eslint/no-explicit-any': 'error',
      '@typescript-eslint/explicit-function-return-type': ['warn', {
        allowExpressions: true,
        allowTypedFunctionExpressions: true,
      }],
      'react-hooks/exhaustive-deps': 'warn',
      'no-console': ['warn', { allow: ['warn', 'error'] }],
      'prefer-const': 'error',
      eqeqeq: ['error', 'always'],
      '@typescript-eslint/no-floating-promises': 'error',
      '@typescript-eslint/await-thenable': 'error',
      '@typescript-eslint/no-misused-promises': 'error',
    },
    settings: {
      react: {
        version: 'detect',
      },
    },
  },
)


// C:\Users\israe\Documents\GitHub\recentmap\firebase.json


// C:\Users\israe\Documents\GitHub\recentmap\formspree.json
{}



// C:\Users\israe\Documents\GitHub\recentmap\package.json
{
  "name": "vite_react_shadcn_ts",
  "private": true,
  "version": "0.0.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "tsc -b && vite build",
    "build:dev": "tsc -b && vite build --mode development",
    "lint:fix": "eslint -c eslint.config.js .",
    "preview": "vite preview",
    "format": "prettier --write .",
    "type-check": "tsc --noEmit",
    "analyze": "vite build --mode analyze"
  },
  "dependencies": {
    "@eslint/plugin-kit": "^0.2.3",
    "@formspree/react": "^2.5.1",
    "@hookform/resolvers": "^3.9.1",
    "@mapbox/polyline": "^1.2.1",
    "@netlify/content-engine": "^1.5.0",
    "@radix-ui/react-accordion": "^1.2.1",
    "@radix-ui/react-alert-dialog": "^1.1.2",
    "@radix-ui/react-aspect-ratio": "^1.1.0",
    "@radix-ui/react-avatar": "^1.1.1",
    "@radix-ui/react-checkbox": "^1.1.2",
    "@radix-ui/react-collapsible": "^1.1.1",
    "@radix-ui/react-context-menu": "^2.2.2",
    "@radix-ui/react-dialog": "^1.1.2",
    "@radix-ui/react-dropdown-menu": "^2.1.2",
    "@radix-ui/react-hover-card": "^1.1.2",
    "@radix-ui/react-label": "^2.1.0",
    "@radix-ui/react-menubar": "^1.1.2",
    "@radix-ui/react-navigation-menu": "^1.2.1",
    "@radix-ui/react-popover": "^1.1.2",
    "@radix-ui/react-progress": "^1.1.0",
    "@radix-ui/react-radio-group": "^1.2.1",
    "@radix-ui/react-scroll-area": "^1.2.1",
    "@radix-ui/react-select": "^2.1.2",
    "@radix-ui/react-separator": "^1.1.0",
    "@radix-ui/react-slider": "^1.2.1",
    "@radix-ui/react-slot": "^1.1.0",
    "@radix-ui/react-switch": "^1.1.1",
    "@radix-ui/react-tabs": "^1.1.1",
    "@radix-ui/react-toast": "^1.2.2",
    "@radix-ui/react-toggle": "^1.1.0",
    "@radix-ui/react-toggle-group": "^1.1.0",
    "@radix-ui/react-tooltip": "^1.1.4",
    "@stackbit/cms-core": "^3.1.16",
    "@stackbit/cms-git": "^1.0.28",
    "@stripe/react-stripe-js": "^3.0.0",
    "@stripe/stripe-js": "^5.2.0",
    "@supabase/supabase-js": "^2.46.2",
    "@tailwindcss/aspect-ratio": "^0.4.2",
    "@tailwindcss/forms": "^0.5.9",
    "@tanstack/react-query": "^5.61.5",
    "@types/leaflet": "^1.9.14",
    "axios": "^1.7.8",
    "class-variance-authority": "^0.7.1",
    "cmdk": "^1.0.4",
    "d3-color": "^3.1.0",
    "d3-path": "^3.1.0",
    "date-fns": "^4.1.0",
    "embla-carousel-react": "^8.5.1",
    "eslint-plugin-unused-imports": "^4.1.4",
    "framer-motion": "^11.12.0",
    "geojson": "^0.5.0",
    "glob": "^11.0.0",
    "google-auth-library": "^9.15.0",
    "http-cache-semantics": "^4.1.1",
    "http-proxy-middleware": "^3.0.3",
    "input-otp": "^1.4.1",
    "leaflet": "^1.9.4",
    "lodash": "^4.17.21",
    "lovable-tagger": "^1.0.19",
    "lru-cache": "^11.0.2",
    "lucide-react": "^0.462.0",
    "minimatch": "^10.0.1",
    "next-themes": "^0.4.3",
    "prop-types": "^15.8.1",
    "react": "^18.3.1",
    "react-calendar": "^5.1.0",
    "react-day-picker": "^9.4.0",
    "react-dom": "^18.3.1",
    "react-draggable": "^4.4.6",
    "react-hook-form": "^7.53.2",
    "react-leaflet": "^4.2.1",
    "react-resizable-panels": "^2.1.7",
    "react-router-dom": "^7.0.1",
    "recharts": "^2.13.3",
    "rimraf": "^6.0.1",
    "sonner": "^1.7.0",
    "string-similarity-js": "^2.1.4",
    "tailwind-merge": "^2.5.5",
    "tailwindcss-animate": "^1.0.7",
    "vaul": "^1.1.1",
    "zod": "^3.23.8"
  },
  "devDependencies": {
    "@eslint/js": "^9.15.0",
    "@stackbit/types": "^2.1.8",
    "@tailwindcss/typography": "^0.5.15",
    "@types/d3-color": "^3.1.3",
    "@types/d3-path": "^3.1.0",
    "@types/geojson": "^7946.0.14",
    "@types/http-cache-semantics": "^4.0.4",
    "@types/minimatch": "^5.1.2",
    "@types/node": "^22.10.1",
    "@types/prop-types": "^15.7.13",
    "@types/react": "^18.3.13",
    "@types/react-dom": "^18.3.1",
    "@vitejs/plugin-react-swc": "^3.7.2",
    "autoprefixer": "^10.4.20",
    "eslint": "^9.15.0",
    "eslint-plugin-react-hooks": "^5.1.0-rc.0",
    "eslint-plugin-react-refresh": "^0.4.14",
    "gh-pages": "^6.2.0",
    "globals": "^15.12.0",
    "postcss": "^8.4.49",
    "prettier": "^3.4.1",
    "prettier-plugin-tailwindcss": "^0.6.9",
    "tailwindcss": "^3.4.15",
    "typescript": "^5.7.2",
    "typescript-eslint": "^8.16.0",
    "vite": "^5.4.11"
  },
  "eslintConfig": {
    "extends": [
      "eslint:recommended",
      "plugin:react/recommended",
      "plugin:@typescript-eslint/recommended",
      "prettier"
    ],
    "plugins": [
      "react-hooks",
      "unused-imports"
    ],
    "rules": {
      "unused-imports/no-unused-imports": "error",
      "unused-imports/no-unused-vars": [
        "warn",
        {
          "vars": "all",
          "varsIgnorePattern": "^_",
          "args": "after-used",
          "argsIgnorePattern": "^_"
        }
      ],
      "@typescript-eslint/no-unused-vars": "off",
      "react-refresh/only-export-components": [
        "warn",
        {
          "allowConstantExport": true
        }
      ]
    }
  },
  "prettier": {
    "singleQuote": true,
    "semi": false,
    "tailwindConfig": "./tailwind.config.ts"
  }
}


// C:\Users\israe\Documents\GitHub\recentmap\stackbit.config.ts
import { defineStackbitConfig } from '@stackbit/types'
import { GitContentSource } from '@stackbit/cms-git'

export default defineStackbitConfig({
  stackbitVersion: '~0.6.0',
  ssgName: 'custom',
  nodeVersion: '20',
  devCommand: 'npm run dev -- --port {PORT} --host 127.0.0.1',
  buildCommand: 'npm run build',
  installCommand: 'npm install',
  dataDir: 'content',
  pagesDir: 'src/pages',
  publishDir: 'dist',
  experimental: {
    ssg: {
      name: 'vite',
      passthrough: ['/*'],
      directRoutes: {
        '/': 'index.html',
      },
    },
  },
  contentSources: [
    new GitContentSource({
      rootPath: __dirname,
      contentDirs: ['content'],
      models: [
        {
          name: 'page',
          type: 'page',
          urlPath: '/{slug}',
          fields: [
            { type: 'string', name: 'title', required: true },
            { type: 'string', name: 'description' },
            { type: 'image', name: 'image' },
            { type: 'datetime', name: 'date' },
            { type: 'string', name: 'layout', default: 'page' },
          ],
        },
        {
          name: 'post',
          type: 'page',
          urlPath: '/blog/{slug}',
          fields: [
            { type: 'string', name: 'title', required: true },
            { type: 'string', name: 'description' },
            { type: 'image', name: 'image' },
            { type: 'datetime', name: 'date' },
            { type: 'string', name: 'author' },
            { type: 'list', name: 'tags', items: { type: 'string' } },
            { type: 'string', name: 'layout', default: 'post' },
          ],
        },
      ],
    }),
  ],
})



// C:\Users\israe\Documents\GitHub\recentmap\tailwind.config.ts
import type { Config } from 'tailwindcss'
import forms from '@tailwindcss/forms'

export default {
  darkMode: ['class'],
  content: [
    './pages/**/*.{ts,tsx}',
    './components/**/*.{ts,tsx}',
    './app/**/*.{ts,tsx}',
    './src/**/*.{ts,tsx}',
  ],
  prefix: '',
  theme: {
    container: {
      center: true,
      padding: '2rem',
      screens: {
        sm: '640px',
        md: '768px',
        lg: '1024px',
        xl: '1280px',
        '2xl': '1400px',
      },
    },
    extend: {
      colors: {
        border: 'hsl(var(--border))',
        input: 'hsl(var(--input))',
        ring: 'hsl(var(--ring))',
        background: 'hsl(var(--background))',
        foreground: 'hsl(var(--foreground))',
        primary: {
          DEFAULT: 'hsl(var(--primary))',
          foreground: 'hsl(var(--primary-foreground))',
          dark: 'hsl(221.2 83.2% 43.3%)',
        },
        secondary: {
          DEFAULT: 'hsl(var(--secondary))',
          foreground: 'hsl(var(--secondary-foreground))',
        },
        destructive: {
          DEFAULT: 'hsl(var(--destructive))',
          foreground: 'hsl(var(--destructive-foreground))',
        },
        muted: {
          DEFAULT: 'hsl(var(--muted))',
          foreground: 'hsl(var(--muted-foreground))',
        },
        accent: {
          DEFAULT: 'hsl(var(--accent))',
          foreground: 'hsl(var(--accent-foreground))',
        },
        popover: {
          DEFAULT: 'hsl(var(--popover))',
          foreground: 'hsl(var(--popover-foreground))',
        },
        card: {
          DEFAULT: 'hsl(var(--card))',
          foreground: 'hsl(var(--card-foreground))',
        },
      },
      fontFamily: {
        sans: ['Inter var', 'Inter', 'sans-serif'],
        heading: ['Montserrat', 'sans-serif'],
        mono: ['JetBrains Mono', 'monospace'],
      },
      borderRadius: {
        lg: 'var(--radius)',
        md: 'calc(var(--radius) - 2px)',
        sm: 'calc(var(--radius) - 4px)',
      },
      keyframes: {
        'accordion-down': {
          from: { height: '0' },
          to: { height: 'var(--radix-accordion-content-height)' },
        },
        'accordion-up': {
          from: { height: 'var(--radix-accordion-content-height)' },
          to: { height: '0' },
        },
        shimmer: {
          '0%': { transform: 'translateX(-100%)' },
          '100%': { transform: 'translateX(100%)' },
        },
        shine: {
          '0%': { backgroundPosition: '200% 0' },
          '100%': { backgroundPosition: '-200% 0' }
        },
      },
      animation: {
        'accordion-down': 'accordion-down 0.2s ease-out',
        'accordion-up': 'accordion-up 0.2s ease-out',
        'shimmer': 'shimmer 2s infinite',
        'shine': 'shine 6s linear infinite',
      },
      textShadow: {
        sm: '0 1px 2px var(--tw-shadow-color)',
        DEFAULT: '0 2px 4px var(--tw-shadow-color)',
        lg: '0 8px 16px var(--tw-shadow-color)',
      },
    },
  },
  plugins: [
    forms,
    require('tailwindcss-animate'),
    require('@tailwindcss/typography'),
    require('@tailwindcss/aspect-ratio'),
    function ({ addUtilities }) {
      const newUtilities = {
        '.text-shadow': {
          'text-shadow': '0 2px 4px rgba(0, 0, 0, 0.3)',
        },
        '.text-shadow-lg': {
          'text-shadow': `
            2px 2px 4px rgba(0, 0, 0, 0.3),
            -2px -2px 4px rgba(255, 255, 255, 0.3)
          `,
        },
      }
      addUtilities(newUtilities)
    },
  ],
} satisfies Config


// C:\Users\israe\Documents\GitHub\recentmap\tsconfig.app.json
{
  "compilerOptions": {
    "target": "ES2020",
    "useDefineForClassFields": true,
    "lib": ["ES2020", "DOM", "DOM.Iterable"],
    "module": "ESNext",
    "skipLibCheck": true,
    /* Bundler mode */
    "moduleResolution": "bundler",
    "allowImportingTsExtensions": true,
    "isolatedModules": true,
    "moduleDetection": "force",
    "noEmit": true,
    "jsx": "react-jsx",
    /* Linting */
    "strict": true,
    "noUnusedLocals": false,
    "noUnusedParameters": false,
    "noImplicitAny": false,
    "noFallthroughCasesInSwitch": false,
    "baseUrl": ".",
    "paths": {
      "@/*": ["./src/*"]
    }
  },
  "include": ["src", "stackbit.config.ts"]
}



// C:\Users\israe\Documents\GitHub\recentmap\tsconfig.json
{
  "files": [],
  "references": [
    { "path": "./tsconfig.app.json" },
    { "path": "./tsconfig.node.json" }
  ],
  "compilerOptions": {
    "baseUrl": ".",
    "paths": {
      "@/*": ["./src/*"]
    },
    "noImplicitAny": false,
    "noUnusedParameters": false,
    "skipLibCheck": true,
    "allowJs": true,
    "noUnusedLocals": false,
    "strictNullChecks": false
  }
}



// C:\Users\israe\Documents\GitHub\recentmap\tsconfig.node.json
{
  "compilerOptions": {
    "target": "ES2022",
    "lib": ["ES2023"],
    "module": "ESNext",
    "skipLibCheck": true,

    /* Bundler mode */
    "moduleResolution": "bundler",
    "allowImportingTsExtensions": true,
    "isolatedModules": true,
    "moduleDetection": "force",
    "noEmit": true,

    /* Linting */
    "strict": true,
    "noUnusedLocals": false,
    "noUnusedParameters": false,
    "noFallthroughCasesInSwitch": true
  },
  "include": ["vite.config.ts"]
}



// C:\Users\israe\Documents\GitHub\recentmap\vite.config.ts


// C:\Users\israe\Documents\GitHub\recentmap\.vscode\launch.json
{
    // Use IntelliSense para saber los atributos posibles.
    // Mantenga el puntero para ver las descripciones de los existentes atributos.
    // Para más información, visite: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [
        {
            "name": "Stripe: Webhooks listen",
            "type": "stripe",
            "request": "launch",
            "command": "listen"
        },
        {
            "command": "npm start",
            "name": "Run npm start",
            "request": "launch",
            "type": "node-terminal"
        },
        {
            "type": "node",
            "request": "launch",
            "name": "Run autoprefixer",
            "runtimeExecutable": "autoprefixer",
            "cwd": "${workspaceFolder}",
            "args": []
        },
        {
            "env": {
                "NODE_ENV": "development"
            },
            "name": "Launch via NPM",
            "request": "launch",
            "runtimeArgs": [
                "run-script",
                "debug"
            ],
            "runtimeExecutable": "npm",
            "skipFiles": [
                "<node_internals>/**"
            ],
            "type": "node"
        },
        {
            "name": "Attach to Chrome",
            "port": 9222,
            "request": "attach",
            "type": "chrome",
            "webRoot": "${workspaceFolder}"
        },
        {
            "type": "chrome",
            "request": "launch",
            "name": "Iniciar Chrome para localhost",
            "url": "http://localhost:8080",
            "webRoot": "${workspaceFolder}"
        },
        {
            "name": "Launch with Auto Complete",
            "type": "chrome",
            "request": "launch",
            "url": "http://localhost:3000",
            "webRoot": "${workspaceFolder}",
            "timeout": 30000,
            "sourceMaps": true,
            "trace": true
        },
    ]
}


// C:\Users\israe\Documents\GitHub\recentmap\dist\assets\browser-ld2k7RX1.js
import{g as e}from"./vendor-BJaCQb1B.js";var o=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")};const r=e(o),s=Object.freeze(Object.defineProperty({__proto__:null,default:r},Symbol.toStringTag,{value:"Module"}));export{s as b};
//# sourceMappingURL=browser-ld2k7RX1.js.map



// C:\Users\israe\Documents\GitHub\recentmap\dist\assets\index-DMAw_j-S.js
const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/TowMap-SFcZvpFI.js","assets/ui-Dn2T8l1V.js","assets/vendor-BJaCQb1B.js","assets/TowMap-Dgihpmma.css","assets/browser-ld2k7RX1.js"])))=>i.map(i=>d[i]);
var qR=Object.defineProperty;var s2=e=>{throw TypeError(e)};var GR=(e,t,n)=>t in e?qR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var c2=(e,t,n)=>GR(e,typeof t!="symbol"?t+"":t,n),um=(e,t,n)=>t.has(e)||s2("Cannot "+n);var M=(e,t,n)=>(um(e,t,"read from private field"),n?n.call(e):t.get(e)),Pe=(e,t,n)=>t.has(e)?s2("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ue=(e,t,n,r)=>(um(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),ze=(e,t,n)=>(um(e,t,"access private method"),n);var ld=(e,t,n,r)=>({set _(a){ue(e,t,a,n)},get _(){return M(e,t,r)}});import{j as g,S as rf,O as dP,C as fP,a as KR,T as hP,D as pP,P as YR,R as XR,b as ZR,c as nt,u as bn,d as kh,e as Ru,f as Nh,g as Yt,h as Ue,i as ea,k as _l,l as JR,m as QR,n as Sv,B as e$,o as t$,p as n$}from"./ui-Dn2T8l1V.js";import{a as h0,r as w,g as vt,c as k,b as r$,d as Vt,e as a$}from"./vendor-BJaCQb1B.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();var _v={},l2=h0;_v.createRoot=l2.createRoot,_v.hydrateRoot=l2.hydrateRoot;var nc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},fi=typeof window>"u"||"Deno"in globalThis;function tr(){}function o$(e,t){return typeof e=="function"?e(t):e}function Av(e){return typeof e=="number"&&e>=0&&e!==1/0}function mP(e,t){return Math.max(e+(t||0)-Date.now(),0)}function rs(e,t){return typeof e=="function"?e(t):e}function yr(e,t){return typeof e=="function"?e(t):e}function u2(e,t){const{type:n="all",exact:r,fetchStatus:a,predicate:o,queryKey:i,stale:s}=e;if(i){if(r){if(t.queryHash!==p0(i,t.options))return!1}else if(!Al(t.queryKey,i))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof s=="boolean"&&t.isStale()!==s||a&&a!==t.state.fetchStatus||o&&!o(t))}function d2(e,t){const{exact:n,status:r,predicate:a,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(hi(t.options.mutationKey)!==hi(o))return!1}else if(!Al(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||a&&!a(t))}function p0(e,t){return((t==null?void 0:t.queryKeyHashFn)||hi)(e)}function hi(e){return JSON.stringify(e,(t,n)=>Tv(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function Al(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Al(e[n],t[n])):!1}function vP(e,t){if(e===t)return e;const n=f2(e)&&f2(t);if(n||Tv(e)&&Tv(t)){const r=n?e:Object.keys(e),a=r.length,o=n?t:Object.keys(t),i=o.length,s=n?[]:{};let c=0;for(let l=0;l<i;l++){const u=n?l:o[l];(!n&&r.includes(u)||n)&&e[u]===void 0&&t[u]===void 0?(s[u]=void 0,c++):(s[u]=vP(e[u],t[u]),s[u]===e[u]&&e[u]!==void 0&&c++)}return a===i&&c===a?e:s}return t}function af(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function f2(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Tv(e){if(!h2(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!h2(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function h2(e){return Object.prototype.toString.call(e)==="[object Object]"}function i$(e){return new Promise(t=>{setTimeout(t,e)})}function Pv(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?vP(e,t):t}function s$(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function c$(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var m0=Symbol();function gP(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===m0?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Zo,Ya,fs,tP,l$=(tP=class extends nc{constructor(){super();Pe(this,Zo);Pe(this,Ya);Pe(this,fs);ue(this,fs,t=>{if(!fi&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){M(this,Ya)||this.setEventListener(M(this,fs))}onUnsubscribe(){var t;this.hasListeners()||((t=M(this,Ya))==null||t.call(this),ue(this,Ya,void 0))}setEventListener(t){var n;ue(this,fs,t),(n=M(this,Ya))==null||n.call(this),ue(this,Ya,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){M(this,Zo)!==t&&(ue(this,Zo,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof M(this,Zo)=="boolean"?M(this,Zo):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Zo=new WeakMap,Ya=new WeakMap,fs=new WeakMap,tP),v0=new l$,hs,Xa,ps,nP,u$=(nP=class extends nc{constructor(){super();Pe(this,hs,!0);Pe(this,Xa);Pe(this,ps);ue(this,ps,t=>{if(!fi&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){M(this,Xa)||this.setEventListener(M(this,ps))}onUnsubscribe(){var t;this.hasListeners()||((t=M(this,Xa))==null||t.call(this),ue(this,Xa,void 0))}setEventListener(t){var n;ue(this,ps,t),(n=M(this,Xa))==null||n.call(this),ue(this,Xa,t(this.setOnline.bind(this)))}setOnline(t){M(this,hs)!==t&&(ue(this,hs,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return M(this,hs)}},hs=new WeakMap,Xa=new WeakMap,ps=new WeakMap,nP),of=new u$;function Ov(){let e,t;const n=new Promise((a,o)=>{e=a,t=o});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),e(a)},n.reject=a=>{r({status:"rejected",reason:a}),t(a)},n}function d$(e){return Math.min(1e3*2**e,3e4)}function yP(e){return(e??"online")==="online"?of.isOnline():!0}var bP=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function dm(e){return e instanceof bP}function xP(e){let t=!1,n=0,r=!1,a;const o=Ov(),i=m=>{var v;r||(f(new bP(m)),(v=e.abort)==null||v.call(e))},s=()=>{t=!0},c=()=>{t=!1},l=()=>v0.isFocused()&&(e.networkMode==="always"||of.isOnline())&&e.canRun(),u=()=>yP(e.networkMode)&&e.canRun(),d=m=>{var v;r||(r=!0,(v=e.onSuccess)==null||v.call(e,m),a==null||a(),o.resolve(m))},f=m=>{var v;r||(r=!0,(v=e.onError)==null||v.call(e,m),a==null||a(),o.reject(m))},h=()=>new Promise(m=>{var v;a=b=>{(r||l())&&m(b)},(v=e.onPause)==null||v.call(e)}).then(()=>{var m;a=void 0,r||(m=e.onContinue)==null||m.call(e)}),p=()=>{if(r)return;let m;const v=n===0?e.initialPromise:void 0;try{m=v??e.fn()}catch(b){m=Promise.reject(b)}Promise.resolve(m).then(d).catch(b=>{var _;if(r)return;const x=e.retry??(fi?0:3),S=e.retryDelay??d$,A=typeof S=="function"?S(n,b):S,y=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,b);if(t||!y){f(b);return}n++,(_=e.onFail)==null||_.call(e,n,b),i$(A).then(()=>l()?void 0:h()).then(()=>{t?f(b):p()})})};return{promise:o,cancel:i,continue:()=>(a==null||a(),o),cancelRetry:s,continueRetry:c,canStart:u,start:()=>(u()?p():h().then(p),o)}}function f$(){let e=[],t=0,n=s=>{s()},r=s=>{s()},a=s=>setTimeout(s,0);const o=s=>{t?e.push(s):a(()=>{n(s)})},i=()=>{const s=e;e=[],s.length&&a(()=>{r(()=>{s.forEach(c=>{n(c)})})})};return{batch:s=>{let c;t++;try{c=s()}finally{t--,t||i()}return c},batchCalls:s=>(...c)=>{o(()=>{s(...c)})},schedule:o,setNotifyFunction:s=>{n=s},setBatchNotifyFunction:s=>{r=s},setScheduler:s=>{a=s}}}var Xt=f$(),Jo,rP,wP=(rP=class{constructor(){Pe(this,Jo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Av(this.gcTime)&&ue(this,Jo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(fi?1/0:5*60*1e3))}clearGcTimeout(){M(this,Jo)&&(clearTimeout(M(this,Jo)),ue(this,Jo,void 0))}},Jo=new WeakMap,rP),ms,vs,er,hn,Du,Qo,pr,fa,aP,h$=(aP=class extends wP{constructor(t){super();Pe(this,pr);Pe(this,ms);Pe(this,vs);Pe(this,er);Pe(this,hn);Pe(this,Du);Pe(this,Qo);ue(this,Qo,!1),ue(this,Du,t.defaultOptions),this.setOptions(t.options),this.observers=[],ue(this,er,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ue(this,ms,p$(this.options)),this.state=t.state??M(this,ms),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=M(this,hn))==null?void 0:t.promise}setOptions(t){this.options={...M(this,Du),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&M(this,er).remove(this)}setData(t,n){const r=Pv(this.state.data,t,this.options);return ze(this,pr,fa).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){ze(this,pr,fa).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,a;const n=(r=M(this,hn))==null?void 0:r.promise;return(a=M(this,hn))==null||a.cancel(t),n?n.then(tr).catch(tr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(M(this,ms))}isActive(){return this.observers.some(t=>yr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===m0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!mP(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=M(this,hn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=M(this,hn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),M(this,er).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(M(this,hn)&&(M(this,Qo)?M(this,hn).cancel({revert:!0}):M(this,hn).cancelRetry()),this.scheduleGc()),M(this,er).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ze(this,pr,fa).call(this,{type:"invalidate"})}fetch(t,n){var c,l,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(M(this,hn))return M(this,hn).continueRetry(),M(this,hn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(f=>f.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,a=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(ue(this,Qo,!0),r.signal)})},o=()=>{const d=gP(this.options,n),f={queryKey:this.queryKey,meta:this.meta};return a(f),ue(this,Qo,!1),this.options.persister?this.options.persister(d,f,this):d(f)},i={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};a(i),(c=this.options.behavior)==null||c.onFetch(i,this),ue(this,vs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((l=i.fetchOptions)==null?void 0:l.meta))&&ze(this,pr,fa).call(this,{type:"fetch",meta:(u=i.fetchOptions)==null?void 0:u.meta});const s=d=>{var f,h,p,m;dm(d)&&d.silent||ze(this,pr,fa).call(this,{type:"error",error:d}),dm(d)||((h=(f=M(this,er).config).onError)==null||h.call(f,d,this),(m=(p=M(this,er).config).onSettled)==null||m.call(p,this.state.data,d,this)),this.scheduleGc()};return ue(this,hn,xP({initialPromise:n==null?void 0:n.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{var f,h,p,m;if(d===void 0){s(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(v){s(v);return}(h=(f=M(this,er).config).onSuccess)==null||h.call(f,d,this),(m=(p=M(this,er).config).onSettled)==null||m.call(p,d,this.state.error,this),this.scheduleGc()},onError:s,onFail:(d,f)=>{ze(this,pr,fa).call(this,{type:"failed",failureCount:d,error:f})},onPause:()=>{ze(this,pr,fa).call(this,{type:"pause"})},onContinue:()=>{ze(this,pr,fa).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),M(this,hn).start()}},ms=new WeakMap,vs=new WeakMap,er=new WeakMap,hn=new WeakMap,Du=new WeakMap,Qo=new WeakMap,pr=new WeakSet,fa=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...SP(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return dm(a)&&a.revert&&M(this,vs)?{...M(this,vs),fetchStatus:"idle"}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Xt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),M(this,er).notify({query:this,type:"updated",action:t})})},aP);function SP(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:yP(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function p$(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Rr,oP,m$=(oP=class extends nc{constructor(t={}){super();Pe(this,Rr);this.config=t,ue(this,Rr,new Map)}build(t,n,r){const a=n.queryKey,o=n.queryHash??p0(a,n);let i=this.get(o);return i||(i=new h$({cache:this,queryKey:a,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(a)}),this.add(i)),i}add(t){M(this,Rr).has(t.queryHash)||(M(this,Rr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=M(this,Rr).get(t.queryHash);n&&(t.destroy(),n===t&&M(this,Rr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Xt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return M(this,Rr).get(t)}getAll(){return[...M(this,Rr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>u2(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>u2(t,r)):n}notify(t){Xt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Xt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Xt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Rr=new WeakMap,oP),$r,An,ei,Ir,Ba,iP,v$=(iP=class extends wP{constructor(t){super();Pe(this,Ir);Pe(this,$r);Pe(this,An);Pe(this,ei);this.mutationId=t.mutationId,ue(this,An,t.mutationCache),ue(this,$r,[]),this.state=t.state||_P(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){M(this,$r).includes(t)||(M(this,$r).push(t),this.clearGcTimeout(),M(this,An).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ue(this,$r,M(this,$r).filter(n=>n!==t)),this.scheduleGc(),M(this,An).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){M(this,$r).length||(this.state.status==="pending"?this.scheduleGc():M(this,An).remove(this))}continue(){var t;return((t=M(this,ei))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,o,i,s,c,l,u,d,f,h,p,m,v,b,x,S,A,y,_,T;ue(this,ei,xP({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(P,O)=>{ze(this,Ir,Ba).call(this,{type:"failed",failureCount:P,error:O})},onPause:()=>{ze(this,Ir,Ba).call(this,{type:"pause"})},onContinue:()=>{ze(this,Ir,Ba).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>M(this,An).canRun(this)}));const n=this.state.status==="pending",r=!M(this,ei).canStart();try{if(!n){ze(this,Ir,Ba).call(this,{type:"pending",variables:t,isPaused:r}),await((o=(a=M(this,An).config).onMutate)==null?void 0:o.call(a,t,this));const O=await((s=(i=this.options).onMutate)==null?void 0:s.call(i,t));O!==this.state.context&&ze(this,Ir,Ba).call(this,{type:"pending",context:O,variables:t,isPaused:r})}const P=await M(this,ei).start();return await((l=(c=M(this,An).config).onSuccess)==null?void 0:l.call(c,P,t,this.state.context,this)),await((d=(u=this.options).onSuccess)==null?void 0:d.call(u,P,t,this.state.context)),await((h=(f=M(this,An).config).onSettled)==null?void 0:h.call(f,P,null,this.state.variables,this.state.context,this)),await((m=(p=this.options).onSettled)==null?void 0:m.call(p,P,null,t,this.state.context)),ze(this,Ir,Ba).call(this,{type:"success",data:P}),P}catch(P){try{throw await((b=(v=M(this,An).config).onError)==null?void 0:b.call(v,P,t,this.state.context,this)),await((S=(x=this.options).onError)==null?void 0:S.call(x,P,t,this.state.context)),await((y=(A=M(this,An).config).onSettled)==null?void 0:y.call(A,void 0,P,this.state.variables,this.state.context,this)),await((T=(_=this.options).onSettled)==null?void 0:T.call(_,void 0,P,t,this.state.context)),P}finally{ze(this,Ir,Ba).call(this,{type:"error",error:P})}}finally{M(this,An).runNext(this)}}},$r=new WeakMap,An=new WeakMap,ei=new WeakMap,Ir=new WeakSet,Ba=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Xt.batch(()=>{M(this,$r).forEach(r=>{r.onMutationUpdate(t)}),M(this,An).notify({mutation:this,type:"updated",action:t})})},iP);function _P(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Vn,ku,sP,g$=(sP=class extends nc{constructor(t={}){super();Pe(this,Vn);Pe(this,ku);this.config=t,ue(this,Vn,new Map),ue(this,ku,Date.now())}build(t,n,r){const a=new v$({mutationCache:this,mutationId:++ld(this,ku)._,options:t.defaultMutationOptions(n),state:r});return this.add(a),a}add(t){const n=ud(t),r=M(this,Vn).get(n)??[];r.push(t),M(this,Vn).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=ud(t);if(M(this,Vn).has(n)){const a=(r=M(this,Vn).get(n))==null?void 0:r.filter(o=>o!==t);a&&(a.length===0?M(this,Vn).delete(n):M(this,Vn).set(n,a))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=M(this,Vn).get(ud(t)))==null?void 0:r.find(a=>a.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=M(this,Vn).get(ud(t)))==null?void 0:r.find(a=>a!==t&&a.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Xt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...M(this,Vn).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>d2(n,r))}findAll(t={}){return this.getAll().filter(n=>d2(t,n))}notify(t){Xt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Xt.batch(()=>Promise.all(t.map(n=>n.continue().catch(tr))))}},Vn=new WeakMap,ku=new WeakMap,sP);function ud(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function p2(e){return{onFetch:(t,n)=>{var u,d,f,h,p;const r=t.options,a=(f=(d=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,o=((h=t.state.data)==null?void 0:h.pages)||[],i=((p=t.state.data)==null?void 0:p.pageParams)||[];let s={pages:[],pageParams:[]},c=0;const l=async()=>{let m=!1;const v=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},b=gP(t.options,t.fetchOptions),x=async(S,A,y)=>{if(m)return Promise.reject();if(A==null&&S.pages.length)return Promise.resolve(S);const _={queryKey:t.queryKey,pageParam:A,direction:y?"backward":"forward",meta:t.options.meta};v(_);const T=await b(_),{maxPages:P}=t.options,O=y?c$:s$;return{pages:O(S.pages,T,P),pageParams:O(S.pageParams,A,P)}};if(a&&o.length){const S=a==="backward",A=S?y$:m2,y={pages:o,pageParams:i},_=A(r,y);s=await x(y,_,S)}else{const S=e??o.length;do{const A=c===0?i[0]??r.initialPageParam:m2(r,s);if(c>0&&A==null)break;s=await x(s,A),c++}while(c<S)}return s};t.options.persister?t.fetchFn=()=>{var m,v;return(v=(m=t.options).persister)==null?void 0:v.call(m,l,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=l}}}function m2(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function y$(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Nt,Za,Ja,gs,ys,Qa,bs,xs,cP,b$=(cP=class{constructor(e={}){Pe(this,Nt);Pe(this,Za);Pe(this,Ja);Pe(this,gs);Pe(this,ys);Pe(this,Qa);Pe(this,bs);Pe(this,xs);ue(this,Nt,e.queryCache||new m$),ue(this,Za,e.mutationCache||new g$),ue(this,Ja,e.defaultOptions||{}),ue(this,gs,new Map),ue(this,ys,new Map),ue(this,Qa,0)}mount(){ld(this,Qa)._++,M(this,Qa)===1&&(ue(this,bs,v0.subscribe(async e=>{e&&(await this.resumePausedMutations(),M(this,Nt).onFocus())})),ue(this,xs,of.subscribe(async e=>{e&&(await this.resumePausedMutations(),M(this,Nt).onOnline())})))}unmount(){var e,t;ld(this,Qa)._--,M(this,Qa)===0&&((e=M(this,bs))==null||e.call(this),ue(this,bs,void 0),(t=M(this,xs))==null||t.call(this),ue(this,xs,void 0))}isFetching(e){return M(this,Nt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return M(this,Za).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=M(this,Nt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=M(this,Nt).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(rs(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return M(this,Nt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),a=M(this,Nt).get(r.queryHash),o=a==null?void 0:a.state.data,i=o$(t,o);if(i!==void 0)return M(this,Nt).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return Xt.batch(()=>M(this,Nt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=M(this,Nt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=M(this,Nt);Xt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=M(this,Nt),r={type:"active",...e};return Xt.batch(()=>(n.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(r,t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Xt.batch(()=>M(this,Nt).findAll(e).map(a=>a.cancel(n)));return Promise.all(r).then(tr).catch(tr)}invalidateQueries(e,t={}){return Xt.batch(()=>{if(M(this,Nt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none")return Promise.resolve();const n={...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"};return this.refetchQueries(n,t)})}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Xt.batch(()=>M(this,Nt).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let o=a.fetch(void 0,n);return n.throwOnError||(o=o.catch(tr)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(tr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=M(this,Nt).build(this,t);return n.isStaleByTime(rs(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(tr).catch(tr)}fetchInfiniteQuery(e){return e.behavior=p2(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(tr).catch(tr)}ensureInfiniteQueryData(e){return e.behavior=p2(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return of.isOnline()?M(this,Za).resumePausedMutations():Promise.resolve()}getQueryCache(){return M(this,Nt)}getMutationCache(){return M(this,Za)}getDefaultOptions(){return M(this,Ja)}setDefaultOptions(e){ue(this,Ja,e)}setQueryDefaults(e,t){M(this,gs).set(hi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...M(this,gs).values()],n={};return t.forEach(r=>{Al(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){M(this,ys).set(hi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...M(this,ys).values()];let n={};return t.forEach(r=>{Al(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...M(this,Ja).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=p0(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===m0&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...M(this,Ja).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){M(this,Nt).clear(),M(this,Za).clear()}},Nt=new WeakMap,Za=new WeakMap,Ja=new WeakMap,gs=new WeakMap,ys=new WeakMap,Qa=new WeakMap,bs=new WeakMap,xs=new WeakMap,cP),kn,Ge,Nu,Tn,ti,ws,eo,Lr,Mu,Ss,_s,ni,ri,to,As,st,Yc,Cv,Ev,jv,Dv,kv,Nv,Mv,AP,lP,x$=(lP=class extends nc{constructor(t,n){super();Pe(this,st);Pe(this,kn);Pe(this,Ge);Pe(this,Nu);Pe(this,Tn);Pe(this,ti);Pe(this,ws);Pe(this,eo);Pe(this,Lr);Pe(this,Mu);Pe(this,Ss);Pe(this,_s);Pe(this,ni);Pe(this,ri);Pe(this,to);Pe(this,As,new Set);this.options=n,ue(this,kn,t),ue(this,Lr,null),ue(this,eo,Ov()),this.options.experimental_prefetchInRender||M(this,eo).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(M(this,Ge).addObserver(this),v2(M(this,Ge),this.options)?ze(this,st,Yc).call(this):this.updateResult(),ze(this,st,Dv).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Rv(M(this,Ge),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Rv(M(this,Ge),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ze(this,st,kv).call(this),ze(this,st,Nv).call(this),M(this,Ge).removeObserver(this)}setOptions(t,n){const r=this.options,a=M(this,Ge);if(this.options=M(this,kn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof yr(this.options.enabled,M(this,Ge))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ze(this,st,Mv).call(this),M(this,Ge).setOptions(this.options),r._defaulted&&!af(this.options,r)&&M(this,kn).getQueryCache().notify({type:"observerOptionsUpdated",query:M(this,Ge),observer:this});const o=this.hasListeners();o&&g2(M(this,Ge),a,this.options,r)&&ze(this,st,Yc).call(this),this.updateResult(n),o&&(M(this,Ge)!==a||yr(this.options.enabled,M(this,Ge))!==yr(r.enabled,M(this,Ge))||rs(this.options.staleTime,M(this,Ge))!==rs(r.staleTime,M(this,Ge)))&&ze(this,st,Cv).call(this);const i=ze(this,st,Ev).call(this);o&&(M(this,Ge)!==a||yr(this.options.enabled,M(this,Ge))!==yr(r.enabled,M(this,Ge))||i!==M(this,to))&&ze(this,st,jv).call(this,i)}getOptimisticResult(t){const n=M(this,kn).getQueryCache().build(M(this,kn),t),r=this.createResult(n,t);return S$(this,r)&&(ue(this,Tn,r),ue(this,ws,this.options),ue(this,ti,M(this,Ge).state)),r}getCurrentResult(){return M(this,Tn)}trackResult(t,n){const r={};return Object.keys(t).forEach(a=>{Object.defineProperty(r,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),n==null||n(a),t[a])})}),r}trackProp(t){M(this,As).add(t)}getCurrentQuery(){return M(this,Ge)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=M(this,kn).defaultQueryOptions(t),r=M(this,kn).getQueryCache().build(M(this,kn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return ze(this,st,Yc).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),M(this,Tn)))}createResult(t,n){var P;const r=M(this,Ge),a=this.options,o=M(this,Tn),i=M(this,ti),s=M(this,ws),l=t!==r?t.state:M(this,Nu),{state:u}=t;let d={...u},f=!1,h;if(n._optimisticResults){const O=this.hasListeners(),j=!O&&v2(t,n),E=O&&g2(t,r,n,a);(j||E)&&(d={...d,...SP(u.data,t.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:p,errorUpdatedAt:m,status:v}=d;if(n.select&&d.data!==void 0)if(o&&d.data===(i==null?void 0:i.data)&&n.select===M(this,Mu))h=M(this,Ss);else try{ue(this,Mu,n.select),h=n.select(d.data),h=Pv(o==null?void 0:o.data,h,n),ue(this,Ss,h),ue(this,Lr,null)}catch(O){ue(this,Lr,O)}else h=d.data;if(n.placeholderData!==void 0&&h===void 0&&v==="pending"){let O;if(o!=null&&o.isPlaceholderData&&n.placeholderData===(s==null?void 0:s.placeholderData))O=o.data;else if(O=typeof n.placeholderData=="function"?n.placeholderData((P=M(this,_s))==null?void 0:P.state.data,M(this,_s)):n.placeholderData,n.select&&O!==void 0)try{O=n.select(O),ue(this,Lr,null)}catch(j){ue(this,Lr,j)}O!==void 0&&(v="success",h=Pv(o==null?void 0:o.data,O,n),f=!0)}M(this,Lr)&&(p=M(this,Lr),h=M(this,Ss),m=Date.now(),v="error");const b=d.fetchStatus==="fetching",x=v==="pending",S=v==="error",A=x&&b,y=h!==void 0,T={status:v,fetchStatus:d.fetchStatus,isPending:x,isSuccess:v==="success",isError:S,isInitialLoading:A,isLoading:A,data:h,dataUpdatedAt:d.dataUpdatedAt,error:p,errorUpdatedAt:m,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>l.dataUpdateCount||d.errorUpdateCount>l.errorUpdateCount,isFetching:b,isRefetching:b&&!x,isLoadingError:S&&!y,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:S&&y,isStale:g0(t,n),refetch:this.refetch,promise:M(this,eo)};if(this.options.experimental_prefetchInRender){const O=C=>{T.status==="error"?C.reject(T.error):T.data!==void 0&&C.resolve(T.data)},j=()=>{const C=ue(this,eo,T.promise=Ov());O(C)},E=M(this,eo);switch(E.status){case"pending":t.queryHash===r.queryHash&&O(E);break;case"fulfilled":(T.status==="error"||T.data!==E.value)&&j();break;case"rejected":(T.status!=="error"||T.error!==E.reason)&&j();break}}return T}updateResult(t){const n=M(this,Tn),r=this.createResult(M(this,Ge),this.options);if(ue(this,ti,M(this,Ge).state),ue(this,ws,this.options),M(this,ti).data!==void 0&&ue(this,_s,M(this,Ge)),af(r,n))return;ue(this,Tn,r);const a={},o=()=>{if(!n)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!M(this,As).size)return!0;const c=new Set(s??M(this,As));return this.options.throwOnError&&c.add("error"),Object.keys(M(this,Tn)).some(l=>{const u=l;return M(this,Tn)[u]!==n[u]&&c.has(u)})};(t==null?void 0:t.listeners)!==!1&&o()&&(a.listeners=!0),ze(this,st,AP).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ze(this,st,Dv).call(this)}},kn=new WeakMap,Ge=new WeakMap,Nu=new WeakMap,Tn=new WeakMap,ti=new WeakMap,ws=new WeakMap,eo=new WeakMap,Lr=new WeakMap,Mu=new WeakMap,Ss=new WeakMap,_s=new WeakMap,ni=new WeakMap,ri=new WeakMap,to=new WeakMap,As=new WeakMap,st=new WeakSet,Yc=function(t){ze(this,st,Mv).call(this);let n=M(this,Ge).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(tr)),n},Cv=function(){ze(this,st,kv).call(this);const t=rs(this.options.staleTime,M(this,Ge));if(fi||M(this,Tn).isStale||!Av(t))return;const r=mP(M(this,Tn).dataUpdatedAt,t)+1;ue(this,ni,setTimeout(()=>{M(this,Tn).isStale||this.updateResult()},r))},Ev=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(M(this,Ge)):this.options.refetchInterval)??!1},jv=function(t){ze(this,st,Nv).call(this),ue(this,to,t),!(fi||yr(this.options.enabled,M(this,Ge))===!1||!Av(M(this,to))||M(this,to)===0)&&ue(this,ri,setInterval(()=>{(this.options.refetchIntervalInBackground||v0.isFocused())&&ze(this,st,Yc).call(this)},M(this,to)))},Dv=function(){ze(this,st,Cv).call(this),ze(this,st,jv).call(this,ze(this,st,Ev).call(this))},kv=function(){M(this,ni)&&(clearTimeout(M(this,ni)),ue(this,ni,void 0))},Nv=function(){M(this,ri)&&(clearInterval(M(this,ri)),ue(this,ri,void 0))},Mv=function(){const t=M(this,kn).getQueryCache().build(M(this,kn),this.options);if(t===M(this,Ge))return;const n=M(this,Ge);ue(this,Ge,t),ue(this,Nu,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},AP=function(t){Xt.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(M(this,Tn))}),M(this,kn).getQueryCache().notify({query:M(this,Ge),type:"observerResultsUpdated"})})},lP);function w$(e,t){return yr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function v2(e,t){return w$(e,t)||e.state.data!==void 0&&Rv(e,t,t.refetchOnMount)}function Rv(e,t,n){if(yr(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&g0(e,t)}return!1}function g2(e,t,n,r){return(e!==t||yr(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&g0(e,n)}function g0(e,t){return yr(t.enabled,e)!==!1&&e.isStaleByTime(rs(t.staleTime,e))}function S$(e,t){return!af(e.getCurrentResult(),t)}var no,ro,Nn,va,Aa,zd,$v,uP,_$=(uP=class extends nc{constructor(n,r){super();Pe(this,Aa);Pe(this,no);Pe(this,ro);Pe(this,Nn);Pe(this,va);ue(this,no,n),this.setOptions(r),this.bindMethods(),ze(this,Aa,zd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var a;const r=this.options;this.options=M(this,no).defaultMutationOptions(n),af(this.options,r)||M(this,no).getMutationCache().notify({type:"observerOptionsUpdated",mutation:M(this,Nn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&hi(r.mutationKey)!==hi(this.options.mutationKey)?this.reset():((a=M(this,Nn))==null?void 0:a.state.status)==="pending"&&M(this,Nn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=M(this,Nn))==null||n.removeObserver(this)}onMutationUpdate(n){ze(this,Aa,zd).call(this),ze(this,Aa,$v).call(this,n)}getCurrentResult(){return M(this,ro)}reset(){var n;(n=M(this,Nn))==null||n.removeObserver(this),ue(this,Nn,void 0),ze(this,Aa,zd).call(this),ze(this,Aa,$v).call(this)}mutate(n,r){var a;return ue(this,va,r),(a=M(this,Nn))==null||a.removeObserver(this),ue(this,Nn,M(this,no).getMutationCache().build(M(this,no),this.options)),M(this,Nn).addObserver(this),M(this,Nn).execute(n)}},no=new WeakMap,ro=new WeakMap,Nn=new WeakMap,va=new WeakMap,Aa=new WeakSet,zd=function(){var r;const n=((r=M(this,Nn))==null?void 0:r.state)??_P();ue(this,ro,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},$v=function(n){Xt.batch(()=>{var r,a,o,i,s,c,l,u;if(M(this,va)&&this.hasListeners()){const d=M(this,ro).variables,f=M(this,ro).context;(n==null?void 0:n.type)==="success"?((a=(r=M(this,va)).onSuccess)==null||a.call(r,n.data,d,f),(i=(o=M(this,va)).onSettled)==null||i.call(o,n.data,null,d,f)):(n==null?void 0:n.type)==="error"&&((c=(s=M(this,va)).onError)==null||c.call(s,n.error,d,f),(u=(l=M(this,va)).onSettled)==null||u.call(l,void 0,n.error,d,f))}this.listeners.forEach(d=>{d(M(this,ro))})})},uP),TP=w.createContext(void 0),PP=e=>{const t=w.useContext(TP);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},A$=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),g.jsx(TP.Provider,{value:e,children:t})),OP=w.createContext(!1),T$=()=>w.useContext(OP);OP.Provider;function P$(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var O$=w.createContext(P$()),C$=()=>w.useContext(O$);function CP(e,t){return typeof e=="function"?e(...t):!!e}function Iv(){}var E$=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},j$=e=>{w.useEffect(()=>{e.clearReset()},[e])},D$=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&CP(n,[e.error,r]),k$=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},N$=(e,t)=>e.isLoading&&e.isFetching&&!t,M$=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,y2=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function R$(e,t,n){var u,d,f,h,p;const r=PP(),a=T$(),o=C$(),i=r.defaultQueryOptions(e);(d=(u=r.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||d.call(u,i),i._optimisticResults=a?"isRestoring":"optimistic",k$(i),E$(i,o),j$(o);const s=!r.getQueryCache().get(i.queryHash),[c]=w.useState(()=>new t(r,i)),l=c.getOptimisticResult(i);if(w.useSyncExternalStore(w.useCallback(m=>{const v=a?Iv:c.subscribe(Xt.batchCalls(m));return c.updateResult(),v},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),w.useEffect(()=>{c.setOptions(i,{listeners:!1})},[i,c]),M$(i,l))throw y2(i,c,o);if(D$({result:l,errorResetBoundary:o,throwOnError:i.throwOnError,query:r.getQueryCache().get(i.queryHash)}))throw l.error;if((h=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||h.call(f,i,l),i.experimental_prefetchInRender&&!fi&&N$(l,a)){const m=s?y2(i,c,o):(p=r.getQueryCache().get(i.queryHash))==null?void 0:p.promise;m==null||m.catch(Iv).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?l:c.trackResult(l)}function EP(e,t){return R$(e,x$)}function $$(e,t){const n=PP(),[r]=w.useState(()=>new _$(n,e));w.useEffect(()=>{r.setOptions(e)},[r,e]);const a=w.useSyncExternalStore(w.useCallback(i=>r.subscribe(Xt.batchCalls(i)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=w.useCallback((i,s)=>{r.mutate(i,s).catch(Iv)},[r]);if(a.error&&CP(r.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:o,mutateAsync:a.mutate}}var jP={exports:{}},I$="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",L$=I$,B$=L$;function DP(){}function kP(){}kP.resetWarningCache=DP;var F$=function(){function e(r,a,o,i,s,c){if(c!==B$){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:kP,resetWarningCache:DP};return n.PropTypes=n,n};jP.exports=F$();var U$=jP.exports;const _e=vt(U$);function b2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function x2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b2(Object(n),!0).forEach(function(r){NP(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wd(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wd=function(t){return typeof t}:Wd=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wd(e)}function NP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MP(e,t){return V$(e)||z$(e,t)||W$(e,t)||H$()}function V$(e){if(Array.isArray(e))return e}function z$(e,t){var n=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(n!=null){var r=[],a=!0,o=!1,i,s;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(r.push(i.value),!(t&&r.length===t));a=!0);}catch(c){o=!0,s=c}finally{try{!a&&n.return!=null&&n.return()}finally{if(o)throw s}}return r}}function W$(e,t){if(e){if(typeof e=="string")return w2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w2(e,t)}}function w2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Bn=function(t,n,r){var a=!!r,o=k.useRef(r);k.useEffect(function(){o.current=r},[r]),k.useEffect(function(){if(!a||!t)return function(){};var i=function(){o.current&&o.current.apply(o,arguments)};return t.on(n,i),function(){t.off(n,i)}},[a,n,t,o])},Lv=function(t){var n=k.useRef(t);return k.useEffect(function(){n.current=t},[t]),n.current},Ts=function(t){return t!==null&&Wd(t)==="object"},q$=function(t){return Ts(t)&&typeof t.then=="function"},G$=function(t){return Ts(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},S2="[object Object]",K$=function e(t,n){if(!Ts(t)||!Ts(n))return t===n;var r=Array.isArray(t),a=Array.isArray(n);if(r!==a)return!1;var o=Object.prototype.toString.call(t)===S2,i=Object.prototype.toString.call(n)===S2;if(o!==i)return!1;if(!o&&!r)return t===n;var s=Object.keys(t),c=Object.keys(n);if(s.length!==c.length)return!1;for(var l={},u=0;u<s.length;u+=1)l[s[u]]=!0;for(var d=0;d<c.length;d+=1)l[c[d]]=!0;var f=Object.keys(l);if(f.length!==s.length)return!1;var h=t,p=n,m=function(b){return e(h[b],p[b])};return f.every(m)},RP=function(t,n,r){return Ts(t)?Object.keys(t).reduce(function(a,o){var i=!Ts(n)||!K$(t[o],n[o]);return r.includes(o)?(i&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),a):i?x2(x2({},a||{}),{},NP({},o,t[o])):a},null):null},$P="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",_2=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$P;if(t===null||G$(t))return t;throw new Error(n)},Y$=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$P;if(q$(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(a){return _2(a,n)})};var r=_2(t,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},X$=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"2.9.0"}),t.registerAppInfo({name:"react-stripe-js",version:"2.9.0",url:"https://stripe.com/docs/stripe-js/react"}))},y0=k.createContext(null);y0.displayName="ElementsContext";var Z$=function(t,n){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return t},IP=function(t){var n=t.stripe,r=t.options,a=t.children,o=k.useMemo(function(){return Y$(n)},[n]),i=k.useState(function(){return{stripe:o.tag==="sync"?o.stripe:null,elements:o.tag==="sync"?o.stripe.elements(r):null}}),s=MP(i,2),c=s[0],l=s[1];k.useEffect(function(){var f=!0,h=function(m){l(function(v){return v.stripe?v:{stripe:m,elements:m.elements(r)}})};return o.tag==="async"&&!c.stripe?o.stripePromise.then(function(p){p&&f&&h(p)}):o.tag==="sync"&&!c.stripe&&h(o.stripe),function(){f=!1}},[o,c,r]);var u=Lv(n);k.useEffect(function(){u!==null&&u!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[u,n]);var d=Lv(r);return k.useEffect(function(){if(c.elements){var f=RP(r,d,["clientSecret","fonts"]);f&&c.elements.update(f)}},[r,d,c.elements]),k.useEffect(function(){X$(c.stripe)},[c.stripe]),k.createElement(y0.Provider,{value:c},a)};IP.propTypes={stripe:_e.any,options:_e.object};_e.func.isRequired;var LP=k.createContext(null);LP.displayName="CheckoutSdkContext";var J$=function(t,n){if(!t)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CheckoutProvider> provider."));return t},Q$=k.createContext(null);Q$.displayName="CheckoutContext";_e.any,_e.shape({clientSecret:_e.string.isRequired,elementsOptions:_e.object}).isRequired;var A2=function(t){var n=k.useContext(LP),r=k.useContext(y0);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return n?J$(n,t):Z$(r,t)},eI=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Wt=function(t,n){var r="".concat(eI(t),"Element"),a=function(c){var l=c.id,u=c.className,d=c.options,f=d===void 0?{}:d,h=c.onBlur,p=c.onFocus,m=c.onReady,v=c.onChange,b=c.onEscape,x=c.onClick,S=c.onLoadError,A=c.onLoaderStart,y=c.onNetworksChange,_=c.onConfirm,T=c.onCancel,P=c.onShippingAddressChange,O=c.onShippingRateChange,j=A2("mounts <".concat(r,">")),E="elements"in j?j.elements:null,C="checkoutSdk"in j?j.checkoutSdk:null,I=k.useState(null),R=MP(I,2),$=R[0],F=R[1],V=k.useRef(null),H=k.useRef(null);Bn($,"blur",h),Bn($,"focus",p),Bn($,"escape",b),Bn($,"click",x),Bn($,"loaderror",S),Bn($,"loaderstart",A),Bn($,"networkschange",y),Bn($,"confirm",_),Bn($,"cancel",T),Bn($,"shippingaddresschange",P),Bn($,"shippingratechange",O),Bn($,"change",v);var q;m&&(t==="expressCheckout"?q=m:q=function(){m($)}),Bn($,"ready",q),k.useLayoutEffect(function(){if(V.current===null&&H.current!==null&&(E||C)){var Y=null;C?Y=C.createElement(t,f):E&&(Y=E.create(t,f)),V.current=Y,F(Y),Y&&Y.mount(H.current)}},[E,C,f]);var X=Lv(f);return k.useEffect(function(){if(V.current){var Y=RP(f,X,["paymentRequest"]);Y&&"update"in V.current&&V.current.update(Y)}},[f,X]),k.useLayoutEffect(function(){return function(){if(V.current&&typeof V.current.destroy=="function")try{V.current.destroy(),V.current=null}catch{}}},[]),k.createElement("div",{id:l,className:u,ref:H})},o=function(c){A2("mounts <".concat(r,">"));var l=c.id,u=c.className;return k.createElement("div",{id:l,className:u})},i=n?o:a;return i.propTypes={id:_e.string,className:_e.string,onChange:_e.func,onBlur:_e.func,onFocus:_e.func,onReady:_e.func,onEscape:_e.func,onClick:_e.func,onLoadError:_e.func,onLoaderStart:_e.func,onNetworksChange:_e.func,onConfirm:_e.func,onCancel:_e.func,onShippingAddressChange:_e.func,onShippingRateChange:_e.func,options:_e.object},i.displayName=r,i.__elementType=t,i},Ht=typeof window>"u",tI=k.createContext(null);tI.displayName="EmbeddedCheckoutProviderContext";Wt("auBankAccount",Ht);var Nbe=Wt("card",Ht);Wt("cardNumber",Ht);Wt("cardExpiry",Ht);Wt("cardCvc",Ht);Wt("fpxBank",Ht);Wt("iban",Ht);Wt("idealBank",Ht);Wt("p24Bank",Ht);Wt("epsBank",Ht);Wt("payment",Ht);Wt("expressCheckout",Ht);Wt("currencySelector",Ht);Wt("paymentRequestButton",Ht);Wt("linkAuthentication",Ht);Wt("address",Ht);Wt("shippingAddress",Ht);Wt("paymentMethodMessaging",Ht);Wt("affirmMessage",Ht);Wt("afterpayClearpayMessage",Ht);var BP="https://js.stripe.com/v3",nI=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,T2="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",rI=function(){for(var t=document.querySelectorAll('script[src^="'.concat(BP,'"]')),n=0;n<t.length;n++){var r=t[n];if(nI.test(r.src))return r}return null},P2=function(t){var n="",r=document.createElement("script");r.src="".concat(BP).concat(n);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(r),r},aI=function(t,n){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"5.1.0",startTime:n})},Pc=null,dd=null,fd=null,oI=function(t){return function(){t(new Error("Failed to load Stripe.js"))}},iI=function(t,n){return function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))}},sI=function(t){return Pc!==null?Pc:(Pc=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&t&&console.warn(T2),window.Stripe){n(window.Stripe);return}try{var a=rI();if(a&&t)console.warn(T2);else if(!a)a=P2(t);else if(a&&fd!==null&&dd!==null){var o;a.removeEventListener("load",fd),a.removeEventListener("error",dd),(o=a.parentNode)===null||o===void 0||o.removeChild(a),a=P2(t)}fd=iI(n,r),dd=oI(r),a.addEventListener("load",fd),a.addEventListener("error",dd)}catch(i){r(i);return}}),Pc.catch(function(n){return Pc=null,Promise.reject(n)}))},cI=function(t,n,r){if(t===null)return null;var a=t.apply(void 0,n);return aI(a,r),a},Oc,FP=!1,UP=function(){return Oc||(Oc=sI(null).catch(function(t){return Oc=null,Promise.reject(t)}),Oc)};Promise.resolve().then(function(){return UP()}).catch(function(e){FP||console.warn(e)});var lI=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];FP=!0;var a=Date.now();return UP().then(function(o){return cI(o,n,a)})};const uI=1,dI=5e3;let fm=0;function fI(){return fm=(fm+1)%Number.MAX_SAFE_INTEGER,fm.toString()}const hm=new Map,O2=e=>{if(hm.has(e))return;const t=setTimeout(()=>{hm.delete(e),ul({type:"REMOVE_TOAST",toastId:e})},dI);hm.set(e,t)},hI=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,uI)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?O2(n):e.toasts.forEach(r=>{O2(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Hd=[];let qd={toasts:[]};function ul(e){qd=hI(qd,e),Hd.forEach(t=>{t(qd)})}function pI({...e}){const t=fI(),n=a=>ul({type:"UPDATE_TOAST",toast:{...a,id:t}}),r=()=>ul({type:"DISMISS_TOAST",toastId:t});return ul({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||r()}}}),{id:t,dismiss:r,update:n}}function ta(){const[e,t]=w.useState(qd);return w.useEffect(()=>(Hd.push(t),()=>{const n=Hd.indexOf(t);n>-1&&Hd.splice(n,1)}),[e]),{...e,toast:pI,dismiss:n=>ul({type:"DISMISS_TOAST",toastId:n})}}/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),VP=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:i,...s},c)=>w.createElement("svg",{ref:c,...vI,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:VP("lucide",a),...s},[...i.map(([l,u])=>w.createElement(l,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=(e,t)=>{const n=w.forwardRef(({className:r,...a},o)=>w.createElement(gI,{ref:o,iconNode:t,className:VP(`lucide-${mI(e)}`,r),...a}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=ct("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=ct("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=ct("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wI=ct("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SI=ct("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=ct("CarFront",[["path",{d:"m21 8-2 2-1.5-3.7A2 2 0 0 0 15.646 5H8.4a2 2 0 0 0-1.903 1.257L5 10 3 8",key:"1imjwt"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 14h.01",key:"7oqj8z"}],["rect",{width:"18",height:"8",x:"3",y:"10",rx:"2",key:"a7itu8"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=ct("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=ct("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=ct("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=ct("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=ct("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=ct("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=ct("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=ct("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=ct("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=ct("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=ct("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=ct("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=ct("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=ct("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=ct("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=ct("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=ct("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=ct("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=ct("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=ct("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=ct("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=ct("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=ct("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=ct("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),II="pk_test_51OxpVXBIrjwXwQdF1HpkQABXYGqpWZBFGPvXVoYZtqxPZqQtQvtgWXxYGHuVZyXxWXwXwXwXwXwXwXwXwXwX",LI=({children:e})=>{const[t,n]=w.useState(null),{toast:r}=ta();return w.useEffect(()=>{(async()=>{try{const o=await lI(II);if(o)n(Promise.resolve(o));else throw new Error("Failed to initialize Stripe")}catch(o){console.error("Stripe initialization error:",o),r({title:"Payment System Error",description:"Unable to initialize payment system. Please try again later.",variant:"destructive"})}})()},[r]),t?g.jsx(IP,{"data-component-path":"src\\providers\\StripeProvider.tsx","data-component-name":"Elements","data-component-line":"46","data-component-file":"StripeProvider.tsx","data-component-content":"%7B%7D",stripe:t,children:e}):g.jsx("div",{"data-component-path":"src\\providers\\StripeProvider.tsx","data-component-name":"div","data-component-line":"40","data-component-file":"StripeProvider.tsx","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-center%20min-h-%5B200px%5D%22%7D",className:"flex items-center justify-center min-h-[200px]",children:g.jsx(pi,{"data-component-path":"src\\providers\\StripeProvider.tsx","data-component-name":"Loader2","data-component-line":"41","data-component-file":"StripeProvider.tsx","data-component-content":"%7B%22className%22%3A%22h-8%20w-8%20animate-spin%20text-primary%22%7D",className:"h-8 w-8 animate-spin text-primary"})})},YP=w.createContext(void 0),XP=({children:e})=>{console.log("TowingProvider rendered");const[t,n]=w.useState(0),[r,a]=w.useState(0),[o,i]=w.useState([]),[s,c]=w.useState(0),[l,u]=w.useState("A"),[d,f]=w.useState(!1),[h,p]=w.useState(""),[m,v]=w.useState(null),b=T=>{n(T),a(hd(T,l,d,s))},x=(T,P)=>{i(T),c(P),v({tolls:T,totalTollCost:P}),a(hd(t,l,d,P))},S=T=>{u(T),a(hd(t,T,d,s))},A=T=>{f(T),a(hd(t,l,T,s))},y=T=>{p(T)},_=T=>{};return g.jsx(YP.Provider,{value:{totalDistance:t,totalCost:r,detectedTolls:o,totalTollCost:s,truckType:l,requiresManeuver:d,selectedVehicleModel:h,tollInfo:m,updateTowingInfo:b,updateTollInfo:x,updateTruckType:S,updateManeuverRequired:A,updateSelectedVehicleModel:y,updateLocationInfo:_},children:e})},Mbe=()=>{console.log("useTowing hook called");const e=w.useContext(YP);if(e===void 0)throw new Error("useTowing must be used within a TowingProvider");return e},hd=(e,t,n,r)=>{const a={A:18.82,B:20.62,C:23.47,D:32.35}[t]||18.82,o=n?{A:1219.55,B:1336.73,C:1524.21,D:2101.65}[t]:0,i={A:528.69,B:607.43,C:721.79,D:885.84}[t];return e*a+o+i+r},BI=w.createContext(void 0),FI=({children:e})=>{const[t,n]=w.useState(!0),r=()=>n(!t);return g.jsx(BI.Provider,{value:{isOpen:t,toggle:r,setIsOpen:n},children:e})};var x0={};Object.defineProperty(x0,"__esModule",{value:!0});x0.parse=GI;x0.serialize=KI;const UI=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,VI=/^[\u0021-\u003A\u003C-\u007E]*$/,zI=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,WI=/^[\u0020-\u003A\u003D-\u007E]*$/,HI=Object.prototype.toString,qI=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function GI(e,t){const n=new qI,r=e.length;if(r<2)return n;const a=(t==null?void 0:t.decode)||YI;let o=0;do{const i=e.indexOf("=",o);if(i===-1)break;const s=e.indexOf(";",o),c=s===-1?r:s;if(i>c){o=e.lastIndexOf(";",i-1)+1;continue}const l=j2(e,o,i),u=D2(e,i,l),d=e.slice(l,u);if(n[d]===void 0){let f=j2(e,i+1,c),h=D2(e,c,f);const p=a(e.slice(f,h));n[d]=p}o=c+1}while(o<r);return n}function j2(e,t,n){do{const r=e.charCodeAt(t);if(r!==32&&r!==9)return t}while(++t<n);return n}function D2(e,t,n){for(;t>n;){const r=e.charCodeAt(--t);if(r!==32&&r!==9)return t+1}return n}function KI(e,t,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!UI.test(e))throw new TypeError(`argument name is invalid: ${e}`);const a=r(t);if(!VI.test(a))throw new TypeError(`argument val is invalid: ${t}`);let o=e+"="+a;if(!n)return o;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);o+="; Max-Age="+n.maxAge}if(n.domain){if(!zI.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);o+="; Domain="+n.domain}if(n.path){if(!WI.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);o+="; Path="+n.path}if(n.expires){if(!XI(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);o+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.partitioned&&(o+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"none":o+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return o}function YI(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function XI(e){return HI.call(e)==="[object Date]"}/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var k2="popstate";function ZI(e={}){function t(r,a){let{pathname:o,search:i,hash:s}=r.location;return Tl("",{pathname:o,search:i,hash:s},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:lo(a)}return QI(t,n,null,e)}function qe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function rn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function JI(){return Math.random().toString(36).substring(2,10)}function N2(e,t){return{usr:e.state,key:e.key,idx:t}}function Tl(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?bo(t):t,state:n,key:t&&t.key||r||JI()}}function lo({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function bo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function QI(e,t,n,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,i=a.history,s="POP",c=null,l=u();l==null&&(l=0,i.replaceState({...i.state,idx:l},""));function u(){return(i.state||{idx:null}).idx}function d(){s="POP";let v=u(),b=v==null?null:v-l;l=v,c&&c({action:s,location:m.location,delta:b})}function f(v,b){s="PUSH";let x=Tl(m.location,v,b);l=u()+1;let S=N2(x,l),A=m.createHref(x);try{i.pushState(S,"",A)}catch(y){if(y instanceof DOMException&&y.name==="DataCloneError")throw y;a.location.assign(A)}o&&c&&c({action:s,location:m.location,delta:1})}function h(v,b){s="REPLACE";let x=Tl(m.location,v,b);l=u();let S=N2(x,l),A=m.createHref(x);i.replaceState(S,"",A),o&&c&&c({action:s,location:m.location,delta:0})}function p(v){let b=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof v=="string"?v:lo(v);return x=x.replace(/ $/,"%20"),qe(b,`No window.location.(origin|href) available to create URL for href: ${x}`),new URL(x,b)}let m={get action(){return s},get location(){return e(a,i)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(k2,d),c=v,()=>{a.removeEventListener(k2,d),c=null}},createHref(v){return t(a,v)},createURL:p,encodeLocation(v){let b=p(v);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:f,replace:h,go(v){return i.go(v)}};return m}var eL=new Set(["lazy","caseSensitive","path","id","index","children"]);function tL(e){return e.index===!0}function sf(e,t,n=[],r={}){return e.map((a,o)=>{let i=[...n,String(o)],s=typeof a.id=="string"?a.id:i.join("-");if(qe(a.index!==!0||!a.children,"Cannot specify children on an index route"),qe(!r[s],`Found a route id collision on id "${s}".  Route id's must be globally unique within Data Router usages`),tL(a)){let c={...a,...t(a),id:s};return r[s]=c,c}else{let c={...a,...t(a),id:s,children:void 0};return r[s]=c,a.children&&(c.children=sf(a.children,t,i,r)),c}})}function qa(e,t,n="/"){return Gd(e,t,n,!1)}function Gd(e,t,n,r){let a=typeof t=="string"?bo(t):t,o=Cr(a.pathname||"/",n);if(o==null)return null;let i=ZP(e);rL(i);let s=null;for(let c=0;s==null&&c<i.length;++c){let l=pL(o);s=fL(i[c],l,r)}return s}function nL(e,t){let{route:n,pathname:r,params:a}=e;return{id:n.id,pathname:r,params:a,data:t[n.id],handle:n.handle}}function ZP(e,t=[],n=[],r=""){let a=(o,i,s)=>{let c={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(qe(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let l=Wr([r,c.relativePath]),u=n.concat(c);o.children&&o.children.length>0&&(qe(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),ZP(o.children,t,u,l)),!(o.path==null&&!o.index)&&t.push({path:l,score:uL(l,o.index),routesMeta:u})};return e.forEach((o,i)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))a(o,i);else for(let c of JP(o.path))a(o,i,c)}),t}function JP(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let i=JP(r.join("/")),s=[];return s.push(...i.map(c=>c===""?o:[o,c].join("/"))),a&&s.push(...i),s.map(c=>e.startsWith("/")&&c===""?"/":c)}function rL(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:dL(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var aL=/^:[\w-]+$/,oL=3,iL=2,sL=1,cL=10,lL=-2,M2=e=>e==="*";function uL(e,t){let n=e.split("/"),r=n.length;return n.some(M2)&&(r+=lL),t&&(r+=iL),n.filter(a=>!M2(a)).reduce((a,o)=>a+(aL.test(o)?oL:o===""?sL:cL),r)}function dL(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function fL(e,t,n=!1){let{routesMeta:r}=e,a={},o="/",i=[];for(let s=0;s<r.length;++s){let c=r[s],l=s===r.length-1,u=o==="/"?t:t.slice(o.length)||"/",d=cf({path:c.relativePath,caseSensitive:c.caseSensitive,end:l},u),f=c.route;if(!d&&l&&n&&!r[r.length-1].route.index&&(d=cf({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!d)return null;Object.assign(a,d.params),i.push({params:a,pathname:Wr([o,d.pathname]),pathnameBase:gL(Wr([o,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(o=Wr([o,d.pathnameBase]))}return i}function cf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=hL(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:r.reduce((l,{paramName:u,isOptional:d},f)=>{if(u==="*"){let p=s[f]||"";i=o.slice(0,o.length-p.length).replace(/(.)\/+$/,"$1")}const h=s[f];return d&&!h?l[u]=void 0:l[u]=(h||"").replace(/%2F/g,"/"),l},{}),pathname:o,pathnameBase:i,pattern:e}}function hL(e,t=!1,n=!0){rn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,s,c)=>(r.push({paramName:s,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function pL(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return rn(!1,`The URL path "${e}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Cr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function mL(e,t="/"){let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?bo(e):e;return{pathname:n?n.startsWith("/")?n:vL(n,t):t,search:yL(r),hash:bL(a)}}function vL(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function pm(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function QP(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Rh(e){let t=QP(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function $h(e,t,n,r=!1){let a;typeof e=="string"?a=bo(e):(a={...e},qe(!a.pathname||!a.pathname.includes("?"),pm("?","pathname","search",a)),qe(!a.pathname||!a.pathname.includes("#"),pm("#","pathname","hash",a)),qe(!a.search||!a.search.includes("#"),pm("#","search","hash",a)));let o=e===""||a.pathname==="",i=o?"/":a.pathname,s;if(i==null)s=n;else{let d=t.length-1;if(!r&&i.startsWith("..")){let f=i.split("/");for(;f[0]==="..";)f.shift(),d-=1;a.pathname=f.join("/")}s=d>=0?t[d]:"/"}let c=mL(a,s),l=i&&i!=="/"&&i.endsWith("/"),u=(o||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(l||u)&&(c.pathname+="/"),c}var Wr=e=>e.join("/").replace(/\/\/+/g,"/"),gL=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),yL=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,bL=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,lf=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Ih(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var eO=["POST","PUT","PATCH","DELETE"],xL=new Set(eO),wL=["GET",...eO],SL=new Set(wL),_L=new Set([301,302,303,307,308]),AL=new Set([307,308]),mm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},TL={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Cc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},w0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,PL=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),tO="remix-router-transitions",nO=Symbol("ResetLoaderData");function OL(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";qe(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=e.mapRouteProperties||PL,a={},o=sf(e.routes,r,void 0,a),i,s=e.basename||"/",c=e.dataStrategy||kL,l=e.patchRoutesOnNavigation,u={...e.future},d=null,f=new Set,h=null,p=null,m=null,v=e.hydrationData!=null,b=qa(o,e.history.location,s),x=null;if(b==null&&!l){let N=nr(404,{pathname:e.history.location.pathname}),{matches:B,route:W}=H2(o);b=B,x={[W.id]:N}}b&&!e.hydrationData&&kt(b,o,e.history.location.pathname).active&&(b=null);let S;if(b)if(b.some(N=>N.route.lazy))S=!1;else if(!b.some(N=>N.route.loader))S=!0;else{let N=e.hydrationData?e.hydrationData.loaderData:null,B=e.hydrationData?e.hydrationData.errors:null;if(B){let W=b.findIndex(Q=>B[Q.route.id]!==void 0);S=b.slice(0,W+1).every(Q=>!Fv(Q.route,N,B))}else S=b.every(W=>!Fv(W.route,N,B))}else{S=!1,b=[];let N=kt(null,o,e.history.location.pathname);N.active&&N.matches&&(b=N.matches)}let A,y={historyAction:e.history.action,location:e.history.location,matches:b,initialized:S,navigation:mm,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||x,fetchers:new Map,blockers:new Map},_="POP",T=!1,P,O=!1,j=new Map,E=null,C=!1,I=!1,R=new Set,$=new Map,F=0,V=-1,H=new Map,q=new Set,X=new Map,Y=new Map,J=new Set,oe=new Map,Te,Ve=null;function rt(){if(d=e.history.listen(({action:N,location:B,delta:W})=>{if(Te){Te(),Te=void 0;return}rn(oe.size===0||W!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Q=Oo({currentLocation:y.location,nextLocation:B,historyAction:N});if(Q&&W!=null){let he=new Promise(we=>{Te=we});e.history.go(W*-1),ia(Q,{state:"blocked",location:B,proceed(){ia(Q,{state:"proceeding",proceed:void 0,reset:void 0,location:B}),he.then(()=>e.history.go(W))},reset(){let we=new Map(y.blockers);we.set(Q,Cc),K({blockers:we})}});return}return ve(N,B)}),n){zL(t,j);let N=()=>WL(t,j);t.addEventListener("pagehide",N),E=()=>t.removeEventListener("pagehide",N)}return y.initialized||ve("POP",y.location,{initialHydration:!0}),A}function Je(){d&&d(),E&&E(),f.clear(),P&&P.abort(),y.fetchers.forEach((N,B)=>wn(B)),y.blockers.forEach((N,B)=>oa(B))}function Re(N){return f.add(N),()=>f.delete(N)}function K(N,B={}){y={...y,...N};let W=[],Q=[];y.fetchers.forEach((he,we)=>{he.state==="idle"&&(J.has(we)?W.push(we):Q.push(we))}),[...f].forEach(he=>he(y,{deletedFetchers:W,viewTransitionOpts:B.viewTransitionOpts,flushSync:B.flushSync===!0})),W.forEach(he=>wn(he)),Q.forEach(he=>y.fetchers.delete(he))}function fe(N,B,{flushSync:W}={}){var ie,Ne;let Q=y.actionData!=null&&y.navigation.formMethod!=null&&mr(y.navigation.formMethod)&&y.navigation.state==="loading"&&((ie=N.state)==null?void 0:ie._isRedirect)!==!0,he;B.actionData?Object.keys(B.actionData).length>0?he=B.actionData:he=null:Q?he=y.actionData:he=null;let we=B.loaderData?z2(y.loaderData,B.loaderData,B.matches||[],B.errors):y.loaderData,Oe=y.blockers;Oe.size>0&&(Oe=new Map(Oe),Oe.forEach(($e,ht)=>Oe.set(ht,Cc)));let pe=T===!0||y.navigation.formMethod!=null&&mr(y.navigation.formMethod)&&((Ne=N.state)==null?void 0:Ne._isRedirect)!==!0;i&&(o=i,i=void 0),C||_==="POP"||(_==="PUSH"?e.history.push(N,N.state):_==="REPLACE"&&e.history.replace(N,N.state));let ye;if(_==="POP"){let $e=j.get(y.location.pathname);$e&&$e.has(N.pathname)?ye={currentLocation:y.location,nextLocation:N}:j.has(N.pathname)&&(ye={currentLocation:N,nextLocation:y.location})}else if(O){let $e=j.get(y.location.pathname);$e?$e.add(N.pathname):($e=new Set([N.pathname]),j.set(y.location.pathname,$e)),ye={currentLocation:y.location,nextLocation:N}}K({...B,actionData:he,loaderData:we,historyAction:_,location:N,initialized:!0,navigation:mm,revalidation:"idle",restoreScrollPosition:$a(N,B.matches||y.matches),preventScrollReset:pe,blockers:Oe},{viewTransitionOpts:ye,flushSync:W===!0}),_="POP",T=!1,O=!1,C=!1,I=!1,Ve==null||Ve.resolve(),Ve=null}async function ce(N,B){if(typeof N=="number"){e.history.go(N);return}let W=Bv(y.location,y.matches,s,N,B==null?void 0:B.fromRouteId,B==null?void 0:B.relative),{path:Q,submission:he,error:we}=R2(!1,W,B),Oe=y.location,pe=Tl(y.location,Q,B&&B.state);pe={...pe,...e.history.encodeLocation(pe)};let ye=B&&B.replace!=null?B.replace:void 0,ie="PUSH";ye===!0?ie="REPLACE":ye===!1||he!=null&&mr(he.formMethod)&&he.formAction===y.location.pathname+y.location.search&&(ie="REPLACE");let Ne=B&&"preventScrollReset"in B?B.preventScrollReset===!0:void 0,$e=(B&&B.flushSync)===!0,ht=Oo({currentLocation:Oe,nextLocation:pe,historyAction:ie});if(ht){ia(ht,{state:"blocked",location:pe,proceed(){ia(ht,{state:"proceeding",proceed:void 0,reset:void 0,location:pe}),ce(N,B)},reset(){let qt=new Map(y.blockers);qt.set(ht,Cc),K({blockers:qt})}});return}await ve(ie,pe,{submission:he,pendingError:we,preventScrollReset:Ne,replace:B&&B.replace,enableViewTransition:B&&B.viewTransition,flushSync:$e})}function U(){Ve||(Ve=HL()),ge(),K({revalidation:"loading"});let N=Ve.promise;return y.navigation.state==="submitting"?N:y.navigation.state==="idle"?(ve(y.historyAction,y.location,{startUninterruptedRevalidation:!0}),N):(ve(_||y.historyAction,y.navigation.location,{overrideNavigation:y.navigation,enableViewTransition:O===!0}),N)}async function ve(N,B,W){P&&P.abort(),P=null,_=N,C=(W&&W.startUninterruptedRevalidation)===!0,Mi(y.location,y.matches),T=(W&&W.preventScrollReset)===!0,O=(W&&W.enableViewTransition)===!0;let Q=i||o,he=W&&W.overrideNavigation,we=qa(Q,B,s),Oe=(W&&W.flushSync)===!0,pe=kt(we,Q,B.pathname);if(pe.active&&pe.matches&&(we=pe.matches),!we){let{error:wt,notFoundMatches:be,route:Ie}=sa(B.pathname);fe(B,{matches:be,loaderData:{},errors:{[Ie.id]:wt}},{flushSync:Oe});return}if(y.initialized&&!I&&LL(y.location,B)&&!(W&&W.submission&&mr(W.submission.formMethod))){fe(B,{matches:we},{flushSync:Oe});return}P=new AbortController;let ye=$i(e.history,B,P.signal,W&&W.submission),ie;if(W&&W.pendingError)ie=[Fo(we).route.id,{type:"error",error:W.pendingError}];else if(W&&W.submission&&mr(W.submission.formMethod)){let wt=await ae(ye,B,W.submission,we,pe.active,{replace:W.replace,flushSync:Oe});if(wt.shortCircuited)return;if(wt.pendingActionResult){let[be,Ie]=wt.pendingActionResult;if(Wn(Ie)&&Ih(Ie.error)&&Ie.error.status===404){P=null,fe(B,{matches:wt.matches,loaderData:{},errors:{[be]:Ie.error}});return}}we=wt.matches||we,ie=wt.pendingActionResult,he=vm(B,W.submission),Oe=!1,pe.active=!1,ye=$i(e.history,ye.url,ye.signal)}let{shortCircuited:Ne,matches:$e,loaderData:ht,errors:qt}=await Me(ye,B,we,pe.active,he,W&&W.submission,W&&W.fetcherSubmission,W&&W.replace,W&&W.initialHydration===!0,Oe,ie);Ne||(P=null,fe(B,{matches:$e||we,...W2(ie),loaderData:ht,errors:qt}))}async function ae(N,B,W,Q,he,we={}){ge();let Oe=UL(B,W);if(K({navigation:Oe},{flushSync:we.flushSync===!0}),he){let ie=await $t(Q,B.pathname,N.signal);if(ie.type==="aborted")return{shortCircuited:!0};if(ie.type==="error"){let Ne=Fo(ie.partialMatches).route.id;return{matches:ie.partialMatches,pendingActionResult:[Ne,{type:"error",error:ie.error}]}}else if(ie.matches)Q=ie.matches;else{let{notFoundMatches:Ne,error:$e,route:ht}=sa(B.pathname);return{matches:Ne,pendingActionResult:[ht.id,{type:"error",error:$e}]}}}let pe,ye=Xc(Q,B);if(!ye.route.action&&!ye.route.lazy)pe={type:"error",error:nr(405,{method:N.method,pathname:B.pathname,routeId:ye.route.id})};else if(pe=(await ee("action",y,N,[ye],Q,null))[ye.route.id],N.signal.aborted)return{shortCircuited:!0};if(Vo(pe)){let ie;return we&&we.replace!=null?ie=we.replace:ie=F2(pe.response.headers.get("Location"),new URL(N.url),s)===y.location.pathname+y.location.search,await ne(N,pe,!0,{submission:W,replace:ie}),{shortCircuited:!0}}if(Wn(pe)){let ie=Fo(Q,ye.route.id);return(we&&we.replace)!==!0&&(_="PUSH"),{matches:Q,pendingActionResult:[ie.route.id,pe]}}return{matches:Q,pendingActionResult:[ye.route.id,pe]}}async function Me(N,B,W,Q,he,we,Oe,pe,ye,ie,Ne){let $e=he||vm(B,we),ht=we||Oe||G2($e),qt=!C&&!ye;if(Q){if(qt){let fn=ke(Ne);K({navigation:$e,...fn!==void 0?{actionData:fn}:{}},{flushSync:ie})}let yt=await $t(W,B.pathname,N.signal);if(yt.type==="aborted")return{shortCircuited:!0};if(yt.type==="error"){let fn=Fo(yt.partialMatches).route.id;return{matches:yt.partialMatches,loaderData:{},errors:{[fn]:yt.error}}}else if(yt.matches)W=yt.matches;else{let{error:fn,notFoundMatches:cd,route:Tc}=sa(B.pathname);return{matches:cd,loaderData:{},errors:{[Tc.id]:fn}}}}let wt=i||o,[be,Ie]=I2(e.history,y,W,ht,B,ye===!0,I,R,J,X,q,wt,s,Ne);if(V=++F,be.length===0&&Ie.length===0){let yt=kr();return fe(B,{matches:W,loaderData:{},errors:Ne&&Wn(Ne[1])?{[Ne[0]]:Ne[1].error}:null,...W2(Ne),...yt?{fetchers:new Map(y.fetchers)}:{}},{flushSync:ie}),{shortCircuited:!0}}if(qt){let yt={};if(!Q){yt.navigation=$e;let fn=ke(Ne);fn!==void 0&&(yt.actionData=fn)}Ie.length>0&&(yt.fetchers=Qe(Ie)),K(yt,{flushSync:ie})}Ie.forEach(yt=>{Dt(yt.key),yt.controller&&$.set(yt.key,yt.controller)});let pt=()=>Ie.forEach(yt=>Dt(yt.key));P&&P.signal.addEventListener("abort",pt);let{loaderResults:on,fetcherResults:It}=await Z(y,W,be,Ie,N);if(N.signal.aborted)return{shortCircuited:!0};P&&P.signal.removeEventListener("abort",pt),Ie.forEach(yt=>$.delete(yt.key));let En=pd(on);if(En)return await ne(N,En.result,!0,{replace:pe}),{shortCircuited:!0};if(En=pd(It),En)return q.add(En.key),await ne(N,En.result,!0,{replace:pe}),{shortCircuited:!0};let{loaderData:Ac,errors:Eo}=V2(y,W,on,Ne,Ie,It);ye&&y.errors&&(Eo={...y.errors,...Eo});let jo=kr(),id=Sn(V),sd=jo||id||Ie.length>0;return{matches:W,loaderData:Ac,errors:Eo,...sd?{fetchers:new Map(y.fetchers)}:{}}}function ke(N){if(N&&!Wn(N[1]))return{[N[0]]:N[1].data};if(y.actionData)return Object.keys(y.actionData).length===0?null:y.actionData}function Qe(N){return N.forEach(B=>{let W=y.fetchers.get(B.key),Q=Ec(void 0,W?W.data:void 0);y.fetchers.set(B.key,Q)}),new Map(y.fetchers)}async function D(N,B,W,Q){Dt(N);let he=(Q&&Q.flushSync)===!0,we=i||o,Oe=Bv(y.location,y.matches,s,W,B,Q==null?void 0:Q.relative),pe=qa(we,Oe,s),ye=kt(pe,we,Oe);if(ye.active&&ye.matches&&(pe=ye.matches),!pe){et(N,B,nr(404,{pathname:Oe}),{flushSync:he});return}let{path:ie,submission:Ne,error:$e}=R2(!0,Oe,Q);if($e){et(N,B,$e,{flushSync:he});return}let ht=Xc(pe,ie),qt=(Q&&Q.preventScrollReset)===!0;if(Ne&&mr(Ne.formMethod)){await L(N,B,ie,ht,pe,ye.active,he,qt,Ne);return}X.set(N,{routeId:B,path:ie}),await z(N,B,ie,ht,pe,ye.active,he,qt,Ne)}async function L(N,B,W,Q,he,we,Oe,pe,ye){ge(),X.delete(N);function ie(Ft){if(!Ft.route.action&&!Ft.route.lazy){let Ri=nr(405,{method:ye.formMethod,pathname:W,routeId:B});return et(N,B,Ri,{flushSync:Oe}),!0}return!1}if(!we&&ie(Q))return;let Ne=y.fetchers.get(N);Se(N,VL(ye,Ne),{flushSync:Oe});let $e=new AbortController,ht=$i(e.history,W,$e.signal,ye);if(we){let Ft=await $t(he,W,ht.signal);if(Ft.type==="aborted")return;if(Ft.type==="error"){et(N,B,Ft.error,{flushSync:Oe});return}else if(Ft.matches){if(he=Ft.matches,Q=Xc(he,W),ie(Q))return}else{et(N,B,nr(404,{pathname:W}),{flushSync:Oe});return}}$.set(N,$e);let qt=F,be=(await ee("action",y,ht,[Q],he,N))[Q.route.id];if(ht.signal.aborted){$.get(N)===$e&&$.delete(N);return}if(J.has(N)){if(Vo(be)||Wn(be)){Se(N,Fa(void 0));return}}else{if(Vo(be))if($.delete(N),V>qt){Se(N,Fa(void 0));return}else return q.add(N),Se(N,Ec(ye)),ne(ht,be,!1,{fetcherSubmission:ye,preventScrollReset:pe});if(Wn(be)){et(N,B,be.error);return}}let Ie=y.navigation.location||y.location,pt=$i(e.history,Ie,$e.signal),on=i||o,It=y.navigation.state!=="idle"?qa(on,y.navigation.location,s):y.matches;qe(It,"Didn't find any matches after fetcher action");let En=++F;H.set(N,En);let Ac=Ec(ye,be.data);y.fetchers.set(N,Ac);let[Eo,jo]=I2(e.history,y,It,ye,Ie,!1,I,R,J,X,q,on,s,[Q.route.id,be]);jo.filter(Ft=>Ft.key!==N).forEach(Ft=>{let Ri=Ft.key,i2=y.fetchers.get(Ri),HR=Ec(void 0,i2?i2.data:void 0);y.fetchers.set(Ri,HR),Dt(Ri),Ft.controller&&$.set(Ri,Ft.controller)}),K({fetchers:new Map(y.fetchers)});let id=()=>jo.forEach(Ft=>Dt(Ft.key));$e.signal.addEventListener("abort",id);let{loaderResults:sd,fetcherResults:yt}=await Z(y,It,Eo,jo,pt);if($e.signal.aborted)return;$e.signal.removeEventListener("abort",id),H.delete(N),$.delete(N),jo.forEach(Ft=>$.delete(Ft.key));let fn=pd(sd);if(fn)return ne(pt,fn.result,!1,{preventScrollReset:pe});if(fn=pd(yt),fn)return q.add(fn.key),ne(pt,fn.result,!1,{preventScrollReset:pe});let{loaderData:cd,errors:Tc}=V2(y,It,sd,void 0,jo,yt);if(y.fetchers.has(N)){let Ft=Fa(be.data);y.fetchers.set(N,Ft)}Sn(En),y.navigation.state==="loading"&&En>V?(qe(_,"Expected pending action"),P&&P.abort(),fe(y.navigation.location,{matches:It,loaderData:cd,errors:Tc,fetchers:new Map(y.fetchers)})):(K({errors:Tc,loaderData:z2(y.loaderData,cd,It,Tc),fetchers:new Map(y.fetchers)}),I=!1)}async function z(N,B,W,Q,he,we,Oe,pe,ye){let ie=y.fetchers.get(N);Se(N,Ec(ye,ie?ie.data:void 0),{flushSync:Oe});let Ne=new AbortController,$e=$i(e.history,W,Ne.signal);if(we){let be=await $t(he,W,$e.signal);if(be.type==="aborted")return;if(be.type==="error"){et(N,B,be.error,{flushSync:Oe});return}else if(be.matches)he=be.matches,Q=Xc(he,W);else{et(N,B,nr(404,{pathname:W}),{flushSync:Oe});return}}$.set(N,Ne);let ht=F,wt=(await ee("loader",y,$e,[Q],he,N))[Q.route.id];if($.get(N)===Ne&&$.delete(N),!$e.signal.aborted){if(J.has(N)){Se(N,Fa(void 0));return}if(Vo(wt))if(V>ht){Se(N,Fa(void 0));return}else{q.add(N),await ne($e,wt,!1,{preventScrollReset:pe});return}if(Wn(wt)){et(N,B,wt.error);return}Se(N,Fa(wt.data))}}async function ne(N,B,W,{submission:Q,fetcherSubmission:he,preventScrollReset:we,replace:Oe}={}){B.response.headers.has("X-Remix-Revalidate")&&(I=!0);let pe=B.response.headers.get("Location");qe(pe,"Expected a Location header on the redirect Response"),pe=F2(pe,new URL(N.url),s);let ye=Tl(y.location,pe,{_isRedirect:!0});if(n){let wt=!1;if(B.response.headers.has("X-Remix-Reload-Document"))wt=!0;else if(w0.test(pe)){const be=e.history.createURL(pe);wt=be.origin!==t.location.origin||Cr(be.pathname,s)==null}if(wt){Oe?t.location.replace(pe):t.location.assign(pe);return}}P=null;let ie=Oe===!0||B.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ne,formAction:$e,formEncType:ht}=y.navigation;!Q&&!he&&Ne&&$e&&ht&&(Q=G2(y.navigation));let qt=Q||he;if(AL.has(B.response.status)&&qt&&mr(qt.formMethod))await ve(ie,ye,{submission:{...qt,formAction:pe},preventScrollReset:we||T,enableViewTransition:W?O:void 0});else{let wt=vm(ye,Q);await ve(ie,ye,{overrideNavigation:wt,fetcherSubmission:he,preventScrollReset:we||T,enableViewTransition:W?O:void 0})}}async function ee(N,B,W,Q,he,we){let Oe,pe={};try{Oe=await NL(c,N,B,W,Q,he,we,a,r)}catch(ye){return Q.forEach(ie=>{pe[ie.route.id]={type:"error",error:ye}}),pe}for(let[ye,ie]of Object.entries(Oe))if(BL(ie)){let Ne=ie.result;pe[ye]={type:"redirect",response:$L(Ne,W,ye,he,s)}}else pe[ye]=await RL(ie);return pe}async function Z(N,B,W,Q,he){let we=ee("loader",N,he,W,B,null),Oe=Promise.all(Q.map(async ie=>{if(ie.matches&&ie.match&&ie.controller){let $e=(await ee("loader",N,$i(e.history,ie.path,ie.controller.signal),[ie.match],ie.matches,ie.key))[ie.match.route.id];return{[ie.key]:$e}}else return Promise.resolve({[ie.key]:{type:"error",error:nr(404,{pathname:ie.path})}})})),pe=await we,ye=(await Oe).reduce((ie,Ne)=>Object.assign(ie,Ne),{});return{loaderResults:pe,fetcherResults:ye}}function ge(){I=!0,X.forEach((N,B)=>{$.has(B)&&R.add(B),Dt(B)})}function Se(N,B,W={}){y.fetchers.set(N,B),K({fetchers:new Map(y.fetchers)},{flushSync:(W&&W.flushSync)===!0})}function et(N,B,W,Q={}){let he=Fo(y.matches,B);wn(N),K({errors:{[he.route.id]:W},fetchers:new Map(y.fetchers)},{flushSync:(Q&&Q.flushSync)===!0})}function gt(N){return Y.set(N,(Y.get(N)||0)+1),J.has(N)&&J.delete(N),y.fetchers.get(N)||TL}function wn(N){let B=y.fetchers.get(N);$.has(N)&&!(B&&B.state==="loading"&&H.has(N))&&Dt(N),X.delete(N),H.delete(N),q.delete(N),J.delete(N),R.delete(N),y.fetchers.delete(N)}function ur(N){let B=(Y.get(N)||0)-1;B<=0?(Y.delete(N),J.add(N)):Y.set(N,B),K({fetchers:new Map(y.fetchers)})}function Dt(N){let B=$.get(N);B&&(B.abort(),$.delete(N))}function Ln(N){for(let B of N){let W=gt(B),Q=Fa(W.data);y.fetchers.set(B,Q)}}function kr(){let N=[],B=!1;for(let W of q){let Q=y.fetchers.get(W);qe(Q,`Expected fetcher: ${W}`),Q.state==="loading"&&(q.delete(W),N.push(W),B=!0)}return Ln(N),B}function Sn(N){let B=[];for(let[W,Q]of H)if(Q<N){let he=y.fetchers.get(W);qe(he,`Expected fetcher: ${W}`),he.state==="loading"&&(Dt(W),H.delete(W),B.push(W))}return Ln(B),B.length>0}function Ra(N,B){let W=y.blockers.get(N)||Cc;return oe.get(N)!==B&&oe.set(N,B),W}function oa(N){y.blockers.delete(N),oe.delete(N)}function ia(N,B){let W=y.blockers.get(N)||Cc;qe(W.state==="unblocked"&&B.state==="blocked"||W.state==="blocked"&&B.state==="blocked"||W.state==="blocked"&&B.state==="proceeding"||W.state==="blocked"&&B.state==="unblocked"||W.state==="proceeding"&&B.state==="unblocked",`Invalid blocker state transition: ${W.state} -> ${B.state}`);let Q=new Map(y.blockers);Q.set(N,B),K({blockers:Q})}function Oo({currentLocation:N,nextLocation:B,historyAction:W}){if(oe.size===0)return;oe.size>1&&rn(!1,"A router only supports one blocker at a time");let Q=Array.from(oe.entries()),[he,we]=Q[Q.length-1],Oe=y.blockers.get(he);if(!(Oe&&Oe.state==="proceeding")&&we({currentLocation:N,nextLocation:B,historyAction:W}))return he}function sa(N){let B=nr(404,{pathname:N}),W=i||o,{matches:Q,route:he}=H2(W);return{notFoundMatches:Q,route:he,error:B}}function Ni(N,B,W){if(h=N,m=B,p=W||null,!v&&y.navigation===mm){v=!0;let Q=$a(y.location,y.matches);Q!=null&&K({restoreScrollPosition:Q})}return()=>{h=null,m=null,p=null}}function Co(N,B){return p&&p(N,B.map(Q=>nL(Q,y.loaderData)))||N.key}function Mi(N,B){if(h&&m){let W=Co(N,B);h[W]=m()}}function $a(N,B){if(h){let W=Co(N,B),Q=h[W];if(typeof Q=="number")return Q}return null}function kt(N,B,W){if(l)if(N){if(Object.keys(N[0].params).length>0)return{active:!0,matches:Gd(B,W,s,!0)}}else return{active:!0,matches:Gd(B,W,s,!0)||[]};return{active:!1,matches:null}}async function $t(N,B,W){if(!l)return{type:"success",matches:N};let Q=N;for(;;){let he=i==null,we=i||o,Oe=a;try{await l({path:B,matches:Q,patch:(ie,Ne)=>{W.aborted||B2(ie,Ne,we,Oe,r)}})}catch(ie){return{type:"error",error:ie,partialMatches:Q}}finally{he&&!W.aborted&&(o=[...o])}if(W.aborted)return{type:"aborted"};let pe=qa(we,B,s);if(pe)return{type:"success",matches:pe};let ye=Gd(we,B,s,!0);if(!ye||Q.length===ye.length&&Q.every((ie,Ne)=>ie.route.id===ye[Ne].route.id))return{type:"success",matches:null};Q=ye}}function ca(N){a={},i=sf(N,r,void 0,a)}function ft(N,B){let W=i==null;B2(N,B,i||o,a,r),W&&(o=[...o],K({}))}return A={get basename(){return s},get future(){return u},get state(){return y},get routes(){return o},get window(){return t},initialize:rt,subscribe:Re,enableScrollRestoration:Ni,navigate:ce,fetch:D,revalidate:U,createHref:N=>e.history.createHref(N),encodeLocation:N=>e.history.encodeLocation(N),getFetcher:gt,deleteFetcher:ur,dispose:Je,getBlocker:Ra,deleteBlocker:oa,patchRoutes:ft,_internalFetchControllers:$,_internalSetRoutes:ca},A}function CL(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Bv(e,t,n,r,a,o){let i,s;if(a){i=[];for(let l of t)if(i.push(l),l.route.id===a){s=l;break}}else i=t,s=t[t.length-1];let c=$h(r||".",Rh(i),Cr(e.pathname,n)||e.pathname,o==="path");if(r==null&&(c.search=e.search,c.hash=e.hash),(r==null||r===""||r===".")&&s){let l=S0(c.search);if(s.route.index&&!l)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!s.route.index&&l){let u=new URLSearchParams(c.search),d=u.getAll("index");u.delete("index"),d.filter(h=>h).forEach(h=>u.append("index",h));let f=u.toString();c.search=f?`?${f}`:""}}return n!=="/"&&(c.pathname=c.pathname==="/"?n:Wr([n,c.pathname])),lo(c)}function R2(e,t,n){if(!n||!CL(n))return{path:t};if(n.formMethod&&!FL(n.formMethod))return{path:t,error:nr(405,{method:n.formMethod})};let r=()=>({path:t,error:nr(400,{type:"invalid-body"})}),o=(n.formMethod||"get").toUpperCase(),i=aO(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!mr(o))return r();let d=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((f,[h,p])=>`${f}${h}=${p}
`,""):String(n.body);return{path:t,submission:{formMethod:o,formAction:i,formEncType:n.formEncType,formData:void 0,json:void 0,text:d}}}else if(n.formEncType==="application/json"){if(!mr(o))return r();try{let d=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:o,formAction:i,formEncType:n.formEncType,formData:void 0,json:d,text:void 0}}}catch{return r()}}}qe(typeof FormData=="function","FormData is not available in this environment");let s,c;if(n.formData)s=Uv(n.formData),c=n.formData;else if(n.body instanceof FormData)s=Uv(n.body),c=n.body;else if(n.body instanceof URLSearchParams)s=n.body,c=U2(s);else if(n.body==null)s=new URLSearchParams,c=new FormData;else try{s=new URLSearchParams(n.body),c=U2(s)}catch{return r()}let l={formMethod:o,formAction:i,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(mr(l.formMethod))return{path:t,submission:l};let u=bo(t);return e&&u.search&&S0(u.search)&&s.append("index",""),u.search=`?${s}`,{path:lo(u),submission:l}}function $2(e,t,n=!1){let r=e.findIndex(a=>a.route.id===t);return r>=0?e.slice(0,n?r+1:r):e}function I2(e,t,n,r,a,o,i,s,c,l,u,d,f,h){let p=h?Wn(h[1])?h[1].error:h[1].data:void 0,m=e.createURL(t.location),v=e.createURL(a),b=n;o&&t.errors?b=$2(n,Object.keys(t.errors)[0],!0):h&&Wn(h[1])&&(b=$2(n,h[0]));let x=h?h[1].statusCode:void 0,S=x&&x>=400,A=b.filter((_,T)=>{let{route:P}=_;if(P.lazy)return!0;if(P.loader==null)return!1;if(o)return Fv(P,t.loaderData,t.errors);if(EL(t.loaderData,t.matches[T],_))return!0;let O=t.matches[T],j=_;return L2(_,{currentUrl:m,currentParams:O.params,nextUrl:v,nextParams:j.params,...r,actionResult:p,actionStatus:x,defaultShouldRevalidate:S?!1:i||m.pathname+m.search===v.pathname+v.search||m.search!==v.search||jL(O,j)})}),y=[];return l.forEach((_,T)=>{if(o||!n.some(C=>C.route.id===_.routeId)||c.has(T))return;let P=qa(d,_.path,f);if(!P){y.push({key:T,routeId:_.routeId,path:_.path,matches:null,match:null,controller:null});return}let O=t.fetchers.get(T),j=Xc(P,_.path),E=!1;u.has(T)?E=!1:s.has(T)?(s.delete(T),E=!0):O&&O.state!=="idle"&&O.data===void 0?E=i:E=L2(j,{currentUrl:m,currentParams:t.matches[t.matches.length-1].params,nextUrl:v,nextParams:n[n.length-1].params,...r,actionResult:p,actionStatus:x,defaultShouldRevalidate:S?!1:i}),E&&y.push({key:T,routeId:_.routeId,path:_.path,matches:P,match:j,controller:new AbortController})}),[A,y]}function Fv(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=t!=null&&t[e.id]!==void 0,a=n!=null&&n[e.id]!==void 0;return!r&&a?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!a}function EL(e,t,n){let r=!t||n.route.id!==t.route.id,a=!e.hasOwnProperty(n.route.id);return r||a}function jL(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function L2(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function B2(e,t,n,r,a){let o;if(e){let c=r[e];qe(c,`No route found to patch children into: routeId = ${e}`),c.children||(c.children=[]),o=c.children}else o=n;let i=t.filter(c=>!o.some(l=>rO(c,l))),s=sf(i,a,[e||"_","patch",String((o==null?void 0:o.length)||"0")],r);o.push(...s)}function rO(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>{var a;return(a=t.children)==null?void 0:a.some(o=>rO(n,o))}):!1}async function DL(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let a=n[e.id];qe(a,"No route found in manifest");let o={};for(let i in r){let c=a[i]!==void 0&&i!=="hasErrorBoundary";rn(!c,`Route "${a.id}" has a static property "${i}" defined but its lazy function is also returning a value for this property. The lazy route property "${i}" will be ignored.`),!c&&!eL.has(i)&&(o[i]=r[i])}Object.assign(a,o),Object.assign(a,{...t(a),lazy:void 0})}async function kL({matches:e}){let t=e.filter(r=>r.shouldLoad);return(await Promise.all(t.map(r=>r.resolve()))).reduce((r,a,o)=>Object.assign(r,{[t[o].route.id]:a}),{})}async function NL(e,t,n,r,a,o,i,s,c,l){let u=o.map(h=>h.route.lazy?DL(h.route,c,s):void 0),d=o.map((h,p)=>{let m=u[p],v=a.some(x=>x.route.id===h.route.id);return{...h,shouldLoad:v,resolve:async x=>(x&&r.method==="GET"&&(h.route.lazy||h.route.loader)&&(v=!0),v?ML(t,r,h,m,x,l):Promise.resolve({type:"data",result:void 0}))}}),f=await e({matches:d,request:r,params:o[0].params,fetcherKey:i,context:l});try{await Promise.all(u)}catch{}return f}async function ML(e,t,n,r,a,o){let i,s,c=l=>{let u,d=new Promise((p,m)=>u=m);s=()=>u(),t.signal.addEventListener("abort",s);let f=p=>typeof l!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${e}" [routeId: ${n.route.id}]`)):l({request:t,params:n.params,context:o},...p!==void 0?[p]:[]),h=(async()=>{try{return{type:"data",result:await(a?a(m=>f(m)):f())}}catch(p){return{type:"error",result:p}}})();return Promise.race([h,d])};try{let l=n.route[e];if(r)if(l){let u,[d]=await Promise.all([c(l).catch(f=>{u=f}),r]);if(u!==void 0)throw u;i=d}else if(await r,l=n.route[e],l)i=await c(l);else if(e==="action"){let u=new URL(t.url),d=u.pathname+u.search;throw nr(405,{method:t.method,pathname:d,routeId:n.route.id})}else return{type:"data",result:void 0};else if(l)i=await c(l);else{let u=new URL(t.url),d=u.pathname+u.search;throw nr(404,{pathname:d})}}catch(l){return{type:"error",result:l}}finally{s&&t.signal.removeEventListener("abort",s)}return i}async function RL(e){var r,a,o,i;let{result:t,type:n}=e;if(oO(t)){let s;try{let c=t.headers.get("Content-Type");c&&/\bapplication\/json\b/.test(c)?t.body==null?s=null:s=await t.json():s=await t.text()}catch(c){return{type:"error",error:c}}return n==="error"?{type:"error",error:new lf(t.status,t.statusText,s),statusCode:t.status,headers:t.headers}:{type:"data",data:s,statusCode:t.status,headers:t.headers}}if(n==="error"){if(q2(t)){if(t.data instanceof Error)return{type:"error",error:t.data,statusCode:(r=t.init)==null?void 0:r.status};t=new lf(((a=t.init)==null?void 0:a.status)||500,void 0,t.data)}return{type:"error",error:t,statusCode:Ih(t)?t.status:void 0}}return q2(t)?{type:"data",data:t.data,statusCode:(o=t.init)==null?void 0:o.status,headers:(i=t.init)!=null&&i.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function $L(e,t,n,r,a){let o=e.headers.get("Location");if(qe(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!w0.test(o)){let i=r.slice(0,r.findIndex(s=>s.route.id===n)+1);o=Bv(new URL(t.url),i,a,o),e.headers.set("Location",o)}return e}function F2(e,t,n){if(w0.test(e)){let r=e,a=r.startsWith("//")?new URL(t.protocol+r):new URL(r),o=Cr(a.pathname,n)!=null;if(a.origin===t.origin&&o)return a.pathname+a.search+a.hash}return e}function $i(e,t,n,r){let a=e.createURL(aO(t)).toString(),o={signal:n};if(r&&mr(r.formMethod)){let{formMethod:i,formEncType:s}=r;o.method=i.toUpperCase(),s==="application/json"?(o.headers=new Headers({"Content-Type":s}),o.body=JSON.stringify(r.json)):s==="text/plain"?o.body=r.text:s==="application/x-www-form-urlencoded"&&r.formData?o.body=Uv(r.formData):o.body=r.formData}return new Request(a,o)}function Uv(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function U2(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function IL(e,t,n,r=!1,a=!1){let o={},i=null,s,c=!1,l={},u=n&&Wn(n[1])?n[1].error:void 0;return e.forEach(d=>{if(!(d.route.id in t))return;let f=d.route.id,h=t[f];if(qe(!Vo(h),"Cannot handle redirect results in processLoaderData"),Wn(h)){let p=h.error;if(u!==void 0&&(p=u,u=void 0),i=i||{},a)i[f]=p;else{let m=Fo(e,f);i[m.route.id]==null&&(i[m.route.id]=p)}r||(o[f]=nO),c||(c=!0,s=Ih(h.error)?h.error.status:500),h.headers&&(l[f]=h.headers)}else o[f]=h.data,h.statusCode&&h.statusCode!==200&&!c&&(s=h.statusCode),h.headers&&(l[f]=h.headers)}),u!==void 0&&n&&(i={[n[0]]:u},o[n[0]]=void 0),{loaderData:o,errors:i,statusCode:s||200,loaderHeaders:l}}function V2(e,t,n,r,a,o){let{loaderData:i,errors:s}=IL(t,n,r);return a.forEach(c=>{let{key:l,match:u,controller:d}=c,f=o[l];if(qe(f,"Did not find corresponding fetcher result"),!(d&&d.signal.aborted))if(Wn(f)){let h=Fo(e.matches,u==null?void 0:u.route.id);s&&s[h.route.id]||(s={...s,[h.route.id]:f.error}),e.fetchers.delete(l)}else if(Vo(f))qe(!1,"Unhandled fetcher revalidation redirect");else{let h=Fa(f.data);e.fetchers.set(l,h)}}),{loaderData:i,errors:s}}function z2(e,t,n,r){let a=Object.entries(t).filter(([,o])=>o!==nO).reduce((o,[i,s])=>(o[i]=s,o),{});for(let o of n){let i=o.route.id;if(!t.hasOwnProperty(i)&&e.hasOwnProperty(i)&&o.route.loader&&(a[i]=e[i]),r&&r.hasOwnProperty(i))break}return a}function W2(e){return e?Wn(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Fo(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function H2(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function nr(e,{pathname:t,routeId:n,method:r,type:a,message:o}={}){let i="Unknown Server Error",s="Unknown @remix-run/router error";return e===400?(i="Bad Request",r&&t&&n?s=`You made a ${r} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:a==="invalid-body"&&(s="Unable to encode submission body")):e===403?(i="Forbidden",s=`Route "${n}" does not match URL "${t}"`):e===404?(i="Not Found",s=`No route matches URL "${t}"`):e===405&&(i="Method Not Allowed",r&&t&&n?s=`You made a ${r.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(s=`Invalid request method "${r.toUpperCase()}"`)),new lf(e||500,i,new Error(s),!0)}function pd(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,a]=t[n];if(Vo(a))return{key:r,result:a}}}function aO(e){let t=typeof e=="string"?bo(e):e;return lo({...t,hash:""})}function LL(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function BL(e){return oO(e.result)&&_L.has(e.result.status)}function Wn(e){return e.type==="error"}function Vo(e){return(e&&e.type)==="redirect"}function q2(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function oO(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function FL(e){return SL.has(e.toUpperCase())}function mr(e){return xL.has(e.toUpperCase())}function S0(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Xc(e,t){let n=typeof t=="string"?bo(t).search:t.search;if(e[e.length-1].route.index&&S0(n||""))return e[e.length-1];let r=QP(e);return r[r.length-1]}function G2(e){let{formMethod:t,formAction:n,formEncType:r,text:a,formData:o,json:i}=e;if(!(!t||!n||!r)){if(a!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:a};if(o!=null)return{formMethod:t,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(i!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:i,text:void 0}}}function vm(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function UL(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Ec(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function VL(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Fa(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function zL(e,t){try{let n=e.sessionStorage.getItem(tO);if(n){let r=JSON.parse(n);for(let[a,o]of Object.entries(r||{}))o&&Array.isArray(o)&&t.set(a,new Set(o||[]))}}catch{}}function WL(e,t){if(t.size>0){let n={};for(let[r,a]of t)n[r]=[...a];try{e.sessionStorage.setItem(tO,JSON.stringify(n))}catch(r){rn(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function HL(){let e,t,n=new Promise((r,a)=>{e=async o=>{r(o);try{await n}catch{}},t=async o=>{a(o);try{await n}catch{}}});return{promise:n,resolve:e,reject:t}}var _i=w.createContext(null);_i.displayName="DataRouter";var $u=w.createContext(null);$u.displayName="DataRouterState";var _0=w.createContext({isTransitioning:!1});_0.displayName="ViewTransition";var iO=w.createContext(new Map);iO.displayName="Fetchers";var qL=w.createContext(null);qL.displayName="Await";var jr=w.createContext(null);jr.displayName="Navigation";var Lh=w.createContext(null);Lh.displayName="Location";var na=w.createContext({outlet:null,matches:[],isDataRoute:!1});na.displayName="Route";var A0=w.createContext(null);A0.displayName="RouteError";function GL(e,{relative:t}={}){qe(rc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=w.useContext(jr),{hash:a,pathname:o,search:i}=Lu(e,{relative:t}),s=o;return n!=="/"&&(s=o==="/"?n:Wr([n,o])),r.createHref({pathname:s,search:i,hash:a})}function rc(){return w.useContext(Lh)!=null}function ja(){return qe(rc(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Lh).location}var sO="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cO(e){w.useContext(jr).static||w.useLayoutEffect(e)}function Iu(){let{isDataRoute:e}=w.useContext(na);return e?iB():KL()}function KL(){qe(rc(),"useNavigate() may be used only in the context of a <Router> component.");let e=w.useContext(_i),{basename:t,navigator:n}=w.useContext(jr),{matches:r}=w.useContext(na),{pathname:a}=ja(),o=JSON.stringify(Rh(r)),i=w.useRef(!1);return cO(()=>{i.current=!0}),w.useCallback((c,l={})=>{if(rn(i.current,sO),!i.current)return;if(typeof c=="number"){n.go(c);return}let u=$h(c,JSON.parse(o),a,l.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:Wr([t,u.pathname])),(l.replace?n.replace:n.push)(u,l.state,l)},[t,n,o,a,e])}w.createContext(null);function Lu(e,{relative:t}={}){let{matches:n}=w.useContext(na),{pathname:r}=ja(),a=JSON.stringify(Rh(n));return w.useMemo(()=>$h(e,JSON.parse(a),r,t==="path"),[e,a,r,t])}function YL(e,t,n,r){qe(rc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=w.useContext(jr),{matches:o}=w.useContext(na),i=o[o.length-1],s=i?i.params:{},c=i?i.pathname:"/",l=i?i.pathnameBase:"/",u=i&&i.route;{let b=u&&u.path||"";lO(c,!u||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let d=ja(),f;f=d;let h=f.pathname||"/",p=h;if(l!=="/"){let b=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let m=qa(e,{pathname:p});return rn(u||m!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),rn(m==null||m[m.length-1].route.element!==void 0||m[m.length-1].route.Component!==void 0||m[m.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),eB(m&&m.map(b=>Object.assign({},b,{params:Object.assign({},s,b.params),pathname:Wr([l,a.encodeLocation?a.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:Wr([l,a.encodeLocation?a.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,n,r)}function XL(){let e=oB(),t=Ih(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=w.createElement(w.Fragment,null,w.createElement("p",null,"💿 Hey developer 👋"),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:o},"ErrorBoundary")," or"," ",w.createElement("code",{style:o},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:a},n):null,i)}var ZL=w.createElement(XL,null),JL=class extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?w.createElement(na.Provider,{value:this.props.routeContext},w.createElement(A0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function QL({routeContext:e,match:t,children:n}){let r=w.useContext(_i);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(na.Provider,{value:e},n)}function eB(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n==null?void 0:n.errors;if(o!=null){let c=a.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id])!==void 0);qe(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,c+1))}let i=!1,s=-1;if(n)for(let c=0;c<a.length;c++){let l=a[c];if((l.route.HydrateFallback||l.route.hydrateFallbackElement)&&(s=c),l.route.id){let{loaderData:u,errors:d}=n,f=l.route.loader&&!u.hasOwnProperty(l.route.id)&&(!d||d[l.route.id]===void 0);if(l.route.lazy||f){i=!0,s>=0?a=a.slice(0,s+1):a=[a[0]];break}}}return a.reduceRight((c,l,u)=>{let d,f=!1,h=null,p=null;n&&(d=o&&l.route.id?o[l.route.id]:void 0,h=l.route.errorElement||ZL,i&&(s<0&&u===0?(lO("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,p=null):s===u&&(f=!0,p=l.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,u+1)),v=()=>{let b;return d?b=h:f?b=p:l.route.Component?b=w.createElement(l.route.Component,null):l.route.element?b=l.route.element:b=c,w.createElement(QL,{match:l,routeContext:{outlet:c,matches:m,isDataRoute:n!=null},children:b})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?w.createElement(JL,{location:n.location,revalidation:n.revalidation,component:h,error:d,children:v(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):v()},null)}function T0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tB(e){let t=w.useContext(_i);return qe(t,T0(e)),t}function nB(e){let t=w.useContext($u);return qe(t,T0(e)),t}function rB(e){let t=w.useContext(na);return qe(t,T0(e)),t}function P0(e){let t=rB(e),n=t.matches[t.matches.length-1];return qe(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function aB(){return P0("useRouteId")}function oB(){var r;let e=w.useContext(A0),t=nB("useRouteError"),n=P0("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function iB(){let{router:e}=tB("useNavigate"),t=P0("useNavigate"),n=w.useRef(!1);return cO(()=>{n.current=!0}),w.useCallback(async(a,o={})=>{rn(n.current,sO),n.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...o}))},[e,t])}var K2={};function lO(e,t,n){!t&&!K2[e]&&(K2[e]=!0,rn(!1,n))}var Y2={};function X2(e,t){!e&&!Y2[t]&&(Y2[t]=!0,console.warn(t))}function sB(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&rn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:w.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&rn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:w.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&rn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:w.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var cB=class{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function lB({router:e,flushSync:t}){let[n,r]=w.useState(e.state),[a,o]=w.useState(),[i,s]=w.useState({isTransitioning:!1}),[c,l]=w.useState(),[u,d]=w.useState(),[f,h]=w.useState(),p=w.useRef(new Map),m=w.useCallback((S,{deletedFetchers:A,flushSync:y,viewTransitionOpts:_})=>{A.forEach(P=>p.current.delete(P)),S.fetchers.forEach((P,O)=>{P.data!==void 0&&p.current.set(O,P.data)}),X2(y===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let T=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(X2(_==null||T,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!_||!T){t&&y?t(()=>r(S)):w.startTransition(()=>r(S));return}if(t&&y){t(()=>{u&&(c&&c.resolve(),u.skipTransition()),s({isTransitioning:!0,flushSync:!0,currentLocation:_.currentLocation,nextLocation:_.nextLocation})});let P=e.window.document.startViewTransition(()=>{t(()=>r(S))});P.finished.finally(()=>{t(()=>{l(void 0),d(void 0),o(void 0),s({isTransitioning:!1})})}),t(()=>d(P));return}u?(c&&c.resolve(),u.skipTransition(),h({state:S,currentLocation:_.currentLocation,nextLocation:_.nextLocation})):(o(S),s({isTransitioning:!0,flushSync:!1,currentLocation:_.currentLocation,nextLocation:_.nextLocation}))},[e.window,t,u,c]);w.useLayoutEffect(()=>e.subscribe(m),[e,m]),w.useEffect(()=>{i.isTransitioning&&!i.flushSync&&l(new cB)},[i]),w.useEffect(()=>{if(c&&a&&e.window){let S=a,A=c.promise,y=e.window.document.startViewTransition(async()=>{w.startTransition(()=>r(S)),await A});y.finished.finally(()=>{l(void 0),d(void 0),o(void 0),s({isTransitioning:!1})}),d(y)}},[a,c,e.window]),w.useEffect(()=>{c&&a&&n.location.key===a.location.key&&c.resolve()},[c,u,n.location,a]),w.useEffect(()=>{!i.isTransitioning&&f&&(o(f.state),s({isTransitioning:!0,flushSync:!1,currentLocation:f.currentLocation,nextLocation:f.nextLocation}),h(void 0))},[i.isTransitioning,f]);let v=w.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:S=>e.navigate(S),push:(S,A,y)=>e.navigate(S,{state:A,preventScrollReset:y==null?void 0:y.preventScrollReset}),replace:(S,A,y)=>e.navigate(S,{replace:!0,state:A,preventScrollReset:y==null?void 0:y.preventScrollReset})}),[e]),b=e.basename||"/",x=w.useMemo(()=>({router:e,navigator:v,static:!1,basename:b}),[e,v,b]);return w.createElement(w.Fragment,null,w.createElement(_i.Provider,{value:x},w.createElement($u.Provider,{value:n},w.createElement(iO.Provider,{value:p.current},w.createElement(_0.Provider,{value:i},w.createElement(hB,{basename:b,location:n.location,navigationType:n.historyAction,navigator:v},w.createElement(uB,{routes:e.routes,future:e.future,state:n})))))),null)}var uB=w.memo(dB);function dB({routes:e,future:t,state:n}){return YL(e,void 0,n,t)}function fB({to:e,replace:t,state:n,relative:r}){qe(rc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=w.useContext(jr);rn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=w.useContext(na),{pathname:i}=ja(),s=Iu(),c=$h(e,Rh(o),i,r==="path"),l=JSON.stringify(c);return w.useEffect(()=>{s(JSON.parse(l),{replace:t,state:n,relative:r})},[s,l,r,t,n]),null}function hB({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:o=!1}){qe(!rc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=e.replace(/^\/*/,"/"),s=w.useMemo(()=>({basename:i,navigator:a,static:o,future:{}}),[i,a,o]);typeof n=="string"&&(n=bo(n));let{pathname:c="/",search:l="",hash:u="",state:d=null,key:f="default"}=n,h=w.useMemo(()=>{let p=Cr(c,i);return p==null?null:{location:{pathname:p,search:l,hash:u,state:d,key:f},navigationType:r}},[i,c,l,u,d,f,r]);return rn(h!=null,`<Router basename="${i}"> is not able to match the URL "${c}${l}${u}" because it does not start with the basename, so the <Router> won't render anything.`),h==null?null:w.createElement(jr.Provider,{value:s},w.createElement(Lh.Provider,{children:t,value:h}))}var Kd="get",Yd="application/x-www-form-urlencoded";function Bh(e){return e!=null&&typeof e.tagName=="string"}function pB(e){return Bh(e)&&e.tagName.toLowerCase()==="button"}function mB(e){return Bh(e)&&e.tagName.toLowerCase()==="form"}function vB(e){return Bh(e)&&e.tagName.toLowerCase()==="input"}function gB(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function yB(e,t){return e.button===0&&(!t||t==="_self")&&!gB(e)}var md=null;function bB(){if(md===null)try{new FormData(document.createElement("form"),0),md=!1}catch{md=!0}return md}var xB=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gm(e){return e!=null&&!xB.has(e)?(rn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yd}"`),null):e}function wB(e,t){let n,r,a,o,i;if(mB(e)){let s=e.getAttribute("action");r=s?Cr(s,t):null,n=e.getAttribute("method")||Kd,a=gm(e.getAttribute("enctype"))||Yd,o=new FormData(e)}else if(pB(e)||vB(e)&&(e.type==="submit"||e.type==="image")){let s=e.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||s.getAttribute("action");if(r=c?Cr(c,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||Kd,a=gm(e.getAttribute("formenctype"))||gm(s.getAttribute("enctype"))||Yd,o=new FormData(s,e),!bB()){let{name:l,type:u,value:d}=e;if(u==="image"){let f=l?`${l}.`:"";o.append(`${f}x`,"0"),o.append(`${f}y`,"0")}else l&&o.append(l,d)}}else{if(Bh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Kd,r=null,a=Yd,i=e}return o&&a==="text/plain"&&(i=o,o=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:o,body:i}}function O0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function SB(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _B(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function AB(e,t,n){let r=await Promise.all(e.map(async a=>{let o=t.routes[a.route.id];if(o){let i=await SB(o,n);return i.links?i.links():[]}return[]}));return CB(r.flat(1).filter(_B).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Z2(e,t,n,r,a,o){let i=(c,l)=>n[l]?c.route.id!==n[l].route.id:!0,s=(c,l)=>{var u;return n[l].pathname!==c.pathname||((u=n[l].route.path)==null?void 0:u.endsWith("*"))&&n[l].params["*"]!==c.params["*"]};return o==="assets"?t.filter((c,l)=>i(c,l)||s(c,l)):o==="data"?t.filter((c,l)=>{var d;let u=r.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(i(c,l)||s(c,l))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function TB(e,t){return PB(e.map(n=>{let r=t.routes[n.route.id];if(!r)return[];let a=[r.module];return r.imports&&(a=a.concat(r.imports)),a}).flat(1))}function PB(e){return[...new Set(e)]}function OB(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function CB(e,t){let n=new Set;return new Set(t),e.reduce((r,a)=>{let o=JSON.stringify(OB(a));return n.has(o)||(n.add(o),r.push({key:o,link:a})),r},[])}function EB(e){let t=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function jB(){let e=w.useContext(_i);return O0(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function DB(){let e=w.useContext($u);return O0(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var C0=w.createContext(void 0);C0.displayName="FrameworkContext";function uO(){let e=w.useContext(C0);return O0(e,"You must render this element inside a <HydratedRouter> element"),e}function kB(e,t){let n=w.useContext(C0),[r,a]=w.useState(!1),[o,i]=w.useState(!1),{onFocus:s,onBlur:c,onMouseEnter:l,onMouseLeave:u,onTouchStart:d}=t,f=w.useRef(null);w.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let m=b=>{b.forEach(x=>{i(x.isIntersecting)})},v=new IntersectionObserver(m,{threshold:.5});return f.current&&v.observe(f.current),()=>{v.disconnect()}}},[e]),w.useEffect(()=>{if(r){let m=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(m)}}},[r]);let h=()=>{a(!0)},p=()=>{a(!1),i(!1)};return n?e!=="intent"?[o,f,{}]:[o,f,{onFocus:jc(s,h),onBlur:jc(c,p),onMouseEnter:jc(l,h),onMouseLeave:jc(u,p),onTouchStart:jc(d,h)}]:[!1,f,{}]}function jc(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function NB({page:e,...t}){let{router:n}=jB(),r=w.useMemo(()=>qa(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?w.createElement(RB,{page:e,matches:r,...t}):(console.warn(`Tried to prefetch ${e} but no routes matched.`),null)}function MB(e){let{manifest:t,routeModules:n}=uO(),[r,a]=w.useState([]);return w.useEffect(()=>{let o=!1;return AB(e,t,n).then(i=>{o||a(i)}),()=>{o=!0}},[e,t,n]),r}function RB({page:e,matches:t,...n}){let r=ja(),{manifest:a,routeModules:o}=uO(),{loaderData:i,matches:s}=DB(),c=w.useMemo(()=>Z2(e,t,s,a,r,"data"),[e,t,s,a,r]),l=w.useMemo(()=>Z2(e,t,s,a,r,"assets"),[e,t,s,a,r]),u=w.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let h=new Set,p=!1;if(t.forEach(v=>{var x;let b=a.routes[v.route.id];!b||!b.hasLoader||(!c.some(S=>S.route.id===v.route.id)&&v.route.id in i&&((x=o[v.route.id])!=null&&x.shouldRevalidate)||b.hasClientLoader?p=!0:h.add(v.route.id))}),h.size===0)return[];let m=EB(e);return p&&h.size>0&&m.searchParams.set("_routes",t.filter(v=>h.has(v.route.id)).map(v=>v.route.id).join(",")),[m.pathname+m.search]},[i,r,a,c,t,e,o]),d=w.useMemo(()=>TB(l,a),[l,a]),f=MB(l);return w.createElement(w.Fragment,null,u.map(h=>w.createElement("link",{key:h,rel:"prefetch",as:"fetch",href:h,...n})),d.map(h=>w.createElement("link",{key:h,rel:"modulepreload",href:h,...n})),f.map(({key:h,link:p})=>w.createElement("link",{key:h,...p})))}function $B(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var dO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dO&&(window.__reactRouterVersion="7.0.2")}catch{}function IB(e,t){return OL({basename:t==null?void 0:t.basename,future:t==null?void 0:t.future,history:ZI({window:t==null?void 0:t.window}),hydrationData:LB(),routes:e,mapRouteProperties:sB,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function LB(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:BB(e.errors)}),e}function BB(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,a]of t)if(a&&a.__type==="RouteErrorResponse")n[r]=new lf(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let o=window[a.__subType];if(typeof o=="function")try{let i=new o(a.message);i.stack="",n[r]=i}catch{}}if(n[r]==null){let o=new Error(a.message);o.stack="",n[r]=o}}else n[r]=a;return n}var fO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hO=w.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:a,reloadDocument:o,replace:i,state:s,target:c,to:l,preventScrollReset:u,viewTransition:d,...f},h){let{basename:p}=w.useContext(jr),m=typeof l=="string"&&fO.test(l),v,b=!1;if(typeof l=="string"&&m&&(v=l,dO))try{let O=new URL(window.location.href),j=l.startsWith("//")?new URL(O.protocol+l):new URL(l),E=Cr(j.pathname,p);j.origin===O.origin&&E!=null?l=E+j.search+j.hash:b=!0}catch{rn(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=GL(l,{relative:a}),[S,A,y]=kB(r,f),_=zB(l,{replace:i,state:s,target:c,preventScrollReset:u,relative:a,viewTransition:d});function T(O){t&&t(O),O.defaultPrevented||_(O)}let P=w.createElement("a",{...f,...y,href:v||x,onClick:b||o?t:T,ref:$B(h,A),target:c,"data-discover":!m&&n==="render"?"true":void 0});return S&&!m?w.createElement(w.Fragment,null,P,w.createElement(NB,{page:x})):P});hO.displayName="Link";var FB=w.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:a=!1,style:o,to:i,viewTransition:s,children:c,...l},u){let d=Lu(i,{relative:l.relative}),f=ja(),h=w.useContext($u),{navigator:p,basename:m}=w.useContext(jr),v=h!=null&&KB(d)&&s===!0,b=p.encodeLocation?p.encodeLocation(d).pathname:d.pathname,x=f.pathname,S=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;n||(x=x.toLowerCase(),S=S?S.toLowerCase():null,b=b.toLowerCase()),S&&m&&(S=Cr(S,m)||S);const A=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let y=x===b||!a&&x.startsWith(b)&&x.charAt(A)==="/",_=S!=null&&(S===b||!a&&S.startsWith(b)&&S.charAt(b.length)==="/"),T={isActive:y,isPending:_,isTransitioning:v},P=y?t:void 0,O;typeof r=="function"?O=r(T):O=[r,y?"active":null,_?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let j=typeof o=="function"?o(T):o;return w.createElement(hO,{...l,"aria-current":P,className:O,ref:u,style:j,to:i,viewTransition:s},typeof c=="function"?c(T):c)});FB.displayName="NavLink";var UB=w.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:o,method:i=Kd,action:s,onSubmit:c,relative:l,preventScrollReset:u,viewTransition:d,...f},h)=>{let p=qB(),m=GB(s,{relative:l}),v=i.toLowerCase()==="get"?"get":"post",b=typeof s=="string"&&fO.test(s),x=S=>{if(c&&c(S),S.defaultPrevented)return;S.preventDefault();let A=S.nativeEvent.submitter,y=(A==null?void 0:A.getAttribute("formmethod"))||i;p(A||S.currentTarget,{fetcherKey:t,method:y,navigate:n,replace:a,state:o,relative:l,preventScrollReset:u,viewTransition:d})};return w.createElement("form",{ref:h,method:v,action:m,onSubmit:r?c:x,...f,"data-discover":!b&&e==="render"?"true":void 0})});UB.displayName="Form";function VB(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pO(e){let t=w.useContext(_i);return qe(t,VB(e)),t}function zB(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:o,viewTransition:i}={}){let s=Iu(),c=ja(),l=Lu(e,{relative:o});return w.useCallback(u=>{if(yB(u,t)){u.preventDefault();let d=n!==void 0?n:lo(c)===lo(l);s(e,{replace:d,state:r,preventScrollReset:a,relative:o,viewTransition:i})}},[c,s,l,n,r,t,e,a,o,i])}var WB=0,HB=()=>`__${String(++WB)}__`;function qB(){let{router:e}=pO("useSubmit"),{basename:t}=w.useContext(jr),n=aB();return w.useCallback(async(r,a={})=>{let{action:o,method:i,encType:s,formData:c,body:l}=wB(r,t);if(a.navigate===!1){let u=a.fetcherKey||HB();await e.fetch(u,n,a.action||o,{preventScrollReset:a.preventScrollReset,formData:c,body:l,formMethod:a.method||i,formEncType:a.encType||s,flushSync:a.flushSync})}else await e.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:c,body:l,formMethod:a.method||i,formEncType:a.encType||s,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}function GB(e,{relative:t}={}){let{basename:n}=w.useContext(jr),r=w.useContext(na);qe(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...Lu(e||".",{relative:t})},i=ja();if(e==null){o.search=i.search;let s=new URLSearchParams(o.search),c=s.getAll("index");if(c.some(u=>u==="")){s.delete("index"),c.filter(d=>d).forEach(d=>s.append("index",d));let u=s.toString();o.search=u?`?${u}`:""}}return(!e||e===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Wr([n,o.pathname])),lo(o)}function KB(e,t={}){let n=w.useContext(_0);qe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=pO("useViewTransitionState"),a=Lu(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=Cr(n.currentLocation.pathname,r)||n.currentLocation.pathname,i=Cr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return cf(a.pathname,i)!=null||cf(a.pathname,o)!=null}new TextEncoder;/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function YB(e){return w.createElement(lB,{flushSync:h0.flushSync,...e})}function XB(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}function Fh(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Vv=e=>Array.isArray(e);function mO(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Pl(e){return typeof e=="string"||Array.isArray(e)}function J2(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function E0(e,t,n,r){if(typeof t=="function"){const[a,o]=J2(r);t=t(n!==void 0?n:e.custom,a,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,o]=J2(r);t=t(n!==void 0?n:e.custom,a,o)}return t}function Uh(e,t,n){const r=e.getProps();return E0(r,t,n!==void 0?n:r.custom,e)}const j0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],D0=["initial",...j0],Bu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ai=new Set(Bu),xa=e=>e*1e3,wa=e=>e/1e3,ZB={type:"spring",stiffness:500,damping:25,restSpeed:10},JB=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),QB={type:"keyframes",duration:.8},e3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},t3=(e,{keyframes:t})=>t.length>2?QB:Ai.has(e)?e.startsWith("scale")?JB(t[1]):ZB:e3;function k0(e,t){return e?e[t]||e.default||e:void 0}const n3={skipAnimations:!1,useManualTiming:!1},r3=e=>e!==null;function Vh(e,{repeat:t,repeatType:n="loop"},r){const a=e.filter(r3),o=t&&n!=="loop"&&t%2===1?0:a.length-1;return!o||r===void 0?a[o]:r}const yn=e=>e;let zv=yn;function a3(e){let t=new Set,n=new Set,r=!1,a=!1;const o=new WeakSet;let i={delta:0,timestamp:0,isProcessing:!1};function s(l){o.has(l)&&(c.schedule(l),e()),l(i)}const c={schedule:(l,u=!1,d=!1)=>{const h=d&&r?t:n;return u&&o.add(l),h.has(l)||h.add(l),l},cancel:l=>{n.delete(l),o.delete(l)},process:l=>{if(i=l,r){a=!0;return}r=!0,[t,n]=[n,t],n.clear(),t.forEach(s),r=!1,a&&(a=!1,c.process(l))}};return c}const vd=["read","resolveKeyframes","update","preRender","render","postRender"],o3=40;function vO(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,i=vd.reduce((b,x)=>(b[x]=a3(o),b),{}),{read:s,resolveKeyframes:c,update:l,preRender:u,render:d,postRender:f}=i,h=()=>{const b=performance.now();n=!1,a.delta=r?1e3/60:Math.max(Math.min(b-a.timestamp,o3),1),a.timestamp=b,a.isProcessing=!0,s.process(a),c.process(a),l.process(a),u.process(a),d.process(a),f.process(a),a.isProcessing=!1,n&&t&&(r=!1,e(h))},p=()=>{n=!0,r=!0,a.isProcessing||e(h)};return{schedule:vd.reduce((b,x)=>{const S=i[x];return b[x]=(A,y=!1,_=!1)=>(n||p(),S.schedule(A,y,_)),b},{}),cancel:b=>{for(let x=0;x<vd.length;x++)i[vd[x]].cancel(b)},state:a,steps:i}}const{schedule:dt,cancel:uo,state:cn,steps:ym}=vO(typeof requestAnimationFrame<"u"?requestAnimationFrame:yn,!0),gO=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,i3=1e-7,s3=12;function c3(e,t,n,r,a){let o,i,s=0;do i=t+(n-t)/2,o=gO(i,r,a)-e,o>0?n=i:t=i;while(Math.abs(o)>i3&&++s<s3);return i}function Fu(e,t,n,r){if(e===t&&n===r)return yn;const a=o=>c3(o,0,1,e,n);return o=>o===0||o===1?o:gO(a(o),t,r)}const yO=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,bO=e=>t=>1-e(1-t),xO=Fu(.33,1.53,.69,.99),N0=bO(xO),wO=yO(N0),SO=e=>(e*=2)<1?.5*N0(e):.5*(2-Math.pow(2,-10*(e-1))),M0=e=>1-Math.sin(Math.acos(e)),_O=bO(M0),AO=yO(M0),TO=e=>/^0[^.\s]+$/u.test(e);function l3(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||TO(e):!0}const PO=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),OO=e=>t=>typeof t=="string"&&t.startsWith(e),CO=OO("--"),u3=OO("var(--"),R0=e=>u3(e)?d3.test(e.split("/*")[0].trim()):!1,d3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,f3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function h3(e){const t=f3.exec(e);if(!t)return[,];const[,n,r,a]=t;return[`--${n??r}`,a]}function EO(e,t,n=1){const[r,a]=h3(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const i=o.trim();return PO(i)?parseFloat(i):i}return R0(a)?EO(a,t,n+1):a}const Ta=(e,t,n)=>n>t?t:n<e?e:n,ac={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ol={...ac,transform:e=>Ta(0,1,e)},gd={...ac,default:1},Uu=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ua=Uu("deg"),Hr=Uu("%"),Ee=Uu("px"),p3=Uu("vh"),m3=Uu("vw"),Q2={...Hr,parse:e=>Hr.parse(e)/100,transform:e=>Hr.transform(e*100)},v3=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),ew=e=>e===ac||e===Ee,tw=(e,t)=>parseFloat(e.split(", ")[t]),nw=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const a=r.match(/^matrix3d\((.+)\)$/u);if(a)return tw(a[1],t);{const o=r.match(/^matrix\((.+)\)$/u);return o?tw(o[1],e):0}},g3=new Set(["x","y","z"]),y3=Bu.filter(e=>!g3.has(e));function b3(e){const t=[];return y3.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Ps={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:nw(4,13),y:nw(5,14)};Ps.translateX=Ps.x;Ps.translateY=Ps.y;const jO=e=>t=>t.test(e),x3={test:e=>e==="auto",parse:e=>e},DO=[ac,Ee,Hr,Ua,m3,p3,x3],rw=e=>DO.find(jO(e)),ai=new Set;let Wv=!1,Hv=!1;function kO(){if(Hv){const e=Array.from(ai).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const a=b3(r);a.length&&(n.set(r,a),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([o,i])=>{var s;(s=r.getValue(o))===null||s===void 0||s.set(i)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Hv=!1,Wv=!1,ai.forEach(e=>e.complete()),ai.clear()}function NO(){ai.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Hv=!0)})}function w3(){NO(),kO()}class $0{constructor(t,n,r,a,o,i=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=a,this.element=o,this.isAsync=i}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ai.add(this),Wv||(Wv=!0,dt.read(NO),dt.resolveKeyframes(kO))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:a}=this;for(let o=0;o<t.length;o++)if(t[o]===null)if(o===0){const i=a==null?void 0:a.get(),s=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const c=r.readValue(n,s);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=s),a&&i===void 0&&a.set(t[0])}else t[o]=t[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ai.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ai.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const dl=e=>Math.round(e*1e5)/1e5,I0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function S3(e){return e==null}const _3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,L0=(e,t)=>n=>!!(typeof n=="string"&&_3.test(n)&&n.startsWith(e)||t&&!S3(n)&&Object.prototype.hasOwnProperty.call(n,t)),MO=(e,t,n)=>r=>{if(typeof r!="string")return r;const[a,o,i,s]=r.match(I0);return{[e]:parseFloat(a),[t]:parseFloat(o),[n]:parseFloat(i),alpha:s!==void 0?parseFloat(s):1}},A3=e=>Ta(0,255,e),bm={...ac,transform:e=>Math.round(A3(e))},zo={test:L0("rgb","red"),parse:MO("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+bm.transform(e)+", "+bm.transform(t)+", "+bm.transform(n)+", "+dl(Ol.transform(r))+")"};function T3(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const qv={test:L0("#"),parse:T3,transform:zo.transform},qi={test:L0("hsl","hue"),parse:MO("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Hr.transform(dl(t))+", "+Hr.transform(dl(n))+", "+dl(Ol.transform(r))+")"},pn={test:e=>zo.test(e)||qv.test(e)||qi.test(e),parse:e=>zo.test(e)?zo.parse(e):qi.test(e)?qi.parse(e):qv.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?zo.transform(e):qi.transform(e)},P3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function O3(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(I0))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(P3))===null||n===void 0?void 0:n.length)||0)>0}const RO="number",$O="color",C3="var",E3="var(",aw="${}",j3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Cl(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},a=[];let o=0;const s=t.replace(j3,c=>(pn.test(c)?(r.color.push(o),a.push($O),n.push(pn.parse(c))):c.startsWith(E3)?(r.var.push(o),a.push(C3),n.push(c)):(r.number.push(o),a.push(RO),n.push(parseFloat(c))),++o,aw)).split(aw);return{values:n,split:s,indexes:r,types:a}}function IO(e){return Cl(e).values}function LO(e){const{split:t,types:n}=Cl(e),r=t.length;return a=>{let o="";for(let i=0;i<r;i++)if(o+=t[i],a[i]!==void 0){const s=n[i];s===RO?o+=dl(a[i]):s===$O?o+=pn.transform(a[i]):o+=a[i]}return o}}const D3=e=>typeof e=="number"?0:e;function k3(e){const t=IO(e);return LO(e)(t.map(D3))}const fo={test:O3,parse:IO,createTransformer:LO,getAnimatableNone:k3},N3=new Set(["brightness","contrast","saturate","opacity"]);function M3(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(I0)||[];if(!r)return e;const a=n.replace(r,"");let o=N3.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+a+")"}const R3=/\b([a-z-]*)\(.*?\)/gu,Gv={...fo,getAnimatableNone:e=>{const t=e.match(R3);return t?t.map(M3).join(" "):e}},$3={borderWidth:Ee,borderTopWidth:Ee,borderRightWidth:Ee,borderBottomWidth:Ee,borderLeftWidth:Ee,borderRadius:Ee,radius:Ee,borderTopLeftRadius:Ee,borderTopRightRadius:Ee,borderBottomRightRadius:Ee,borderBottomLeftRadius:Ee,width:Ee,maxWidth:Ee,height:Ee,maxHeight:Ee,top:Ee,right:Ee,bottom:Ee,left:Ee,padding:Ee,paddingTop:Ee,paddingRight:Ee,paddingBottom:Ee,paddingLeft:Ee,margin:Ee,marginTop:Ee,marginRight:Ee,marginBottom:Ee,marginLeft:Ee,backgroundPositionX:Ee,backgroundPositionY:Ee},I3={rotate:Ua,rotateX:Ua,rotateY:Ua,rotateZ:Ua,scale:gd,scaleX:gd,scaleY:gd,scaleZ:gd,skew:Ua,skewX:Ua,skewY:Ua,distance:Ee,translateX:Ee,translateY:Ee,translateZ:Ee,x:Ee,y:Ee,z:Ee,perspective:Ee,transformPerspective:Ee,opacity:Ol,originX:Q2,originY:Q2,originZ:Ee},ow={...ac,transform:Math.round},B0={...$3,...I3,zIndex:ow,size:Ee,fillOpacity:Ol,strokeOpacity:Ol,numOctaves:ow},L3={...B0,color:pn,backgroundColor:pn,outlineColor:pn,fill:pn,stroke:pn,borderColor:pn,borderTopColor:pn,borderRightColor:pn,borderBottomColor:pn,borderLeftColor:pn,filter:Gv,WebkitFilter:Gv},F0=e=>L3[e];function BO(e,t){let n=F0(e);return n!==Gv&&(n=fo),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const B3=new Set(["auto","none","0"]);function F3(e,t,n){let r=0,a;for(;r<e.length&&!a;){const o=e[r];typeof o=="string"&&!B3.has(o)&&Cl(o).values.length&&(a=e[r]),r++}if(a&&n)for(const o of t)e[o]=BO(n,a)}class FO extends $0{constructor(t,n,r,a,o){super(t,n,r,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let l=t[c];if(typeof l=="string"&&(l=l.trim(),R0(l))){const u=EO(l,n.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=l)}}if(this.resolveNoneKeyframes(),!v3.has(r)||t.length!==2)return;const[a,o]=t,i=rw(a),s=rw(o);if(i!==s)if(ew(i)&&ew(s))for(let c=0;c<t.length;c++){const l=t[c];typeof l=="string"&&(t[c]=parseFloat(l))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let a=0;a<t.length;a++)l3(t[a])&&r.push(a);r.length&&F3(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ps[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(r,a).jump(a,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:a}=this;if(!n||!n.current)return;const o=n.getValue(r);o&&o.jump(this.measuredOrigin,!1);const i=a.length-1,s=a[i];a[i]=Ps[r](n.measureViewportBox(),window.getComputedStyle(n.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,l])=>{n.getValue(c).set(l)}),this.resolveNoneKeyframes()}}function U0(e){return typeof e=="function"}let Xd;function U3(){Xd=void 0}const qr={now:()=>(Xd===void 0&&qr.set(cn.isProcessing||n3.useManualTiming?cn.timestamp:performance.now()),Xd),set:e=>{Xd=e,queueMicrotask(U3)}},iw=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(fo.test(e)||e==="0")&&!e.startsWith("url("));function V3(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function z3(e,t,n,r){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],i=iw(a,t),s=iw(o,t);return!i||!s?!1:V3(e)||(n==="spring"||U0(n))&&r}const W3=40;class UO{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:i="loop",...s}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=qr.now(),this.options={autoplay:t,delay:n,type:r,repeat:a,repeatDelay:o,repeatType:i,...s},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>W3?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&w3(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=qr.now(),this.hasAttemptedResolve=!0;const{name:r,type:a,velocity:o,delay:i,onComplete:s,onUpdate:c,isGenerator:l}=this.options;if(!l&&!z3(t,r,a,o))if(i)this.options.duration=0;else{c==null||c(Vh(t,this.options,n)),s==null||s(),this.resolveFinishedPromise();return}const u=this.initPlayback(t,n);u!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Os=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},VO=(e,t,n=10)=>{let r="";const a=Math.max(Math.round(t/n),2);for(let o=0;o<a;o++)r+=e(Os(0,a-1,o))+", ";return`linear(${r.substring(0,r.length-2)})`};function zO(e,t){return t?e*(1e3/t):0}const H3=5;function WO(e,t,n){const r=Math.max(t-H3,0);return zO(n-e(r),t-r)}const Mt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},xm=.001;function q3({duration:e=Mt.duration,bounce:t=Mt.bounce,velocity:n=Mt.velocity,mass:r=Mt.mass}){let a,o,i=1-t;i=Ta(Mt.minDamping,Mt.maxDamping,i),e=Ta(Mt.minDuration,Mt.maxDuration,wa(e)),i<1?(a=l=>{const u=l*i,d=u*e,f=u-n,h=Kv(l,i),p=Math.exp(-d);return xm-f/h*p},o=l=>{const d=l*i*e,f=d*n+n,h=Math.pow(i,2)*Math.pow(l,2)*e,p=Math.exp(-d),m=Kv(Math.pow(l,2),i);return(-a(l)+xm>0?-1:1)*((f-h)*p)/m}):(a=l=>{const u=Math.exp(-l*e),d=(l-n)*e+1;return-xm+u*d},o=l=>{const u=Math.exp(-l*e),d=(n-l)*(e*e);return u*d});const s=5/e,c=K3(a,o,s);if(e=xa(e),isNaN(c))return{stiffness:Mt.stiffness,damping:Mt.damping,duration:e};{const l=Math.pow(c,2)*r;return{stiffness:l,damping:i*2*Math.sqrt(r*l),duration:e}}}const G3=12;function K3(e,t,n){let r=n;for(let a=1;a<G3;a++)r=r-e(r)/t(r);return r}function Kv(e,t){return e*Math.sqrt(1-t*t)}const Yv=2e4;function HO(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Yv;)t+=n,r=e.next(t);return t>=Yv?1/0:t}const Y3=["duration","bounce"],X3=["stiffness","damping","mass"];function sw(e,t){return t.some(n=>e[n]!==void 0)}function Z3(e){let t={velocity:Mt.velocity,stiffness:Mt.stiffness,damping:Mt.damping,mass:Mt.mass,isResolvedFromDuration:!1,...e};if(!sw(e,X3)&&sw(e,Y3))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,o=2*Ta(.05,1,1-e.bounce)*Math.sqrt(a);t={...t,mass:Mt.mass,stiffness:a,damping:o}}else{const n=q3(e);t={...t,...n,mass:Mt.mass},t.isResolvedFromDuration=!0}return t}function qO(e=Mt.visualDuration,t=Mt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=n;const o=n.keyframes[0],i=n.keyframes[n.keyframes.length-1],s={done:!1,value:o},{stiffness:c,damping:l,mass:u,duration:d,velocity:f,isResolvedFromDuration:h}=Z3({...n,velocity:-wa(n.velocity||0)}),p=f||0,m=l/(2*Math.sqrt(c*u)),v=i-o,b=wa(Math.sqrt(c/u)),x=Math.abs(v)<5;r||(r=x?Mt.restSpeed.granular:Mt.restSpeed.default),a||(a=x?Mt.restDelta.granular:Mt.restDelta.default);let S;if(m<1){const y=Kv(b,m);S=_=>{const T=Math.exp(-m*b*_);return i-T*((p+m*b*v)/y*Math.sin(y*_)+v*Math.cos(y*_))}}else if(m===1)S=y=>i-Math.exp(-b*y)*(v+(p+b*v)*y);else{const y=b*Math.sqrt(m*m-1);S=_=>{const T=Math.exp(-m*b*_),P=Math.min(y*_,300);return i-T*((p+m*b*v)*Math.sinh(P)+y*v*Math.cosh(P))/y}}const A={calculatedDuration:h&&d||null,next:y=>{const _=S(y);if(h)s.done=y>=d;else{let T=0;m<1&&(T=y===0?xa(p):WO(S,y,_));const P=Math.abs(T)<=r,O=Math.abs(i-_)<=a;s.done=P&&O}return s.value=s.done?i:_,s},toString:()=>{const y=Math.min(HO(A),Yv),_=VO(T=>A.next(y*T).value,y,30);return y+"ms "+_}};return A}function cw({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:i,min:s,max:c,restDelta:l=.5,restSpeed:u}){const d=e[0],f={done:!1,value:d},h=P=>s!==void 0&&P<s||c!==void 0&&P>c,p=P=>s===void 0?c:c===void 0||Math.abs(s-P)<Math.abs(c-P)?s:c;let m=n*t;const v=d+m,b=i===void 0?v:i(v);b!==v&&(m=b-d);const x=P=>-m*Math.exp(-P/r),S=P=>b+x(P),A=P=>{const O=x(P),j=S(P);f.done=Math.abs(O)<=l,f.value=f.done?b:j};let y,_;const T=P=>{h(f.value)&&(y=P,_=qO({keyframes:[f.value,p(f.value)],velocity:WO(S,P,f.value),damping:a,stiffness:o,restDelta:l,restSpeed:u}))};return T(0),{calculatedDuration:null,next:P=>{let O=!1;return!_&&y===void 0&&(O=!0,A(P),T(P)),y!==void 0&&P>=y?_.next(P-y):(!O&&A(P),f)}}}const J3=Fu(.42,0,1,1),Q3=Fu(0,0,.58,1),GO=Fu(.42,0,.58,1),eF=e=>Array.isArray(e)&&typeof e[0]!="number",V0=e=>Array.isArray(e)&&typeof e[0]=="number",lw={linear:yn,easeIn:J3,easeInOut:GO,easeOut:Q3,circIn:M0,circInOut:AO,circOut:_O,backIn:N0,backInOut:wO,backOut:xO,anticipate:SO},uw=e=>{if(V0(e)){zv(e.length===4);const[t,n,r,a]=e;return Fu(t,n,r,a)}else if(typeof e=="string")return zv(lw[e]!==void 0),lw[e];return e},tF=(e,t)=>n=>t(e(n)),oo=(...e)=>e.reduce(tF),Et=(e,t,n)=>e+(t-e)*n;function wm(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function nF({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,o=0,i=0;if(!t)a=o=i=n;else{const s=n<.5?n*(1+t):n+t-n*t,c=2*n-s;a=wm(c,s,e+1/3),o=wm(c,s,e),i=wm(c,s,e-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:r}}function uf(e,t){return n=>n>0?t:e}const Sm=(e,t,n)=>{const r=e*e,a=n*(t*t-r)+r;return a<0?0:Math.sqrt(a)},rF=[qv,zo,qi],aF=e=>rF.find(t=>t.test(e));function dw(e){const t=aF(e);if(!t)return!1;let n=t.parse(e);return t===qi&&(n=nF(n)),n}const fw=(e,t)=>{const n=dw(e),r=dw(t);if(!n||!r)return uf(e,t);const a={...n};return o=>(a.red=Sm(n.red,r.red,o),a.green=Sm(n.green,r.green,o),a.blue=Sm(n.blue,r.blue,o),a.alpha=Et(n.alpha,r.alpha,o),zo.transform(a))},Xv=new Set(["none","hidden"]);function oF(e,t){return Xv.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function iF(e,t){return n=>Et(e,t,n)}function z0(e){return typeof e=="number"?iF:typeof e=="string"?R0(e)?uf:pn.test(e)?fw:lF:Array.isArray(e)?KO:typeof e=="object"?pn.test(e)?fw:sF:uf}function KO(e,t){const n=[...e],r=n.length,a=e.map((o,i)=>z0(o)(o,t[i]));return o=>{for(let i=0;i<r;i++)n[i]=a[i](o);return n}}function sF(e,t){const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=z0(e[a])(e[a],t[a]));return a=>{for(const o in r)n[o]=r[o](a);return n}}function cF(e,t){var n;const r=[],a={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const i=t.types[o],s=e.indexes[i][a[i]],c=(n=e.values[s])!==null&&n!==void 0?n:0;r[o]=c,a[i]++}return r}const lF=(e,t)=>{const n=fo.createTransformer(t),r=Cl(e),a=Cl(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?Xv.has(e)&&!a.values.length||Xv.has(t)&&!r.values.length?oF(e,t):oo(KO(cF(r,a),a.values),n):uf(e,t)};function YO(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Et(e,t,n):z0(e)(e,t)}function uF(e,t,n){const r=[],a=n||YO,o=e.length-1;for(let i=0;i<o;i++){let s=a(e[i],e[i+1]);if(t){const c=Array.isArray(t)?t[i]||yn:t;s=oo(c,s)}r.push(s)}return r}function dF(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const o=e.length;if(zv(o===t.length),o===1)return()=>t[0];if(o===2&&e[0]===e[1])return()=>t[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const i=uF(t,r,a),s=i.length,c=l=>{let u=0;if(s>1)for(;u<e.length-2&&!(l<e[u+1]);u++);const d=Os(e[u],e[u+1],l);return i[u](d)};return n?l=>c(Ta(e[0],e[o-1],l)):c}function fF(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=Os(0,t,r);e.push(Et(n,1,a))}}function hF(e){const t=[0];return fF(t,e.length-1),t}function pF(e,t){return e.map(n=>n*t)}function mF(e,t){return e.map(()=>t||GO).splice(0,e.length-1)}function df({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=eF(r)?r.map(uw):uw(r),o={done:!1,value:t[0]},i=pF(n&&n.length===t.length?n:hF(t),e),s=dF(i,t,{ease:Array.isArray(a)?a:mF(t,a)});return{calculatedDuration:e,next:c=>(o.value=s(c),o.done=c>=e,o)}}const vF=e=>{const t=({timestamp:n})=>e(n);return{start:()=>dt.update(t,!0),stop:()=>uo(t),now:()=>cn.isProcessing?cn.timestamp:qr.now()}},gF={decay:cw,inertia:cw,tween:df,keyframes:df,spring:qO},yF=e=>e/100;class W0 extends UO{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:r,element:a,keyframes:o}=this.options,i=(a==null?void 0:a.KeyframeResolver)||$0,s=(c,l)=>this.onKeyframesResolved(c,l);this.resolver=new i(o,s,n,r,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:o,velocity:i=0}=this.options,s=U0(n)?n:gF[n]||df;let c,l;s!==df&&typeof t[0]!="number"&&(c=oo(yF,YO(t[0],t[1])),t=[0,100]);const u=s({...this.options,keyframes:t});o==="mirror"&&(l=s({...this.options,keyframes:[...t].reverse(),velocity:-i})),u.calculatedDuration===null&&(u.calculatedDuration=HO(u));const{calculatedDuration:d}=u,f=d+a,h=f*(r+1)-a;return{generator:u,mirroredGenerator:l,mapPercentToKeyframes:c,calculatedDuration:d,resolvedDuration:f,totalDuration:h}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:P}=this.options;return{done:!0,value:P[P.length-1]}}const{finalKeyframe:a,generator:o,mirroredGenerator:i,mapPercentToKeyframes:s,keyframes:c,calculatedDuration:l,totalDuration:u,resolvedDuration:d}=r;if(this.startTime===null)return o.next(0);const{delay:f,repeat:h,repeatType:p,repeatDelay:m,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-u/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const b=this.currentTime-f*(this.speed>=0?1:-1),x=this.speed>=0?b<0:b>u;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let S=this.currentTime,A=o;if(h){const P=Math.min(this.currentTime,u)/d;let O=Math.floor(P),j=P%1;!j&&P>=1&&(j=1),j===1&&O--,O=Math.min(O,h+1),!!(O%2)&&(p==="reverse"?(j=1-j,m&&(j-=m/d)):p==="mirror"&&(A=i)),S=Ta(0,1,j)*d}const y=x?{done:!1,value:c[0]}:A.next(S);s&&(y.value=s(y.value));let{done:_}=y;!x&&l!==null&&(_=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&_);return T&&a!==void 0&&(y.value=Vh(c,this.options,a)),v&&v(y.value),T&&this.finish(),y}get duration(){const{resolved:t}=this;return t?wa(t.calculatedDuration):0}get time(){return wa(this.currentTime)}set time(t){t=xa(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=wa(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=vF,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),n&&n();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const bF=new Set(["opacity","clipPath","filter","transform"]);function H0(e){let t;return()=>(t===void 0&&(t=e()),t)}const xF={linearEasing:void 0};function wF(e,t){const n=H0(e);return()=>{var r;return(r=xF[t])!==null&&r!==void 0?r:n()}}const ff=wF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function XO(e){return!!(typeof e=="function"&&ff()||!e||typeof e=="string"&&(e in Zv||ff())||V0(e)||Array.isArray(e)&&e.every(XO))}const Zc=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Zv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Zc([0,.65,.55,1]),circOut:Zc([.55,0,1,.45]),backIn:Zc([.31,.01,.66,-.59]),backOut:Zc([.33,1.53,.69,.99])};function ZO(e,t){if(e)return typeof e=="function"&&ff()?VO(e,t):V0(e)?Zc(e):Array.isArray(e)?e.map(n=>ZO(n,t)||Zv.easeOut):Zv[e]}function SF(e,t,n,{delay:r=0,duration:a=300,repeat:o=0,repeatType:i="loop",ease:s="easeInOut",times:c}={}){const l={[t]:n};c&&(l.offset=c);const u=ZO(s,a);return Array.isArray(u)&&(l.easing=u),e.animate(l,{delay:r,duration:a,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal"})}function hw(e,t){e.timeline=t,e.onfinish=null}const _F=H0(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),hf=10,AF=2e4;function TF(e){return U0(e.type)||e.type==="spring"||!XO(e.ease)}function PF(e,t){const n=new W0({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const a=[];let o=0;for(;!r.done&&o<AF;)r=n.sample(o),a.push(r.value),o+=hf;return{times:void 0,keyframes:a,duration:o-hf,ease:"linear"}}const JO={anticipate:SO,backInOut:wO,circInOut:AO};function OF(e){return e in JO}class pw extends UO{constructor(t){super(t);const{name:n,motionValue:r,element:a,keyframes:o}=this.options;this.resolver=new FO(o,(i,s)=>this.onKeyframesResolved(i,s),n,r,a),this.resolver.scheduleResolve()}initPlayback(t,n){var r;let{duration:a=300,times:o,ease:i,type:s,motionValue:c,name:l,startTime:u}=this.options;if(!(!((r=c.owner)===null||r===void 0)&&r.current))return!1;if(typeof i=="string"&&ff()&&OF(i)&&(i=JO[i]),TF(this.options)){const{onComplete:f,onUpdate:h,motionValue:p,element:m,...v}=this.options,b=PF(t,v);t=b.keyframes,t.length===1&&(t[1]=t[0]),a=b.duration,o=b.times,i=b.ease,s="keyframes"}const d=SF(c.owner.current,l,t,{...this.options,duration:a,times:o,ease:i});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(hw(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;c.set(Vh(t,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:a,times:o,type:s,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return wa(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return wa(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=xa(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return yn;const{animation:r}=n;hw(r,t)}return yn}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:a,type:o,ease:i,times:s}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:l,onUpdate:u,onComplete:d,element:f,...h}=this.options,p=new W0({...h,keyframes:r,duration:a,type:o,ease:i,times:s,isGenerator:!0}),m=xa(this.time);l.setWithVelocity(p.sample(m-hf).value,p.sample(m).value,hf)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:a,repeatType:o,damping:i,type:s}=t;return _F()&&r&&bF.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!a&&o!=="mirror"&&i!==0&&s!=="inertia"}}const CF=H0(()=>window.ScrollTimeline!==void 0);class EF{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,n){return Promise.all(this.animations).then(t).catch(n)}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(a=>CF()&&a.attachTimeline?a.attachTimeline(t):n(a));return()=>{r.forEach((a,o)=>{a&&a(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function jF({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:o,repeatType:i,repeatDelay:s,from:c,elapsed:l,...u}){return!!Object.keys(u).length}const q0=(e,t,n,r={},a,o)=>i=>{const s=k0(r,e)||{},c=s.delay||r.delay||0;let{elapsed:l=0}=r;l=l-xa(c);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...s,delay:-l,onUpdate:f=>{t.set(f),s.onUpdate&&s.onUpdate(f)},onComplete:()=>{i(),s.onComplete&&s.onComplete()},name:e,motionValue:t,element:o?void 0:a};jF(s)||(u={...u,...t3(e,u)}),u.duration&&(u.duration=xa(u.duration)),u.repeatDelay&&(u.repeatDelay=xa(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(d=!0)),d&&!o&&t.get()!==void 0){const f=Vh(u.keyframes,s);if(f!==void 0)return dt.update(()=>{u.onUpdate(f),u.onComplete()}),new EF([])}return!o&&pw.supports(u)?new pw(u):new W0(u)},DF=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),kF=e=>Vv(e)?e[e.length-1]||0:e;function G0(e,t){e.indexOf(t)===-1&&e.push(t)}function K0(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Y0{constructor(){this.subscriptions=[]}add(t){return G0(this.subscriptions,t),()=>K0(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let o=0;o<a;o++){const i=this.subscriptions[o];i&&i(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const mw=30,NF=e=>!isNaN(parseFloat(e));class MF{constructor(t,n={}){this.version="11.13.5",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,a=!0)=>{const o=qr.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=qr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=NF(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Y0);const r=this.events[t].add(n);return t==="change"?()=>{r(),dt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=qr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>mw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,mw);return zO(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function El(e,t){return new MF(e,t)}function RF(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,El(n))}function $F(e,t){const n=Uh(e,t);let{transitionEnd:r={},transition:a={},...o}=n||{};o={...o,...r};for(const i in o){const s=kF(o[i]);RF(e,i,s)}}const X0=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),IF="framerAppearId",QO="data-"+X0(IF);function eC(e){return e.props[QO]}const gn=e=>!!(e&&e.getVelocity);function LF(e){return!!(gn(e)&&e.add)}function Jv(e,t){const n=e.getValue("willChange");if(LF(n))return n.add(t)}function BF({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function tC(e,t,{delay:n=0,transitionOverride:r,type:a}={}){var o;let{transition:i=e.getDefaultTransition(),transitionEnd:s,...c}=t;r&&(i=r);const l=[],u=a&&e.animationState&&e.animationState.getState()[a];for(const d in c){const f=e.getValue(d,(o=e.latestValues[d])!==null&&o!==void 0?o:null),h=c[d];if(h===void 0||u&&BF(u,d))continue;const p={delay:n,...k0(i||{},d)};let m=!1;if(window.MotionHandoffAnimation){const b=eC(e);if(b){const x=window.MotionHandoffAnimation(b,d,dt);x!==null&&(p.startTime=x,m=!0)}}Jv(e,d),f.start(q0(d,f,h,e.shouldReduceMotion&&Ai.has(d)?{type:!1}:p,e,m));const v=f.animation;v&&l.push(v)}return s&&Promise.all(l).then(()=>{dt.update(()=>{s&&$F(e,s)})}),l}function Qv(e,t,n={}){var r;const a=Uh(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(o=n.transitionOverride);const i=a?()=>Promise.all(tC(e,a,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=o;return FF(e,t,u+l,d,f,n)}:()=>Promise.resolve(),{when:c}=o;if(c){const[l,u]=c==="beforeChildren"?[i,s]:[s,i];return l().then(()=>u())}else return Promise.all([i(),s(n.delay)])}function FF(e,t,n=0,r=0,a=1,o){const i=[],s=(e.variantChildren.size-1)*r,c=a===1?(l=0)=>l*r:(l=0)=>s-l*r;return Array.from(e.variantChildren).sort(UF).forEach((l,u)=>{l.notify("AnimationStart",t),i.push(Qv(l,t,{...o,delay:n+c(u)}).then(()=>l.notify("AnimationComplete",t)))}),Promise.all(i)}function UF(e,t){return e.sortNodePosition(t)}function VF(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(o=>Qv(e,o,n));r=Promise.all(a)}else if(typeof t=="string")r=Qv(e,t,n);else{const a=typeof t=="function"?Uh(e,t,n.custom):t;r=Promise.all(tC(e,a,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const zF=D0.length;function nC(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?nC(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<zF;n++){const r=D0[n],a=e.props[r];(Pl(a)||a===!1)&&(t[r]=a)}return t}const WF=[...j0].reverse(),HF=j0.length;function qF(e){return t=>Promise.all(t.map(({animation:n,options:r})=>VF(e,n,r)))}function GF(e){let t=qF(e),n=vw(),r=!0;const a=c=>(l,u)=>{var d;const f=Uh(e,u,c==="exit"?(d=e.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(f){const{transition:h,transitionEnd:p,...m}=f;l={...l,...m,...p}}return l};function o(c){t=c(e)}function i(c){const{props:l}=e,u=nC(e.parent)||{},d=[],f=new Set;let h={},p=1/0;for(let v=0;v<HF;v++){const b=WF[v],x=n[b],S=l[b]!==void 0?l[b]:u[b],A=Pl(S),y=b===c?x.isActive:null;y===!1&&(p=v);let _=S===u[b]&&S!==l[b]&&A;if(_&&r&&e.manuallyAnimateOnMount&&(_=!1),x.protectedKeys={...h},!x.isActive&&y===null||!S&&!x.prevProp||Fh(S)||typeof S=="boolean")continue;const T=KF(x.prevProp,S);let P=T||b===c&&x.isActive&&!_&&A||v>p&&A,O=!1;const j=Array.isArray(S)?S:[S];let E=j.reduce(a(b),{});y===!1&&(E={});const{prevResolvedValues:C={}}=x,I={...C,...E},R=V=>{P=!0,f.has(V)&&(O=!0,f.delete(V)),x.needsAnimating[V]=!0;const H=e.getValue(V);H&&(H.liveStyle=!1)};for(const V in I){const H=E[V],q=C[V];if(h.hasOwnProperty(V))continue;let X=!1;Vv(H)&&Vv(q)?X=!mO(H,q):X=H!==q,X?H!=null?R(V):f.add(V):H!==void 0&&f.has(V)?R(V):x.protectedKeys[V]=!0}x.prevProp=S,x.prevResolvedValues=E,x.isActive&&(h={...h,...E}),r&&e.blockInitialAnimation&&(P=!1),P&&(!(_&&T)||O)&&d.push(...j.map(V=>({animation:V,options:{type:b}})))}if(f.size){const v={};f.forEach(b=>{const x=e.getBaseTarget(b),S=e.getValue(b);S&&(S.liveStyle=!0),v[b]=x??null}),d.push({animation:v})}let m=!!d.length;return r&&(l.initial===!1||l.initial===l.animate)&&!e.manuallyAnimateOnMount&&(m=!1),r=!1,m?t(d):Promise.resolve()}function s(c,l){var u;if(n[c].isActive===l)return Promise.resolve();(u=e.variantChildren)===null||u===void 0||u.forEach(f=>{var h;return(h=f.animationState)===null||h===void 0?void 0:h.setActive(c,l)}),n[c].isActive=l;const d=i(c);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:i,setActive:s,setAnimateFunction:o,getState:()=>n,reset:()=>{n=vw(),r=!0}}}function KF(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!mO(t,e):!1}function Do(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vw(){return{animate:Do(!0),whileInView:Do(),whileHover:Do(),whileTap:Do(),whileDrag:Do(),whileFocus:Do(),exit:Do()}}class xo{constructor(t){this.isMounted=!1,this.node=t}update(){}}class YF extends xo{constructor(t){super(t),t.animationState||(t.animationState=GF(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Fh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let XF=0;class ZF extends xo{constructor(){super(...arguments),this.id=XF++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const JF={animation:{Feature:YF},exit:{Feature:ZF}};function QF(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let a=document;const o=(r=void 0)!==null&&r!==void 0?r:a.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const hr={x:!1,y:!1};function rC(){return hr.x||hr.y}function gw(e){return t=>{t.pointerType==="touch"||rC()||e(t)}}function e7(e,t,n={}){const r=new AbortController,a={passive:!0,...n,signal:r.signal},o=gw(i=>{const{target:s}=i,c=t(i);if(!c||!s)return;const l=gw(u=>{c(u),s.removeEventListener("pointerleave",l)});s.addEventListener("pointerleave",l,a)});return QF(e).forEach(i=>{i.addEventListener("pointerenter",o,a)}),()=>r.abort()}function t7(e){return e==="x"||e==="y"?hr[e]?null:(hr[e]=!0,()=>{hr[e]=!1}):hr.x||hr.y?null:(hr.x=hr.y=!0,()=>{hr.x=hr.y=!1})}const aC=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Vu(e){return{point:{x:e.pageX,y:e.pageY}}}const n7=e=>t=>aC(t)&&e(t,Vu(t));function ga(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function io(e,t,n,r){return ga(e,t,n7(n),r)}const yw=(e,t)=>Math.abs(e-t);function r7(e,t){const n=yw(e.x,t.x),r=yw(e.y,t.y);return Math.sqrt(n**2+r**2)}class oC{constructor(t,n,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Am(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,h=r7(d.offset,{x:0,y:0})>=3;if(!f&&!h)return;const{point:p}=d,{timestamp:m}=cn;this.history.push({...p,timestamp:m});const{onStart:v,onMove:b}=this.handlers;f||(v&&v(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=_m(f,this.transformPagePoint),dt.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:h,onSessionEnd:p,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Am(d.type==="pointercancel"?this.lastMoveEventInfo:_m(f,this.transformPagePoint),this.history);this.startEvent&&h&&h(d,v),p&&p(d,v)},!aC(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=a||window;const i=Vu(t),s=_m(i,this.transformPagePoint),{point:c}=s,{timestamp:l}=cn;this.history=[{...c,timestamp:l}];const{onSessionStart:u}=n;u&&u(t,Am(s,this.history)),this.removeListeners=oo(io(this.contextWindow,"pointermove",this.handlePointerMove),io(this.contextWindow,"pointerup",this.handlePointerUp),io(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),uo(this.updatePoint)}}function _m(e,t){return t?{point:t(e.point)}:e}function bw(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Am({point:e},t){return{point:e,delta:bw(e,iC(t)),offset:bw(e,a7(t)),velocity:o7(t,.1)}}function a7(e){return e[0]}function iC(e){return e[e.length-1]}function o7(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=iC(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>xa(t)));)n--;if(!r)return{x:0,y:0};const o=wa(a.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const i={x:(a.x-r.x)/o,y:(a.y-r.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function Gi(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const sC=1e-4,i7=1-sC,s7=1+sC,cC=.01,c7=0-cC,l7=0+cC;function Kn(e){return e.max-e.min}function u7(e,t,n){return Math.abs(e-t)<=n}function xw(e,t,n,r=.5){e.origin=r,e.originPoint=Et(t.min,t.max,e.origin),e.scale=Kn(n)/Kn(t),e.translate=Et(n.min,n.max,e.origin)-e.originPoint,(e.scale>=i7&&e.scale<=s7||isNaN(e.scale))&&(e.scale=1),(e.translate>=c7&&e.translate<=l7||isNaN(e.translate))&&(e.translate=0)}function fl(e,t,n,r){xw(e.x,t.x,n.x,r?r.originX:void 0),xw(e.y,t.y,n.y,r?r.originY:void 0)}function ww(e,t,n){e.min=n.min+t.min,e.max=e.min+Kn(t)}function d7(e,t,n){ww(e.x,t.x,n.x),ww(e.y,t.y,n.y)}function Sw(e,t,n){e.min=t.min-n.min,e.max=e.min+Kn(t)}function hl(e,t,n){Sw(e.x,t.x,n.x),Sw(e.y,t.y,n.y)}function f7(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Et(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Et(n,e,r.max):Math.min(e,n)),e}function _w(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function h7(e,{top:t,left:n,bottom:r,right:a}){return{x:_w(e.x,n,a),y:_w(e.y,t,r)}}function Aw(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function p7(e,t){return{x:Aw(e.x,t.x),y:Aw(e.y,t.y)}}function m7(e,t){let n=.5;const r=Kn(e),a=Kn(t);return a>r?n=Os(t.min,t.max-r,e.min):r>a&&(n=Os(e.min,e.max-a,t.min)),Ta(0,1,n)}function v7(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const eg=.35;function g7(e=eg){return e===!1?e=0:e===!0&&(e=eg),{x:Tw(e,"left","right"),y:Tw(e,"top","bottom")}}function Tw(e,t,n){return{min:Pw(e,t),max:Pw(e,n)}}function Pw(e,t){return typeof e=="number"?e:e[t]||0}const Ow=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ki=()=>({x:Ow(),y:Ow()}),Cw=()=>({min:0,max:0}),Lt=()=>({x:Cw(),y:Cw()});function Qn(e){return[e("x"),e("y")]}function lC({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function y7({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function b7(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Tm(e){return e===void 0||e===1}function tg({scale:e,scaleX:t,scaleY:n}){return!Tm(e)||!Tm(t)||!Tm(n)}function Mo(e){return tg(e)||uC(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function uC(e){return Ew(e.x)||Ew(e.y)}function Ew(e){return e&&e!=="0%"}function pf(e,t,n){const r=e-n,a=t*r;return n+a}function jw(e,t,n,r,a){return a!==void 0&&(e=pf(e,a,r)),pf(e,n,r)+t}function ng(e,t=0,n=1,r,a){e.min=jw(e.min,t,n,r,a),e.max=jw(e.max,t,n,r,a)}function dC(e,{x:t,y:n}){ng(e.x,t.translate,t.scale,t.originPoint),ng(e.y,n.translate,n.scale,n.originPoint)}const Dw=.999999999999,kw=1.0000000000001;function x7(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let o,i;for(let s=0;s<a;s++){o=n[s],i=o.projectionDelta;const{visualElement:c}=o.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Xi(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,dC(e,i)),r&&Mo(o.latestValues)&&Xi(e,o.latestValues))}t.x<kw&&t.x>Dw&&(t.x=1),t.y<kw&&t.y>Dw&&(t.y=1)}function Yi(e,t){e.min=e.min+t,e.max=e.max+t}function Nw(e,t,n,r,a=.5){const o=Et(e.min,e.max,a);ng(e,t,n,o,r)}function Xi(e,t){Nw(e.x,t.x,t.scaleX,t.scale,t.originX),Nw(e.y,t.y,t.scaleY,t.scale,t.originY)}function fC(e,t){return lC(b7(e.getBoundingClientRect(),t))}function w7(e,t,n){const r=fC(e,n),{scroll:a}=t;return a&&(Yi(r.x,a.offset.x),Yi(r.y,a.offset.y)),r}const hC=({current:e})=>e?e.ownerDocument.defaultView:null,S7=new WeakMap;class _7{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Lt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Vu(u).point)},o=(u,d)=>{const{drag:f,dragPropagation:h,onDragStart:p}=this.getProps();if(f&&!h&&(this.openDragLock&&this.openDragLock(),this.openDragLock=t7(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qn(v=>{let b=this.getAxisMotionValue(v).get()||0;if(Hr.test(b)){const{projection:x}=this.visualElement;if(x&&x.layout){const S=x.layout.layoutBox[v];S&&(b=Kn(S)*(parseFloat(b)/100))}}this.originPoint[v]=b}),p&&dt.postRender(()=>p(u,d)),Jv(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},i=(u,d)=>{const{dragPropagation:f,dragDirectionLock:h,onDirectionLock:p,onDrag:m}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:v}=d;if(h&&this.currentDirection===null){this.currentDirection=A7(v),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",d.point,v),this.updateAxis("y",d.point,v),this.visualElement.render(),m&&m(u,d)},s=(u,d)=>this.stop(u,d),c=()=>Qn(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:l}=this.getProps();this.panSession=new oC(t,{onSessionStart:a,onStart:o,onMove:i,onSessionEnd:s,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:l,contextWindow:hC(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&dt.postRender(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!yd(t,a,this.currentDirection))return;const o=this.getAxisMotionValue(t);let i=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(i=f7(i,this.constraints[t],this.elastic[t])),o.set(i)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;n&&Gi(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=h7(a.layoutBox,n):this.constraints=!1,this.elastic=g7(r),o!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Qn(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=v7(a.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Gi(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=w7(r,a.root,this.visualElement.getTransformPagePoint());let i=p7(a.layout.layoutBox,o);if(n){const s=n(y7(i));this.hasMutatedConstraints=!!s,s&&(i=lC(s))}return i}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:s}=this.getProps(),c=this.constraints||{},l=Qn(u=>{if(!yd(u,n,this.currentDirection))return;let d=c&&c[u]||{};i&&(d={min:0,max:0});const f=a?200:1e6,h=a?40:1e7,p={type:"inertia",velocity:r?t[u]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...o,...d};return this.startAxisValueAnimation(u,p)});return Promise.all(l).then(s)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Jv(this.visualElement,t),r.start(q0(t,r,0,n,this.visualElement,!1))}stopAnimation(){Qn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Qn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Qn(n=>{const{drag:r}=this.getProps();if(!yd(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(n);if(a&&a.layout){const{min:i,max:s}=a.layout.layoutBox[n];o.set(t[n]-Et(i,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Gi(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Qn(i=>{const s=this.getAxisMotionValue(i);if(s&&this.constraints!==!1){const c=s.get();a[i]=m7({min:c,max:c},this.constraints[i])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Qn(i=>{if(!yd(i,t,null))return;const s=this.getAxisMotionValue(i),{min:c,max:l}=this.constraints[i];s.set(Et(c,l,a[i]))})}addListeners(){if(!this.visualElement.current)return;S7.set(this.visualElement,this);const t=this.visualElement.current,n=io(t,"pointerdown",c=>{const{drag:l,dragListener:u=!0}=this.getProps();l&&u&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Gi(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),dt.read(r);const i=ga(window,"resize",()=>this.scalePositionWithinConstraints()),s=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:l})=>{this.isDragging&&l&&(Qn(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=c[u].translate,d.set(d.get()+c[u].translate))}),this.visualElement.render())});return()=>{i(),n(),o(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:i=eg,dragMomentum:s=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:o,dragElastic:i,dragMomentum:s}}}function yd(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function A7(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class T7 extends xo{constructor(t){super(t),this.removeGroupControls=yn,this.removeListeners=yn,this.controls=new _7(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||yn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Mw=e=>(t,n)=>{e&&dt.postRender(()=>e(t,n))};class P7 extends xo{constructor(){super(...arguments),this.removePointerDownListener=yn}onPointerDown(t){this.session=new oC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:hC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:Mw(t),onStart:Mw(n),onMove:r,onEnd:(o,i)=>{delete this.session,a&&dt.postRender(()=>a(o,i))}}}mount(){this.removePointerDownListener=io(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const zh=w.createContext(null);function O7(){const e=w.useContext(zh);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,a=w.useId();w.useEffect(()=>r(a),[]);const o=w.useCallback(()=>n&&n(a),[a,n]);return!t&&n?[!1,o]:[!0]}const Z0=w.createContext({}),pC=w.createContext({}),Zd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Rw(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Dc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ee.test(e))e=parseFloat(e);else return e;const n=Rw(e,t.target.x),r=Rw(e,t.target.y);return`${n}% ${r}%`}},C7={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=fo.parse(e);if(a.length>5)return r;const o=fo.createTransformer(e),i=typeof a[0]!="number"?1:0,s=n.x.scale*t.x,c=n.y.scale*t.y;a[0+i]/=s,a[1+i]/=c;const l=Et(s,c,.5);return typeof a[2+i]=="number"&&(a[2+i]/=l),typeof a[3+i]=="number"&&(a[3+i]/=l),o(a)}},mf={};function E7(e){Object.assign(mf,e)}const{schedule:J0,cancel:$be}=vO(queueMicrotask,!1);class j7 extends w.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:o}=t;E7(D7),o&&(n.group&&n.group.add(o),r&&r.register&&a&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Zd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:o}=this.props,i=r.projection;return i&&(i.isPresent=o,a||t.layoutDependency!==n||n===void 0?i.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?i.promote():i.relegate()||dt.postRender(()=>{const s=i.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),J0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function mC(e){const[t,n]=O7(),r=w.useContext(Z0);return g.jsx(j7,{...e,layoutGroup:r,switchLayoutGroup:w.useContext(pC),isPresent:t,safeToRemove:n})}const D7={borderRadius:{...Dc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Dc,borderTopRightRadius:Dc,borderBottomLeftRadius:Dc,borderBottomRightRadius:Dc,boxShadow:C7},vC=["TopLeft","TopRight","BottomLeft","BottomRight"],k7=vC.length,$w=e=>typeof e=="string"?parseFloat(e):e,Iw=e=>typeof e=="number"||Ee.test(e);function N7(e,t,n,r,a,o){a?(e.opacity=Et(0,n.opacity!==void 0?n.opacity:1,M7(r)),e.opacityExit=Et(t.opacity!==void 0?t.opacity:1,0,R7(r))):o&&(e.opacity=Et(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let i=0;i<k7;i++){const s=`border${vC[i]}Radius`;let c=Lw(t,s),l=Lw(n,s);if(c===void 0&&l===void 0)continue;c||(c=0),l||(l=0),c===0||l===0||Iw(c)===Iw(l)?(e[s]=Math.max(Et($w(c),$w(l),r),0),(Hr.test(l)||Hr.test(c))&&(e[s]+="%")):e[s]=l}(t.rotate||n.rotate)&&(e.rotate=Et(t.rotate||0,n.rotate||0,r))}function Lw(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const M7=gC(0,.5,_O),R7=gC(.5,.95,yn);function gC(e,t,n){return r=>r<e?0:r>t?1:n(Os(e,t,r))}function Bw(e,t){e.min=t.min,e.max=t.max}function Yn(e,t){Bw(e.x,t.x),Bw(e.y,t.y)}function Fw(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Uw(e,t,n,r,a){return e-=t,e=pf(e,1/n,r),a!==void 0&&(e=pf(e,1/a,r)),e}function $7(e,t=0,n=1,r=.5,a,o=e,i=e){if(Hr.test(t)&&(t=parseFloat(t),t=Et(i.min,i.max,t/100)-i.min),typeof t!="number")return;let s=Et(o.min,o.max,r);e===o&&(s-=t),e.min=Uw(e.min,t,n,s,a),e.max=Uw(e.max,t,n,s,a)}function Vw(e,t,[n,r,a],o,i){$7(e,t[n],t[r],t[a],t.scale,o,i)}const I7=["x","scaleX","originX"],L7=["y","scaleY","originY"];function zw(e,t,n,r){Vw(e.x,t,I7,n?n.x:void 0,r?r.x:void 0),Vw(e.y,t,L7,n?n.y:void 0,r?r.y:void 0)}function Ww(e){return e.translate===0&&e.scale===1}function yC(e){return Ww(e.x)&&Ww(e.y)}function Hw(e,t){return e.min===t.min&&e.max===t.max}function B7(e,t){return Hw(e.x,t.x)&&Hw(e.y,t.y)}function qw(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function bC(e,t){return qw(e.x,t.x)&&qw(e.y,t.y)}function Gw(e){return Kn(e.x)/Kn(e.y)}function Kw(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class F7{constructor(){this.members=[]}add(t){G0(this.members,t),t.scheduleRender()}remove(t){if(K0(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function U7(e,t,n){let r="";const a=e.x.translate/t.x,o=e.y.translate/t.y,i=(n==null?void 0:n.z)||0;if((a||o||i)&&(r=`translate3d(${a}px, ${o}px, ${i}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:l,rotate:u,rotateX:d,rotateY:f,skewX:h,skewY:p}=n;l&&(r=`perspective(${l}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),h&&(r+=`skewX(${h}deg) `),p&&(r+=`skewY(${p}deg) `)}const s=e.x.scale*t.x,c=e.y.scale*t.y;return(s!==1||c!==1)&&(r+=`scale(${s}, ${c})`),r||"none"}const V7=(e,t)=>e.depth-t.depth;class z7{constructor(){this.children=[],this.isDirty=!1}add(t){G0(this.children,t),this.isDirty=!0}remove(t){K0(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(V7),this.isDirty=!1,this.children.forEach(t)}}function Jd(e){const t=gn(e)?e.get():e;return DF(t)?t.toValue():t}function W7(e,t){const n=qr.now(),r=({timestamp:a})=>{const o=a-n;o>=t&&(uo(r),e(o-t))};return dt.read(r,!0),()=>uo(r)}function H7(e){return e instanceof SVGElement&&e.tagName!=="svg"}function q7(e,t,n){const r=gn(e)?e:El(e);return r.start(q0("",r,t,n)),r.animation}const Ro={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Jc=typeof window<"u"&&window.MotionDebug!==void 0,Pm=["","X","Y","Z"],G7={visibility:"hidden"},Yw=1e3;let K7=0;function Om(e,t,n,r){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function xC(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=eC(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",dt,!(a||o))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&xC(r)}function wC({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(i={},s=t==null?void 0:t()){this.id=K7++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Jc&&(Ro.totalNodes=Ro.resolvedTargetDeltas=Ro.recalculatedProjection=0),this.nodes.forEach(Z7),this.nodes.forEach(nU),this.nodes.forEach(rU),this.nodes.forEach(J7),Jc&&window.MotionDebug.record(Ro)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new z7)}addEventListener(i,s){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new Y0),this.eventHandlers.get(i).add(s)}notifyListeners(i,...s){const c=this.eventHandlers.get(i);c&&c.notify(...s)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,s=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=H7(i),this.instance=i;const{layoutId:c,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),s&&(l||c)&&(this.isLayoutDirty=!0),e){let d;const f=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=W7(f,250),Zd.hasAnimatedSinceResize&&(Zd.hasAnimatedSinceResize=!1,this.nodes.forEach(Zw))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||u.getDefaultTransition()||cU,{onLayoutAnimationStart:v,onLayoutAnimationComplete:b}=u.getProps(),x=!this.targetLayout||!bC(this.targetLayout,p)||h,S=!f&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||f&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,S);const A={...k0(m,"layout"),onPlay:v,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else f||Zw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,uo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(aU),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&xC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:s,layout:c}=this.options;if(s===void 0&&!c)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Xw);return}this.isUpdating||this.nodes.forEach(eU),this.isUpdating=!1,this.nodes.forEach(tU),this.nodes.forEach(Y7),this.nodes.forEach(X7),this.clearAllSnapshots();const s=qr.now();cn.delta=Ta(0,1e3/60,s-cn.timestamp),cn.timestamp=s,cn.isProcessing=!0,ym.update.process(cn),ym.preRender.process(cn),ym.render.process(cn),cn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,J0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Q7),this.sharedNodes.forEach(oU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,dt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){dt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Lt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:s}=this.options;s&&s.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let s=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(s=!1),s){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,s=this.projectionDelta&&!yC(this.projectionDelta),c=this.getTransformTemplate(),l=c?c(this.latestValues,""):void 0,u=l!==this.prevTransformTemplateValue;i&&(s||Mo(this.latestValues)||u)&&(a(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const s=this.measurePageBox();let c=this.removeElementScroll(s);return i&&(c=this.removeTransform(c)),lU(c),{animationId:this.root.animationId,measuredBox:s,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var i;const{visualElement:s}=this.options;if(!s)return Lt();const c=s.measureViewportBox();if(!(((i=this.scroll)===null||i===void 0?void 0:i.wasRoot)||this.path.some(uU))){const{scroll:u}=this.root;u&&(Yi(c.x,u.offset.x),Yi(c.y,u.offset.y))}return c}removeElementScroll(i){var s;const c=Lt();if(Yn(c,i),!((s=this.scroll)===null||s===void 0)&&s.wasRoot)return c;for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:f}=u;u!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&Yn(c,i),Yi(c.x,d.offset.x),Yi(c.y,d.offset.y))}return c}applyTransform(i,s=!1){const c=Lt();Yn(c,i);for(let l=0;l<this.path.length;l++){const u=this.path[l];!s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Xi(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Mo(u.latestValues)&&Xi(c,u.latestValues)}return Mo(this.latestValues)&&Xi(c,this.latestValues),c}removeTransform(i){const s=Lt();Yn(s,i);for(let c=0;c<this.path.length;c++){const l=this.path[c];if(!l.instance||!Mo(l.latestValues))continue;tg(l.latestValues)&&l.updateSnapshot();const u=Lt(),d=l.measurePageBox();Yn(u,d),zw(s,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,u)}return Mo(this.latestValues)&&zw(s,this.latestValues),s}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==cn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var s;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==c;if(!(i||l&&this.isSharedProjectionDirty||this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=cn.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Lt(),this.relativeTargetOrigin=Lt(),hl(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),Yn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Lt(),this.targetWithTransforms=Lt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),d7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Yn(this.target,this.layout.layoutBox),dC(this.target,this.targetDelta)):Yn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Lt(),this.relativeTargetOrigin=Lt(),hl(this.relativeTargetOrigin,this.target,h.target),Yn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Jc&&Ro.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||tg(this.parent.latestValues)||uC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const s=this.getLead(),c=!!this.resumingFrom||this!==s;let l=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(l=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===cn.timestamp&&(l=!1),l)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Yn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;x7(this.layoutCorrected,this.treeScale,this.path,c),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=Lt());const{target:p}=s;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Fw(this.prevProjectionDelta.x,this.projectionDelta.x),Fw(this.prevProjectionDelta.y,this.projectionDelta.y)),fl(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!Kw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Kw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Jc&&Ro.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var s;if((s=this.options.visualElement)===null||s===void 0||s.scheduleRender(),i){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ki(),this.projectionDelta=Ki(),this.projectionDeltaWithTransform=Ki()}setAnimationOrigin(i,s=!1){const c=this.snapshot,l=c?c.latestValues:{},u={...this.latestValues},d=Ki();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!s;const f=Lt(),h=c?c.source:void 0,p=this.layout?this.layout.source:void 0,m=h!==p,v=this.getStack(),b=!v||v.members.length<=1,x=!!(m&&!b&&this.options.crossfade===!0&&!this.path.some(sU));this.animationProgress=0;let S;this.mixTargetDelta=A=>{const y=A/1e3;Jw(d.x,i.x,y),Jw(d.y,i.y,y),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(hl(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),iU(this.relativeTarget,this.relativeTargetOrigin,f,y),S&&B7(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Lt()),Yn(S,this.relativeTarget)),m&&(this.animationValues=u,N7(u,l,this.latestValues,y,x,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=y},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(uo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=dt.update(()=>{Zd.hasAnimatedSinceResize=!0,this.currentAnimation=q7(0,Yw,{...i,onUpdate:s=>{this.mixTargetDelta(s),i.onUpdate&&i.onUpdate(s)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Yw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:s,target:c,layout:l,latestValues:u}=i;if(!(!s||!c||!l)){if(this!==i&&this.layout&&l&&SC(this.options.animationType,this.layout.layoutBox,l.layoutBox)){c=this.target||Lt();const d=Kn(this.layout.layoutBox.x);c.x.min=i.target.x.min,c.x.max=c.x.min+d;const f=Kn(this.layout.layoutBox.y);c.y.min=i.target.y.min,c.y.max=c.y.min+f}Yn(s,c),Xi(s,u),fl(this.projectionDeltaWithTransform,this.layoutCorrected,s,u)}}registerSharedNode(i,s){this.sharedNodes.has(i)||this.sharedNodes.set(i,new F7),this.sharedNodes.get(i).add(s);const l=s.options.initialPromotionConfig;s.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(s):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:s}=this.options;return s?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:s}=this.options;return s?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:s,preserveFollowOpacity:c}={}){const l=this.getStack();l&&l.promote(this,c),i&&(this.projectionDelta=void 0,this.needsReset=!0),s&&this.setOptions({transition:s})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let s=!1;const{latestValues:c}=i;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(s=!0),!s)return;const l={};c.z&&Om("z",i,l,this.animationValues);for(let u=0;u<Pm.length;u++)Om(`rotate${Pm[u]}`,i,l,this.animationValues),Om(`skew${Pm[u]}`,i,l,this.animationValues);i.render();for(const u in l)i.setStaticValue(u,l[u]),this.animationValues&&(this.animationValues[u]=l[u]);i.scheduleRender()}getProjectionStyles(i){var s,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return G7;const l={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=Jd(i==null?void 0:i.pointerEvents)||"",l.transform=u?u(this.latestValues,""):"none",l;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=Jd(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!Mo(this.latestValues)&&(m.transform=u?u({},""):"none",this.hasProjected=!1),m}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),l.transform=U7(this.projectionDeltaWithTransform,this.treeScale,f),u&&(l.transform=u(f,l.transform));const{x:h,y:p}=this.projectionDelta;l.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,d.animationValues?l.opacity=d===this?(c=(s=f.opacity)!==null&&s!==void 0?s:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:l.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const m in mf){if(f[m]===void 0)continue;const{correct:v,applyTo:b}=mf[m],x=l.transform==="none"?f[m]:v(f[m],d);if(b){const S=b.length;for(let A=0;A<S;A++)l[b[A]]=x}else l[m]=x}return this.options.layoutId&&(l.pointerEvents=d===this?Jd(i==null?void 0:i.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var s;return(s=i.currentAnimation)===null||s===void 0?void 0:s.stop()}),this.root.nodes.forEach(Xw),this.root.sharedNodes.clear()}}}function Y7(e){e.updateLayout()}function X7(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:o}=e.options,i=n.source!==e.layout.source;o==="size"?Qn(d=>{const f=i?n.measuredBox[d]:n.layoutBox[d],h=Kn(f);f.min=r[d].min,f.max=f.min+h}):SC(o,n.layoutBox,r)&&Qn(d=>{const f=i?n.measuredBox[d]:n.layoutBox[d],h=Kn(r[d]);f.max=f.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+h)});const s=Ki();fl(s,r,n.layoutBox);const c=Ki();i?fl(c,e.applyTransform(a,!0),n.measuredBox):fl(c,r,n.layoutBox);const l=!yC(s);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:h}=d;if(f&&h){const p=Lt();hl(p,n.layoutBox,f.layoutBox);const m=Lt();hl(m,r,h.layoutBox),bC(p,m)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=p,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:s,hasLayoutChanged:l,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Z7(e){Jc&&Ro.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function J7(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Q7(e){e.clearSnapshot()}function Xw(e){e.clearMeasurements()}function eU(e){e.isLayoutDirty=!1}function tU(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Zw(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function nU(e){e.resolveTargetDelta()}function rU(e){e.calcProjection()}function aU(e){e.resetSkewAndRotation()}function oU(e){e.removeLeadSnapshot()}function Jw(e,t,n){e.translate=Et(t.translate,0,n),e.scale=Et(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Qw(e,t,n,r){e.min=Et(t.min,n.min,r),e.max=Et(t.max,n.max,r)}function iU(e,t,n,r){Qw(e.x,t.x,n.x,r),Qw(e.y,t.y,n.y,r)}function sU(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const cU={duration:.45,ease:[.4,0,.1,1]},eS=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),tS=eS("applewebkit/")&&!eS("chrome/")?Math.round:yn;function nS(e){e.min=tS(e.min),e.max=tS(e.max)}function lU(e){nS(e.x),nS(e.y)}function SC(e,t,n){return e==="position"||e==="preserve-aspect"&&!u7(Gw(t),Gw(n),.2)}function uU(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const dU=wC({attachResizeListener:(e,t)=>ga(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Cm={current:void 0},_C=wC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Cm.current){const e=new dU({});e.mount(window),e.setOptions({layoutScroll:!0}),Cm.current=e}return Cm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),fU={pan:{Feature:P7},drag:{Feature:T7,ProjectionNode:_C,MeasureLayout:mC}};function rS(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,o=r[a];o&&dt.postRender(()=>o(t,Vu(t)))}class hU extends xo{mount(){const{current:t}=this.node;t&&(this.unmount=e7(t,n=>(rS(this.node,n,"Start"),r=>rS(this.node,r,"End"))))}unmount(){}}class pU extends xo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=oo(ga(this.node.current,"focus",()=>this.onFocus()),ga(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const AC=(e,t)=>t?e===t?!0:AC(e,t.parentElement):!1;function Em(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Vu(n))}class mU extends xo{constructor(){super(...arguments),this.removeStartListeners=yn,this.removeEndListeners=yn,this.removeAccessibleListeners=yn,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=io(window,"pointerup",(s,c)=>{if(!this.checkPressEnd())return;const{onTap:l,onTapCancel:u,globalTapTarget:d}=this.node.getProps(),f=!d&&!AC(this.node.current,s.target)?u:l;f&&dt.update(()=>f(s,c))},{passive:!(r.onTap||r.onPointerUp)}),i=io(window,"pointercancel",(s,c)=>this.cancelPress(s,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=oo(o,i),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=o=>{if(o.key!=="Enter"||this.isPressing)return;const i=s=>{s.key!=="Enter"||!this.checkPressEnd()||Em("up",(c,l)=>{const{onTap:u}=this.node.getProps();u&&dt.postRender(()=>u(c,l))})};this.removeEndListeners(),this.removeEndListeners=ga(this.node.current,"keyup",i),Em("down",(s,c)=>{this.startPress(s,c)})},n=ga(this.node.current,"keydown",t),r=()=>{this.isPressing&&Em("cancel",(o,i)=>this.cancelPress(o,i))},a=ga(this.node.current,"blur",r);this.removeAccessibleListeners=oo(n,a)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&dt.postRender(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!rC()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&dt.postRender(()=>r(t,n))}mount(){const t=this.node.getProps(),n=io(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=ga(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=oo(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const rg=new WeakMap,jm=new WeakMap,vU=e=>{const t=rg.get(e.target);t&&t(e)},gU=e=>{e.forEach(vU)};function yU({root:e,...t}){const n=e||document;jm.has(n)||jm.set(n,{});const r=jm.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(gU,{root:e,...t})),r[a]}function bU(e,t,n){const r=yU(t);return rg.set(e,n),r.observe(e),()=>{rg.delete(e),r.unobserve(e)}}const xU={some:0,all:1};class wU extends xo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:o}=t,i={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:xU[a]},s=c=>{const{isIntersecting:l}=c;if(this.isInView===l||(this.isInView=l,o&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),f=l?u:d;f&&f(c)};return bU(this.node.current,i,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(SU(t,n))&&this.startObserver()}unmount(){}}function SU({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const _U={inView:{Feature:wU},tap:{Feature:mU},focus:{Feature:pU},hover:{Feature:hU}},AU={layout:{ProjectionNode:_C,MeasureLayout:mC}},Q0=w.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Wh=w.createContext({}),eb=typeof window<"u",TC=eb?w.useLayoutEffect:w.useEffect,PC=w.createContext({strict:!1});function TU(e,t,n,r,a){var o,i;const{visualElement:s}=w.useContext(Wh),c=w.useContext(PC),l=w.useContext(zh),u=w.useContext(Q0).reducedMotion,d=w.useRef(null);r=r||c.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:s,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const f=d.current,h=w.useContext(pC);f&&!f.projection&&a&&(f.type==="html"||f.type==="svg")&&PU(d.current,n,a,h);const p=w.useRef(!1);w.useInsertionEffect(()=>{f&&p.current&&f.update(n,l)});const m=n[QO],v=w.useRef(!!m&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,m))&&((i=window.MotionHasOptimisedAnimation)===null||i===void 0?void 0:i.call(window,m)));return TC(()=>{f&&(p.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),J0.render(f.render),v.current&&f.animationState&&f.animationState.animateChanges())}),w.useEffect(()=>{f&&(!v.current&&f.animationState&&f.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)===null||b===void 0||b.call(window,m)}),v.current=!1))}),f}function PU(e,t,n,r){const{layoutId:a,layout:o,drag:i,dragConstraints:s,layoutScroll:c,layoutRoot:l}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:OC(e.parent)),e.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!i||s&&Gi(s),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:l})}function OC(e){if(e)return e.options.allowProjection!==!1?e.projection:OC(e.parent)}function OU(e,t,n){return w.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Gi(n)&&(n.current=r))},[t])}function Hh(e){return Fh(e.animate)||D0.some(t=>Pl(e[t]))}function CC(e){return!!(Hh(e)||e.variants)}function CU(e,t){if(Hh(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Pl(n)?n:void 0,animate:Pl(r)?r:void 0}}return e.inherit!==!1?t:{}}function EU(e){const{initial:t,animate:n}=CU(e,w.useContext(Wh));return w.useMemo(()=>({initial:t,animate:n}),[aS(t),aS(n)])}function aS(e){return Array.isArray(e)?e.join(" "):e}const oS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Cs={};for(const e in oS)Cs[e]={isEnabled:t=>oS[e].some(n=>!!t[n])};function jU(e){for(const t in e)Cs[t]={...Cs[t],...e[t]}}const DU=Symbol.for("motionComponentSymbol");function kU({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:a}){e&&jU(e);function o(s,c){let l;const u={...w.useContext(Q0),...s,layoutId:NU(s)},{isStatic:d}=u,f=EU(s),h=r(s,d);if(!d&&eb){MU();const p=RU(u);l=p.MeasureLayout,f.visualElement=TU(a,h,u,t,p.ProjectionNode)}return g.jsxs(Wh.Provider,{value:f,children:[l&&f.visualElement?g.jsx(l,{visualElement:f.visualElement,...u}):null,n(a,s,OU(h,f.visualElement,c),h,d,f.visualElement)]})}const i=w.forwardRef(o);return i[DU]=a,i}function NU({layoutId:e}){const t=w.useContext(Z0).id;return t&&e!==void 0?t+"-"+e:e}function MU(e,t){w.useContext(PC).strict}function RU(e){const{drag:t,layout:n}=Cs;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const $U=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tb(e){return typeof e!="string"||e.includes("-")?!1:!!($U.indexOf(e)>-1||/[A-Z]/u.test(e))}function EC(e,{style:t,vars:n},r,a){Object.assign(e.style,t,a&&a.getProjectionStyles(r));for(const o in n)e.style.setProperty(o,n[o])}const jC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function DC(e,t,n,r){EC(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(jC.has(a)?a:X0(a),t.attrs[a])}function kC(e,{layout:t,layoutId:n}){return Ai.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!mf[e]||e==="opacity")}function nb(e,t,n){var r;const{style:a}=e,o={};for(const i in a)(gn(a[i])||t.style&&gn(t.style[i])||kC(i,e)||((r=n==null?void 0:n.getValue(i))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[i]=a[i]);return o}function NC(e,t,n){const r=nb(e,t,n);for(const a in e)if(gn(e[a])||gn(t[a])){const o=Bu.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[o]=e[a]}return r}function rb(e){const t=w.useRef(null);return t.current===null&&(t.current=e()),t.current}function IU({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,a,o){const i={latestValues:LU(r,a,o,e),renderState:t()};return n&&(i.mount=s=>n(r,s,i)),i}const MC=e=>(t,n)=>{const r=w.useContext(Wh),a=w.useContext(zh),o=()=>IU(e,t,r,a);return n?o():rb(o)};function LU(e,t,n,r){const a={},o=r(e,{});for(const f in o)a[f]=Jd(o[f]);let{initial:i,animate:s}=e;const c=Hh(e),l=CC(e);t&&l&&!c&&e.inherit!==!1&&(i===void 0&&(i=t.initial),s===void 0&&(s=t.animate));let u=n?n.initial===!1:!1;u=u||i===!1;const d=u?s:i;if(d&&typeof d!="boolean"&&!Fh(d)){const f=Array.isArray(d)?d:[d];for(let h=0;h<f.length;h++){const p=E0(e,f[h]);if(p){const{transitionEnd:m,transition:v,...b}=p;for(const x in b){let S=b[x];if(Array.isArray(S)){const A=u?S.length-1:0;S=S[A]}S!==null&&(a[x]=S)}for(const x in m)a[x]=m[x]}}}return a}const ab=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),RC=()=>({...ab(),attrs:{}}),$C=(e,t)=>t&&typeof e=="number"?t.transform(e):e,BU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},FU=Bu.length;function UU(e,t,n){let r="",a=!0;for(let o=0;o<FU;o++){const i=Bu[o],s=e[i];if(s===void 0)continue;let c=!0;if(typeof s=="number"?c=s===(i.startsWith("scale")?1:0):c=parseFloat(s)===0,!c||n){const l=$C(s,B0[i]);if(!c){a=!1;const u=BU[i]||i;r+=`${u}(${l}) `}n&&(t[i]=l)}}return r=r.trim(),n?r=n(t,a?"":r):a&&(r="none"),r}function ob(e,t,n){const{style:r,vars:a,transformOrigin:o}=e;let i=!1,s=!1;for(const c in t){const l=t[c];if(Ai.has(c)){i=!0;continue}else if(CO(c)){a[c]=l;continue}else{const u=$C(l,B0[c]);c.startsWith("origin")?(s=!0,o[c]=u):r[c]=u}}if(t.transform||(i||n?r.transform=UU(t,e.transform,n):r.transform&&(r.transform="none")),s){const{originX:c="50%",originY:l="50%",originZ:u=0}=o;r.transformOrigin=`${c} ${l} ${u}`}}function iS(e,t,n){return typeof e=="string"?e:Ee.transform(t+n*e)}function VU(e,t,n){const r=iS(t,e.x,e.width),a=iS(n,e.y,e.height);return`${r} ${a}`}const zU={offset:"stroke-dashoffset",array:"stroke-dasharray"},WU={offset:"strokeDashoffset",array:"strokeDasharray"};function HU(e,t,n=1,r=0,a=!0){e.pathLength=1;const o=a?zU:WU;e[o.offset]=Ee.transform(-r);const i=Ee.transform(t),s=Ee.transform(n);e[o.array]=`${i} ${s}`}function ib(e,{attrX:t,attrY:n,attrScale:r,originX:a,originY:o,pathLength:i,pathSpacing:s=1,pathOffset:c=0,...l},u,d){if(ob(e,l,d),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h,dimensions:p}=e;f.transform&&(p&&(h.transform=f.transform),delete f.transform),p&&(a!==void 0||o!==void 0||h.transform)&&(h.transformOrigin=VU(p,a!==void 0?a:.5,o!==void 0?o:.5)),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),i!==void 0&&HU(f,i,s,c,!1)}const sb=e=>typeof e=="string"&&e.toLowerCase()==="svg",qU={useVisualState:MC({scrapeMotionValuesFromProps:NC,createRenderState:RC,onMount:(e,t,{renderState:n,latestValues:r})=>{dt.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),dt.render(()=>{ib(n,r,sb(t.tagName),e.transformTemplate),DC(t,n)})}})},GU={useVisualState:MC({scrapeMotionValuesFromProps:nb,createRenderState:ab})};function IC(e,t,n){for(const r in t)!gn(t[r])&&!kC(r,n)&&(e[r]=t[r])}function KU({transformTemplate:e},t){return w.useMemo(()=>{const n=ab();return ob(n,t,e),Object.assign({},n.vars,n.style)},[t])}function YU(e,t){const n=e.style||{},r={};return IC(r,n,e),Object.assign(r,KU(e,t)),r}function XU(e,t){const n={},r=YU(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const ZU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function vf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||ZU.has(e)}let LC=e=>!vf(e);function JU(e){e&&(LC=t=>t.startsWith("on")?!vf(t):e(t))}try{JU(require("@emotion/is-prop-valid").default)}catch{}function QU(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(LC(a)||n===!0&&vf(a)||!t&&!vf(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}function eV(e,t,n,r){const a=w.useMemo(()=>{const o=RC();return ib(o,t,sb(r),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};IC(o,e.style,e),a.style={...o,...a.style}}return a}function tV(e=!1){return(n,r,a,{latestValues:o},i)=>{const c=(tb(n)?eV:XU)(r,o,i,n),l=QU(r,typeof n=="string",e),u=n!==w.Fragment?{...l,...c,ref:a}:{},{children:d}=r,f=w.useMemo(()=>gn(d)?d.get():d,[d]);return w.createElement(n,{...u,children:f})}}function nV(e,t){return function(r,{forwardMotionProps:a}={forwardMotionProps:!1}){const i={...tb(r)?qU:GU,preloadedFeatures:e,useRender:tV(a),createVisualElement:t,Component:r};return kU(i)}}const ag={current:null},BC={current:!1};function rV(){if(BC.current=!0,!!eb)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ag.current=e.matches;e.addListener(t),t()}else ag.current=!1}function aV(e,t,n){for(const r in t){const a=t[r],o=n[r];if(gn(a))e.addValue(r,a);else if(gn(o))e.addValue(r,El(a,{owner:e}));else if(o!==a)if(e.hasValue(r)){const i=e.getValue(r);i.liveStyle===!0?i.jump(a):i.hasAnimated||i.set(a)}else{const i=e.getStaticValue(r);e.addValue(r,El(i!==void 0?i:a,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const sS=new WeakMap,oV=[...DO,pn,fo],iV=e=>oV.find(jO(e)),cS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class sV{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:o,visualState:i},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=$0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=qr.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,dt.render(this.render,!1,!0))};const{latestValues:c,renderState:l}=i;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=s,this.blockInitialAnimation=!!o,this.isControllingVariants=Hh(n),this.isVariantNode=CC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const h=d[f];c[f]!==void 0&&gn(h)&&h.set(c[f],!1)}}mount(t){this.current=t,sS.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),BC.current||rV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ag.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){sS.delete(this.current),this.projection&&this.projection.unmount(),uo(this.notifyUpdate),uo(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Ai.has(t),a=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&dt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),o(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Cs){const n=Cs[t];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[t]&&a&&r(this.props)&&(this.features[t]=new a(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Lt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<cS.length;r++){const a=cS[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,i=t[o];i&&(this.propEventSubscriptions[a]=this.on(a,i))}this.prevMotionValues=aV(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=El(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(PO(a)||TO(a))?a=parseFloat(a):!iV(a)&&fo.test(n)&&(a=BO(t,n)),this.setBaseTarget(t,gn(a)?a.get():a)),gn(a)?a.get():a}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let a;if(typeof r=="string"||typeof r=="object"){const i=E0(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);i&&(a=i[t])}if(r&&a!==void 0)return a;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!gn(o)?o:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Y0),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class FC extends sV{constructor(){super(...arguments),this.KeyframeResolver=FO}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;gn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function cV(e){return window.getComputedStyle(e)}class lV extends FC{constructor(){super(...arguments),this.type="html",this.renderInstance=EC}readValueFromInstance(t,n){if(Ai.has(n)){const r=F0(n);return r&&r.default||0}else{const r=cV(t),a=(CO(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return fC(t,n)}build(t,n,r){ob(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return nb(t,n,r)}}class uV extends FC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Lt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ai.has(n)){const r=F0(n);return r&&r.default||0}return n=jC.has(n)?n:X0(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return NC(t,n,r)}build(t,n,r){ib(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,a){DC(t,n,r,a)}mount(t){this.isSVGTag=sb(t.tagName),super.mount(t)}}const dV=(e,t)=>tb(e)?new uV(t):new lV(t,{allowProjection:e!==w.Fragment}),fV=nV({...JF,..._U,...fU,...AU},dV),Fe=XB(fV);class hV extends w.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function pV({children:e,isPresent:t}){const n=w.useId(),r=w.useRef(null),a=w.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=w.useContext(Q0);return w.useInsertionEffect(()=>{const{width:i,height:s,top:c,left:l}=a.current;if(t||!r.current||!i||!s)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return o&&(u.nonce=o),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${s}px !important;
            top: ${c}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),g.jsx(hV,{isPresent:t,childRef:r,sizeRef:a,children:w.cloneElement(e,{ref:r})})}const mV=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:o,mode:i})=>{const s=rb(vV),c=w.useId(),l=w.useCallback(d=>{s.set(d,!0);for(const f of s.values())if(!f)return;r&&r()},[s,r]),u=w.useMemo(()=>({id:c,initial:t,isPresent:n,custom:a,onExitComplete:l,register:d=>(s.set(d,!1),()=>s.delete(d))}),o?[Math.random(),l]:[n,l]);return w.useMemo(()=>{s.forEach((d,f)=>s.set(f,!1))},[n]),w.useEffect(()=>{!n&&!s.size&&r&&r()},[n]),i==="popLayout"&&(e=g.jsx(pV,{isPresent:n,children:e})),g.jsx(zh.Provider,{value:u,children:e})};function vV(){return new Map}const bd=e=>e.key||"";function lS(e){const t=[];return w.Children.forEach(e,n=>{w.isValidElement(n)&&t.push(n)}),t}const UC=({children:e,exitBeforeEnter:t,custom:n,initial:r=!0,onExitComplete:a,presenceAffectsLayout:o=!0,mode:i="sync"})=>{const s=w.useMemo(()=>lS(e),[e]),c=s.map(bd),l=w.useRef(!0),u=w.useRef(s),d=rb(()=>new Map),[f,h]=w.useState(s),[p,m]=w.useState(s);TC(()=>{l.current=!1,u.current=s;for(let x=0;x<p.length;x++){const S=bd(p[x]);c.includes(S)?d.delete(S):d.get(S)!==!0&&d.set(S,!1)}},[p,c.length,c.join("-")]);const v=[];if(s!==f){let x=[...s];for(let S=0;S<p.length;S++){const A=p[S],y=bd(A);c.includes(y)||(x.splice(S,0,A),v.push(A))}i==="wait"&&v.length&&(x=v),m(lS(x)),h(s);return}const{forceRender:b}=w.useContext(Z0);return g.jsx(g.Fragment,{children:p.map(x=>{const S=bd(x),A=s===p||c.includes(S),y=()=>{if(d.has(S))d.set(S,!0);else return;let _=!0;d.forEach(T=>{T||(_=!1)}),_&&(b==null||b(),m(u.current),a&&a())};return g.jsx(mV,{isPresent:A,initial:!l.current||r?void 0:!1,custom:A?void 0:n,presenceAffectsLayout:o,mode:i,onExitComplete:A?void 0:y,children:x},S)})})},gV=[{href:"#intro",label:"Inicio"},{href:"#about",label:"Nosotros"},{href:"#Servicios",label:"Servicios"},{href:"#call-to-action",label:"Llámanos"},{href:"#contact",label:"Contacto"}],yV=()=>g.jsx("nav",{"data-component-path":"src\\components\\landing\\Navigation.tsx","data-component-name":"nav","data-component-line":"14","data-component-file":"Navigation.tsx","data-component-content":"%7B%22className%22%3A%22hidden%20md%3Ablock%22%7D",className:"hidden md:block",children:g.jsx("ul",{"data-component-path":"src\\components\\landing\\Navigation.tsx","data-component-name":"ul","data-component-line":"15","data-component-file":"Navigation.tsx","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-8%22%7D",className:"flex items-center space-x-8",children:gV.map((e,t)=>g.jsx(Fe.li,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:t*.1},children:g.jsxs("a",{"data-component-path":"src\\components\\landing\\Navigation.tsx","data-component-name":"a","data-component-line":"23","data-component-file":"Navigation.tsx","data-component-content":"%7B%22className%22%3A%22relative%20text-gray-700%20dark%3Atext-gray-300%20hover%3Atext-primary%20dark%3Ahover%3Atext-primary%20transition-colors%20py-2%20px-1%22%7D",href:e.href,className:"relative text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-primary transition-colors py-2 px-1",children:[g.jsx("span",{"data-component-path":"src\\components\\landing\\Navigation.tsx","data-component-name":"span","data-component-line":"27","data-component-file":"Navigation.tsx","data-component-content":"%7B%22className%22%3A%22relative%20z-10%22%7D",className:"relative z-10",children:e.label}),g.jsx("span",{"data-component-path":"src\\components\\landing\\Navigation.tsx","data-component-name":"span","data-component-line":"28","data-component-file":"Navigation.tsx","data-component-content":"%7B%22className%22%3A%22absolute%20bottom-0%20left-0%20w-full%20h-0.5%20bg-primary%20transform%20scale-x-0%20transition-transform%20origin-left%20hover%3Ascale-x-100%22%7D",className:"absolute bottom-0 left-0 w-full h-0.5 bg-primary transform scale-x-0 transition-transform origin-left hover:scale-x-100"})]})},e.href))})});function VC(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=VC(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Xe(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=VC(e))&&(r&&(r+=" "),r+=t);return r}const uS=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,dS=Xe,zu=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return dS(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:o}=t,i=Object.keys(a).map(l=>{const u=n==null?void 0:n[l],d=o==null?void 0:o[l];if(u===null)return null;const f=uS(u)||uS(d);return a[l][f]}),s=n&&Object.entries(n).reduce((l,u)=>{let[d,f]=u;return f===void 0||(l[d]=f),l},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((l,u)=>{let{class:d,className:f,...h}=u;return Object.entries(h).every(p=>{let[m,v]=p;return Array.isArray(v)?v.includes({...o,...s}[m]):{...o,...s}[m]===v})?[...l,d,f]:l},[]);return dS(e,i,c,n==null?void 0:n.class,n==null?void 0:n.className)},cb="-",bV=e=>{const t=wV(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const s=i.split(cb);return s[0]===""&&s.length!==1&&s.shift(),zC(s,t)||xV(i)},getConflictingClassGroupIds:(i,s)=>{const c=n[i]||[];return s&&r[i]?[...c,...r[i]]:c}}},zC=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),a=r?zC(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const o=e.join(cb);return(i=t.validators.find(({validator:s})=>s(o)))==null?void 0:i.classGroupId},fS=/^\[(.+)\]$/,xV=e=>{if(fS.test(e)){const t=fS.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},wV=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return _V(Object.entries(e.classGroups),n).forEach(([o,i])=>{og(i,r,o,t)}),r},og=(e,t,n,r)=>{e.forEach(a=>{if(typeof a=="string"){const o=a===""?t:hS(t,a);o.classGroupId=n;return}if(typeof a=="function"){if(SV(a)){og(a(r),t,n,r);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([o,i])=>{og(i,hS(t,o),n,r)})})},hS=(e,t)=>{let n=e;return t.split(cb).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},SV=e=>e.isThemeGetter,_V=(e,t)=>t?e.map(([n,r])=>{const a=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,s])=>[t+i,s])):o);return[n,a]}):e,AV=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const a=(o,i)=>{n.set(o,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let i=n.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return a(o,i),i},set(o,i){n.has(o)?n.set(o,i):a(o,i)}}},WC="!",TV=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,a=t[0],o=t.length,i=s=>{const c=[];let l=0,u=0,d;for(let v=0;v<s.length;v++){let b=s[v];if(l===0){if(b===a&&(r||s.slice(v,v+o)===t)){c.push(s.slice(u,v)),u=v+o;continue}if(b==="/"){d=v;continue}}b==="["?l++:b==="]"&&l--}const f=c.length===0?s:s.substring(u),h=f.startsWith(WC),p=h?f.substring(1):f,m=d&&d>u?d-u:void 0;return{modifiers:c,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:m}};return n?s=>n({className:s,parseClassName:i}):i},PV=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},OV=e=>({cache:AV(e.cacheSize),parseClassName:TV(e),...bV(e)}),CV=/\s+/,EV=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a}=t,o=[],i=e.trim().split(CV);let s="";for(let c=i.length-1;c>=0;c-=1){const l=i[c],{modifiers:u,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:h}=n(l);let p=!!h,m=r(p?f.substring(0,h):f);if(!m){if(!p){s=l+(s.length>0?" "+s:s);continue}if(m=r(f),!m){s=l+(s.length>0?" "+s:s);continue}p=!1}const v=PV(u).join(":"),b=d?v+WC:v,x=b+m;if(o.includes(x))continue;o.push(x);const S=a(m,p);for(let A=0;A<S.length;++A){const y=S[A];o.push(b+y)}s=l+(s.length>0?" "+s:s)}return s};function jV(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=HC(t))&&(r&&(r+=" "),r+=n);return r}const HC=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=HC(e[r]))&&(n&&(n+=" "),n+=t);return n};function DV(e,...t){let n,r,a,o=i;function i(c){const l=t.reduce((u,d)=>d(u),e());return n=OV(l),r=n.cache.get,a=n.cache.set,o=s,s(c)}function s(c){const l=r(c);if(l)return l;const u=EV(c,n);return a(c,u),u}return function(){return o(jV.apply(null,arguments))}}const St=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},qC=/^\[(?:([a-z-]+):)?(.+)\]$/i,kV=/^\d+\/\d+$/,NV=new Set(["px","full","screen"]),MV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,RV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$V=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,IV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,LV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,la=e=>as(e)||NV.has(e)||kV.test(e),Ia=e=>oc(e,"length",qV),as=e=>!!e&&!Number.isNaN(Number(e)),Dm=e=>oc(e,"number",as),kc=e=>!!e&&Number.isInteger(Number(e)),BV=e=>e.endsWith("%")&&as(e.slice(0,-1)),Be=e=>qC.test(e),La=e=>MV.test(e),FV=new Set(["length","size","percentage"]),UV=e=>oc(e,FV,GC),VV=e=>oc(e,"position",GC),zV=new Set(["image","url"]),WV=e=>oc(e,zV,KV),HV=e=>oc(e,"",GV),Nc=()=>!0,oc=(e,t,n)=>{const r=qC.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},qV=e=>RV.test(e)&&!$V.test(e),GC=()=>!1,GV=e=>IV.test(e),KV=e=>LV.test(e),YV=()=>{const e=St("colors"),t=St("spacing"),n=St("blur"),r=St("brightness"),a=St("borderColor"),o=St("borderRadius"),i=St("borderSpacing"),s=St("borderWidth"),c=St("contrast"),l=St("grayscale"),u=St("hueRotate"),d=St("invert"),f=St("gap"),h=St("gradientColorStops"),p=St("gradientColorStopPositions"),m=St("inset"),v=St("margin"),b=St("opacity"),x=St("padding"),S=St("saturate"),A=St("scale"),y=St("sepia"),_=St("skew"),T=St("space"),P=St("translate"),O=()=>["auto","contain","none"],j=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto",Be,t],C=()=>[Be,t],I=()=>["",la,Ia],R=()=>["auto",as,Be],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],H=()=>["start","end","center","between","around","evenly","stretch"],q=()=>["","0",Be],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[as,Be];return{cacheSize:500,separator:":",theme:{colors:[Nc],spacing:[la,Ia],blur:["none","",La,Be],brightness:Y(),borderColor:[e],borderRadius:["none","","full",La,Be],borderSpacing:C(),borderWidth:I(),contrast:Y(),grayscale:q(),hueRotate:Y(),invert:q(),gap:C(),gradientColorStops:[e],gradientColorStopPositions:[BV,Ia],inset:E(),margin:E(),opacity:Y(),padding:C(),saturate:Y(),scale:Y(),sepia:q(),skew:Y(),space:C(),translate:C()},classGroups:{aspect:[{aspect:["auto","square","video",Be]}],container:["container"],columns:[{columns:[La]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),Be]}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",kc,Be]}],basis:[{basis:E()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Be]}],grow:[{grow:q()}],shrink:[{shrink:q()}],order:[{order:["first","last","none",kc,Be]}],"grid-cols":[{"grid-cols":[Nc]}],"col-start-end":[{col:["auto",{span:["full",kc,Be]},Be]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[Nc]}],"row-start-end":[{row:["auto",{span:[kc,Be]},Be]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Be]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Be]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...H()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...H(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...H(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Be,t]}],"min-w":[{"min-w":[Be,t,"min","max","fit"]}],"max-w":[{"max-w":[Be,t,"none","full","min","max","fit","prose",{screen:[La]},La]}],h:[{h:[Be,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Be,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Be,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Be,t,"auto","min","max","fit"]}],"font-size":[{text:["base",La,Ia]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Dm]}],"font-family":[{font:[Nc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Be]}],"line-clamp":[{"line-clamp":["none",as,Dm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",la,Be]}],"list-image":[{"list-image":["none",Be]}],"list-style-type":[{list:["none","disc","decimal",Be]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",la,Ia]}],"underline-offset":[{"underline-offset":["auto",la,Be]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),VV]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",UV]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},WV]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:F()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[la,Be]}],"outline-w":[{outline:[la,Ia]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[la,Ia]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",La,HV]}],"shadow-color":[{shadow:[Nc]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",La,Be]}],grayscale:[{grayscale:[l]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[S]}],sepia:[{sepia:[y]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[l]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[y]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Be]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",Be]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",Be]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[kc,Be]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Be]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Be]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Be]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[la,Ia,Dm]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},XV=DV(YV);function Ae(...e){return XV(e)}const ZV=zu("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",metallic:"metallic-effect text-gray-800 hover:scale-105 transition-transform duration-200"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),dn=w.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...a},o)=>{const i=r?rf:"button";return g.jsx(i,{"data-component-path":"src\\components\\ui\\button.tsx","data-component-name":"Comp","data-component-line":"47","data-component-file":"button.tsx","data-component-content":"%7B%7D",className:Ae(ZV({variant:t,size:n,className:e})),ref:o,...a})});dn.displayName="Button";const JV=()=>{const e=Iu();return g.jsx("header",{"data-component-path":"src\\components\\landing\\Header.tsx","data-component-name":"header","data-component-line":"11","data-component-file":"Header.tsx","data-component-content":"%7B%22className%22%3A%22fixed%20top-0%20w-full%20bg-white%2F80%20backdrop-blur-sm%20dark%3Abg-gray-900%2F80%20border-b%20border-gray-200%20dark%3Aborder-gray-800%20z-50%20transition-all%20duration-300%22%7D",className:"fixed top-0 w-full bg-white/80 backdrop-blur-sm dark:bg-gray-900/80 border-b border-gray-200 dark:border-gray-800 z-50 transition-all duration-300",children:g.jsxs("div",{"data-component-path":"src\\components\\landing\\Header.tsx","data-component-name":"div","data-component-line":"12","data-component-file":"Header.tsx","data-component-content":"%7B%22className%22%3A%22container%20mx-auto%20px-4%20py-3%20flex%20items-center%20justify-between%22%7D",className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[g.jsx("div",{"data-component-path":"src\\components\\landing\\Header.tsx","data-component-name":"div","data-component-line":"13","data-component-file":"Header.tsx","data-component-content":"%7B%22className%22%3A%22flex-shrink-0%22%7D",className:"flex-shrink-0",children:g.jsx("h1",{"data-component-path":"src\\components\\landing\\Header.tsx","data-component-name":"h1","data-component-line":"14","data-component-file":"Header.tsx","data-component-content":"%7B%22className%22%3A%22text-2xl%20md%3Atext-3xl%20font-heading%20font-bold%20bg-gradient-to-r%20from-primary%20via-secondary%20to-primary%20bg-clip-text%20text-transparent%22%7D",className:"text-2xl md:text-3xl font-heading font-bold bg-gradient-to-r from-primary via-secondary to-primary bg-clip-text text-transparent",children:g.jsx("a",{"data-component-path":"src\\components\\landing\\Header.tsx","data-component-name":"a","data-component-line":"15","data-component-file":"Header.tsx","data-component-content":"%7B%22text%22%3A%22M.R.%20Gr%C3%BAas%22%2C%22className%22%3A%22hover%3Aopacity-80%20transition-opacity%22%7D",href:"#intro",className:"hover:opacity-80 transition-opacity",children:"M.R. Grúas"})})}),g.jsx(yV,{"data-component-path":"src\\components\\landing\\Header.tsx","data-component-name":"Navigation","data-component-line":"21","data-component-file":"Header.tsx","data-component-content":"%7B%7D"}),g.jsxs("div",{"data-component-path":"src\\components\\landing\\Header.tsx","data-component-name":"div","data-component-line":"23","data-component-file":"Header.tsx","data-component-content":"%7B%22className%22%3A%22hidden%20md%3Aflex%20items-center%20gap-3%22%7D",className:"hidden md:flex items-center gap-3",children:[g.jsxs(dn,{"data-component-path":"src\\components\\landing\\Header.tsx","data-component-name":"Button","data-component-line":"24","data-component-file":"Header.tsx","data-component-content":"%7B%22text%22%3A%22Solicitar%20Servicio%22%2C%22className%22%3A%22group%22%7D",variant:"outline",size:"sm",onClick:()=>e("/map"),className:"group",children:[g.jsx(WP,{"data-component-path":"src\\components\\landing\\Header.tsx","data-component-name":"MapIcon","data-component-line":"30","data-component-file":"Header.tsx","data-component-content":"%7B%22className%22%3A%22mr-2%20h-4%20w-4%20group-hover%3Arotate-12%20transition-transform%22%7D",className:"mr-2 h-4 w-4 group-hover:rotate-12 transition-transform"}),"Solicitar Servicio"]}),g.jsxs(dn,{"data-component-path":"src\\components\\landing\\Header.tsx","data-component-name":"Button","data-component-line":"34","data-component-file":"Header.tsx","data-component-content":"%7B%22text%22%3A%22Ll%C3%A1manos%22%2C%22className%22%3A%22animate-pulse%20hover%3Aanimate-none%20group%22%7D",variant:"default",size:"sm",className:"animate-pulse hover:animate-none group",onClick:()=>window.location.href="tel:+5218180107110",children:[g.jsx(Mh,{"data-component-path":"src\\components\\landing\\Header.tsx","data-component-name":"Phone","data-component-line":"40","data-component-file":"Header.tsx","data-component-content":"%7B%22className%22%3A%22mr-2%20h-4%20w-4%20group-hover%3Arotate-12%20transition-transform%22%7D",className:"mr-2 h-4 w-4 group-hover:rotate-12 transition-transform"}),"Llámanos"]})]})]})})},QV=()=>g.jsxs(g.Fragment,{children:[g.jsx("meta",{"data-component-path":"src\\components\\landing\\MetaTags.tsx","data-component-name":"meta","data-component-line":"6","data-component-file":"MetaTags.tsx","data-component-content":"%7B%7D",charSet:"utf-8"}),g.jsx("meta",{"data-component-path":"src\\components\\landing\\MetaTags.tsx","data-component-name":"meta","data-component-line":"7","data-component-file":"MetaTags.tsx","data-component-content":"%7B%7D",name:"viewport",content:"width=device-width, initial-scale=1"}),g.jsx("title",{"data-component-path":"src\\components\\landing\\MetaTags.tsx","data-component-name":"title","data-component-line":"8","data-component-file":"MetaTags.tsx","data-component-content":"%7B%22text%22%3A%22M%20R%20Gr%C3%BAas%22%7D",children:"M R Grúas"}),g.jsx("link",{"data-component-path":"src\\components\\landing\\MetaTags.tsx","data-component-name":"link","data-component-line":"9","data-component-file":"MetaTags.tsx","data-component-content":"%7B%7D",rel:"icon",href:"img/Logo.png"}),g.jsx("meta",{"data-component-path":"src\\components\\landing\\MetaTags.tsx","data-component-name":"meta","data-component-line":"10","data-component-file":"MetaTags.tsx","data-component-content":"%7B%7D",name:"twitter:card",content:"summary"}),g.jsx("meta",{"data-component-path":"src\\components\\landing\\MetaTags.tsx","data-component-name":"meta","data-component-line":"11","data-component-file":"MetaTags.tsx","data-component-content":"%7B%7D",name:"twitter:title",content:"Servicios de grúa en Autopista Monterrey - Nuevo Laredo las 24/7"}),g.jsx("meta",{"data-component-path":"src\\components\\landing\\MetaTags.tsx","data-component-name":"meta","data-component-line":"15","data-component-file":"MetaTags.tsx","data-component-content":"%7B%7D",name:"twitter:site",content:"@israelrys"}),g.jsx("meta",{"data-component-path":"src\\components\\landing\\MetaTags.tsx","data-component-name":"meta","data-component-line":"16","data-component-file":"MetaTags.tsx","data-component-content":"%7B%7D",name:"twitter:image",content:"https://mrgruas.github.io/img/6.webp"}),g.jsx("meta",{"data-component-path":"src\\components\\landing\\MetaTags.tsx","data-component-name":"meta","data-component-line":"20","data-component-file":"MetaTags.tsx","data-component-content":"%7B%7D",name:"twitter:creator",content:"@israelrys"}),g.jsx("meta",{"data-component-path":"src\\components\\landing\\MetaTags.tsx","data-component-name":"meta","data-component-line":"21","data-component-file":"MetaTags.tsx","data-component-content":"%7B%7D",property:"og:url",content:"https://mrgruas.github.io/"}),g.jsx("meta",{"data-component-path":"src\\components\\landing\\MetaTags.tsx","data-component-name":"meta","data-component-line":"22","data-component-file":"MetaTags.tsx","data-component-content":"%7B%7D",property:"og:title",content:"Asistencia Vial Tel: +52 1 81 8010 7110 M.R."}),g.jsx("meta",{"data-component-path":"src\\components\\landing\\MetaTags.tsx","data-component-name":"meta","data-component-line":"26","data-component-file":"MetaTags.tsx","data-component-content":"%7B%7D",property:"og:description",content:"Servicios de grúa en Autopista Monterrey - Nuevo Laredo las 24/7"}),g.jsx("meta",{"data-component-path":"src\\components\\landing\\MetaTags.tsx","data-component-name":"meta","data-component-line":"30","data-component-file":"MetaTags.tsx","data-component-content":"%7B%7D",property:"og:type",content:"website"}),g.jsx("meta",{"data-component-path":"src\\components\\landing\\MetaTags.tsx","data-component-name":"meta","data-component-line":"31","data-component-file":"MetaTags.tsx","data-component-content":"%7B%7D",property:"og:image",content:"https://mrgruas.github.io/img/6.webp"}),g.jsx("meta",{"data-component-path":"src\\components\\landing\\MetaTags.tsx","data-component-name":"meta","data-component-line":"35","data-component-file":"MetaTags.tsx","data-component-content":"%7B%7D",property:"og:image:width",content:"auto"}),g.jsx("meta",{"data-component-path":"src\\components\\landing\\MetaTags.tsx","data-component-name":"meta","data-component-line":"36","data-component-file":"MetaTags.tsx","data-component-content":"%7B%7D",property:"og:image:height",content:"auto"}),g.jsx("meta",{"data-component-path":"src\\components\\landing\\MetaTags.tsx","data-component-name":"meta","data-component-line":"37","data-component-file":"MetaTags.tsx","data-component-content":"%7B%7D",property:"og:site_name",content:"M.R. Grúas"}),g.jsx("link",{"data-component-path":"src\\components\\landing\\MetaTags.tsx","data-component-name":"link","data-component-line":"38","data-component-file":"MetaTags.tsx","data-component-content":"%7B%7D",rel:"stylesheet",href:"https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css"}),g.jsx("link",{"data-component-path":"src\\components\\landing\\MetaTags.tsx","data-component-name":"link","data-component-line":"42","data-component-file":"MetaTags.tsx","data-component-content":"%7B%7D",rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"}),g.jsx("link",{"data-component-path":"src\\components\\landing\\MetaTags.tsx","data-component-name":"link","data-component-line":"46","data-component-file":"MetaTags.tsx","data-component-content":"%7B%7D",href:"https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,700,700i|Montserrat:300,400,500,700",rel:"stylesheet"}),g.jsx("link",{"data-component-path":"src\\components\\landing\\MetaTags.tsx","data-component-name":"link","data-component-line":"50","data-component-file":"MetaTags.tsx","data-component-content":"%7B%7D",rel:"stylesheet",href:"dist/styles.css"}),g.jsx("link",{"data-component-path":"src\\components\\landing\\MetaTags.tsx","data-component-name":"link","data-component-line":"51","data-component-file":"MetaTags.tsx","data-component-content":"%7B%7D",href:"css/style.css",rel:"stylesheet"})]}),Zt=w.forwardRef(({className:e,...t},n)=>g.jsx("div",{"data-component-path":"src\\components\\ui\\card.tsx","data-component-name":"div","data-component-line":"9","data-component-file":"card.tsx","data-component-content":"%7B%7D",ref:n,className:Ae("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Zt.displayName="Card";const e4=w.forwardRef(({className:e,...t},n)=>g.jsx("div",{"data-component-path":"src\\components\\ui\\card.tsx","data-component-name":"div","data-component-line":"24","data-component-file":"card.tsx","data-component-content":"%7B%7D",ref:n,className:Ae("flex flex-col space-y-1.5 p-6",e),...t}));e4.displayName="CardHeader";const t4=w.forwardRef(({className:e,...t},n)=>g.jsx("h3",{"data-component-path":"src\\components\\ui\\card.tsx","data-component-name":"h3","data-component-line":"36","data-component-file":"card.tsx","data-component-content":"%7B%7D",ref:n,className:Ae("text-2xl font-semibold leading-none tracking-tight",e),...t}));t4.displayName="CardTitle";const n4=w.forwardRef(({className:e,...t},n)=>g.jsx("p",{"data-component-path":"src\\components\\ui\\card.tsx","data-component-name":"p","data-component-line":"51","data-component-file":"card.tsx","data-component-content":"%7B%7D",ref:n,className:Ae("text-sm text-muted-foreground",e),...t}));n4.displayName="CardDescription";const r4=w.forwardRef(({className:e,...t},n)=>g.jsx("div",{"data-component-path":"src\\components\\ui\\card.tsx","data-component-name":"div","data-component-line":"63","data-component-file":"card.tsx","data-component-content":"%7B%7D",ref:n,className:Ae("p-6 pt-0",e),...t}));r4.displayName="CardContent";const a4=w.forwardRef(({className:e,...t},n)=>g.jsx("div",{"data-component-path":"src\\components\\ui\\card.tsx","data-component-name":"div","data-component-line":"71","data-component-file":"card.tsx","data-component-content":"%7B%7D",ref:n,className:Ae("flex items-center p-6 pt-0",e),...t}));a4.displayName="CardFooter";const o4=[{icon:g.jsx(OI,{"data-component-path":"src\\components\\landing\\Services.tsx","data-component-name":"Clock","data-component-line":"7","data-component-file":"Services.tsx","data-component-content":"%7B%22className%22%3A%22w-8%20h-8%20text-primary%22%7D",className:"w-8 h-8 text-primary"}),title:"Servicio de Grúas",description:"Disponibles en carreteras MTY-NVO. LAREDO"},{icon:g.jsx(b0,{"data-component-path":"src\\components\\landing\\Services.tsx","data-component-name":"MapPin","data-component-line":"13","data-component-file":"Services.tsx","data-component-content":"%7B%22className%22%3A%22w-8%20h-8%20text-primary%22%7D",className:"w-8 h-8 text-primary"}),title:"Cobertura Amplia",description:"Servicio en toda la región y carreteras principales, llegamos donde nos necesites"},{icon:g.jsx(GP,{"data-component-path":"src\\components\\landing\\Services.tsx","data-component-name":"Shield","data-component-line":"19","data-component-file":"Services.tsx","data-component-content":"%7B%22className%22%3A%22w-8%20h-8%20text-primary%22%7D",className:"w-8 h-8 text-primary"}),title:"Seguridad Garantizada",description:"Tu vehículo está asegurado durante todo el proceso de transporte"},{icon:g.jsx(kI,{"data-component-path":"src\\components\\landing\\Services.tsx","data-component-name":"ThumbsUp","data-component-line":"25","data-component-file":"Services.tsx","data-component-content":"%7B%22className%22%3A%22w-8%20h-8%20text-primary%22%7D",className:"w-8 h-8 text-primary"}),title:"Servicio Profesional",description:"Personal altamente capacitado y equipo especializado para cada situación"}],i4=()=>g.jsx("section",{"data-component-path":"src\\components\\landing\\Services.tsx","data-component-name":"section","data-component-line":"34","data-component-file":"Services.tsx","data-component-content":"%7B%22className%22%3A%22py-20%20px-4%20bg-gradient-to-br%20from-gray-50%20to-white%20dark%3Afrom-gray-900%20dark%3Ato-gray-800%22%7D",id:"services",className:"py-20 px-4 bg-gradient-to-br from-gray-50 to-white dark:from-gray-900 dark:to-gray-800",children:g.jsxs(Fe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"container mx-auto max-w-6xl",children:[g.jsxs("div",{"data-component-path":"src\\components\\landing\\Services.tsx","data-component-name":"div","data-component-line":"41","data-component-file":"Services.tsx","data-component-content":"%7B%22className%22%3A%22text-center%20mb-16%22%7D",className:"text-center mb-16",children:[g.jsx(Fe.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-4xl font-bold font-heading text-gradient-shine drop-shadow-xl mb-4",children:"Nuestros Servicios"}),g.jsx(Fe.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},className:"text-lg text-gradient-shine drop-shadow-lg font-semibold max-w-2xl mx-auto",children:"Ofrecemos una amplia gama de servicios de asistencia vial para mantener su vehículo en movimiento"})]}),g.jsx("div",{"data-component-path":"src\\components\\landing\\Services.tsx","data-component-name":"div","data-component-line":"62","data-component-file":"Services.tsx","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20md%3Agrid-cols-2%20gap-8%22%7D",className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:o4.map((e,t)=>g.jsx(Fe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:t*.1},whileHover:{scale:1.02},className:"flex flex-col items-center",children:g.jsxs(Zt,{"data-component-path":"src\\components\\landing\\Services.tsx","data-component-name":"Card","data-component-line":"73","data-component-file":"Services.tsx","data-component-content":"%7B%22className%22%3A%22w-full%20p-8%20text-center%20hover%3Ashadow-xl%20transition-all%20duration-300%20bg-white%2F80%20dark%3Abg-gray-800%2F80%20backdrop-blur-sm%22%7D",className:"w-full p-8 text-center hover:shadow-xl transition-all duration-300 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm",children:[g.jsx("div",{"data-component-path":"src\\components\\landing\\Services.tsx","data-component-name":"div","data-component-line":"74","data-component-file":"Services.tsx","data-component-content":"%7B%22className%22%3A%22rounded-full%20bg-primary%2F10%20p-6%20mx-auto%20mb-6%20w-20%20h-20%20flex%20items-center%20justify-center%22%7D",className:"rounded-full bg-primary/10 p-6 mx-auto mb-6 w-20 h-20 flex items-center justify-center",children:e.icon}),g.jsx("h3",{"data-component-path":"src\\components\\landing\\Services.tsx","data-component-name":"h3","data-component-line":"77","data-component-file":"Services.tsx","data-component-content":"%7B%22className%22%3A%22text-2xl%20font-semibold%20mb-4%22%7D",className:"text-2xl font-semibold mb-4",children:e.title}),g.jsx("p",{"data-component-path":"src\\components\\landing\\Services.tsx","data-component-name":"p","data-component-line":"78","data-component-file":"Services.tsx","data-component-content":"%7B%22className%22%3A%22text-gray-600%20dark%3Atext-gray-300%22%7D",className:"text-gray-600 dark:text-gray-300",children:e.description})]})},t))})]})}),s4=()=>{const e=Iu();return g.jsxs("section",{"data-component-path":"src\\components\\landing\\Hero.tsx","data-component-name":"section","data-component-line":"10","data-component-file":"Hero.tsx","data-component-content":"%7B%22className%22%3A%22relative%20min-h-%5B90vh%5D%20flex%20items-center%20justify-center%20overflow-hidden%20py-20%20lg%3Apy-32%22%7D",className:"relative min-h-[90vh] flex items-center justify-center overflow-hidden py-20 lg:py-32",children:[g.jsxs("div",{"data-component-path":"src\\components\\landing\\Hero.tsx","data-component-name":"div","data-component-line":"11","data-component-file":"Hero.tsx","data-component-content":"%7B%22className%22%3A%22absolute%20inset-0%20z-0%22%7D",className:"absolute inset-0 z-0",children:[g.jsx(Fe.img,{initial:{scale:1.1,opacity:0},animate:{scale:1,opacity:.3},transition:{duration:.7},src:"/lovable-uploads/bceb9702-dedb-4578-a695-1a2e4089f56f.png",alt:"Mr Gruas Logo",className:"w-full h-full object-cover object-center"}),g.jsx("div",{"data-component-path":"src\\components\\landing\\Hero.tsx","data-component-name":"div","data-component-line":"20","data-component-file":"Hero.tsx","data-component-content":"%7B%22className%22%3A%22absolute%20inset-0%20bg-gradient-to-b%20from-white%2F90%20via-white%2F70%20to-white%2F90%20dark%3Afrom-gray-900%2F90%20dark%3Avia-gray-900%2F70%20dark%3Ato-gray-900%2F90%22%7D",className:"absolute inset-0 bg-gradient-to-b from-white/90 via-white/70 to-white/90 dark:from-gray-900/90 dark:via-gray-900/70 dark:to-gray-900/90"})]}),g.jsx("div",{"data-component-path":"src\\components\\landing\\Hero.tsx","data-component-name":"div","data-component-line":"23","data-component-file":"Hero.tsx","data-component-content":"%7B%22className%22%3A%22relative%20z-10%20container%20mx-auto%20px-4%22%7D",className:"relative z-10 container mx-auto px-4",children:g.jsxs(Fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"max-w-4xl mx-auto text-center space-y-8",children:[g.jsx(Fe.h1,{className:"text-4xl sm:text-5xl md:text-7xl font-bold font-heading tracking-tight",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:g.jsx("span",{"data-component-path":"src\\components\\landing\\Hero.tsx","data-component-name":"span","data-component-line":"36","data-component-file":"Hero.tsx","data-component-content":"%7B%22text%22%3A%22Servicio%20de%20Gr%C3%BAas%20Profesional%22%2C%22className%22%3A%22bg-clip-text%20text-transparent%20bg-gradient-to-r%20from-primary%20via-purple-600%20to-primary%20animate-gradient%22%7D",className:"bg-clip-text text-transparent bg-gradient-to-r from-primary via-purple-600 to-primary animate-gradient",children:"Servicio de Grúas Profesional"})}),g.jsx(Fe.p,{className:"text-lg sm:text-xl md:text-2xl text-gray-600 dark:text-gray-300 font-medium",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:"Asistencia vehicular / Rescate de vehículos / Transporte de vehículos / Grúa"}),g.jsxs(Fe.div,{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:[g.jsxs(dn,{"data-component-path":"src\\components\\landing\\Hero.tsx","data-component-name":"Button","data-component-line":"56","data-component-file":"Hero.tsx","data-component-content":"%7B%22text%22%3A%22Solicitar%20Servicio%22%2C%22className%22%3A%22bg-primary%20hover%3Abg-primary%2F90%20text-white%20shadow-lg%20hover%3Ashadow-xl%20transition-all%20duration-300%20group%20min-w-%5B200px%5D%22%7D",size:"lg",className:"bg-primary hover:bg-primary/90 text-white shadow-lg hover:shadow-xl transition-all duration-300 group min-w-[200px]",onClick:()=>e("/map"),children:[g.jsx(WP,{"data-component-path":"src\\components\\landing\\Hero.tsx","data-component-name":"MapIcon","data-component-line":"61","data-component-file":"Hero.tsx","data-component-content":"%7B%22className%22%3A%22mr-2%20h-5%20w-5%20group-hover%3Arotate-12%20transition-transform%22%7D",className:"mr-2 h-5 w-5 group-hover:rotate-12 transition-transform"}),"Solicitar Servicio"]}),g.jsxs(dn,{"data-component-path":"src\\components\\landing\\Hero.tsx","data-component-name":"Button","data-component-line":"64","data-component-file":"Hero.tsx","data-component-content":"%7B%22text%22%3A%22Llamar%20Ahora%22%2C%22className%22%3A%22border-primary%20text-primary%20hover%3Abg-primary%20hover%3Atext-white%20shadow-lg%20hover%3Ashadow-xl%20transition-all%20duration-300%20group%20min-w-%5B200px%5D%22%7D",size:"lg",variant:"outline",className:"border-primary text-primary hover:bg-primary hover:text-white shadow-lg hover:shadow-xl transition-all duration-300 group min-w-[200px]",onClick:()=>window.location.href="tel:+5218180107110",children:[g.jsx(Mh,{"data-component-path":"src\\components\\landing\\Hero.tsx","data-component-name":"Phone","data-component-line":"70","data-component-file":"Hero.tsx","data-component-content":"%7B%22className%22%3A%22mr-2%20h-5%20w-5%20group-hover%3Arotate-12%20transition-transform%22%7D",className:"mr-2 h-5 w-5 group-hover:rotate-12 transition-transform"}),"Llamar Ahora"]})]}),g.jsx(Fe.div,{className:"flex flex-wrap justify-center items-center gap-4 sm:gap-8 pt-8",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:["Servicio 24/7","Cobertura Regional","Atención Inmediata"].map((t,n)=>g.jsxs("div",{"data-component-path":"src\\components\\landing\\Hero.tsx","data-component-name":"div","data-component-line":"86","data-component-file":"Hero.tsx","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%20text-sm%20md%3Atext-base%20font-medium%20text-gray-700%20dark%3Atext-gray-300%22%7D",className:"flex items-center gap-2 text-sm md:text-base font-medium text-gray-700 dark:text-gray-300",children:[g.jsx(DI,{"data-component-path":"src\\components\\landing\\Hero.tsx","data-component-name":"Star","data-component-line":"90","data-component-file":"Hero.tsx","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%20text-primary%22%7D",className:"h-4 w-4 text-primary"}),g.jsx("span",{"data-component-path":"src\\components\\landing\\Hero.tsx","data-component-name":"span","data-component-line":"91","data-component-file":"Hero.tsx","data-component-content":"%7B%7D",children:t})]},t))})]})}),g.jsx("div",{"data-component-path":"src\\components\\landing\\Hero.tsx","data-component-name":"div","data-component-line":"98","data-component-file":"Hero.tsx","data-component-content":"%7B%22className%22%3A%22absolute%20bottom-0%20left-0%20w-full%20h-24%20bg-gradient-to-t%20from-white%20to-transparent%20dark%3Afrom-gray-900%22%7D",className:"absolute bottom-0 left-0 w-full h-24 bg-gradient-to-t from-white to-transparent dark:from-gray-900"})]})},c4=XR,l4=ZR,u4=YR,KC=w.forwardRef(({className:e,...t},n)=>g.jsx(dP,{ref:n,className:Ae("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));KC.displayName=dP.displayName;const YC=w.forwardRef(({className:e,children:t,...n},r)=>g.jsxs(u4,{"data-component-path":"src\\components\\ui\\dialog.tsx","data-component-name":"DialogPortal","data-component-line":"34","data-component-file":"dialog.tsx","data-component-content":"%7B%7D",children:[g.jsx(KC,{"data-component-path":"src\\components\\ui\\dialog.tsx","data-component-name":"DialogOverlay","data-component-line":"35","data-component-file":"dialog.tsx","data-component-content":"%7B%7D"}),g.jsxs(fP,{ref:r,className:Ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,g.jsxs(KR,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[g.jsx(KP,{"data-component-path":"src\\components\\ui\\dialog.tsx","data-component-name":"X","data-component-line":"46","data-component-file":"dialog.tsx","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D",className:"h-4 w-4"}),g.jsx("span",{"data-component-path":"src\\components\\ui\\dialog.tsx","data-component-name":"span","data-component-line":"47","data-component-file":"dialog.tsx","data-component-content":"%7B%22text%22%3A%22Close%22%2C%22className%22%3A%22sr-only%22%7D",className:"sr-only",children:"Close"})]})]})]}));YC.displayName=fP.displayName;const XC=({className:e,...t})=>g.jsx("div",{"data-component-path":"src\\components\\ui\\dialog.tsx","data-component-name":"div","data-component-line":"58","data-component-file":"dialog.tsx","data-component-content":"%7B%7D",className:Ae("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});XC.displayName="DialogHeader";const ZC=w.forwardRef(({className:e,...t},n)=>g.jsx(hP,{ref:n,className:Ae("text-lg font-semibold leading-none tracking-tight",e),...t}));ZC.displayName=hP.displayName;const JC=w.forwardRef(({className:e,...t},n)=>g.jsx(pP,{ref:n,className:Ae("text-sm text-muted-foreground",e),...t}));JC.displayName=pP.displayName;const d4=[{icon:g.jsx(_I,{"data-component-path":"src\\components\\landing\\TowingTypes.tsx","data-component-name":"CarFront","data-component-line":"15","data-component-file":"TowingTypes.tsx","data-component-content":"%7B%22className%22%3A%22w-12%20h-12%20text-primary%22%7D",className:"w-12 h-12 text-primary","aria-label":"Car Front Icon"}),title:"Servicio Plataforma",description:"Ideal para vehículos ligeros y medianos. Transporte seguro sin arrastre.",gifs:["/lovable-uploads/TipoA.gif","/lovable-uploads/TipoC.gif"],detailedDescription:{title:"Servicio de Plataforma - Características",content:["Capacidad de carga hasta 2,000 kg","Ideal para vehículos de lujo y deportivos","Evita daños adicionales al vehículo","Perfecto para distancias largas","Sistema hidráulico de última generación","Equipado con sistema de winch para carga segura"],pricing:"Tarifa base desde $528.69 MXN + $18.82 MXN/km"}},{icon:g.jsx(MI,{"data-component-path":"src\\components\\landing\\TowingTypes.tsx","data-component-name":"Truck","data-component-line":"33","data-component-file":"TowingTypes.tsx","data-component-content":"%7B%22className%22%3A%22w-12%20h-12%20text-primary%22%7D",className:"w-12 h-12 text-primary","aria-label":"Truck Icon"}),title:"Servicio de Rescate",description:"Para situaciones de emergencia y traslados rápidos. Servicio económico.",gifs:["/lovable-uploads/TipoD.gif","/lovable-uploads/TipoD2.gif"],detailedDescription:{title:"Servicio de Rescate - Características",content:["Capacidad de carga hasta 8,000 kg","Ideal para vehículos pesados y comerciales","Servicio rápido en emergencias","Equipado para rescates en condiciones difíciles","Personal altamente capacitado","Disponible 24/7 para emergencias"],pricing:"Tarifa base desde $885.84 MXN + $32.35 MXN/km"}}],f4=()=>g.jsx("section",{"data-component-path":"src\\components\\landing\\TowingTypes.tsx","data-component-name":"section","data-component-line":"54","data-component-file":"TowingTypes.tsx","data-component-content":"%7B%22className%22%3A%22py-20%20px-4%20bg-gradient-to-br%20from-gray-50%20to-gray-100%20dark%3Afrom-gray-900%20dark%3Ato-gray-800%22%7D",className:"py-20 px-4 bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",children:g.jsxs(Fe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"container mx-auto max-w-6xl",children:[g.jsxs("div",{"data-component-path":"src\\components\\landing\\TowingTypes.tsx","data-component-name":"div","data-component-line":"61","data-component-file":"TowingTypes.tsx","data-component-content":"%7B%22className%22%3A%22text-center%20mb-12%22%7D",className:"text-center mb-12",children:[g.jsx("h2",{"data-component-path":"src\\components\\landing\\TowingTypes.tsx","data-component-name":"h2","data-component-line":"62","data-component-file":"TowingTypes.tsx","data-component-content":"%7B%22text%22%3A%22Tipos%20de%20Servicio%22%2C%22className%22%3A%22text-4xl%20font-bold%20font-heading%20bg-clip-text%20text-transparent%20bg-gradient-to-r%20from-primary%20to-purple-600%20mb-4%22%7D",className:"text-4xl font-bold font-heading bg-clip-text text-transparent bg-gradient-to-r from-primary to-purple-600 mb-4",children:"Tipos de Servicio"}),g.jsx("p",{"data-component-path":"src\\components\\landing\\TowingTypes.tsx","data-component-name":"p","data-component-line":"65","data-component-file":"TowingTypes.tsx","data-component-content":"%7B%22text%22%3A%22Contamos%20con%20diferentes%20tipos%20de%20gr%C3%BAas%20para%20adaptarnos%20a%20sus%20necesidades%20espec%C3%ADficas%22%2C%22className%22%3A%22text-lg%20text-gray-600%20dark%3Atext-gray-300%20max-w-2xl%20mx-auto%22%7D",className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Contamos con diferentes tipos de grúas para adaptarnos a sus necesidades específicas"})]}),g.jsx("div",{"data-component-path":"src\\components\\landing\\TowingTypes.tsx","data-component-name":"div","data-component-line":"70","data-component-file":"TowingTypes.tsx","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20md%3Agrid-cols-2%20gap-8%22%7D",className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:d4.map((e,t)=>g.jsx(Fe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:t*.2},whileHover:{scale:1.02},className:"flex flex-col items-center",children:g.jsxs(c4,{"data-component-path":"src\\components\\landing\\TowingTypes.tsx","data-component-name":"Dialog","data-component-line":"81","data-component-file":"TowingTypes.tsx","data-component-content":"%7B%7D",children:[g.jsx(l4,{"data-component-path":"src\\components\\landing\\TowingTypes.tsx","data-component-name":"DialogTrigger","data-component-line":"82","data-component-file":"TowingTypes.tsx","data-component-content":"%7B%7D",asChild:!0,children:g.jsxs(Zt,{"data-component-path":"src\\components\\landing\\TowingTypes.tsx","data-component-name":"Card","data-component-line":"83","data-component-file":"TowingTypes.tsx","data-component-content":"%7B%22className%22%3A%22w-full%20p-6%20bg-white%20dark%3Abg-gray-800%20shadow-lg%20hover%3Ashadow-xl%20transition-all%20duration-300%20rounded-xl%20cursor-pointer%22%7D",className:"w-full p-6 bg-white dark:bg-gray-800 shadow-lg hover:shadow-xl transition-all duration-300 rounded-xl cursor-pointer",children:[g.jsxs("div",{"data-component-path":"src\\components\\landing\\TowingTypes.tsx","data-component-name":"div","data-component-line":"84","data-component-file":"TowingTypes.tsx","data-component-content":"%7B%22className%22%3A%22mb-6%22%7D",className:"mb-6",children:[g.jsx("div",{"data-component-path":"src\\components\\landing\\TowingTypes.tsx","data-component-name":"div","data-component-line":"85","data-component-file":"TowingTypes.tsx","data-component-content":"%7B%22className%22%3A%22flex%20justify-center%20mb-4%22%7D",className:"flex justify-center mb-4",children:e.icon}),g.jsx("h3",{"data-component-path":"src\\components\\landing\\TowingTypes.tsx","data-component-name":"h3","data-component-line":"86","data-component-file":"TowingTypes.tsx","data-component-content":"%7B%22className%22%3A%22text-2xl%20font-semibold%20text-center%20mb-2%22%7D",className:"text-2xl font-semibold text-center mb-2",children:e.title}),g.jsx("p",{"data-component-path":"src\\components\\landing\\TowingTypes.tsx","data-component-name":"p","data-component-line":"87","data-component-file":"TowingTypes.tsx","data-component-content":"%7B%22className%22%3A%22text-gray-600%20dark%3Atext-gray-300%20text-center%20mb-4%22%7D",className:"text-gray-600 dark:text-gray-300 text-center mb-4",children:e.description})]}),g.jsx("div",{"data-component-path":"src\\components\\landing\\TowingTypes.tsx","data-component-name":"div","data-component-line":"89","data-component-file":"TowingTypes.tsx","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20sm%3Agrid-cols-2%20gap-4%22%7D",className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:e.gifs.map((n,r)=>g.jsxs("div",{"data-component-path":"src\\components\\landing\\TowingTypes.tsx","data-component-name":"div","data-component-line":"91","data-component-file":"TowingTypes.tsx","data-component-content":"%7B%22className%22%3A%22relative%20group%20overflow-hidden%20rounded-lg%20shadow-md%20hover%3Ashadow-xl%20transition-all%20duration-300%22%7D",className:"relative group overflow-hidden rounded-lg shadow-md hover:shadow-xl transition-all duration-300",children:[g.jsx("img",{"data-component-path":"src\\components\\landing\\TowingTypes.tsx","data-component-name":"img","data-component-line":"95","data-component-file":"TowingTypes.tsx","data-component-content":"%7B%22className%22%3A%22w-full%20h-48%20object-cover%20transform%20group-hover%3Ascale-110%20transition-transform%20duration-300%22%7D",src:n,alt:`Servicio tipo ${r+1} para ${e.title}`,className:"w-full h-48 object-cover transform group-hover:scale-110 transition-transform duration-300"}),g.jsx("div",{"data-component-path":"src\\components\\landing\\TowingTypes.tsx","data-component-name":"div","data-component-line":"100","data-component-file":"TowingTypes.tsx","data-component-content":"%7B%22className%22%3A%22absolute%20inset-0%20bg-gradient-to-t%20from-black%2F60%20to-transparent%20opacity-0%20group-hover%3Aopacity-100%20transition-opacity%20duration-300%22%7D",className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]},r))})]})}),g.jsx(YC,{"data-component-path":"src\\components\\landing\\TowingTypes.tsx","data-component-name":"DialogContent","data-component-line":"106","data-component-file":"TowingTypes.tsx","data-component-content":"%7B%22className%22%3A%22sm%3Amax-w-%5B500px%5D%22%7D",className:"sm:max-w-[500px]",children:g.jsxs(XC,{"data-component-path":"src\\components\\landing\\TowingTypes.tsx","data-component-name":"DialogHeader","data-component-line":"107","data-component-file":"TowingTypes.tsx","data-component-content":"%7B%7D",children:[g.jsx(ZC,{"data-component-path":"src\\components\\landing\\TowingTypes.tsx","data-component-name":"DialogTitle","data-component-line":"108","data-component-file":"TowingTypes.tsx","data-component-content":"%7B%22className%22%3A%22text-2xl%20font-bold%20text-primary%22%7D",className:"text-2xl font-bold text-primary",children:e.detailedDescription.title}),g.jsx(JC,{"data-component-path":"src\\components\\landing\\TowingTypes.tsx","data-component-name":"DialogDescription","data-component-line":"111","data-component-file":"TowingTypes.tsx","data-component-content":"%7B%7D",children:g.jsxs("div",{"data-component-path":"src\\components\\landing\\TowingTypes.tsx","data-component-name":"div","data-component-line":"112","data-component-file":"TowingTypes.tsx","data-component-content":"%7B%22className%22%3A%22mt-4%20space-y-4%22%7D",className:"mt-4 space-y-4",children:[g.jsx("ul",{"data-component-path":"src\\components\\landing\\TowingTypes.tsx","data-component-name":"ul","data-component-line":"113","data-component-file":"TowingTypes.tsx","data-component-content":"%7B%22className%22%3A%22list-disc%20pl-5%20space-y-2%22%7D",className:"list-disc pl-5 space-y-2",children:e.detailedDescription.content.map((n,r)=>g.jsx("li",{"data-component-path":"src\\components\\landing\\TowingTypes.tsx","data-component-name":"li","data-component-line":"115","data-component-file":"TowingTypes.tsx","data-component-content":"%7B%22className%22%3A%22text-gray-700%20dark%3Atext-gray-300%22%7D",className:"text-gray-700 dark:text-gray-300",children:n},r))}),g.jsxs("div",{"data-component-path":"src\\components\\landing\\TowingTypes.tsx","data-component-name":"div","data-component-line":"120","data-component-file":"TowingTypes.tsx","data-component-content":"%7B%22className%22%3A%22mt-4%20pt-4%20border-t%20border-gray-200%20dark%3Aborder-gray-700%22%7D",className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[g.jsx("p",{"data-component-path":"src\\components\\landing\\TowingTypes.tsx","data-component-name":"p","data-component-line":"121","data-component-file":"TowingTypes.tsx","data-component-content":"%7B%22text%22%3A%22Precios%20Aproximados%3A%22%2C%22className%22%3A%22font-semibold%20text-primary%22%7D",className:"font-semibold text-primary",children:"Precios Aproximados:"}),g.jsx("p",{"data-component-path":"src\\components\\landing\\TowingTypes.tsx","data-component-name":"p","data-component-line":"124","data-component-file":"TowingTypes.tsx","data-component-content":"%7B%22className%22%3A%22text-gray-700%20dark%3Atext-gray-300%22%7D",className:"text-gray-700 dark:text-gray-300",children:e.detailedDescription.pricing})]})]})})]})})]})},t))})]})}),h4=()=>g.jsx("section",{"data-component-path":"src\\components\\landing\\ContactSection.tsx","data-component-name":"section","data-component-line":"8","data-component-file":"ContactSection.tsx","data-component-content":"%7B%22className%22%3A%22py-20%20px-4%20bg-gradient-to-br%20from-primary%2F5%20to-secondary%2F5%20backdrop-blur-sm%22%7D",id:"contact",className:"py-20 px-4 bg-gradient-to-br from-primary/5 to-secondary/5 backdrop-blur-sm",children:g.jsxs(Fe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"container mx-auto max-w-6xl",children:[g.jsxs("div",{"data-component-path":"src\\components\\landing\\ContactSection.tsx","data-component-name":"div","data-component-line":"15","data-component-file":"ContactSection.tsx","data-component-content":"%7B%22className%22%3A%22text-center%20mb-16%22%7D",className:"text-center mb-16",children:[g.jsx(Fe.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-4xl font-bold font-heading text-gradient-shine drop-shadow-xl mb-4",children:"Contáctanos"}),g.jsx(Fe.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},className:"text-lg text-gradient-shine drop-shadow-lg font-semibold max-w-2xl mx-auto",children:"Estamos aquí para ayudarte. Contáctanos por cualquiera de estos medios"})]}),g.jsxs("div",{"data-component-path":"src\\components\\landing\\ContactSection.tsx","data-component-name":"div","data-component-line":"35","data-component-file":"ContactSection.tsx","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20md%3Agrid-cols-3%20gap-8%22%7D",className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[g.jsx(Fe.div,{whileHover:{scale:1.02},className:"flex flex-col items-center",children:g.jsxs(Zt,{"data-component-path":"src\\components\\landing\\ContactSection.tsx","data-component-name":"Card","data-component-line":"40","data-component-file":"ContactSection.tsx","data-component-content":"%7B%22className%22%3A%22w-full%20p-8%20text-center%20hover%3Ashadow-xl%20transition-all%20duration-300%20bg-white%2F80%20dark%3Abg-gray-800%2F80%20backdrop-blur-sm%22%7D",className:"w-full p-8 text-center hover:shadow-xl transition-all duration-300 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm",children:[g.jsx("div",{"data-component-path":"src\\components\\landing\\ContactSection.tsx","data-component-name":"div","data-component-line":"41","data-component-file":"ContactSection.tsx","data-component-content":"%7B%22className%22%3A%22rounded-full%20bg-primary%2F10%20p-4%20mx-auto%20mb-6%20w-16%20h-16%20flex%20items-center%20justify-center%22%7D",className:"rounded-full bg-primary/10 p-4 mx-auto mb-6 w-16 h-16 flex items-center justify-center",children:g.jsx(b0,{"data-component-path":"src\\components\\landing\\ContactSection.tsx","data-component-name":"MapPin","data-component-line":"42","data-component-file":"ContactSection.tsx","data-component-content":"%7B%22className%22%3A%22w-8%20h-8%20text-primary%22%7D",className:"w-8 h-8 text-primary"})}),g.jsx("h3",{"data-component-path":"src\\components\\landing\\ContactSection.tsx","data-component-name":"h3","data-component-line":"44","data-component-file":"ContactSection.tsx","data-component-content":"%7B%22text%22%3A%22Direcci%C3%B3n%22%2C%22className%22%3A%22text-xl%20font-semibold%20mb-4%22%7D",className:"text-xl font-semibold mb-4",children:"Dirección"}),g.jsxs("a",{"data-component-path":"src\\components\\landing\\ContactSection.tsx","data-component-name":"a","data-component-line":"45","data-component-file":"ContactSection.tsx","data-component-content":"%7B%22text%22%3A%22M%C3%A9xico%2085D%2C%20Autopista%20Monterrey%20-%20Nuevo%20Laredo%20Agualeguas%20Km%206%2B100%20%23200%20Ebano%2C%2065336%20Sabinas%20Hidalgo%2C%20N.L.%22%2C%22className%22%3A%22text-gray-600%20dark%3Atext-gray-300%20hover%3Atext-primary%20transition-colors%22%7D",href:"https://goo.gl/maps/Bm2taxCFni9G7ZjD6",target:"_blank",rel:"noreferrer",className:"text-gray-600 dark:text-gray-300 hover:text-primary transition-colors",children:["México 85D, Autopista Monterrey - Nuevo Laredo",g.jsx("br",{"data-component-path":"src\\components\\landing\\ContactSection.tsx","data-component-name":"br","data-component-line":"52","data-component-file":"ContactSection.tsx","data-component-content":"%7B%7D"}),"Agualeguas Km 6+100 #200 Ebano, 65336 Sabinas Hidalgo, N.L."]})]})}),g.jsx(Fe.div,{whileHover:{scale:1.02},className:"flex flex-col items-center",children:g.jsxs(Zt,{"data-component-path":"src\\components\\landing\\ContactSection.tsx","data-component-name":"Card","data-component-line":"62","data-component-file":"ContactSection.tsx","data-component-content":"%7B%22className%22%3A%22w-full%20p-8%20text-center%20hover%3Ashadow-xl%20transition-all%20duration-300%20bg-white%2F80%20dark%3Abg-gray-800%2F80%20backdrop-blur-sm%22%7D",className:"w-full p-8 text-center hover:shadow-xl transition-all duration-300 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm",children:[g.jsx("div",{"data-component-path":"src\\components\\landing\\ContactSection.tsx","data-component-name":"div","data-component-line":"63","data-component-file":"ContactSection.tsx","data-component-content":"%7B%22className%22%3A%22rounded-full%20bg-primary%2F10%20p-4%20mx-auto%20mb-6%20w-16%20h-16%20flex%20items-center%20justify-center%22%7D",className:"rounded-full bg-primary/10 p-4 mx-auto mb-6 w-16 h-16 flex items-center justify-center",children:g.jsx(Mh,{"data-component-path":"src\\components\\landing\\ContactSection.tsx","data-component-name":"Phone","data-component-line":"64","data-component-file":"ContactSection.tsx","data-component-content":"%7B%22className%22%3A%22w-8%20h-8%20text-primary%22%7D",className:"w-8 h-8 text-primary"})}),g.jsx("h3",{"data-component-path":"src\\components\\landing\\ContactSection.tsx","data-component-name":"h3","data-component-line":"66","data-component-file":"ContactSection.tsx","data-component-content":"%7B%22text%22%3A%22Tel%C3%A9fono%22%2C%22className%22%3A%22text-xl%20font-semibold%20mb-4%22%7D",className:"text-xl font-semibold mb-4",children:"Teléfono"}),g.jsx("a",{"data-component-path":"src\\components\\landing\\ContactSection.tsx","data-component-name":"a","data-component-line":"67","data-component-file":"ContactSection.tsx","data-component-content":"%7B%22text%22%3A%22%2B52%201%2081%208010%207110%22%2C%22className%22%3A%22text-gray-600%20dark%3Atext-gray-300%20hover%3Atext-primary%20transition-colors%22%7D",href:"tel:+5218180107110",className:"text-gray-600 dark:text-gray-300 hover:text-primary transition-colors",children:"+52 1 81 8010 7110"})]})}),g.jsx(Fe.div,{whileHover:{scale:1.02},className:"flex flex-col items-center",children:g.jsxs(Zt,{"data-component-path":"src\\components\\landing\\ContactSection.tsx","data-component-name":"Card","data-component-line":"80","data-component-file":"ContactSection.tsx","data-component-content":"%7B%22className%22%3A%22w-full%20p-8%20text-center%20hover%3Ashadow-xl%20transition-all%20duration-300%20bg-white%2F80%20dark%3Abg-gray-800%2F80%20backdrop-blur-sm%22%7D",className:"w-full p-8 text-center hover:shadow-xl transition-all duration-300 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm",children:[g.jsx("div",{"data-component-path":"src\\components\\landing\\ContactSection.tsx","data-component-name":"div","data-component-line":"81","data-component-file":"ContactSection.tsx","data-component-content":"%7B%22className%22%3A%22rounded-full%20bg-primary%2F10%20p-4%20mx-auto%20mb-6%20w-16%20h-16%20flex%20items-center%20justify-center%22%7D",className:"rounded-full bg-primary/10 p-4 mx-auto mb-6 w-16 h-16 flex items-center justify-center",children:g.jsx(zP,{"data-component-path":"src\\components\\landing\\ContactSection.tsx","data-component-name":"Mail","data-component-line":"82","data-component-file":"ContactSection.tsx","data-component-content":"%7B%22className%22%3A%22w-8%20h-8%20text-primary%22%7D",className:"w-8 h-8 text-primary"})}),g.jsx("h3",{"data-component-path":"src\\components\\landing\\ContactSection.tsx","data-component-name":"h3","data-component-line":"84","data-component-file":"ContactSection.tsx","data-component-content":"%7B%22text%22%3A%22Email%22%2C%22className%22%3A%22text-xl%20font-semibold%20mb-4%22%7D",className:"text-xl font-semibold mb-4",children:"Email"}),g.jsx("a",{"data-component-path":"src\\components\\landing\\ContactSection.tsx","data-component-name":"a","data-component-line":"85","data-component-file":"ContactSection.tsx","data-component-content":"%7B%22text%22%3A%22gruasmartinezreyes%40hotmail.com%22%2C%22className%22%3A%22text-gray-600%20dark%3Atext-gray-300%20hover%3Atext-primary%20transition-colors%20break-words%22%7D",href:"mailto:gruasmartinezreyes@hotmail.com",className:"text-gray-600 dark:text-gray-300 hover:text-primary transition-colors break-words",children:"gruasmartinezreyes@hotmail.com"})]})})]})]})}),p4=()=>g.jsx("footer",{"data-component-path":"src\\components\\landing\\FooterSection.tsx","data-component-name":"footer","data-component-line":"6","data-component-file":"FooterSection.tsx","data-component-content":"%7B%22className%22%3A%22bg-gradient-to-br%20from-gray-900%20to-gray-800%20text-white%20py-16%22%7D",className:"bg-gradient-to-br from-gray-900 to-gray-800 text-white py-16",children:g.jsxs("div",{"data-component-path":"src\\components\\landing\\FooterSection.tsx","data-component-name":"div","data-component-line":"7","data-component-file":"FooterSection.tsx","data-component-content":"%7B%22className%22%3A%22container%20mx-auto%20px-4%22%7D",className:"container mx-auto px-4",children:[g.jsxs("div",{"data-component-path":"src\\components\\landing\\FooterSection.tsx","data-component-name":"div","data-component-line":"8","data-component-file":"FooterSection.tsx","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20md%3Agrid-cols-3%20gap-12%22%7D",className:"grid grid-cols-1 md:grid-cols-3 gap-12",children:[g.jsx(m4,{"data-component-path":"src\\components\\landing\\FooterSection.tsx","data-component-name":"CompanyInfo","data-component-line":"9","data-component-file":"FooterSection.tsx","data-component-content":"%7B%7D"}),g.jsx(v4,{"data-component-path":"src\\components\\landing\\FooterSection.tsx","data-component-name":"ContactInfo","data-component-line":"10","data-component-file":"FooterSection.tsx","data-component-content":"%7B%7D"}),g.jsx(g4,{"data-component-path":"src\\components\\landing\\FooterSection.tsx","data-component-name":"SocialLinks","data-component-line":"11","data-component-file":"FooterSection.tsx","data-component-content":"%7B%7D"})]}),g.jsx(y4,{"data-component-path":"src\\components\\landing\\FooterSection.tsx","data-component-name":"Copyright","data-component-line":"13","data-component-file":"FooterSection.tsx","data-component-content":"%7B%7D"})]})}),m4=()=>g.jsxs(Fe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"space-y-4",children:[g.jsx("h3",{"data-component-path":"src\\components\\landing\\FooterSection.tsx","data-component-name":"h3","data-component-line":"26","data-component-file":"FooterSection.tsx","data-component-content":"%7B%22text%22%3A%22M.R.%20Gr%C3%BAas%22%2C%22className%22%3A%22text-2xl%20font-bold%20text-gradient-shine%22%7D",className:"text-2xl font-bold text-gradient-shine",children:"M.R. Grúas"}),g.jsx("p",{"data-component-path":"src\\components\\landing\\FooterSection.tsx","data-component-name":"p","data-component-line":"27","data-component-file":"FooterSection.tsx","data-component-content":"%7B%22text%22%3A%22Servicio%20profesional%20de%20gr%C3%BAas%20y%20asistencia%20vial.%20Su%20seguridad%20y%20satisfacci%C3%B3n%20son%20nuestra%5Cn%20%20%20%20%20%20prioridad.%22%2C%22className%22%3A%22text-gray-300%20leading-relaxed%22%7D",className:"text-gray-300 leading-relaxed",children:"Servicio profesional de grúas y asistencia vial. Su seguridad y satisfacción son nuestra prioridad."})]}),v4=()=>g.jsxs(Fe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},className:"space-y-4",children:[g.jsx("h3",{"data-component-path":"src\\components\\landing\\FooterSection.tsx","data-component-name":"h3","data-component-line":"42","data-component-file":"FooterSection.tsx","data-component-content":"%7B%22text%22%3A%22Contacto%22%2C%22className%22%3A%22text-2xl%20font-bold%20text-gradient-shine%22%7D",className:"text-2xl font-bold text-gradient-shine",children:"Contacto"}),g.jsxs("div",{"data-component-path":"src\\components\\landing\\FooterSection.tsx","data-component-name":"div","data-component-line":"43","data-component-file":"FooterSection.tsx","data-component-content":"%7B%22className%22%3A%22space-y-3%22%7D",className:"space-y-3",children:[g.jsxs("div",{"data-component-path":"src\\components\\landing\\FooterSection.tsx","data-component-name":"div","data-component-line":"44","data-component-file":"FooterSection.tsx","data-component-content":"%7B%22className%22%3A%22flex%20items-start%20space-x-3%22%7D",className:"flex items-start space-x-3",children:[g.jsx(b0,{"data-component-path":"src\\components\\landing\\FooterSection.tsx","data-component-name":"MapPin","data-component-line":"45","data-component-file":"FooterSection.tsx","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-primary%20mt-1%22%7D",className:"w-5 h-5 text-primary mt-1"}),g.jsxs("p",{"data-component-path":"src\\components\\landing\\FooterSection.tsx","data-component-name":"p","data-component-line":"46","data-component-file":"FooterSection.tsx","data-component-content":"%7B%22text%22%3A%22M%C3%A9xico%2085D%2C%20Autopista%20Monterrey%20-%20Nuevo%20Laredo%20Agualeguas%20Km%206%2B100%20%23200%20Ebano%2C%2065336%20Sabinas%20Hidalgo%2C%20N.L.%2C%20M%C3%A9xico%22%2C%22className%22%3A%22text-gray-300%22%7D",className:"text-gray-300",children:["México 85D, Autopista Monterrey - Nuevo Laredo",g.jsx("br",{"data-component-path":"src\\components\\landing\\FooterSection.tsx","data-component-name":"br","data-component-line":"48","data-component-file":"FooterSection.tsx","data-component-content":"%7B%7D"}),"Agualeguas Km 6+100 #200 Ebano, 65336 Sabinas Hidalgo, N.L., México"]})]}),g.jsxs("div",{"data-component-path":"src\\components\\landing\\FooterSection.tsx","data-component-name":"div","data-component-line":"52","data-component-file":"FooterSection.tsx","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-3%22%7D",className:"flex items-center space-x-3",children:[g.jsx(Mh,{"data-component-path":"src\\components\\landing\\FooterSection.tsx","data-component-name":"Phone","data-component-line":"53","data-component-file":"FooterSection.tsx","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-primary%22%7D",className:"w-5 h-5 text-primary"}),g.jsx("a",{"data-component-path":"src\\components\\landing\\FooterSection.tsx","data-component-name":"a","data-component-line":"54","data-component-file":"FooterSection.tsx","data-component-content":"%7B%22text%22%3A%22%2B52%201%2081%208010%207110%22%2C%22className%22%3A%22text-gray-300%20hover%3Atext-white%20transition-colors%22%7D",href:"tel:+5218180107110",className:"text-gray-300 hover:text-white transition-colors",children:"+52 1 81 8010 7110"})]}),g.jsxs("div",{"data-component-path":"src\\components\\landing\\FooterSection.tsx","data-component-name":"div","data-component-line":"61","data-component-file":"FooterSection.tsx","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-3%22%7D",className:"flex items-center space-x-3",children:[g.jsx(zP,{"data-component-path":"src\\components\\landing\\FooterSection.tsx","data-component-name":"Mail","data-component-line":"62","data-component-file":"FooterSection.tsx","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-primary%22%7D",className:"w-5 h-5 text-primary"}),g.jsx("a",{"data-component-path":"src\\components\\landing\\FooterSection.tsx","data-component-name":"a","data-component-line":"63","data-component-file":"FooterSection.tsx","data-component-content":"%7B%22text%22%3A%22gruasmartinezreyes%40hotmail.com%22%2C%22className%22%3A%22text-gray-300%20hover%3Atext-white%20transition-colors%20break-all%22%7D",href:"mailto:gruasmartinezreyes@hotmail.com",className:"text-gray-300 hover:text-white transition-colors break-all",children:"gruasmartinezreyes@hotmail.com"})]})]})]}),g4=()=>g.jsxs(Fe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.4},className:"space-y-4",children:[g.jsx("h3",{"data-component-path":"src\\components\\landing\\FooterSection.tsx","data-component-name":"h3","data-component-line":"82","data-component-file":"FooterSection.tsx","data-component-content":"%7B%22text%22%3A%22S%C3%ADguenos%22%2C%22className%22%3A%22text-2xl%20font-bold%20text-gradient-shine%22%7D",className:"text-2xl font-bold text-gradient-shine",children:"Síguenos"}),g.jsx("div",{"data-component-path":"src\\components\\landing\\FooterSection.tsx","data-component-name":"div","data-component-line":"83","data-component-file":"FooterSection.tsx","data-component-content":"%7B%22className%22%3A%22flex%20flex-wrap%20gap-4%22%7D",className:"flex flex-wrap gap-4",children:["Facebook","Twitter","Instagram"].map(e=>g.jsx("a",{"data-component-path":"src\\components\\landing\\FooterSection.tsx","data-component-name":"a","data-component-line":"85","data-component-file":"FooterSection.tsx","data-component-content":"%7B%22className%22%3A%22px-4%20py-2%20bg-gray-800%20rounded-full%20text-gray-300%20hover%3Atext-white%20hover%3Abg-gray-700%20transition-all%20duration-300%22%7D",href:"#",className:"px-4 py-2 bg-gray-800 rounded-full text-gray-300 hover:text-white hover:bg-gray-700 transition-all duration-300",children:e},e))})]}),y4=()=>g.jsx(Fe.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.6},className:"mt-12 pt-8 border-t border-gray-700 text-center",children:g.jsxs("p",{"data-component-path":"src\\components\\landing\\FooterSection.tsx","data-component-name":"p","data-component-line":"105","data-component-file":"FooterSection.tsx","data-component-content":"%7B%22text%22%3A%22%C2%A9%20I.M.R.%20Gr%C3%BAas.%20Todos%20los%20derechos%20reservados.%22%2C%22className%22%3A%22text-gray-400%22%7D",className:"text-gray-400",children:["© ",new Date().getFullYear()," I.M.R. Grúas. Todos los derechos reservados."]})}),b4=()=>g.jsxs(Fe.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[g.jsx("div",{"data-component-path":"src\\pages\\Landing.tsx","data-component-name":"div","data-component-line":"19","data-component-file":"Landing.tsx","data-component-content":"%7B%22className%22%3A%22absolute%20inset-0%20bg-grid-pattern%20opacity-5%22%7D",className:"absolute inset-0 bg-grid-pattern opacity-5"}),g.jsx("div",{"data-component-path":"src\\pages\\Landing.tsx","data-component-name":"div","data-component-line":"20","data-component-file":"Landing.tsx","data-component-content":"%7B%22className%22%3A%22absolute%20inset-0%20bg-gradient-to-br%20from-blue-500%2F5%20via-transparent%20to-blue-600%2F5%22%7D",className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 via-transparent to-blue-600/5"}),g.jsx("div",{"data-component-path":"src\\pages\\Landing.tsx","data-component-name":"div","data-component-line":"21","data-component-file":"Landing.tsx","data-component-content":"%7B%22className%22%3A%22absolute%20inset-0%20bg-%5Bradial-gradient(ellipse_at_top%2C_var(--tw-gradient-stops))%5D%20from-blue-200%2F20%20via-transparent%20to-transparent%22%7D",className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-blue-200/20 via-transparent to-transparent"}),g.jsxs("div",{"data-component-path":"src\\pages\\Landing.tsx","data-component-name":"div","data-component-line":"22","data-component-file":"Landing.tsx","data-component-content":"%7B%22className%22%3A%22relative%20z-10%22%7D",className:"relative z-10",children:[g.jsx(QV,{"data-component-path":"src\\pages\\Landing.tsx","data-component-name":"MetaTags","data-component-line":"23","data-component-file":"Landing.tsx","data-component-content":"%7B%7D"}),g.jsx(JV,{"data-component-path":"src\\pages\\Landing.tsx","data-component-name":"Header","data-component-line":"24","data-component-file":"Landing.tsx","data-component-content":"%7B%7D"}),g.jsx(s4,{"data-component-path":"src\\pages\\Landing.tsx","data-component-name":"Hero","data-component-line":"25","data-component-file":"Landing.tsx","data-component-content":"%7B%7D"}),g.jsxs("main",{"data-component-path":"src\\pages\\Landing.tsx","data-component-name":"main","data-component-line":"26","data-component-file":"Landing.tsx","data-component-content":"%7B%22className%22%3A%22relative%20z-10%20overflow-hidden%22%7D",className:"relative z-10 overflow-hidden",children:[g.jsx(f4,{"data-component-path":"src\\pages\\Landing.tsx","data-component-name":"TowingTypes","data-component-line":"27","data-component-file":"Landing.tsx","data-component-content":"%7B%7D"}),g.jsx(i4,{"data-component-path":"src\\pages\\Landing.tsx","data-component-name":"Services","data-component-line":"28","data-component-file":"Landing.tsx","data-component-content":"%7B%7D"}),g.jsx(h4,{"data-component-path":"src\\pages\\Landing.tsx","data-component-name":"ContactSection","data-component-line":"29","data-component-file":"Landing.tsx","data-component-content":"%7B%7D"})]}),g.jsx(p4,{"data-component-path":"src\\pages\\Landing.tsx","data-component-name":"FooterSection","data-component-line":"31","data-component-file":"Landing.tsx","data-component-content":"%7B%7D"})]})]}),x4="modulepreload",w4=function(e){return"/"+e},pS={},mi=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),s=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(n.map(c=>{if(c=w4(c),c in pS)return;pS[c]=!0;const l=c.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":x4,l||(d.as="script"),d.crossOrigin="",d.href=c,s&&d.setAttribute("nonce",s),document.head.appendChild(d),l)return new Promise((f,h)=>{d.addEventListener("load",f),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i}return a.then(i=>{for(const s of i||[])s.status==="rejected"&&o(s.reason);return t().catch(o)})};var Wu=e=>e.type==="checkbox",Wo=e=>e instanceof Date,Pn=e=>e==null;const QC=e=>typeof e=="object";var Bt=e=>!Pn(e)&&!Array.isArray(e)&&QC(e)&&!Wo(e),eE=e=>Bt(e)&&e.target?Wu(e.target)?e.target.checked:e.target.value:e,S4=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,tE=(e,t)=>e.has(S4(t)),_4=e=>{const t=e.constructor&&e.constructor.prototype;return Bt(t)&&t.hasOwnProperty("isPrototypeOf")},lb=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Dn(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(lb&&(e instanceof Blob||r))&&(n||Bt(e)))if(t=n?[]:{},!n&&!_4(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=Dn(e[a]));else return e;return t}var qh=e=>Array.isArray(e)?e.filter(Boolean):[],Ot=e=>e===void 0,re=(e,t,n)=>{if(!t||!Bt(e))return n;const r=qh(t.split(/[,[\].]+?/)).reduce((a,o)=>Pn(a)?a:a[o],e);return Ot(r)||r===e?Ot(e[t])?n:e[t]:r},Hn=e=>typeof e=="boolean",ub=e=>/^\w*$/.test(e),nE=e=>qh(e.replace(/["|']|\]/g,"").split(/\.|\[/)),at=(e,t,n)=>{let r=-1;const a=ub(t)?[t]:nE(t),o=a.length,i=o-1;for(;++r<o;){const s=a[r];let c=n;if(r!==i){const l=e[s];c=Bt(l)||Array.isArray(l)?l:isNaN(+a[r+1])?{}:[]}if(s==="__proto__"||s==="constructor"||s==="prototype")return;e[s]=c,e=e[s]}return e};const gf={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},wr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ua={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},rE=k.createContext(null),Gh=()=>k.useContext(rE),aE=e=>{const{children:t,...n}=e;return k.createElement(rE.Provider,{value:n},t)};var oE=(e,t,n,r=!0)=>{const a={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(a,o,{get:()=>{const i=o;return t._proxyFormState[i]!==wr.all&&(t._proxyFormState[i]=!r||wr.all),n&&(n[i]=!0),e[i]}});return a},Mn=e=>Bt(e)&&!Object.keys(e).length,iE=(e,t,n,r)=>{n(e);const{name:a,...o}=e;return Mn(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(i=>t[i]===(!r||wr.all))},pl=e=>Array.isArray(e)?e:[e],sE=(e,t,n)=>!e||!t||e===t||pl(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r)));function db(e){const t=k.useRef(e);t.current=e,k.useEffect(()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}function A4(e){const t=Gh(),{control:n=t.control,disabled:r,name:a,exact:o}=e||{},[i,s]=k.useState(n._formState),c=k.useRef(!0),l=k.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=k.useRef(a);return u.current=a,db({disabled:r,next:d=>c.current&&sE(u.current,d.name,o)&&iE(d,l.current,n._updateFormState)&&s({...n._formState,...d}),subject:n._subjects.state}),k.useEffect(()=>(c.current=!0,l.current.isValid&&n._updateValid(!0),()=>{c.current=!1}),[n]),k.useMemo(()=>oE(i,n,l.current,!1),[i,n])}var Vr=e=>typeof e=="string",cE=(e,t,n,r,a)=>Vr(e)?(r&&t.watch.add(e),re(n,e,a)):Array.isArray(e)?e.map(o=>(r&&t.watch.add(o),re(n,o))):(r&&(t.watchAll=!0),n);function T4(e){const t=Gh(),{control:n=t.control,name:r,defaultValue:a,disabled:o,exact:i}=e||{},s=k.useRef(r);s.current=r,db({disabled:o,subject:n._subjects.values,next:u=>{sE(s.current,u.name,i)&&l(Dn(cE(s.current,n._names,u.values||n._formValues,!1,a)))}});const[c,l]=k.useState(n._getWatch(r,a));return k.useEffect(()=>n._removeUnmounted()),c}function P4(e){const t=Gh(),{name:n,disabled:r,control:a=t.control,shouldUnregister:o}=e,i=tE(a._names.array,n),s=T4({control:a,name:n,defaultValue:re(a._formValues,n,re(a._defaultValues,n,e.defaultValue)),exact:!0}),c=A4({control:a,name:n,exact:!0}),l=k.useRef(a.register(n,{...e.rules,value:s,...Hn(e.disabled)?{disabled:e.disabled}:{}})),u=k.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!re(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!re(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!re(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!re(c.validatingFields,n)},error:{enumerable:!0,get:()=>re(c.errors,n)}}),[c,n]),d=k.useMemo(()=>({name:n,value:s,...Hn(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:f=>l.current.onChange({target:{value:eE(f),name:n},type:gf.CHANGE}),onBlur:()=>l.current.onBlur({target:{value:re(a._formValues,n),name:n},type:gf.BLUR}),ref:f=>{const h=re(a._fields,n);h&&f&&(h._f.ref={focus:()=>f.focus(),select:()=>f.select(),setCustomValidity:p=>f.setCustomValidity(p),reportValidity:()=>f.reportValidity()})}}),[n,a._formValues,r,c.disabled,s,a._fields]);return k.useEffect(()=>{const f=a._options.shouldUnregister||o,h=(p,m)=>{const v=re(a._fields,p);v&&v._f&&(v._f.mount=m)};if(h(n,!0),f){const p=Dn(re(a._options.defaultValues,n));at(a._defaultValues,n,p),Ot(re(a._formValues,n))&&at(a._formValues,n,p)}return()=>{(i?f&&!a._state.action:f)?a.unregister(n):h(n,!1)}},[n,a,i,o]),k.useEffect(()=>{Hn(r)&&re(a._fields,n)&&a._updateDisabledField({disabled:r,fields:a._fields,name:n,value:re(a._fields,n)._f.value})},[r,n,a]),k.useMemo(()=>({field:d,formState:c,fieldState:u}),[d,c,u])}const O4=e=>e.render(P4(e));var lE=(e,t,n,r,a)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:a||!0}}:{},mS=e=>({isOnSubmit:!e||e===wr.onSubmit,isOnBlur:e===wr.onBlur,isOnChange:e===wr.onChange,isOnAll:e===wr.all,isOnTouch:e===wr.onTouched}),vS=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const ml=(e,t,n,r)=>{for(const a of n||Object.keys(e)){const o=re(e,a);if(o){const{_f:i,...s}=o;if(i){if(i.refs&&i.refs[0]&&t(i.refs[0],a)&&!r)return!0;if(i.ref&&t(i.ref,i.name)&&!r)return!0;if(ml(s,t))break}else if(Bt(s)&&ml(s,t))break}}};var C4=(e,t,n)=>{const r=pl(re(e,n));return at(r,"root",t[n]),at(e,n,r),e},fb=e=>e.type==="file",Br=e=>typeof e=="function",yf=e=>{if(!lb)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Qd=e=>Vr(e),hb=e=>e.type==="radio",bf=e=>e instanceof RegExp;const gS={value:!1,isValid:!1},yS={value:!0,isValid:!0};var uE=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ot(e[0].attributes.value)?Ot(e[0].value)||e[0].value===""?yS:{value:e[0].value,isValid:!0}:yS:gS}return gS};const bS={isValid:!1,value:null};var dE=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,bS):bS;function xS(e,t,n="validate"){if(Qd(e)||Array.isArray(e)&&e.every(Qd)||Hn(e)&&!e)return{type:n,message:Qd(e)?e:"",ref:t}}var Ii=e=>Bt(e)&&!bf(e)?e:{value:e,message:""},wS=async(e,t,n,r,a)=>{const{ref:o,refs:i,required:s,maxLength:c,minLength:l,min:u,max:d,pattern:f,validate:h,name:p,valueAsNumber:m,mount:v,disabled:b}=e._f,x=re(t,p);if(!v||b)return{};const S=i?i[0]:o,A=C=>{r&&S.reportValidity&&(S.setCustomValidity(Hn(C)?"":C||""),S.reportValidity())},y={},_=hb(o),T=Wu(o),P=_||T,O=(m||fb(o))&&Ot(o.value)&&Ot(x)||yf(o)&&o.value===""||x===""||Array.isArray(x)&&!x.length,j=lE.bind(null,p,n,y),E=(C,I,R,$=ua.maxLength,F=ua.minLength)=>{const V=C?I:R;y[p]={type:C?$:F,message:V,ref:o,...j(C?$:F,V)}};if(a?!Array.isArray(x)||!x.length:s&&(!P&&(O||Pn(x))||Hn(x)&&!x||T&&!uE(i).isValid||_&&!dE(i).isValid)){const{value:C,message:I}=Qd(s)?{value:!!s,message:s}:Ii(s);if(C&&(y[p]={type:ua.required,message:I,ref:S,...j(ua.required,I)},!n))return A(I),y}if(!O&&(!Pn(u)||!Pn(d))){let C,I;const R=Ii(d),$=Ii(u);if(!Pn(x)&&!isNaN(x)){const F=o.valueAsNumber||x&&+x;Pn(R.value)||(C=F>R.value),Pn($.value)||(I=F<$.value)}else{const F=o.valueAsDate||new Date(x),V=X=>new Date(new Date().toDateString()+" "+X),H=o.type=="time",q=o.type=="week";Vr(R.value)&&x&&(C=H?V(x)>V(R.value):q?x>R.value:F>new Date(R.value)),Vr($.value)&&x&&(I=H?V(x)<V($.value):q?x<$.value:F<new Date($.value))}if((C||I)&&(E(!!C,R.message,$.message,ua.max,ua.min),!n))return A(y[p].message),y}if((c||l)&&!O&&(Vr(x)||a&&Array.isArray(x))){const C=Ii(c),I=Ii(l),R=!Pn(C.value)&&x.length>+C.value,$=!Pn(I.value)&&x.length<+I.value;if((R||$)&&(E(R,C.message,I.message),!n))return A(y[p].message),y}if(f&&!O&&Vr(x)){const{value:C,message:I}=Ii(f);if(bf(C)&&!x.match(C)&&(y[p]={type:ua.pattern,message:I,ref:o,...j(ua.pattern,I)},!n))return A(I),y}if(h){if(Br(h)){const C=await h(x,t),I=xS(C,S);if(I&&(y[p]={...I,...j(ua.validate,I.message)},!n))return A(I.message),y}else if(Bt(h)){let C={};for(const I in h){if(!Mn(C)&&!n)break;const R=xS(await h[I](x,t),S,I);R&&(C={...R,...j(I,R.message)},A(R.message),n&&(y[p]=C))}if(!Mn(C)&&(y[p]={ref:S,...C},!n))return y}}return A(!0),y};function E4(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Ot(e)?r++:e[t[r++]];return e}function j4(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ot(e[t]))return!1;return!0}function Kt(e,t){const n=Array.isArray(t)?t:ub(t)?[t]:nE(t),r=n.length===1?e:E4(e,n),a=n.length-1,o=n[a];return r&&delete r[o],a!==0&&(Bt(r)&&Mn(r)||Array.isArray(r)&&j4(r))&&Kt(e,n.slice(0,-1)),e}var km=()=>{let e=[];return{get observers(){return e},next:a=>{for(const o of e)o.next&&o.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(o=>o!==a)}}),unsubscribe:()=>{e=[]}}},ig=e=>Pn(e)||!QC(e);function Ga(e,t){if(ig(e)||ig(t))return e===t;if(Wo(e)&&Wo(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const a of n){const o=e[a];if(!r.includes(a))return!1;if(a!=="ref"){const i=t[a];if(Wo(o)&&Wo(i)||Bt(o)&&Bt(i)||Array.isArray(o)&&Array.isArray(i)?!Ga(o,i):o!==i)return!1}}return!0}var fE=e=>e.type==="select-multiple",D4=e=>hb(e)||Wu(e),Nm=e=>yf(e)&&e.isConnected,hE=e=>{for(const t in e)if(Br(e[t]))return!0;return!1};function xf(e,t={}){const n=Array.isArray(e);if(Bt(e)||n)for(const r in e)Array.isArray(e[r])||Bt(e[r])&&!hE(e[r])?(t[r]=Array.isArray(e[r])?[]:{},xf(e[r],t[r])):Pn(e[r])||(t[r]=!0);return t}function pE(e,t,n){const r=Array.isArray(e);if(Bt(e)||r)for(const a in e)Array.isArray(e[a])||Bt(e[a])&&!hE(e[a])?Ot(t)||ig(n[a])?n[a]=Array.isArray(e[a])?xf(e[a],[]):{...xf(e[a])}:pE(e[a],Pn(t)?{}:t[a],n[a]):n[a]=!Ga(e[a],t[a]);return n}var Mc=(e,t)=>pE(e,t,xf(t)),mE=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>Ot(e)?e:t?e===""?NaN:e&&+e:n&&Vr(e)?new Date(e):r?r(e):e;function Mm(e){const t=e.ref;if(!(e.refs?e.refs.every(n=>n.disabled):t.disabled))return fb(t)?t.files:hb(t)?dE(e.refs).value:fE(t)?[...t.selectedOptions].map(({value:n})=>n):Wu(t)?uE(e.refs).value:mE(Ot(t.value)?e.ref.value:t.value,e)}var k4=(e,t,n,r)=>{const a={};for(const o of e){const i=re(t,o);i&&at(a,o,i._f)}return{criteriaMode:n,names:[...e],fields:a,shouldUseNativeValidation:r}},Rc=e=>Ot(e)?e:bf(e)?e.source:Bt(e)?bf(e.value)?e.value.source:e.value:e;const SS="AsyncFunction";var N4=e=>!!e&&!!e.validate&&!!(Br(e.validate)&&e.validate.constructor.name===SS||Bt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===SS)),M4=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function _S(e,t,n){const r=re(e,n);if(r||ub(n))return{error:r,name:n};const a=n.split(".");for(;a.length;){const o=a.join("."),i=re(t,o),s=re(e,o);if(i&&!Array.isArray(i)&&n!==o)return{name:n};if(s&&s.type)return{name:o,error:s};a.pop()}return{name:n}}var R4=(e,t,n,r,a)=>a.isOnAll?!1:!n&&a.isOnTouch?!(t||e):(n?r.isOnBlur:a.isOnBlur)?!e:(n?r.isOnChange:a.isOnChange)?e:!0,$4=(e,t)=>!qh(re(e,t)).length&&Kt(e,t);const I4={mode:wr.onSubmit,reValidateMode:wr.onChange,shouldFocusError:!0};function L4(e={}){let t={...I4,...e},n={submitCount:0,isDirty:!1,isLoading:Br(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},a=Bt(t.defaultValues)||Bt(t.values)?Dn(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:Dn(a),i={action:!1,mount:!1,watch:!1},s={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,l=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:km(),array:km(),state:km()},f=mS(t.mode),h=mS(t.reValidateMode),p=t.criteriaMode===wr.all,m=D=>L=>{clearTimeout(l),l=setTimeout(D,L)},v=async D=>{if(!t.disabled&&(u.isValid||D)){const L=t.resolver?Mn((await P()).errors):await j(r,!0);L!==n.isValid&&d.state.next({isValid:L})}},b=(D,L)=>{!t.disabled&&(u.isValidating||u.validatingFields)&&((D||Array.from(s.mount)).forEach(z=>{z&&(L?at(n.validatingFields,z,L):Kt(n.validatingFields,z))}),d.state.next({validatingFields:n.validatingFields,isValidating:!Mn(n.validatingFields)}))},x=(D,L=[],z,ne,ee=!0,Z=!0)=>{if(ne&&z&&!t.disabled){if(i.action=!0,Z&&Array.isArray(re(r,D))){const ge=z(re(r,D),ne.argA,ne.argB);ee&&at(r,D,ge)}if(Z&&Array.isArray(re(n.errors,D))){const ge=z(re(n.errors,D),ne.argA,ne.argB);ee&&at(n.errors,D,ge),$4(n.errors,D)}if(u.touchedFields&&Z&&Array.isArray(re(n.touchedFields,D))){const ge=z(re(n.touchedFields,D),ne.argA,ne.argB);ee&&at(n.touchedFields,D,ge)}u.dirtyFields&&(n.dirtyFields=Mc(a,o)),d.state.next({name:D,isDirty:C(D,L),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else at(o,D,L)},S=(D,L)=>{at(n.errors,D,L),d.state.next({errors:n.errors})},A=D=>{n.errors=D,d.state.next({errors:n.errors,isValid:!1})},y=(D,L,z,ne)=>{const ee=re(r,D);if(ee){const Z=re(o,D,Ot(z)?re(a,D):z);Ot(Z)||ne&&ne.defaultChecked||L?at(o,D,L?Z:Mm(ee._f)):$(D,Z),i.mount&&v()}},_=(D,L,z,ne,ee)=>{let Z=!1,ge=!1;const Se={name:D};if(!t.disabled){const et=!!(re(r,D)&&re(r,D)._f&&re(r,D)._f.disabled);if(!z||ne){u.isDirty&&(ge=n.isDirty,n.isDirty=Se.isDirty=C(),Z=ge!==Se.isDirty);const gt=et||Ga(re(a,D),L);ge=!!(!et&&re(n.dirtyFields,D)),gt||et?Kt(n.dirtyFields,D):at(n.dirtyFields,D,!0),Se.dirtyFields=n.dirtyFields,Z=Z||u.dirtyFields&&ge!==!gt}if(z){const gt=re(n.touchedFields,D);gt||(at(n.touchedFields,D,z),Se.touchedFields=n.touchedFields,Z=Z||u.touchedFields&&gt!==z)}Z&&ee&&d.state.next(Se)}return Z?Se:{}},T=(D,L,z,ne)=>{const ee=re(n.errors,D),Z=u.isValid&&Hn(L)&&n.isValid!==L;if(t.delayError&&z?(c=m(()=>S(D,z)),c(t.delayError)):(clearTimeout(l),c=null,z?at(n.errors,D,z):Kt(n.errors,D)),(z?!Ga(ee,z):ee)||!Mn(ne)||Z){const ge={...ne,...Z&&Hn(L)?{isValid:L}:{},errors:n.errors,name:D};n={...n,...ge},d.state.next(ge)}},P=async D=>{b(D,!0);const L=await t.resolver(o,t.context,k4(D||s.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return b(D),L},O=async D=>{const{errors:L}=await P(D);if(D)for(const z of D){const ne=re(L,z);ne?at(n.errors,z,ne):Kt(n.errors,z)}else n.errors=L;return L},j=async(D,L,z={valid:!0})=>{for(const ne in D){const ee=D[ne];if(ee){const{_f:Z,...ge}=ee;if(Z){const Se=s.array.has(Z.name),et=ee._f&&N4(ee._f);et&&u.validatingFields&&b([ne],!0);const gt=await wS(ee,o,p,t.shouldUseNativeValidation&&!L,Se);if(et&&u.validatingFields&&b([ne]),gt[Z.name]&&(z.valid=!1,L))break;!L&&(re(gt,Z.name)?Se?C4(n.errors,gt,Z.name):at(n.errors,Z.name,gt[Z.name]):Kt(n.errors,Z.name))}!Mn(ge)&&await j(ge,L,z)}}return z.valid},E=()=>{for(const D of s.unMount){const L=re(r,D);L&&(L._f.refs?L._f.refs.every(z=>!Nm(z)):!Nm(L._f.ref))&&rt(D)}s.unMount=new Set},C=(D,L)=>!t.disabled&&(D&&L&&at(o,D,L),!Ga(Y(),a)),I=(D,L,z)=>cE(D,s,{...i.mount?o:Ot(L)?a:Vr(D)?{[D]:L}:L},z,L),R=D=>qh(re(i.mount?o:a,D,t.shouldUnregister?re(a,D,[]):[])),$=(D,L,z={})=>{const ne=re(r,D);let ee=L;if(ne){const Z=ne._f;Z&&(!Z.disabled&&at(o,D,mE(L,Z)),ee=yf(Z.ref)&&Pn(L)?"":L,fE(Z.ref)?[...Z.ref.options].forEach(ge=>ge.selected=ee.includes(ge.value)):Z.refs?Wu(Z.ref)?Z.refs.length>1?Z.refs.forEach(ge=>(!ge.defaultChecked||!ge.disabled)&&(ge.checked=Array.isArray(ee)?!!ee.find(Se=>Se===ge.value):ee===ge.value)):Z.refs[0]&&(Z.refs[0].checked=!!ee):Z.refs.forEach(ge=>ge.checked=ge.value===ee):fb(Z.ref)?Z.ref.value="":(Z.ref.value=ee,Z.ref.type||d.values.next({name:D,values:{...o}})))}(z.shouldDirty||z.shouldTouch)&&_(D,ee,z.shouldTouch,z.shouldDirty,!0),z.shouldValidate&&X(D)},F=(D,L,z)=>{for(const ne in L){const ee=L[ne],Z=`${D}.${ne}`,ge=re(r,Z);(s.array.has(D)||Bt(ee)||ge&&!ge._f)&&!Wo(ee)?F(Z,ee,z):$(Z,ee,z)}},V=(D,L,z={})=>{const ne=re(r,D),ee=s.array.has(D),Z=Dn(L);at(o,D,Z),ee?(d.array.next({name:D,values:{...o}}),(u.isDirty||u.dirtyFields)&&z.shouldDirty&&d.state.next({name:D,dirtyFields:Mc(a,o),isDirty:C(D,Z)})):ne&&!ne._f&&!Pn(Z)?F(D,Z,z):$(D,Z,z),vS(D,s)&&d.state.next({...n}),d.values.next({name:i.mount?D:void 0,values:{...o}})},H=async D=>{i.mount=!0;const L=D.target;let z=L.name,ne=!0;const ee=re(r,z),Z=()=>L.type?Mm(ee._f):eE(D),ge=Se=>{ne=Number.isNaN(Se)||Wo(Se)&&isNaN(Se.getTime())||Ga(Se,re(o,z,Se))};if(ee){let Se,et;const gt=Z(),wn=D.type===gf.BLUR||D.type===gf.FOCUS_OUT,ur=!M4(ee._f)&&!t.resolver&&!re(n.errors,z)&&!ee._f.deps||R4(wn,re(n.touchedFields,z),n.isSubmitted,h,f),Dt=vS(z,s,wn);at(o,z,gt),wn?(ee._f.onBlur&&ee._f.onBlur(D),c&&c(0)):ee._f.onChange&&ee._f.onChange(D);const Ln=_(z,gt,wn,!1),kr=!Mn(Ln)||Dt;if(!wn&&d.values.next({name:z,type:D.type,values:{...o}}),ur)return u.isValid&&(t.mode==="onBlur"?wn&&v():v()),kr&&d.state.next({name:z,...Dt?{}:Ln});if(!wn&&Dt&&d.state.next({...n}),t.resolver){const{errors:Sn}=await P([z]);if(ge(gt),ne){const Ra=_S(n.errors,r,z),oa=_S(Sn,r,Ra.name||z);Se=oa.error,z=oa.name,et=Mn(Sn)}}else b([z],!0),Se=(await wS(ee,o,p,t.shouldUseNativeValidation))[z],b([z]),ge(gt),ne&&(Se?et=!1:u.isValid&&(et=await j(r,!0)));ne&&(ee._f.deps&&X(ee._f.deps),T(z,et,Se,Ln))}},q=(D,L)=>{if(re(n.errors,L)&&D.focus)return D.focus(),1},X=async(D,L={})=>{let z,ne;const ee=pl(D);if(t.resolver){const Z=await O(Ot(D)?D:ee);z=Mn(Z),ne=D?!ee.some(ge=>re(Z,ge)):z}else D?(ne=(await Promise.all(ee.map(async Z=>{const ge=re(r,Z);return await j(ge&&ge._f?{[Z]:ge}:ge)}))).every(Boolean),!(!ne&&!n.isValid)&&v()):ne=z=await j(r);return d.state.next({...!Vr(D)||u.isValid&&z!==n.isValid?{}:{name:D},...t.resolver||!D?{isValid:z}:{},errors:n.errors}),L.shouldFocus&&!ne&&ml(r,q,D?ee:s.mount),ne},Y=D=>{const L={...i.mount?o:a};return Ot(D)?L:Vr(D)?re(L,D):D.map(z=>re(L,z))},J=(D,L)=>({invalid:!!re((L||n).errors,D),isDirty:!!re((L||n).dirtyFields,D),error:re((L||n).errors,D),isValidating:!!re(n.validatingFields,D),isTouched:!!re((L||n).touchedFields,D)}),oe=D=>{D&&pl(D).forEach(L=>Kt(n.errors,L)),d.state.next({errors:D?n.errors:{}})},Te=(D,L,z)=>{const ne=(re(r,D,{_f:{}})._f||{}).ref,ee=re(n.errors,D)||{},{ref:Z,message:ge,type:Se,...et}=ee;at(n.errors,D,{...et,...L,ref:ne}),d.state.next({name:D,errors:n.errors,isValid:!1}),z&&z.shouldFocus&&ne&&ne.focus&&ne.focus()},Ve=(D,L)=>Br(D)?d.values.subscribe({next:z=>D(I(void 0,L),z)}):I(D,L,!0),rt=(D,L={})=>{for(const z of D?pl(D):s.mount)s.mount.delete(z),s.array.delete(z),L.keepValue||(Kt(r,z),Kt(o,z)),!L.keepError&&Kt(n.errors,z),!L.keepDirty&&Kt(n.dirtyFields,z),!L.keepTouched&&Kt(n.touchedFields,z),!L.keepIsValidating&&Kt(n.validatingFields,z),!t.shouldUnregister&&!L.keepDefaultValue&&Kt(a,z);d.values.next({values:{...o}}),d.state.next({...n,...L.keepDirty?{isDirty:C()}:{}}),!L.keepIsValid&&v()},Je=({disabled:D,name:L,field:z,fields:ne,value:ee})=>{if(Hn(D)&&i.mount||D){const Z=D?void 0:Ot(ee)?Mm(z?z._f:re(ne,L)._f):ee;(D||!D&&!Ot(Z))&&at(o,L,Z),_(L,Z,!1,!1,!0)}},Re=(D,L={})=>{let z=re(r,D);const ne=Hn(L.disabled)||Hn(t.disabled);return at(r,D,{...z||{},_f:{...z&&z._f?z._f:{ref:{name:D}},name:D,mount:!0,...L}}),s.mount.add(D),z?Je({field:z,disabled:Hn(L.disabled)?L.disabled:t.disabled,name:D,value:L.value}):y(D,!0,L.value),{...ne?{disabled:L.disabled||t.disabled}:{},...t.progressive?{required:!!L.required,min:Rc(L.min),max:Rc(L.max),minLength:Rc(L.minLength),maxLength:Rc(L.maxLength),pattern:Rc(L.pattern)}:{},name:D,onChange:H,onBlur:H,ref:ee=>{if(ee){Re(D,L),z=re(r,D);const Z=Ot(ee.value)&&ee.querySelectorAll&&ee.querySelectorAll("input,select,textarea")[0]||ee,ge=D4(Z),Se=z._f.refs||[];if(ge?Se.find(et=>et===Z):Z===z._f.ref)return;at(r,D,{_f:{...z._f,...ge?{refs:[...Se.filter(Nm),Z,...Array.isArray(re(a,D))?[{}]:[]],ref:{type:Z.type,name:D}}:{ref:Z}}}),y(D,!1,void 0,Z)}else z=re(r,D,{}),z._f&&(z._f.mount=!1),(t.shouldUnregister||L.shouldUnregister)&&!(tE(s.array,D)&&i.action)&&s.unMount.add(D)}}},K=()=>t.shouldFocusError&&ml(r,q,s.mount),fe=D=>{Hn(D)&&(d.state.next({disabled:D}),ml(r,(L,z)=>{const ne=re(r,z);ne&&(L.disabled=ne._f.disabled||D,Array.isArray(ne._f.refs)&&ne._f.refs.forEach(ee=>{ee.disabled=ne._f.disabled||D}))},0,!1))},ce=(D,L)=>async z=>{let ne;if(z&&(z.preventDefault&&z.preventDefault(),z.persist&&z.persist()),t.disabled){L&&await L({...n.errors},z);return}let ee=Dn(o);if(d.state.next({isSubmitting:!0}),t.resolver){const{errors:Z,values:ge}=await P();n.errors=Z,ee=ge}else await j(r);if(Kt(n.errors,"root"),Mn(n.errors)){d.state.next({errors:{}});try{await D(ee,z)}catch(Z){ne=Z}}else L&&await L({...n.errors},z),K(),setTimeout(K);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Mn(n.errors)&&!ne,submitCount:n.submitCount+1,errors:n.errors}),ne)throw ne},U=(D,L={})=>{re(r,D)&&(Ot(L.defaultValue)?V(D,Dn(re(a,D))):(V(D,L.defaultValue),at(a,D,Dn(L.defaultValue))),L.keepTouched||Kt(n.touchedFields,D),L.keepDirty||(Kt(n.dirtyFields,D),n.isDirty=L.defaultValue?C(D,Dn(re(a,D))):C()),L.keepError||(Kt(n.errors,D),u.isValid&&v()),d.state.next({...n}))},ve=(D,L={})=>{const z=D?Dn(D):a,ne=Dn(z),ee=Mn(D),Z=ee?a:ne;if(L.keepDefaultValues||(a=z),!L.keepValues){if(L.keepDirtyValues){const ge=new Set([...s.mount,...Object.keys(Mc(a,o))]);for(const Se of Array.from(ge))re(n.dirtyFields,Se)?at(Z,Se,re(o,Se)):V(Se,re(Z,Se))}else{if(lb&&Ot(D))for(const ge of s.mount){const Se=re(r,ge);if(Se&&Se._f){const et=Array.isArray(Se._f.refs)?Se._f.refs[0]:Se._f.ref;if(yf(et)){const gt=et.closest("form");if(gt){gt.reset();break}}}}r={}}o=t.shouldUnregister?L.keepDefaultValues?Dn(a):{}:Dn(Z),d.array.next({values:{...Z}}),d.values.next({values:{...Z}})}s={mount:L.keepDirtyValues?s.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!u.isValid||!!L.keepIsValid||!!L.keepDirtyValues,i.watch=!!t.shouldUnregister,d.state.next({submitCount:L.keepSubmitCount?n.submitCount:0,isDirty:ee?!1:L.keepDirty?n.isDirty:!!(L.keepDefaultValues&&!Ga(D,a)),isSubmitted:L.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ee?{}:L.keepDirtyValues?L.keepDefaultValues&&o?Mc(a,o):n.dirtyFields:L.keepDefaultValues&&D?Mc(a,D):L.keepDirty?n.dirtyFields:{},touchedFields:L.keepTouched?n.touchedFields:{},errors:L.keepErrors?n.errors:{},isSubmitSuccessful:L.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},ae=(D,L)=>ve(Br(D)?D(o):D,L);return{control:{register:Re,unregister:rt,getFieldState:J,handleSubmit:ce,setError:Te,_executeSchema:P,_getWatch:I,_getDirty:C,_updateValid:v,_removeUnmounted:E,_updateFieldArray:x,_updateDisabledField:Je,_getFieldArray:R,_reset:ve,_resetDefaultValues:()=>Br(t.defaultValues)&&t.defaultValues().then(D=>{ae(D,t.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:D=>{n={...n,...D}},_disableForm:fe,_subjects:d,_proxyFormState:u,_setErrors:A,get _fields(){return r},get _formValues(){return o},get _state(){return i},set _state(D){i=D},get _defaultValues(){return a},get _names(){return s},set _names(D){s=D},get _formState(){return n},set _formState(D){n=D},get _options(){return t},set _options(D){t={...t,...D}}},trigger:X,register:Re,handleSubmit:ce,watch:Ve,setValue:V,getValues:Y,reset:ae,resetField:U,clearErrors:oe,unregister:rt,setError:Te,setFocus:(D,L={})=>{const z=re(r,D),ne=z&&z._f;if(ne){const ee=ne.refs?ne.refs[0]:ne.ref;ee.focus&&(ee.focus(),L.shouldSelect&&Br(ee.select)&&ee.select())}},getFieldState:J}}function vE(e={}){const t=k.useRef(),n=k.useRef(),[r,a]=k.useState({isDirty:!1,isValidating:!1,isLoading:Br(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Br(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...L4(e),formState:r});const o=t.current.control;return o._options=e,db({subject:o._subjects.state,next:i=>{iE(i,o._proxyFormState,o._updateFormState,!0)&&a({...o._formState})}}),k.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),k.useEffect(()=>{if(o._proxyFormState.isDirty){const i=o._getDirty();i!==r.isDirty&&o._subjects.state.next({isDirty:i})}},[o,r.isDirty]),k.useEffect(()=>{e.values&&!Ga(e.values,n.current)?(o._reset(e.values,o._options.resetOptions),n.current=e.values,a(i=>({...i}))):o._resetDefaultValues()},[e.values,o]),k.useEffect(()=>{e.errors&&o._setErrors(e.errors)},[e.errors,o]),k.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),k.useEffect(()=>{e.shouldUnregister&&o._subjects.values.next({values:o._getWatch()})},[e.shouldUnregister,o]),k.useMemo(()=>({...t.current,formState:oE(r,o)}),[r,o])}const B4=({children:e})=>g.jsx(XP,{"data-component-path":"src\\components\\TowingWrapper.tsx","data-component-name":"TowingProvider","data-component-line":"11","data-component-file":"TowingWrapper.tsx","data-component-content":"%7B%7D",children:e});function F4(e){return Object.prototype.toString.call(e)==="[object Object]"}function AS(e){return F4(e)||Array.isArray(e)}function U4(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function pb(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;const a=JSON.stringify(Object.keys(e.breakpoints||{})),o=JSON.stringify(Object.keys(t.breakpoints||{}));return a!==o?!1:n.every(i=>{const s=e[i],c=t[i];return typeof s=="function"?`${s}`==`${c}`:!AS(s)||!AS(c)?s===c:pb(s,c)})}function TS(e){return e.concat().sort((t,n)=>t.name>n.name?1:-1).map(t=>t.options)}function V4(e,t){if(e.length!==t.length)return!1;const n=TS(e),r=TS(t);return n.every((a,o)=>{const i=r[o];return pb(a,i)})}function mb(e){return typeof e=="number"}function sg(e){return typeof e=="string"}function Kh(e){return typeof e=="boolean"}function PS(e){return Object.prototype.toString.call(e)==="[object Object]"}function jt(e){return Math.abs(e)}function vb(e){return Math.sign(e)}function vl(e,t){return jt(e-t)}function z4(e,t){if(e===0||t===0||jt(e)<=jt(t))return 0;const n=vl(jt(e),jt(t));return jt(n/e)}function W4(e){return Math.round(e*100)/100}function jl(e){return Dl(e).map(Number)}function Tr(e){return e[Hu(e)]}function Hu(e){return Math.max(0,e.length-1)}function gb(e,t){return t===Hu(e)}function OS(e,t=0){return Array.from(Array(e),(n,r)=>t+r)}function Dl(e){return Object.keys(e)}function gE(e,t){return[e,t].reduce((n,r)=>(Dl(r).forEach(a=>{const o=n[a],i=r[a],s=PS(o)&&PS(i);n[a]=s?gE(o,i):i}),n),{})}function cg(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function H4(e,t){const n={start:r,center:a,end:o};function r(){return 0}function a(c){return o(c)/2}function o(c){return t-c}function i(c,l){return sg(e)?n[e](c):e(t,c,l)}return{measure:i}}function kl(){let e=[];function t(a,o,i,s={passive:!0}){let c;if("addEventListener"in a)a.addEventListener(o,i,s),c=()=>a.removeEventListener(o,i,s);else{const l=a;l.addListener(i),c=()=>l.removeListener(i)}return e.push(c),r}function n(){e=e.filter(a=>a())}const r={add:t,clear:n};return r}function q4(e,t,n,r){const a=kl(),o=1e3/60;let i=null,s=0,c=0;function l(){a.add(e,"visibilitychange",()=>{e.hidden&&p()})}function u(){h(),a.clear()}function d(v){if(!c)return;i||(i=v);const b=v-i;for(i=v,s+=b;s>=o;)n(),s-=o;const x=s/o;r(x),c&&(c=t.requestAnimationFrame(d))}function f(){c||(c=t.requestAnimationFrame(d))}function h(){t.cancelAnimationFrame(c),i=null,s=0,c=0}function p(){i=null,s=0}return{init:l,destroy:u,start:f,stop:h,update:n,render:r}}function G4(e,t){const n=t==="rtl",r=e==="y",a=r?"y":"x",o=r?"x":"y",i=!r&&n?-1:1,s=u(),c=d();function l(p){const{height:m,width:v}=p;return r?m:v}function u(){return r?"top":n?"right":"left"}function d(){return r?"bottom":n?"left":"right"}function f(p){return p*i}return{scroll:a,cross:o,startEdge:s,endEdge:c,measureSize:l,direction:f}}function vi(e=0,t=0){const n=jt(e-t);function r(l){return l<e}function a(l){return l>t}function o(l){return r(l)||a(l)}function i(l){return o(l)?r(l)?e:t:l}function s(l){return n?l-n*Math.ceil((l-t)/n):l}return{length:n,max:t,min:e,constrain:i,reachedAny:o,reachedMax:a,reachedMin:r,removeOffset:s}}function yE(e,t,n){const{constrain:r}=vi(0,e),a=e+1;let o=i(t);function i(f){return n?jt((a+f)%a):r(f)}function s(){return o}function c(f){return o=i(f),d}function l(f){return u().set(s()+f)}function u(){return yE(e,s(),n)}const d={get:s,set:c,add:l,clone:u};return d}function K4(e,t,n,r,a,o,i,s,c,l,u,d,f,h,p,m,v,b,x){const{cross:S,direction:A}=e,y=["INPUT","SELECT","TEXTAREA"],_={passive:!1},T=kl(),P=kl(),O=vi(50,225).constrain(h.measure(20)),j={mouse:300,touch:400},E={mouse:500,touch:600},C=p?43:25;let I=!1,R=0,$=0,F=!1,V=!1,H=!1,q=!1;function X(U){if(!x)return;function ve(Me){(Kh(x)||x(U,Me))&&rt(Me)}const ae=t;T.add(ae,"dragstart",Me=>Me.preventDefault(),_).add(ae,"touchmove",()=>{},_).add(ae,"touchend",()=>{}).add(ae,"touchstart",ve).add(ae,"mousedown",ve).add(ae,"touchcancel",Re).add(ae,"contextmenu",Re).add(ae,"click",K,!0)}function Y(){T.clear(),P.clear()}function J(){const U=q?n:t;P.add(U,"touchmove",Je,_).add(U,"touchend",Re).add(U,"mousemove",Je,_).add(U,"mouseup",Re)}function oe(U){const ve=U.nodeName||"";return y.includes(ve)}function Te(){return(p?E:j)[q?"mouse":"touch"]}function Ve(U,ve){const ae=d.add(vb(U)*-1),Me=u.byDistance(U,!p).distance;return p||jt(U)<O?Me:v&&ve?Me*.5:u.byIndex(ae.get(),0).distance}function rt(U){const ve=cg(U,r);q=ve,H=p&&ve&&!U.buttons&&I,I=vl(a.get(),i.get())>=2,!(ve&&U.button!==0)&&(oe(U.target)||(F=!0,o.pointerDown(U),l.useFriction(0).useDuration(0),a.set(i),J(),R=o.readPoint(U),$=o.readPoint(U,S),f.emit("pointerDown")))}function Je(U){if(!cg(U,r)&&U.touches.length>=2)return Re(U);const ae=o.readPoint(U),Me=o.readPoint(U,S),ke=vl(ae,R),Qe=vl(Me,$);if(!V&&!q&&(!U.cancelable||(V=ke>Qe,!V)))return Re(U);const D=o.pointerMove(U);ke>m&&(H=!0),l.useFriction(.3).useDuration(.75),s.start(),a.add(A(D)),U.preventDefault()}function Re(U){const ae=u.byDistance(0,!1).index!==d.get(),Me=o.pointerUp(U)*Te(),ke=Ve(A(Me),ae),Qe=z4(Me,ke),D=C-10*Qe,L=b+Qe/50;V=!1,F=!1,P.clear(),l.useDuration(D).useFriction(L),c.distance(ke,!p),q=!1,f.emit("pointerUp")}function K(U){H&&(U.stopPropagation(),U.preventDefault(),H=!1)}function fe(){return F}return{init:X,destroy:Y,pointerDown:fe}}function Y4(e,t){let r,a;function o(d){return d.timeStamp}function i(d,f){const p=`client${(f||e.scroll)==="x"?"X":"Y"}`;return(cg(d,t)?d:d.touches[0])[p]}function s(d){return r=d,a=d,i(d)}function c(d){const f=i(d)-i(a),h=o(d)-o(r)>170;return a=d,h&&(r=d),f}function l(d){if(!r||!a)return 0;const f=i(a)-i(r),h=o(d)-o(r),p=o(d)-o(a)>170,m=f/h;return h&&!p&&jt(m)>.1?m:0}return{pointerDown:s,pointerMove:c,pointerUp:l,readPoint:i}}function X4(){function e(n){const{offsetTop:r,offsetLeft:a,offsetWidth:o,offsetHeight:i}=n;return{top:r,right:a+o,bottom:r+i,left:a,width:o,height:i}}return{measure:e}}function Z4(e){function t(r){return e*(r/100)}return{measure:t}}function J4(e,t,n,r,a,o,i){const s=[e].concat(r);let c,l,u=[],d=!1;function f(v){return a.measureSize(i.measure(v))}function h(v){if(!o)return;l=f(e),u=r.map(f);function b(x){for(const S of x){if(d)return;const A=S.target===e,y=r.indexOf(S.target),_=A?l:u[y],T=f(A?e:r[y]);if(jt(T-_)>=.5){v.reInit(),t.emit("resize");break}}}c=new ResizeObserver(x=>{(Kh(o)||o(v,x))&&b(x)}),n.requestAnimationFrame(()=>{s.forEach(x=>c.observe(x))})}function p(){d=!0,c&&c.disconnect()}return{init:h,destroy:p}}function Q4(e,t,n,r,a,o){let i=0,s=0,c=a,l=o,u=e.get(),d=0;function f(){const _=r.get()-e.get(),T=!c;let P=0;return T?(i=0,n.set(r),e.set(r),P=_):(n.set(e),i+=_/c,i*=l,u+=i,e.add(i),P=u-d),s=vb(P),d=u,y}function h(){const _=r.get()-t.get();return jt(_)<.001}function p(){return c}function m(){return s}function v(){return i}function b(){return S(a)}function x(){return A(o)}function S(_){return c=_,y}function A(_){return l=_,y}const y={direction:m,duration:p,velocity:v,seek:f,settled:h,useBaseFriction:x,useBaseDuration:b,useFriction:A,useDuration:S};return y}function e5(e,t,n,r,a){const o=a.measure(10),i=a.measure(50),s=vi(.1,.99);let c=!1;function l(){return!(c||!e.reachedAny(n.get())||!e.reachedAny(t.get()))}function u(h){if(!l())return;const p=e.reachedMin(t.get())?"min":"max",m=jt(e[p]-t.get()),v=n.get()-t.get(),b=s.constrain(m/i);n.subtract(v*b),!h&&jt(v)<o&&(n.set(e.constrain(n.get())),r.useDuration(25).useBaseFriction())}function d(h){c=!h}return{shouldConstrain:l,constrain:u,toggleActive:d}}function t5(e,t,n,r,a){const o=vi(-t+e,0),i=d(),s=u(),c=f();function l(p,m){return vl(p,m)<1}function u(){const p=i[0],m=Tr(i),v=i.lastIndexOf(p),b=i.indexOf(m)+1;return vi(v,b)}function d(){return n.map((p,m)=>{const{min:v,max:b}=o,x=o.constrain(p),S=!m,A=gb(n,m);return S?b:A||l(v,x)?v:l(b,x)?b:x}).map(p=>parseFloat(p.toFixed(3)))}function f(){if(t<=e+a)return[o.max];if(r==="keepSnaps")return i;const{min:p,max:m}=s;return i.slice(p,m)}return{snapsContained:c,scrollContainLimit:s}}function n5(e,t,n){const r=t[0],a=n?r-e:Tr(t);return{limit:vi(a,r)}}function r5(e,t,n,r){const o=t.min+.1,i=t.max+.1,{reachedMin:s,reachedMax:c}=vi(o,i);function l(f){return f===1?c(n.get()):f===-1?s(n.get()):!1}function u(f){if(!l(f))return;const h=e*(f*-1);r.forEach(p=>p.add(h))}return{loop:u}}function a5(e){const{max:t,length:n}=e;function r(o){const i=o-t;return n?i/-n:0}return{get:r}}function o5(e,t,n,r,a){const{startEdge:o,endEdge:i}=e,{groupSlides:s}=a,c=d().map(t.measure),l=f(),u=h();function d(){return s(r).map(m=>Tr(m)[i]-m[0][o]).map(jt)}function f(){return r.map(m=>n[o]-m[o]).map(m=>-jt(m))}function h(){return s(l).map(m=>m[0]).map((m,v)=>m+c[v])}return{snaps:l,snapsAligned:u}}function i5(e,t,n,r,a,o){const{groupSlides:i}=a,{min:s,max:c}=r,l=u();function u(){const f=i(o),h=!e||t==="keepSnaps";return n.length===1?[o]:h?f:f.slice(s,c).map((p,m,v)=>{const b=!m,x=gb(v,m);if(b){const S=Tr(v[0])+1;return OS(S)}if(x){const S=Hu(o)-Tr(v)[0]+1;return OS(S,Tr(v)[0])}return p})}return{slideRegistry:l}}function s5(e,t,n,r,a){const{reachedAny:o,removeOffset:i,constrain:s}=r;function c(p){return p.concat().sort((m,v)=>jt(m)-jt(v))[0]}function l(p){const m=e?i(p):s(p),v=t.map((x,S)=>({diff:u(x-m,0),index:S})).sort((x,S)=>jt(x.diff)-jt(S.diff)),{index:b}=v[0];return{index:b,distance:m}}function u(p,m){const v=[p,p+n,p-n];if(!e)return p;if(!m)return c(v);const b=v.filter(x=>vb(x)===m);return b.length?c(b):Tr(v)-n}function d(p,m){const v=t[p]-a.get(),b=u(v,m);return{index:p,distance:b}}function f(p,m){const v=a.get()+p,{index:b,distance:x}=l(v),S=!e&&o(v);if(!m||S)return{index:b,distance:p};const A=t[b]-x,y=p+u(A,0);return{index:b,distance:y}}return{byDistance:f,byIndex:d,shortcut:u}}function c5(e,t,n,r,a,o,i){function s(d){const f=d.distance,h=d.index!==t.get();o.add(f),f&&(r.duration()?e.start():(e.update(),e.render(1),e.update())),h&&(n.set(t.get()),t.set(d.index),i.emit("select"))}function c(d,f){const h=a.byDistance(d,f);s(h)}function l(d,f){const h=t.clone().set(d),p=a.byIndex(h.get(),f);s(p)}return{distance:c,index:l}}function l5(e,t,n,r,a,o,i,s){const c={passive:!0,capture:!0};let l=0;function u(h){if(!s)return;function p(m){if(new Date().getTime()-l>10)return;i.emit("slideFocusStart"),e.scrollLeft=0;const x=n.findIndex(S=>S.includes(m));mb(x)&&(a.useDuration(0),r.index(x,0),i.emit("slideFocus"))}o.add(document,"keydown",d,!1),t.forEach((m,v)=>{o.add(m,"focus",b=>{(Kh(s)||s(h,b))&&p(v)},c)})}function d(h){h.code==="Tab"&&(l=new Date().getTime())}return{init:u}}function Qc(e){let t=e;function n(){return t}function r(c){t=i(c)}function a(c){t+=i(c)}function o(c){t-=i(c)}function i(c){return mb(c)?c:c.get()}return{get:n,set:r,add:a,subtract:o}}function bE(e,t){const n=e.scroll==="x"?i:s,r=t.style;let a=null,o=!1;function i(f){return`translate3d(${f}px,0px,0px)`}function s(f){return`translate3d(0px,${f}px,0px)`}function c(f){if(o)return;const h=W4(e.direction(f));h!==a&&(r.transform=n(h),a=h)}function l(f){o=!f}function u(){o||(r.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:u,to:c,toggleActive:l}}function u5(e,t,n,r,a,o,i,s,c){const u=jl(a),d=jl(a).reverse(),f=b().concat(x());function h(T,P){return T.reduce((O,j)=>O-a[j],P)}function p(T,P){return T.reduce((O,j)=>h(O,P)>0?O.concat([j]):O,[])}function m(T){return o.map((P,O)=>({start:P-r[O]+.5+T,end:P+t-.5+T}))}function v(T,P,O){const j=m(P);return T.map(E=>{const C=O?0:-n,I=O?n:0,R=O?"end":"start",$=j[E][R];return{index:E,loopPoint:$,slideLocation:Qc(-1),translate:bE(e,c[E]),target:()=>s.get()>$?C:I}})}function b(){const T=i[0],P=p(d,T);return v(P,n,!1)}function x(){const T=t-i[0]-1,P=p(u,T);return v(P,-n,!0)}function S(){return f.every(({index:T})=>{const P=u.filter(O=>O!==T);return h(P,t)<=.1})}function A(){f.forEach(T=>{const{target:P,translate:O,slideLocation:j}=T,E=P();E!==j.get()&&(O.to(E),j.set(E))})}function y(){f.forEach(T=>T.translate.clear())}return{canLoop:S,clear:y,loop:A,loopPoints:f}}function d5(e,t,n){let r,a=!1;function o(c){if(!n)return;function l(u){for(const d of u)if(d.type==="childList"){c.reInit(),t.emit("slidesChanged");break}}r=new MutationObserver(u=>{a||(Kh(n)||n(c,u))&&l(u)}),r.observe(e,{childList:!0})}function i(){r&&r.disconnect(),a=!0}return{init:o,destroy:i}}function f5(e,t,n,r){const a={};let o=null,i=null,s,c=!1;function l(){s=new IntersectionObserver(p=>{c||(p.forEach(m=>{const v=t.indexOf(m.target);a[v]=m}),o=null,i=null,n.emit("slidesInView"))},{root:e.parentElement,threshold:r}),t.forEach(p=>s.observe(p))}function u(){s&&s.disconnect(),c=!0}function d(p){return Dl(a).reduce((m,v)=>{const b=parseInt(v),{isIntersecting:x}=a[b];return(p&&x||!p&&!x)&&m.push(b),m},[])}function f(p=!0){if(p&&o)return o;if(!p&&i)return i;const m=d(p);return p&&(o=m),p||(i=m),m}return{init:l,destroy:u,get:f}}function h5(e,t,n,r,a,o){const{measureSize:i,startEdge:s,endEdge:c}=e,l=n[0]&&a,u=p(),d=m(),f=n.map(i),h=v();function p(){if(!l)return 0;const x=n[0];return jt(t[s]-x[s])}function m(){if(!l)return 0;const x=o.getComputedStyle(Tr(r));return parseFloat(x.getPropertyValue(`margin-${c}`))}function v(){return n.map((x,S,A)=>{const y=!S,_=gb(A,S);return y?f[S]+u:_?f[S]+d:A[S+1][s]-x[s]}).map(jt)}return{slideSizes:f,slideSizesWithGaps:h,startGap:u,endGap:d}}function p5(e,t,n,r,a,o,i,s,c){const{startEdge:l,endEdge:u,direction:d}=e,f=mb(n);function h(b,x){return jl(b).filter(S=>S%x===0).map(S=>b.slice(S,S+x))}function p(b){return b.length?jl(b).reduce((x,S,A)=>{const y=Tr(x)||0,_=y===0,T=S===Hu(b),P=a[l]-o[y][l],O=a[l]-o[S][u],j=!r&&_?d(i):0,E=!r&&T?d(s):0,C=jt(O-E-(P+j));return A&&C>t+c&&x.push(S),T&&x.push(b.length),x},[]).map((x,S,A)=>{const y=Math.max(A[S-1]||0);return b.slice(y,x)}):[]}function m(b){return f?h(b,n):p(b)}return{groupSlides:m}}function m5(e,t,n,r,a,o,i){const{align:s,axis:c,direction:l,startIndex:u,loop:d,duration:f,dragFree:h,dragThreshold:p,inViewThreshold:m,slidesToScroll:v,skipSnaps:b,containScroll:x,watchResize:S,watchSlides:A,watchDrag:y,watchFocus:_}=o,T=2,P=X4(),O=P.measure(t),j=n.map(P.measure),E=G4(c,l),C=E.measureSize(O),I=Z4(C),R=H4(s,C),$=!d&&!!x,F=d||!!x,{slideSizes:V,slideSizesWithGaps:H,startGap:q,endGap:X}=h5(E,O,j,n,F,a),Y=p5(E,C,v,d,O,j,q,X,T),{snaps:J,snapsAligned:oe}=o5(E,R,O,j,Y),Te=-Tr(J)+Tr(H),{snapsContained:Ve,scrollContainLimit:rt}=t5(C,Te,oe,x,T),Je=$?Ve:oe,{limit:Re}=n5(Te,Je,d),K=yE(Hu(Je),u,d),fe=K.clone(),ce=jl(n),U=({dragHandler:Dt,scrollBody:Ln,scrollBounds:kr,options:{loop:Sn}})=>{Sn||kr.constrain(Dt.pointerDown()),Ln.seek()},ve=({scrollBody:Dt,translate:Ln,location:kr,offsetLocation:Sn,previousLocation:Ra,scrollLooper:oa,slideLooper:ia,dragHandler:Oo,animation:sa,eventHandler:Ni,scrollBounds:Co,options:{loop:Mi}},$a)=>{const kt=Dt.settled(),$t=!Co.shouldConstrain(),ca=Mi?kt:kt&&$t;ca&&!Oo.pointerDown()&&(sa.stop(),Ni.emit("settle")),ca||Ni.emit("scroll");const ft=kr.get()*$a+Ra.get()*(1-$a);Sn.set(ft),Mi&&(oa.loop(Dt.direction()),ia.loop()),Ln.to(Sn.get())},ae=q4(r,a,()=>U(ur),Dt=>ve(ur,Dt)),Me=.68,ke=Je[K.get()],Qe=Qc(ke),D=Qc(ke),L=Qc(ke),z=Qc(ke),ne=Q4(Qe,L,D,z,f,Me),ee=s5(d,Je,Te,Re,z),Z=c5(ae,K,fe,ne,ee,z,i),ge=a5(Re),Se=kl(),et=f5(t,n,i,m),{slideRegistry:gt}=i5($,x,Je,rt,Y,ce),wn=l5(e,n,gt,Z,ne,Se,i,_),ur={ownerDocument:r,ownerWindow:a,eventHandler:i,containerRect:O,slideRects:j,animation:ae,axis:E,dragHandler:K4(E,e,r,a,z,Y4(E,a),Qe,ae,Z,ne,ee,K,i,I,h,p,b,Me,y),eventStore:Se,percentOfView:I,index:K,indexPrevious:fe,limit:Re,location:Qe,offsetLocation:L,previousLocation:D,options:o,resizeHandler:J4(t,i,a,n,E,S,P),scrollBody:ne,scrollBounds:e5(Re,L,z,ne,I),scrollLooper:r5(Te,Re,L,[Qe,L,D,z]),scrollProgress:ge,scrollSnapList:Je.map(ge.get),scrollSnaps:Je,scrollTarget:ee,scrollTo:Z,slideLooper:u5(E,C,Te,V,H,J,Je,L,n),slideFocus:wn,slidesHandler:d5(t,i,A),slidesInView:et,slideIndexes:ce,slideRegistry:gt,slidesToScroll:Y,target:z,translate:bE(E,t)};return ur}function v5(){let e={},t;function n(l){t=l}function r(l){return e[l]||[]}function a(l){return r(l).forEach(u=>u(t,l)),c}function o(l,u){return e[l]=r(l).concat([u]),c}function i(l,u){return e[l]=r(l).filter(d=>d!==u),c}function s(){e={}}const c={init:n,emit:a,off:i,on:o,clear:s};return c}const g5={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function y5(e){function t(o,i){return gE(o,i||{})}function n(o){const i=o.breakpoints||{},s=Dl(i).filter(c=>e.matchMedia(c).matches).map(c=>i[c]).reduce((c,l)=>t(c,l),{});return t(o,s)}function r(o){return o.map(i=>Dl(i.breakpoints||{})).reduce((i,s)=>i.concat(s),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:n,optionsMediaQueries:r}}function b5(e){let t=[];function n(o,i){return t=i.filter(({options:s})=>e.optionsAtMedia(s).active!==!1),t.forEach(s=>s.init(o,e)),i.reduce((s,c)=>Object.assign(s,{[c.name]:c}),{})}function r(){t=t.filter(o=>o.destroy())}return{init:n,destroy:r}}function wf(e,t,n){const r=e.ownerDocument,a=r.defaultView,o=y5(a),i=b5(o),s=kl(),c=v5(),{mergeOptions:l,optionsAtMedia:u,optionsMediaQueries:d}=o,{on:f,off:h,emit:p}=c,m=E;let v=!1,b,x=l(g5,wf.globalOptions),S=l(x),A=[],y,_,T;function P(){const{container:ce,slides:U}=S;_=(sg(ce)?e.querySelector(ce):ce)||e.children[0];const ae=sg(U)?_.querySelectorAll(U):U;T=[].slice.call(ae||_.children)}function O(ce){const U=m5(e,_,T,r,a,ce,c);if(ce.loop&&!U.slideLooper.canLoop()){const ve=Object.assign({},ce,{loop:!1});return O(ve)}return U}function j(ce,U){v||(x=l(x,ce),S=u(x),A=U||A,P(),b=O(S),d([x,...A.map(({options:ve})=>ve)]).forEach(ve=>s.add(ve,"change",E)),S.active&&(b.translate.to(b.location.get()),b.animation.init(),b.slidesInView.init(),b.slideFocus.init(fe),b.eventHandler.init(fe),b.resizeHandler.init(fe),b.slidesHandler.init(fe),b.options.loop&&b.slideLooper.loop(),_.offsetParent&&T.length&&b.dragHandler.init(fe),y=i.init(fe,A)))}function E(ce,U){const ve=Y();C(),j(l({startIndex:ve},ce),U),c.emit("reInit")}function C(){b.dragHandler.destroy(),b.eventStore.clear(),b.translate.clear(),b.slideLooper.clear(),b.resizeHandler.destroy(),b.slidesHandler.destroy(),b.slidesInView.destroy(),b.animation.destroy(),i.destroy(),s.clear()}function I(){v||(v=!0,s.clear(),C(),c.emit("destroy"),c.clear())}function R(ce,U,ve){!S.active||v||(b.scrollBody.useBaseFriction().useDuration(U===!0?0:S.duration),b.scrollTo.index(ce,ve||0))}function $(ce){const U=b.index.add(1).get();R(U,ce,-1)}function F(ce){const U=b.index.add(-1).get();R(U,ce,1)}function V(){return b.index.add(1).get()!==Y()}function H(){return b.index.add(-1).get()!==Y()}function q(){return b.scrollSnapList}function X(){return b.scrollProgress.get(b.location.get())}function Y(){return b.index.get()}function J(){return b.indexPrevious.get()}function oe(){return b.slidesInView.get()}function Te(){return b.slidesInView.get(!1)}function Ve(){return y}function rt(){return b}function Je(){return e}function Re(){return _}function K(){return T}const fe={canScrollNext:V,canScrollPrev:H,containerNode:Re,internalEngine:rt,destroy:I,off:h,on:f,emit:p,plugins:Ve,previousScrollSnap:J,reInit:m,rootNode:Je,scrollNext:$,scrollPrev:F,scrollProgress:X,scrollSnapList:q,scrollTo:R,selectedScrollSnap:Y,slideNodes:K,slidesInView:oe,slidesNotInView:Te};return j(t,n),setTimeout(()=>c.emit("init"),0),fe}wf.globalOptions=void 0;function yb(e={},t=[]){const n=w.useRef(e),r=w.useRef(t),[a,o]=w.useState(),[i,s]=w.useState(),c=w.useCallback(()=>{a&&a.reInit(n.current,r.current)},[a]);return w.useEffect(()=>{pb(n.current,e)||(n.current=e,c())},[e,c]),w.useEffect(()=>{V4(r.current,t)||(r.current=t,c())},[t,c]),w.useEffect(()=>{if(U4()&&i){wf.globalOptions=yb.globalOptions;const l=wf(i,n.current,r.current);return o(l),()=>l.destroy()}else o(void 0)},[i,o]),[s,a]}yb.globalOptions=void 0;const xE=w.createContext(null);function Yh(){const e=w.useContext(xE);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const wE=w.forwardRef(({orientation:e="horizontal",opts:t,setApi:n,plugins:r,className:a,children:o,...i},s)=>{const[c,l]=yb({...t,axis:e==="horizontal"?"x":"y"},r),[u,d]=w.useState(!1),[f,h]=w.useState(!1),p=w.useCallback(x=>{x&&(d(x.canScrollPrev()),h(x.canScrollNext()))},[]),m=w.useCallback(()=>{l==null||l.scrollPrev()},[l]),v=w.useCallback(()=>{l==null||l.scrollNext()},[l]),b=w.useCallback(x=>{x.key==="ArrowLeft"?(x.preventDefault(),m()):x.key==="ArrowRight"&&(x.preventDefault(),v())},[m,v]);return w.useEffect(()=>{!l||!n||n(l)},[l,n]),w.useEffect(()=>{if(l)return p(l),l.on("reInit",p),l.on("select",p),()=>{l==null||l.off("select",p)}},[l,p]),g.jsx(xE.Provider,{value:{carouselRef:c,api:l,opts:t,orientation:e||((t==null?void 0:t.axis)==="y"?"vertical":"horizontal"),scrollPrev:m,scrollNext:v,canScrollPrev:u,canScrollNext:f},children:g.jsx("div",{"data-component-path":"src\\components\\ui\\carousel.tsx","data-component-name":"div","data-component-line":"135","data-component-file":"carousel.tsx","data-component-content":"%7B%7D",ref:s,onKeyDownCapture:b,className:Ae("relative",a),role:"region","aria-roledescription":"carousel",...i,children:o})})});wE.displayName="Carousel";const SE=w.forwardRef(({className:e,...t},n)=>{const{carouselRef:r,orientation:a}=Yh();return g.jsx("div",{"data-component-path":"src\\components\\ui\\carousel.tsx","data-component-name":"div","data-component-line":"158","data-component-file":"carousel.tsx","data-component-content":"%7B%22className%22%3A%22overflow-hidden%22%7D",ref:r,className:"overflow-hidden",children:g.jsx("div",{"data-component-path":"src\\components\\ui\\carousel.tsx","data-component-name":"div","data-component-line":"159","data-component-file":"carousel.tsx","data-component-content":"%7B%7D",ref:n,className:Ae("flex",a==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...t})})});SE.displayName="CarouselContent";const _E=w.forwardRef(({className:e,...t},n)=>{const{orientation:r}=Yh();return g.jsx("div",{"data-component-path":"src\\components\\ui\\carousel.tsx","data-component-name":"div","data-component-line":"180","data-component-file":"carousel.tsx","data-component-content":"%7B%7D",ref:n,role:"group","aria-roledescription":"slide",className:Ae("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",e),...t})});_E.displayName="CarouselItem";const AE=w.forwardRef(({className:e,variant:t="outline",size:n="icon",...r},a)=>{const{orientation:o,scrollPrev:i,canScrollPrev:s}=Yh();return g.jsxs(dn,{"data-component-path":"src\\components\\ui\\carousel.tsx","data-component-name":"Button","data-component-line":"202","data-component-file":"carousel.tsx","data-component-content":"%7B%7D",ref:a,variant:t,size:n,className:Ae("absolute  h-8 w-8 rounded-full",o==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!s,onClick:i,...r,children:[g.jsx(bI,{"data-component-path":"src\\components\\ui\\carousel.tsx","data-component-name":"ArrowLeft","data-component-line":"217","data-component-file":"carousel.tsx","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D",className:"h-4 w-4"}),g.jsx("span",{"data-component-path":"src\\components\\ui\\carousel.tsx","data-component-name":"span","data-component-line":"218","data-component-file":"carousel.tsx","data-component-content":"%7B%22text%22%3A%22Previous%20slide%22%2C%22className%22%3A%22sr-only%22%7D",className:"sr-only",children:"Previous slide"})]})});AE.displayName="CarouselPrevious";const TE=w.forwardRef(({className:e,variant:t="outline",size:n="icon",...r},a)=>{const{orientation:o,scrollNext:i,canScrollNext:s}=Yh();return g.jsxs(dn,{"data-component-path":"src\\components\\ui\\carousel.tsx","data-component-name":"Button","data-component-line":"231","data-component-file":"carousel.tsx","data-component-content":"%7B%7D",ref:a,variant:t,size:n,className:Ae("absolute h-8 w-8 rounded-full",o==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!s,onClick:i,...r,children:[g.jsx(xI,{"data-component-path":"src\\components\\ui\\carousel.tsx","data-component-name":"ArrowRight","data-component-line":"246","data-component-file":"carousel.tsx","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D",className:"h-4 w-4"}),g.jsx("span",{"data-component-path":"src\\components\\ui\\carousel.tsx","data-component-name":"span","data-component-line":"247","data-component-file":"carousel.tsx","data-component-content":"%7B%22text%22%3A%22Next%20slide%22%2C%22className%22%3A%22sr-only%22%7D",className:"sr-only",children:"Next slide"})]})});TE.displayName="CarouselNext";var x5="Separator",CS="horizontal",w5=["horizontal","vertical"],PE=w.forwardRef((e,t)=>{const{decorative:n,orientation:r=CS,...a}=e,o=S5(r)?r:CS,s=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return g.jsx(nt.div,{"data-orientation":o,...s,...a,ref:t})});PE.displayName=x5;function S5(e){return w5.includes(e)}var OE=PE;const lg=w.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},a)=>g.jsx(OE,{ref:a,decorative:n,orientation:t,className:Ae("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));lg.displayName=OE.displayName;const _5=[{src:"/lovable-uploads/5bd1e0d3-a4e1-4275-9763-92ebb0a5b36c.png",alt:"Mr Gruas Logo with Truck",title:"Servicio Profesional de Grúas"},{src:"/lovable-uploads/241d8ca8-32ad-4b10-a3dd-d10b6ac33567.png",alt:"Mr Gruas Mountain Logo",title:"Cobertura Regional"},{src:"/lovable-uploads/3455912e-e855-4b8b-ade4-bed07e1c437b.png",alt:"Mr Gruas Highway",title:"Servicio en Carretera 24/7"}],A5=()=>g.jsx(Fe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:"flex flex-col items-center justify-center min-h-[100dvh] bg-gradient-to-br from-blue-100/80 via-blue-50/80 to-white/80 dark:from-blue-950/80 dark:via-blue-900/80 dark:to-gray-900/80 px-4 sm:px-6 py-safe",children:g.jsxs("div",{"data-component-path":"src\\components\\index\\LoadingSpinner.tsx","data-component-name":"div","data-component-line":"31","data-component-file":"LoadingSpinner.tsx","data-component-content":"%7B%22className%22%3A%22relative%20w-full%20max-w-lg%20mx-auto%22%7D",className:"relative w-full max-w-lg mx-auto",children:[g.jsx("div",{"data-component-path":"src\\components\\index\\LoadingSpinner.tsx","data-component-name":"div","data-component-line":"32","data-component-file":"LoadingSpinner.tsx","data-component-content":"%7B%22className%22%3A%22absolute%20inset-0%20bg-gradient-to-r%20from-blue-500%2F10%20via-purple-500%2F10%20to-pink-500%2F10%20blur-3xl%22%7D",className:"absolute inset-0 bg-gradient-to-r from-blue-500/10 via-purple-500/10 to-pink-500/10 blur-3xl"}),g.jsxs("div",{"data-component-path":"src\\components\\index\\LoadingSpinner.tsx","data-component-name":"div","data-component-line":"33","data-component-file":"LoadingSpinner.tsx","data-component-content":"%7B%22className%22%3A%22glass-card%20p-4%20sm%3Ap-8%20rounded-xl%20shadow-lg%20border%20border-blue-200%2F30%20bg-white%2F80%20dark%3Abg-gray-900%2F80%20backdrop-blur-lg%20text-center%20relative%20overflow-hidden%22%7D",className:"glass-card p-4 sm:p-8 rounded-xl shadow-lg border border-blue-200/30 bg-white/80 dark:bg-gray-900/80 backdrop-blur-lg text-center relative overflow-hidden",children:[g.jsx("div",{"data-component-path":"src\\components\\index\\LoadingSpinner.tsx","data-component-name":"div","data-component-line":"34","data-component-file":"LoadingSpinner.tsx","data-component-content":"%7B%22className%22%3A%22absolute%20inset-0%20bg-gradient-to-r%20from-blue-400%2F10%20via-blue-500%2F5%20to-blue-400%2F10%20animate-shimmer%22%7D",className:"absolute inset-0 bg-gradient-to-r from-blue-400/10 via-blue-500/5 to-blue-400/10 animate-shimmer"}),g.jsx("div",{"data-component-path":"src\\components\\index\\LoadingSpinner.tsx","data-component-name":"div","data-component-line":"35","data-component-file":"LoadingSpinner.tsx","data-component-content":"%7B%22className%22%3A%22relative%20mb-6%20sm%3Amb-8%22%7D",className:"relative mb-6 sm:mb-8",children:g.jsxs(wE,{"data-component-path":"src\\components\\index\\LoadingSpinner.tsx","data-component-name":"Carousel","data-component-line":"36","data-component-file":"LoadingSpinner.tsx","data-component-content":"%7B%22className%22%3A%22w-full%20max-w-xs%20mx-auto%20touch-pan-y%22%7D",className:"w-full max-w-xs mx-auto touch-pan-y",opts:{align:"start",loop:!0},children:[g.jsx(SE,{"data-component-path":"src\\components\\index\\LoadingSpinner.tsx","data-component-name":"CarouselContent","data-component-line":"43","data-component-file":"LoadingSpinner.tsx","data-component-content":"%7B%7D",children:_5.map((e,t)=>g.jsx(_E,{"data-component-path":"src\\components\\index\\LoadingSpinner.tsx","data-component-name":"CarouselItem","data-component-line":"45","data-component-file":"LoadingSpinner.tsx","data-component-content":"%7B%7D",children:g.jsxs(Fe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:t*.2},className:"relative aspect-video overflow-hidden rounded-lg shadow-blue-200/50 dark:shadow-blue-500/20 shadow-lg group",children:[g.jsx("img",{"data-component-path":"src\\components\\index\\LoadingSpinner.tsx","data-component-name":"img","data-component-line":"52","data-component-file":"LoadingSpinner.tsx","data-component-content":"%7B%22className%22%3A%22object-contain%20w-full%20h-full%20transform%20transition-transform%20duration-300%20group-hover%3Ascale-105%22%7D",src:e.src,alt:e.alt,className:"object-contain w-full h-full transform transition-transform duration-300 group-hover:scale-105",loading:"lazy"}),g.jsx("div",{"data-component-path":"src\\components\\index\\LoadingSpinner.tsx","data-component-name":"div","data-component-line":"58","data-component-file":"LoadingSpinner.tsx","data-component-content":"%7B%22className%22%3A%22absolute%20inset-0%20bg-gradient-to-t%20from-blue-900%2F60%20to-transparent%22%7D",className:"absolute inset-0 bg-gradient-to-t from-blue-900/60 to-transparent",children:g.jsx("p",{"data-component-path":"src\\components\\index\\LoadingSpinner.tsx","data-component-name":"p","data-component-line":"59","data-component-file":"LoadingSpinner.tsx","data-component-content":"%7B%22className%22%3A%22absolute%20bottom-2%20sm%3Abottom-4%20left-2%20sm%3Aleft-4%20text-white%20text-sm%20sm%3Atext-base%20font-semibold%20text-shadow%22%7D",className:"absolute bottom-2 sm:bottom-4 left-2 sm:left-4 text-white text-sm sm:text-base font-semibold text-shadow",children:e.title})})]})},t))}),g.jsx(AE,{"data-component-path":"src\\components\\index\\LoadingSpinner.tsx","data-component-name":"CarouselPrevious","data-component-line":"67","data-component-file":"LoadingSpinner.tsx","data-component-content":"%7B%22className%22%3A%22hidden%20sm%3Aflex%20-left-4%20border-blue-200%20hover%3Abg-blue-50%20dark%3Aborder-blue-700%20dark%3Ahover%3Abg-blue-900%2F50%22%7D",className:"hidden sm:flex -left-4 border-blue-200 hover:bg-blue-50 dark:border-blue-700 dark:hover:bg-blue-900/50"}),g.jsx(TE,{"data-component-path":"src\\components\\index\\LoadingSpinner.tsx","data-component-name":"CarouselNext","data-component-line":"68","data-component-file":"LoadingSpinner.tsx","data-component-content":"%7B%22className%22%3A%22hidden%20sm%3Aflex%20-right-4%20border-blue-200%20hover%3Abg-blue-50%20dark%3Aborder-blue-700%20dark%3Ahover%3Abg-blue-900%2F50%22%7D",className:"hidden sm:flex -right-4 border-blue-200 hover:bg-blue-50 dark:border-blue-700 dark:hover:bg-blue-900/50"})]})}),g.jsxs("div",{"data-component-path":"src\\components\\index\\LoadingSpinner.tsx","data-component-name":"div","data-component-line":"71","data-component-file":"LoadingSpinner.tsx","data-component-content":"%7B%22className%22%3A%22relative%22%7D",className:"relative",children:[g.jsx("div",{"data-component-path":"src\\components\\index\\LoadingSpinner.tsx","data-component-name":"div","data-component-line":"72","data-component-file":"LoadingSpinner.tsx","data-component-content":"%7B%22className%22%3A%22absolute%20inset-0%20bg-blue-500%2F20%20dark%3Abg-blue-400%2F10%20blur-xl%20rounded-full%22%7D",className:"absolute inset-0 bg-blue-500/20 dark:bg-blue-400/10 blur-xl rounded-full"}),g.jsx(pi,{"data-component-path":"src\\components\\index\\LoadingSpinner.tsx","data-component-name":"Loader2","data-component-line":"73","data-component-file":"LoadingSpinner.tsx","data-component-content":"%7B%22className%22%3A%22h-8%20w-8%20sm%3Ah-12%20sm%3Aw-12%20animate-spin%20text-blue-600%20dark%3Atext-blue-400%20relative%20z-10%20mx-auto%22%7D",className:"h-8 w-8 sm:h-12 sm:w-12 animate-spin text-blue-600 dark:text-blue-400 relative z-10 mx-auto"})]}),g.jsx(lg,{"data-component-path":"src\\components\\index\\LoadingSpinner.tsx","data-component-name":"Separator","data-component-line":"75","data-component-file":"LoadingSpinner.tsx","data-component-content":"%7B%22className%22%3A%22my-4%20sm%3Amy-6%20bg-blue-200%2F30%20dark%3Abg-blue-700%2F30%22%7D",className:"my-4 sm:my-6 bg-blue-200/30 dark:bg-blue-700/30"}),g.jsx(Fe.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-xl sm:text-2xl md:text-3xl font-bold mb-2 bg-gradient-to-r from-blue-600 via-blue-500 to-blue-600 bg-clip-text text-transparent font-heading",children:"Cargando las rutas"}),g.jsx(Fe.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mt-2 sm:mt-4 text-sm sm:text-base md:text-lg font-medium bg-gradient-to-r from-blue-500 via-blue-400 to-blue-500 bg-clip-text text-transparent animate-pulse",children:"Preparando el mapa..."}),g.jsx(lg,{"data-component-path":"src\\components\\index\\LoadingSpinner.tsx","data-component-name":"Separator","data-component-line":"92","data-component-file":"LoadingSpinner.tsx","data-component-content":"%7B%22className%22%3A%22my-3%20sm%3Amy-4%20bg-blue-200%2F30%20dark%3Abg-blue-700%2F30%22%7D",className:"my-3 sm:my-4 bg-blue-200/30 dark:bg-blue-700/30"}),g.jsxs(Fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mt-2 text-xs sm:text-sm text-blue-600/70 dark:text-blue-400/70 text-center leading-relaxed",children:["Por favor espera mientras preparamos tu mapa interactivo",g.jsx("span",{"data-component-path":"src\\components\\index\\LoadingSpinner.tsx","data-component-name":"span","data-component-line":"100","data-component-file":"LoadingSpinner.tsx","data-component-content":"%7B%22text%22%3A%22Esto%20tomar%C3%A1%20un%20momento...%22%2C%22className%22%3A%22block%20mt-1%20text-xs%20text-blue-500%20hover%3Atext-blue-600%20dark%3Atext-blue-400%20dark%3Ahover%3Atext-blue-300%20transition-colors%22%7D",className:"block mt-1 text-xs text-blue-500 hover:text-blue-600 dark:text-blue-400 dark:hover:text-blue-300 transition-colors",children:"Esto tomará un momento..."})]})]})]})});var T5=w.createContext(void 0);function Xh(e){const t=w.useContext(T5);return e||t||"ltr"}function P5(e,t=[]){let n=[];function r(o,i){const s=w.createContext(i),c=n.length;n=[...n,i];function l(d){const{scope:f,children:h,...p}=d,m=(f==null?void 0:f[e][c])||s,v=w.useMemo(()=>p,Object.values(p));return g.jsx(m.Provider,{value:v,children:h})}function u(d,f){const h=(f==null?void 0:f[e][c])||s,p=w.useContext(h);if(p)return p;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${o}\``)}return l.displayName=o+"Provider",[l,u]}const a=()=>{const o=n.map(i=>w.createContext(i));return function(s){const c=(s==null?void 0:s[e])||o;return w.useMemo(()=>({[`__scope${e}`]:{...s,[e]:c}}),[s,c])}};return a.scopeName=e,[r,O5(a,...t)]}function O5(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=r.reduce((s,{useScope:c,scopeName:l})=>{const d=c(o)[`__scope${l}`];return{...s,...d}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function Zh(e){const t=e+"CollectionProvider",[n,r]=P5(t),[a,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=h=>{const{scope:p,children:m}=h,v=k.useRef(null),b=k.useRef(new Map).current;return g.jsx(a,{scope:p,itemMap:b,collectionRef:v,children:m})};i.displayName=t;const s=e+"CollectionSlot",c=k.forwardRef((h,p)=>{const{scope:m,children:v}=h,b=o(s,m),x=bn(p,b.collectionRef);return g.jsx(rf,{ref:x,children:v})});c.displayName=s;const l=e+"CollectionItemSlot",u="data-radix-collection-item",d=k.forwardRef((h,p)=>{const{scope:m,children:v,...b}=h,x=k.useRef(null),S=bn(p,x),A=o(l,m);return k.useEffect(()=>(A.itemMap.set(x,{ref:x,...b}),()=>void A.itemMap.delete(x))),g.jsx(rf,{[u]:"",ref:S,children:v})});d.displayName=l;function f(h){const p=o(e+"CollectionConsumer",h);return k.useCallback(()=>{const v=p.collectionRef.current;if(!v)return[];const b=Array.from(v.querySelectorAll(`[${u}]`));return Array.from(p.itemMap.values()).sort((A,y)=>b.indexOf(A.ref.current)-b.indexOf(y.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:i,Slot:c,ItemSlot:d},f,r]}function C5(e){const t=w.useRef({value:e,previous:e});return w.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var E5="VisuallyHidden",Jh=w.forwardRef((e,t)=>g.jsx(nt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Jh.displayName=E5;var j5=Jh,ic="NavigationMenu",[bb,CE,D5]=Zh(ic),[ug,k5,N5]=Zh(ic),[xb,Lbe]=kh(ic,[D5,N5]),[M5,ir]=xb(ic),[R5,$5]=xb(ic),EE=w.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,value:r,onValueChange:a,defaultValue:o,delayDuration:i=200,skipDelayDuration:s=300,orientation:c="horizontal",dir:l,...u}=e,[d,f]=w.useState(null),h=bn(t,O=>f(O)),p=Xh(l),m=w.useRef(0),v=w.useRef(0),b=w.useRef(0),[x,S]=w.useState(!0),[A="",y]=Ru({prop:r,onChange:O=>{const j=O!=="",E=s>0;j?(window.clearTimeout(b.current),E&&S(!1)):(window.clearTimeout(b.current),b.current=window.setTimeout(()=>S(!0),s)),a==null||a(O)},defaultProp:o}),_=w.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>y(""),150)},[y]),T=w.useCallback(O=>{window.clearTimeout(v.current),y(O)},[y]),P=w.useCallback(O=>{A===O?window.clearTimeout(v.current):m.current=window.setTimeout(()=>{window.clearTimeout(v.current),y(O)},i)},[A,y,i]);return w.useEffect(()=>()=>{window.clearTimeout(m.current),window.clearTimeout(v.current),window.clearTimeout(b.current)},[]),g.jsx(DE,{scope:n,isRootMenu:!0,value:A,dir:p,orientation:c,rootNavigationMenu:d,onTriggerEnter:O=>{window.clearTimeout(m.current),x?P(O):T(O)},onTriggerLeave:()=>{window.clearTimeout(m.current),_()},onContentEnter:()=>window.clearTimeout(v.current),onContentLeave:_,onItemSelect:O=>{y(j=>j===O?"":O)},onItemDismiss:()=>y(""),children:g.jsx(nt.nav,{"aria-label":"Main","data-orientation":c,dir:p,...u,ref:h})})});EE.displayName=ic;var jE="NavigationMenuSub",I5=w.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,value:r,onValueChange:a,defaultValue:o,orientation:i="horizontal",...s}=e,c=ir(jE,n),[l="",u]=Ru({prop:r,onChange:a,defaultProp:o});return g.jsx(DE,{scope:n,isRootMenu:!1,value:l,dir:c.dir,orientation:i,rootNavigationMenu:c.rootNavigationMenu,onTriggerEnter:d=>u(d),onItemSelect:d=>u(d),onItemDismiss:()=>u(""),children:g.jsx(nt.div,{"data-orientation":i,...s,ref:t})})});I5.displayName=jE;var DE=e=>{const{scope:t,isRootMenu:n,rootNavigationMenu:r,dir:a,orientation:o,children:i,value:s,onItemSelect:c,onItemDismiss:l,onTriggerEnter:u,onTriggerLeave:d,onContentEnter:f,onContentLeave:h}=e,[p,m]=w.useState(null),[v,b]=w.useState(new Map),[x,S]=w.useState(null);return g.jsx(M5,{scope:t,isRootMenu:n,rootNavigationMenu:r,value:s,previousValue:C5(s),baseId:Nh(),dir:a,orientation:o,viewport:p,onViewportChange:m,indicatorTrack:x,onIndicatorTrackChange:S,onTriggerEnter:Yt(u),onTriggerLeave:Yt(d),onContentEnter:Yt(f),onContentLeave:Yt(h),onItemSelect:Yt(c),onItemDismiss:Yt(l),onViewportContentChange:w.useCallback((A,y)=>{b(_=>(_.set(A,y),new Map(_)))},[]),onViewportContentRemove:w.useCallback(A=>{b(y=>y.has(A)?(y.delete(A),new Map(y)):y)},[]),children:g.jsx(bb.Provider,{scope:t,children:g.jsx(R5,{scope:t,items:v,children:i})})})},kE="NavigationMenuList",NE=w.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,...r}=e,a=ir(kE,n),o=g.jsx(nt.ul,{"data-orientation":a.orientation,...r,ref:t});return g.jsx(nt.div,{style:{position:"relative"},ref:a.onIndicatorTrackChange,children:g.jsx(bb.Slot,{scope:n,children:a.isRootMenu?g.jsx(zE,{asChild:!0,children:o}):o})})});NE.displayName=kE;var ME="NavigationMenuItem",[L5,RE]=xb(ME),$E=w.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,value:r,...a}=e,o=Nh(),i=r||o||"LEGACY_REACT_AUTO_VALUE",s=w.useRef(null),c=w.useRef(null),l=w.useRef(null),u=w.useRef(()=>{}),d=w.useRef(!1),f=w.useCallback((p="start")=>{if(s.current){u.current();const m=fg(s.current);m.length&&_b(p==="start"?m:m.reverse())}},[]),h=w.useCallback(()=>{if(s.current){const p=fg(s.current);p.length&&(u.current=H5(p))}},[]);return g.jsx(L5,{scope:n,value:i,triggerRef:c,contentRef:s,focusProxyRef:l,wasEscapeCloseRef:d,onEntryKeyDown:f,onFocusProxyEnter:f,onRootContentClose:h,onContentFocusOutside:h,children:g.jsx(nt.li,{...a,ref:t})})});$E.displayName=ME;var dg="NavigationMenuTrigger",IE=w.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,disabled:r,...a}=e,o=ir(dg,e.__scopeNavigationMenu),i=RE(dg,e.__scopeNavigationMenu),s=w.useRef(null),c=bn(s,i.triggerRef,t),l=HE(o.baseId,i.value),u=qE(o.baseId,i.value),d=w.useRef(!1),f=w.useRef(!1),h=i.value===o.value;return g.jsxs(g.Fragment,{children:[g.jsx(bb.ItemSlot,{scope:n,value:i.value,children:g.jsx(WE,{asChild:!0,children:g.jsx(nt.button,{id:l,disabled:r,"data-disabled":r?"":void 0,"data-state":Ab(h),"aria-expanded":h,"aria-controls":u,...a,ref:c,onPointerEnter:Ue(e.onPointerEnter,()=>{f.current=!1,i.wasEscapeCloseRef.current=!1}),onPointerMove:Ue(e.onPointerMove,Sf(()=>{r||f.current||i.wasEscapeCloseRef.current||d.current||(o.onTriggerEnter(i.value),d.current=!0)})),onPointerLeave:Ue(e.onPointerLeave,Sf(()=>{r||(o.onTriggerLeave(),d.current=!1)})),onClick:Ue(e.onClick,()=>{o.onItemSelect(i.value),f.current=h}),onKeyDown:Ue(e.onKeyDown,p=>{const v={horizontal:"ArrowDown",vertical:o.dir==="rtl"?"ArrowLeft":"ArrowRight"}[o.orientation];h&&p.key===v&&(i.onEntryKeyDown(),p.preventDefault())})})})}),h&&g.jsxs(g.Fragment,{children:[g.jsx(j5,{"aria-hidden":!0,tabIndex:0,ref:i.focusProxyRef,onFocus:p=>{const m=i.contentRef.current,v=p.relatedTarget,b=v===s.current,x=m==null?void 0:m.contains(v);(b||!x)&&i.onFocusProxyEnter(b?"start":"end")}}),o.viewport&&g.jsx("span",{"aria-owns":u})]})]})});IE.displayName=dg;var B5="NavigationMenuLink",ES="navigationMenu.linkSelect",LE=w.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,active:r,onSelect:a,...o}=e;return g.jsx(WE,{asChild:!0,children:g.jsx(nt.a,{"data-active":r?"":void 0,"aria-current":r?"page":void 0,...o,ref:t,onClick:Ue(e.onClick,i=>{const s=i.target,c=new CustomEvent(ES,{bubbles:!0,cancelable:!0});if(s.addEventListener(ES,l=>a==null?void 0:a(l),{once:!0}),Sv(s,c),!c.defaultPrevented&&!i.metaKey){const l=new CustomEvent(ef,{bubbles:!0,cancelable:!0});Sv(s,l)}},{checkForDefaultPrevented:!1})})})});LE.displayName=B5;var wb="NavigationMenuIndicator",BE=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=ir(wb,e.__scopeNavigationMenu),o=!!a.value;return a.indicatorTrack?r$.createPortal(g.jsx(ea,{present:n||o,children:g.jsx(F5,{...r,ref:t})}),a.indicatorTrack):null});BE.displayName=wb;var F5=w.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,...r}=e,a=ir(wb,n),o=CE(n),[i,s]=w.useState(null),[c,l]=w.useState(null),u=a.orientation==="horizontal",d=!!a.value;w.useEffect(()=>{var m;const p=(m=o().find(v=>v.value===a.value))==null?void 0:m.ref.current;p&&s(p)},[o,a.value]);const f=()=>{i&&l({size:u?i.offsetWidth:i.offsetHeight,offset:u?i.offsetLeft:i.offsetTop})};return hg(i,f),hg(a.indicatorTrack,f),c?g.jsx(nt.div,{"aria-hidden":!0,"data-state":d?"visible":"hidden","data-orientation":a.orientation,...r,ref:t,style:{position:"absolute",...u?{left:0,width:c.size+"px",transform:`translateX(${c.offset}px)`}:{top:0,height:c.size+"px",transform:`translateY(${c.offset}px)`},...r.style}}):null}),Es="NavigationMenuContent",FE=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=ir(Es,e.__scopeNavigationMenu),o=RE(Es,e.__scopeNavigationMenu),i=bn(o.contentRef,t),s=o.value===a.value,c={value:o.value,triggerRef:o.triggerRef,focusProxyRef:o.focusProxyRef,wasEscapeCloseRef:o.wasEscapeCloseRef,onContentFocusOutside:o.onContentFocusOutside,onRootContentClose:o.onRootContentClose,...r};return a.viewport?g.jsx(U5,{forceMount:n,...c,ref:i}):g.jsx(ea,{present:n||s,children:g.jsx(UE,{"data-state":Ab(s),...c,ref:i,onPointerEnter:Ue(e.onPointerEnter,a.onContentEnter),onPointerLeave:Ue(e.onPointerLeave,Sf(a.onContentLeave)),style:{pointerEvents:!s&&a.isRootMenu?"none":void 0,...c.style}})})});FE.displayName=Es;var U5=w.forwardRef((e,t)=>{const n=ir(Es,e.__scopeNavigationMenu),{onViewportContentChange:r,onViewportContentRemove:a}=n;return _l(()=>{r(e.value,{ref:t,...e})},[e,t,r]),_l(()=>()=>a(e.value),[e.value,a]),null}),ef="navigationMenu.rootContentDismiss",UE=w.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,value:r,triggerRef:a,focusProxyRef:o,wasEscapeCloseRef:i,onRootContentClose:s,onContentFocusOutside:c,...l}=e,u=ir(Es,n),d=w.useRef(null),f=bn(d,t),h=HE(u.baseId,r),p=qE(u.baseId,r),m=CE(n),v=w.useRef(null),{onItemDismiss:b}=u;w.useEffect(()=>{const S=d.current;if(u.isRootMenu&&S){const A=()=>{var y;b(),s(),S.contains(document.activeElement)&&((y=a.current)==null||y.focus())};return S.addEventListener(ef,A),()=>S.removeEventListener(ef,A)}},[u.isRootMenu,e.value,a,b,s]);const x=w.useMemo(()=>{const A=m().map(j=>j.value);u.dir==="rtl"&&A.reverse();const y=A.indexOf(u.value),_=A.indexOf(u.previousValue),T=r===u.value,P=_===A.indexOf(r);if(!T&&!P)return v.current;const O=(()=>{if(y!==_){if(T&&_!==-1)return y>_?"from-end":"from-start";if(P&&y!==-1)return y>_?"to-start":"to-end"}return null})();return v.current=O,O},[u.previousValue,u.value,u.dir,m,r]);return g.jsx(zE,{asChild:!0,children:g.jsx(JR,{id:p,"aria-labelledby":h,"data-motion":x,"data-orientation":u.orientation,...l,ref:f,disableOutsidePointerEvents:!1,onDismiss:()=>{var A;const S=new Event(ef,{bubbles:!0,cancelable:!0});(A=d.current)==null||A.dispatchEvent(S)},onFocusOutside:Ue(e.onFocusOutside,S=>{var y;c();const A=S.target;(y=u.rootNavigationMenu)!=null&&y.contains(A)&&S.preventDefault()}),onPointerDownOutside:Ue(e.onPointerDownOutside,S=>{var T;const A=S.target,y=m().some(P=>{var O;return(O=P.ref.current)==null?void 0:O.contains(A)}),_=u.isRootMenu&&((T=u.viewport)==null?void 0:T.contains(A));(y||_||!u.isRootMenu)&&S.preventDefault()}),onKeyDown:Ue(e.onKeyDown,S=>{var _;const A=S.altKey||S.ctrlKey||S.metaKey;if(S.key==="Tab"&&!A){const T=fg(S.currentTarget),P=document.activeElement,O=T.findIndex(C=>C===P),E=S.shiftKey?T.slice(0,O).reverse():T.slice(O+1,T.length);_b(E)?S.preventDefault():(_=o.current)==null||_.focus()}}),onEscapeKeyDown:Ue(e.onEscapeKeyDown,S=>{i.current=!0})})})}),Sb="NavigationMenuViewport",VE=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=!!ir(Sb,e.__scopeNavigationMenu).value;return g.jsx(ea,{present:n||o,children:g.jsx(V5,{...r,ref:t})})});VE.displayName=Sb;var V5=w.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,children:r,...a}=e,o=ir(Sb,n),i=bn(t,o.onViewportChange),s=$5(Es,e.__scopeNavigationMenu),[c,l]=w.useState(null),[u,d]=w.useState(null),f=c?(c==null?void 0:c.width)+"px":void 0,h=c?(c==null?void 0:c.height)+"px":void 0,p=!!o.value,m=p?o.value:o.previousValue;return hg(u,()=>{u&&l({width:u.offsetWidth,height:u.offsetHeight})}),g.jsx(nt.div,{"data-state":Ab(p),"data-orientation":o.orientation,...a,ref:i,style:{pointerEvents:!p&&o.isRootMenu?"none":void 0,"--radix-navigation-menu-viewport-width":f,"--radix-navigation-menu-viewport-height":h,...a.style},onPointerEnter:Ue(e.onPointerEnter,o.onContentEnter),onPointerLeave:Ue(e.onPointerLeave,Sf(o.onContentLeave)),children:Array.from(s.items).map(([b,{ref:x,forceMount:S,...A}])=>{const y=m===b;return g.jsx(ea,{present:S||y,children:g.jsx(UE,{...A,ref:QR(x,_=>{y&&_&&d(_)})})},b)})})}),z5="FocusGroup",zE=w.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,...r}=e,a=ir(z5,n);return g.jsx(ug.Provider,{scope:n,children:g.jsx(ug.Slot,{scope:n,children:g.jsx(nt.div,{dir:a.dir,...r,ref:t})})})}),jS=["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],W5="FocusGroupItem",WE=w.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,...r}=e,a=k5(n),o=ir(W5,n);return g.jsx(ug.ItemSlot,{scope:n,children:g.jsx(nt.button,{...r,ref:t,onKeyDown:Ue(e.onKeyDown,i=>{if(["Home","End",...jS].includes(i.key)){let c=a().map(d=>d.ref.current);if([o.dir==="rtl"?"ArrowRight":"ArrowLeft","ArrowUp","End"].includes(i.key)&&c.reverse(),jS.includes(i.key)){const d=c.indexOf(i.currentTarget);c=c.slice(d+1)}setTimeout(()=>_b(c)),i.preventDefault()}})})})});function fg(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function _b(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}function H5(e){return e.forEach(t=>{t.dataset.tabindex=t.getAttribute("tabindex")||"",t.setAttribute("tabindex","-1")}),()=>{e.forEach(t=>{const n=t.dataset.tabindex;t.setAttribute("tabindex",n)})}}function hg(e,t){const n=Yt(t);_l(()=>{let r=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return a.observe(e),()=>{window.cancelAnimationFrame(r),a.unobserve(e)}}},[e,n])}function Ab(e){return e?"open":"closed"}function HE(e,t){return`${e}-trigger-${t}`}function qE(e,t){return`${e}-content-${t}`}function Sf(e){return t=>t.pointerType==="mouse"?e(t):void 0}var GE=EE,KE=NE,q5=$E,YE=IE,G5=LE,XE=BE,ZE=FE,JE=VE;const QE=w.forwardRef(({className:e,children:t,...n},r)=>g.jsxs(GE,{ref:r,className:Ae("relative z-10 flex max-w-max flex-1 items-center justify-center",e),...n,children:[t,g.jsx(rj,{"data-component-path":"src\\components\\ui\\navigation-menu.tsx","data-component-name":"NavigationMenuViewport","data-component-line":"21","data-component-file":"navigation-menu.tsx","data-component-content":"%7B%7D"})]}));QE.displayName=GE.displayName;const ej=w.forwardRef(({className:e,...t},n)=>g.jsx(KE,{ref:n,className:Ae("group flex flex-1 list-none items-center justify-center space-x-1",e),...t}));ej.displayName=KE.displayName;const K5=q5,Y5=zu("group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50"),tj=w.forwardRef(({className:e,children:t,...n},r)=>g.jsxs(YE,{ref:r,className:Ae(Y5(),"group",e),...n,children:[t," ",g.jsx(AI,{"data-component-path":"src\\components\\ui\\navigation-menu.tsx","data-component-name":"ChevronDown","data-component-line":"57","data-component-file":"navigation-menu.tsx","data-component-content":"%7B%22className%22%3A%22relative%20top-%5B1px%5D%20ml-1%20h-3%20w-3%20transition%20duration-200%20group-data-%5Bstate%3Dopen%5D%3Arotate-180%22%7D",className:"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180","aria-hidden":"true"})]}));tj.displayName=YE.displayName;const nj=w.forwardRef(({className:e,...t},n)=>g.jsx(ZE,{ref:n,className:Ae("left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto ",e),...t}));nj.displayName=ZE.displayName;const X5=G5,rj=w.forwardRef(({className:e,...t},n)=>g.jsx("div",{"data-component-path":"src\\components\\ui\\navigation-menu.tsx","data-component-name":"div","data-component-line":"86","data-component-file":"navigation-menu.tsx","data-component-content":"%7B%7D",className:Ae("absolute left-0 top-full flex justify-center"),children:g.jsx(JE,{className:Ae("origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]",e),ref:n,...t})}));rj.displayName=JE.displayName;const Z5=w.forwardRef(({className:e,...t},n)=>g.jsx(XE,{ref:n,className:Ae("top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in",e),...t,children:g.jsx("div",{"data-component-path":"src\\components\\ui\\navigation-menu.tsx","data-component-name":"div","data-component-line":"112","data-component-file":"navigation-menu.tsx","data-component-content":"%7B%22className%22%3A%22relative%20top-%5B60%25%5D%20h-4%20w-4%20rotate-45%20rounded-tl-sm%20bg-border%20shadow-md%22%7D",className:"relative top-[60%] h-4 w-4 rotate-45 rounded-tl-sm bg-border shadow-md"})}));Z5.displayName=XE.displayName;const oi=w.forwardRef(({className:e,type:t,...n},r)=>g.jsx("input",{"data-component-path":"src\\components\\ui\\input.tsx","data-component-name":"input","data-component-line":"10","data-component-file":"input.tsx","data-component-content":"%7B%7D",type:t,className:Ae("flex h-10 w-full rounded-lg border border-input bg-background px-4 py-2","text-sm ring-offset-background transition-colors duration-200","placeholder:text-muted-foreground/60","focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none","disabled:cursor-not-allowed disabled:opacity-50","file:border-0 file:bg-transparent file:text-sm file:font-medium",e),ref:r,...n}));oi.displayName="Input";const J5=()=>{const e=Iu(),{toast:t}=ta(),[n,r]=w.useState(!1),a=()=>{r(!0),t({title:"Modo Administrador Activado",description:"Has accedido como administrador (modo prueba)"}),e("/admin")},o=()=>{e("/user")};return g.jsx("div",{"data-component-path":"src\\components\\index\\NavigationBar.tsx","data-component-name":"div","data-component-line":"28","data-component-file":"NavigationBar.tsx","data-component-content":"%7B%22className%22%3A%22relative%20z-20%20w-full%20bg-white%2F80%20backdrop-blur-sm%20shadow-sm%22%7D",className:"relative z-20 w-full bg-white/80 backdrop-blur-sm shadow-sm",children:g.jsx("div",{"data-component-path":"src\\components\\index\\NavigationBar.tsx","data-component-name":"div","data-component-line":"29","data-component-file":"NavigationBar.tsx","data-component-content":"%7B%22className%22%3A%22container%20mx-auto%20px-4%20py-3%22%7D",className:"container mx-auto px-4 py-3",children:g.jsxs("div",{"data-component-path":"src\\components\\index\\NavigationBar.tsx","data-component-name":"div","data-component-line":"30","data-component-file":"NavigationBar.tsx","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%22%7D",className:"flex items-center justify-between",children:[g.jsx(QE,{"data-component-path":"src\\components\\index\\NavigationBar.tsx","data-component-name":"NavigationMenu","data-component-line":"31","data-component-file":"NavigationBar.tsx","data-component-content":"%7B%7D",children:g.jsx(ej,{"data-component-path":"src\\components\\index\\NavigationBar.tsx","data-component-name":"NavigationMenuList","data-component-line":"32","data-component-file":"NavigationBar.tsx","data-component-content":"%7B%7D",children:g.jsxs(K5,{"data-component-path":"src\\components\\index\\NavigationBar.tsx","data-component-name":"NavigationMenuItem","data-component-line":"33","data-component-file":"NavigationBar.tsx","data-component-content":"%7B%7D",children:[g.jsx(tj,{"data-component-path":"src\\components\\index\\NavigationBar.tsx","data-component-name":"NavigationMenuTrigger","data-component-line":"34","data-component-file":"NavigationBar.tsx","data-component-content":"%7B%22text%22%3A%22Navegaci%C3%B3n%22%7D",children:"Navegación"}),g.jsx(nj,{"data-component-path":"src\\components\\index\\NavigationBar.tsx","data-component-name":"NavigationMenuContent","data-component-line":"35","data-component-file":"NavigationBar.tsx","data-component-content":"%7B%7D",children:g.jsx("div",{"data-component-path":"src\\components\\index\\NavigationBar.tsx","data-component-name":"div","data-component-line":"36","data-component-file":"NavigationBar.tsx","data-component-content":"%7B%22className%22%3A%22grid%20gap-3%20p-6%20w-%5B400px%5D%22%7D",className:"grid gap-3 p-6 w-[400px]",children:g.jsxs(X5,{"data-component-path":"src\\components\\index\\NavigationBar.tsx","data-component-name":"NavigationMenuLink","data-component-line":"37","data-component-file":"NavigationBar.tsx","data-component-content":"%7B%22className%22%3A%22block%20select-none%20space-y-1%20rounded-md%20p-3%20leading-none%20no-underline%20outline-none%20transition-colors%20hover%3Abg-accent%20hover%3Atext-accent-foreground%20focus%3Abg-accent%20focus%3Atext-accent-foreground%22%7D",className:"block select-none space-y-1 rounded-md p-3 leading-none no-underline outline-none transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground",onClick:()=>e("/"),children:[g.jsx("div",{"data-component-path":"src\\components\\index\\NavigationBar.tsx","data-component-name":"div","data-component-line":"41","data-component-file":"NavigationBar.tsx","data-component-content":"%7B%22text%22%3A%22Inicio%22%2C%22className%22%3A%22text-sm%20font-medium%20leading-none%22%7D",className:"text-sm font-medium leading-none",children:"Inicio"}),g.jsx("p",{"data-component-path":"src\\components\\index\\NavigationBar.tsx","data-component-name":"p","data-component-line":"42","data-component-file":"NavigationBar.tsx","data-component-content":"%7B%22text%22%3A%22Volver%20a%20la%20p%C3%A1gina%20principal%22%2C%22className%22%3A%22line-clamp-2%20text-sm%20leading-snug%20text-muted-foreground%22%7D",className:"line-clamp-2 text-sm leading-snug text-muted-foreground",children:"Volver a la página principal"})]})})})]})})}),g.jsxs("div",{"data-component-path":"src\\components\\index\\NavigationBar.tsx","data-component-name":"div","data-component-line":"52","data-component-file":"NavigationBar.tsx","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-4%22%7D",className:"flex items-center space-x-4",children:[g.jsxs("div",{"data-component-path":"src\\components\\index\\NavigationBar.tsx","data-component-name":"div","data-component-line":"53","data-component-file":"NavigationBar.tsx","data-component-content":"%7B%22className%22%3A%22relative%22%7D",className:"relative",children:[g.jsx(HP,{"data-component-path":"src\\components\\index\\NavigationBar.tsx","data-component-name":"Search","data-component-line":"54","data-component-file":"NavigationBar.tsx","data-component-content":"%7B%22className%22%3A%22absolute%20left-3%20top-1%2F2%20transform%20-translate-y-1%2F2%20text-gray-400%20h-4%20w-4%22%7D",className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),g.jsx(oi,{"data-component-path":"src\\components\\index\\NavigationBar.tsx","data-component-name":"Input","data-component-line":"55","data-component-file":"NavigationBar.tsx","data-component-content":"%7B%22placeholder%22%3A%22Buscar...%22%2C%22className%22%3A%22pl-10%20w-%5B200px%5D%22%7D",type:"text",placeholder:"Buscar...",className:"pl-10 w-[200px]"})]}),g.jsxs(dn,{"data-component-path":"src\\components\\index\\NavigationBar.tsx","data-component-name":"Button","data-component-line":"62","data-component-file":"NavigationBar.tsx","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-2%22%7D",variant:"outline",size:"sm",onClick:o,className:"flex items-center space-x-2",children:[g.jsx(RI,{"data-component-path":"src\\components\\index\\NavigationBar.tsx","data-component-name":"User","data-component-line":"68","data-component-file":"NavigationBar.tsx","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D",className:"h-4 w-4"}),g.jsx("span",{"data-component-path":"src\\components\\index\\NavigationBar.tsx","data-component-name":"span","data-component-line":"69","data-component-file":"NavigationBar.tsx","data-component-content":"%7B%22text%22%3A%22Usuario%22%7D",children:"Usuario"})]}),g.jsxs(dn,{"data-component-path":"src\\components\\index\\NavigationBar.tsx","data-component-name":"Button","data-component-line":"72","data-component-file":"NavigationBar.tsx","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-2%22%7D",variant:"outline",size:"sm",onClick:a,className:"flex items-center space-x-2",children:[g.jsx(GP,{"data-component-path":"src\\components\\index\\NavigationBar.tsx","data-component-name":"Shield","data-component-line":"78","data-component-file":"NavigationBar.tsx","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D",className:"h-4 w-4"}),g.jsx("span",{"data-component-path":"src\\components\\index\\NavigationBar.tsx","data-component-name":"span","data-component-line":"79","data-component-file":"NavigationBar.tsx","data-component-content":"%7B%22text%22%3A%22Admin%22%7D",children:"Admin"})]})]})]})})})},Q5=w.lazy(()=>mi(()=>import("./TowMap-SFcZvpFI.js"),__vite__mapDeps([0,1,2,3]))),ez=()=>{const e=vE();return g.jsx(aE,{"data-component-path":"src\\pages\\index.tsx","data-component-name":"FormProvider","data-component-line":"14","data-component-file":"index.tsx","data-component-content":"%7B%7D",...e,children:g.jsxs(Fe.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"relative min-h-[100dvh] overflow-hidden bg-gradient-to-br from-blue-50/90 via-white/90 to-blue-100/90 dark:from-blue-950/90 dark:via-gray-900/90 dark:to-blue-900/90 safe-area-view",children:[g.jsx("div",{"data-component-path":"src\\pages\\index.tsx","data-component-name":"div","data-component-line":"21","data-component-file":"index.tsx","data-component-content":"%7B%22className%22%3A%22absolute%20inset-0%20bg-grid-pattern%20opacity-5%22%7D",className:"absolute inset-0 bg-grid-pattern opacity-5"}),g.jsx("div",{"data-component-path":"src\\pages\\index.tsx","data-component-name":"div","data-component-line":"22","data-component-file":"index.tsx","data-component-content":"%7B%22className%22%3A%22absolute%20inset-0%20bg-gradient-to-br%20from-blue-500%2F5%20via-transparent%20to-blue-600%2F5%22%7D",className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 via-transparent to-blue-600/5"}),g.jsx("div",{"data-component-path":"src\\pages\\index.tsx","data-component-name":"div","data-component-line":"23","data-component-file":"index.tsx","data-component-content":"%7B%22className%22%3A%22absolute%20inset-0%20bg-%5Bradial-gradient(ellipse_at_top%2C_var(--tw-gradient-stops))%5D%20from-blue-200%2F20%20via-transparent%20to-transparent%22%7D",className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-blue-200/20 via-transparent to-transparent"}),g.jsx(J5,{"data-component-path":"src\\pages\\index.tsx","data-component-name":"NavigationBar","data-component-line":"25","data-component-file":"index.tsx","data-component-content":"%7B%7D"}),g.jsx("div",{"data-component-path":"src\\pages\\index.tsx","data-component-name":"div","data-component-line":"27","data-component-file":"index.tsx","data-component-content":"%7B%22className%22%3A%22relative%20z-10%20h-full%22%7D",className:"relative z-10 h-full",children:g.jsx(B4,{"data-component-path":"src\\pages\\index.tsx","data-component-name":"TowingWrapper","data-component-line":"28","data-component-file":"index.tsx","data-component-content":"%7B%7D",children:g.jsx(w.Suspense,{"data-component-path":"src\\pages\\index.tsx","data-component-name":"Suspense","data-component-line":"29","data-component-file":"index.tsx","data-component-content":"%7B%7D",fallback:g.jsx(A5,{"data-component-path":"src\\pages\\index.tsx","data-component-name":"LoadingSpinner","data-component-line":"29","data-component-file":"index.tsx","data-component-content":"%7B%7D"}),children:g.jsx(Q5,{"data-component-path":"src\\pages\\index.tsx","data-component-name":"TowMap","data-component-line":"30","data-component-file":"index.tsx","data-component-content":"%7B%7D"})})})})]})})};function tz(e,t=[]){let n=[];function r(o,i){const s=w.createContext(i),c=n.length;n=[...n,i];function l(d){const{scope:f,children:h,...p}=d,m=(f==null?void 0:f[e][c])||s,v=w.useMemo(()=>p,Object.values(p));return g.jsx(m.Provider,{value:v,children:h})}function u(d,f){const h=(f==null?void 0:f[e][c])||s,p=w.useContext(h);if(p)return p;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${o}\``)}return l.displayName=o+"Provider",[l,u]}const a=()=>{const o=n.map(i=>w.createContext(i));return function(s){const c=(s==null?void 0:s[e])||o;return w.useMemo(()=>({[`__scope${e}`]:{...s,[e]:c}}),[s,c])}};return a.scopeName=e,[r,nz(a,...t)]}function nz(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=r.reduce((s,{useScope:c,scopeName:l})=>{const d=c(o)[`__scope${l}`];return{...s,...d}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var Rm="rovingFocusGroup.onEntryFocus",rz={bubbles:!1,cancelable:!0},Qh="RovingFocusGroup",[pg,aj,az]=Zh(Qh),[oz,oj]=tz(Qh,[az]),[iz,sz]=oz(Qh),ij=w.forwardRef((e,t)=>g.jsx(pg.Provider,{scope:e.__scopeRovingFocusGroup,children:g.jsx(pg.Slot,{scope:e.__scopeRovingFocusGroup,children:g.jsx(cz,{...e,ref:t})})}));ij.displayName=Qh;var cz=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:c,onEntryFocus:l,preventScrollOnEntryFocus:u=!1,...d}=e,f=w.useRef(null),h=bn(t,f),p=Xh(o),[m=null,v]=Ru({prop:i,defaultProp:s,onChange:c}),[b,x]=w.useState(!1),S=Yt(l),A=aj(n),y=w.useRef(!1),[_,T]=w.useState(0);return w.useEffect(()=>{const P=f.current;if(P)return P.addEventListener(Rm,S),()=>P.removeEventListener(Rm,S)},[S]),g.jsx(iz,{scope:n,orientation:r,dir:p,loop:a,currentTabStopId:m,onItemFocus:w.useCallback(P=>v(P),[v]),onItemShiftTab:w.useCallback(()=>x(!0),[]),onFocusableItemAdd:w.useCallback(()=>T(P=>P+1),[]),onFocusableItemRemove:w.useCallback(()=>T(P=>P-1),[]),children:g.jsx(nt.div,{tabIndex:b||_===0?-1:0,"data-orientation":r,...d,ref:h,style:{outline:"none",...e.style},onMouseDown:Ue(e.onMouseDown,()=>{y.current=!0}),onFocus:Ue(e.onFocus,P=>{const O=!y.current;if(P.target===P.currentTarget&&O&&!b){const j=new CustomEvent(Rm,rz);if(P.currentTarget.dispatchEvent(j),!j.defaultPrevented){const E=A().filter(F=>F.focusable),C=E.find(F=>F.active),I=E.find(F=>F.id===m),$=[C,I,...E].filter(Boolean).map(F=>F.ref.current);lj($,u)}}y.current=!1}),onBlur:Ue(e.onBlur,()=>x(!1))})})}),sj="RovingFocusGroupItem",cj=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:o,...i}=e,s=Nh(),c=o||s,l=sz(sj,n),u=l.currentTabStopId===c,d=aj(n),{onFocusableItemAdd:f,onFocusableItemRemove:h}=l;return w.useEffect(()=>{if(r)return f(),()=>h()},[r,f,h]),g.jsx(pg.ItemSlot,{scope:n,id:c,focusable:r,active:a,children:g.jsx(nt.span,{tabIndex:u?0:-1,"data-orientation":l.orientation,...i,ref:t,onMouseDown:Ue(e.onMouseDown,p=>{r?l.onItemFocus(c):p.preventDefault()}),onFocus:Ue(e.onFocus,()=>l.onItemFocus(c)),onKeyDown:Ue(e.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){l.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const m=dz(p,l.orientation,l.dir);if(m!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let b=d().filter(x=>x.focusable).map(x=>x.ref.current);if(m==="last")b.reverse();else if(m==="prev"||m==="next"){m==="prev"&&b.reverse();const x=b.indexOf(p.currentTarget);b=l.loop?fz(b,x+1):b.slice(x+1)}setTimeout(()=>lj(b))}})})})});cj.displayName=sj;var lz={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function uz(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function dz(e,t,n){const r=uz(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return lz[r]}function lj(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function fz(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var hz=ij,pz=cj,Tb="Tabs",[mz,Bbe]=kh(Tb,[oj]),uj=oj(),[vz,Pb]=mz(Tb),dj=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:o,orientation:i="horizontal",dir:s,activationMode:c="automatic",...l}=e,u=Xh(s),[d,f]=Ru({prop:r,onChange:a,defaultProp:o});return g.jsx(vz,{scope:n,baseId:Nh(),value:d,onValueChange:f,orientation:i,dir:u,activationMode:c,children:g.jsx(nt.div,{dir:u,"data-orientation":i,...l,ref:t})})});dj.displayName=Tb;var fj="TabsList",hj=w.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...a}=e,o=Pb(fj,n),i=uj(n);return g.jsx(hz,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:g.jsx(nt.div,{role:"tablist","aria-orientation":o.orientation,...a,ref:t})})});hj.displayName=fj;var pj="TabsTrigger",mj=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...o}=e,i=Pb(pj,n),s=uj(n),c=yj(i.baseId,r),l=bj(i.baseId,r),u=r===i.value;return g.jsx(pz,{asChild:!0,...s,focusable:!a,active:u,children:g.jsx(nt.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":l,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...o,ref:t,onMouseDown:Ue(e.onMouseDown,d=>{!a&&d.button===0&&d.ctrlKey===!1?i.onValueChange(r):d.preventDefault()}),onKeyDown:Ue(e.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&i.onValueChange(r)}),onFocus:Ue(e.onFocus,()=>{const d=i.activationMode!=="manual";!u&&!a&&d&&i.onValueChange(r)})})})});mj.displayName=pj;var vj="TabsContent",gj=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:a,children:o,...i}=e,s=Pb(vj,n),c=yj(s.baseId,r),l=bj(s.baseId,r),u=r===s.value,d=w.useRef(u);return w.useEffect(()=>{const f=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(f)},[]),g.jsx(ea,{present:a||u,children:({present:f})=>g.jsx(nt.div,{"data-state":u?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:l,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:f&&o})})});gj.displayName=vj;function yj(e,t){return`${e}-trigger-${t}`}function bj(e,t){return`${e}-content-${t}`}var gz=dj,xj=hj,wj=mj,Sj=gj;const _j=gz,Ob=w.forwardRef(({className:e,...t},n)=>g.jsx(xj,{ref:n,className:Ae("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Ob.displayName=xj.displayName;const Ho=w.forwardRef(({className:e,...t},n)=>g.jsx(wj,{ref:n,className:Ae("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ho.displayName=wj.displayName;const qo=w.forwardRef(({className:e,...t},n)=>g.jsx(Sj,{ref:n,className:Ae("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));qo.displayName=Sj.displayName;const yz=({onDownload:e})=>g.jsxs("div",{"data-component-path":"src\\components\\form\\DownloadButtons.tsx","data-component-name":"div","data-component-line":"11","data-component-file":"DownloadButtons.tsx","data-component-content":"%7B%22className%22%3A%22flex%20gap-2%20flex-1%22%7D",className:"flex gap-2 flex-1",children:[g.jsxs(dn,{"data-component-path":"src\\components\\form\\DownloadButtons.tsx","data-component-name":"Button","data-component-line":"12","data-component-file":"DownloadButtons.tsx","data-component-content":"%7B%22text%22%3A%22CSV%22%2C%22className%22%3A%22flex-1%20bg-gradient-to-r%20from-emerald-50%20to-teal-50%20border-emerald-200%20hover%3Aborder-emerald-300%20hover%3Abg-emerald-100%20transition-all%20duration-300%22%7D",type:"button",variant:"outline",onClick:()=>e("csv"),className:"flex-1 bg-gradient-to-r from-emerald-50 to-teal-50 border-emerald-200 hover:border-emerald-300 hover:bg-emerald-100 transition-all duration-300",children:[g.jsx(CI,{"data-component-path":"src\\components\\form\\DownloadButtons.tsx","data-component-name":"Download","data-component-line":"18","data-component-file":"DownloadButtons.tsx","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20mr-2%20text-emerald-600%22%7D",className:"w-4 h-4 mr-2 text-emerald-600"}),"CSV"]}),g.jsxs(dn,{"data-component-path":"src\\components\\form\\DownloadButtons.tsx","data-component-name":"Button","data-component-line":"21","data-component-file":"DownloadButtons.tsx","data-component-content":"%7B%22text%22%3A%22TXT%22%2C%22className%22%3A%22flex-1%20bg-gradient-to-r%20from-blue-50%20to-indigo-50%20border-blue-200%20hover%3Aborder-blue-300%20hover%3Abg-blue-100%20transition-all%20duration-300%22%7D",type:"button",variant:"outline",onClick:()=>e("txt"),className:"flex-1 bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200 hover:border-blue-300 hover:bg-blue-100 transition-all duration-300",children:[g.jsx(EI,{"data-component-path":"src\\components\\form\\DownloadButtons.tsx","data-component-name":"FileText","data-component-line":"27","data-component-file":"DownloadButtons.tsx","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20mr-2%20text-blue-600%22%7D",className:"w-4 h-4 mr-2 text-blue-600"}),"TXT"]})]}),Cb=w.forwardRef(({className:e,...t},n)=>g.jsx("div",{"data-component-path":"src\\components\\ui\\table.tsx","data-component-name":"div","data-component-line":"9","data-component-file":"table.tsx","data-component-content":"%7B%22className%22%3A%22relative%20w-full%20overflow-auto%22%7D",className:"relative w-full overflow-auto",children:g.jsx("table",{"data-component-path":"src\\components\\ui\\table.tsx","data-component-name":"table","data-component-line":"10","data-component-file":"table.tsx","data-component-content":"%7B%7D",ref:n,className:Ae("w-full caption-bottom text-sm",e),...t})}));Cb.displayName="Table";const Eb=w.forwardRef(({className:e,...t},n)=>g.jsx("thead",{"data-component-path":"src\\components\\ui\\table.tsx","data-component-name":"thead","data-component-line":"23","data-component-file":"table.tsx","data-component-content":"%7B%7D",ref:n,className:Ae("[&_tr]:border-b",e),...t}));Eb.displayName="TableHeader";const jb=w.forwardRef(({className:e,...t},n)=>g.jsx("tbody",{"data-component-path":"src\\components\\ui\\table.tsx","data-component-name":"tbody","data-component-line":"31","data-component-file":"table.tsx","data-component-content":"%7B%7D",ref:n,className:Ae("[&_tr:last-child]:border-0",e),...t}));jb.displayName="TableBody";const bz=w.forwardRef(({className:e,...t},n)=>g.jsx("tfoot",{"data-component-path":"src\\components\\ui\\table.tsx","data-component-name":"tfoot","data-component-line":"43","data-component-file":"table.tsx","data-component-content":"%7B%7D",ref:n,className:Ae("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));bz.displayName="TableFooter";const Nl=w.forwardRef(({className:e,...t},n)=>g.jsx("tr",{"data-component-path":"src\\components\\ui\\table.tsx","data-component-name":"tr","data-component-line":"58","data-component-file":"table.tsx","data-component-content":"%7B%7D",ref:n,className:Ae("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Nl.displayName="TableRow";const br=w.forwardRef(({className:e,...t},n)=>g.jsx("th",{"data-component-path":"src\\components\\ui\\table.tsx","data-component-name":"th","data-component-line":"73","data-component-file":"table.tsx","data-component-content":"%7B%7D",ref:n,className:Ae("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));br.displayName="TableHead";const xr=w.forwardRef(({className:e,...t},n)=>g.jsx("td",{"data-component-path":"src\\components\\ui\\table.tsx","data-component-name":"td","data-component-line":"88","data-component-file":"table.tsx","data-component-content":"%7B%7D",ref:n,className:Ae("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));xr.displayName="TableCell";const xz=w.forwardRef(({className:e,...t},n)=>g.jsx("caption",{"data-component-path":"src\\components\\ui\\table.tsx","data-component-name":"caption","data-component-line":"100","data-component-file":"table.tsx","data-component-content":"%7B%7D",ref:n,className:Ae("mt-4 text-sm text-muted-foreground",e),...t}));xz.displayName="TableCaption";const wz=({reservations:e,isLoading:t})=>{const{toast:n}=ta();return g.jsx(Fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"rounded-md border",children:g.jsxs(Cb,{"data-component-path":"src\\features\\reservations\\components\\ReservationList.tsx","data-component-name":"Table","data-component-line":"32","data-component-file":"ReservationList.tsx","data-component-content":"%7B%7D",children:[g.jsx(Eb,{"data-component-path":"src\\features\\reservations\\components\\ReservationList.tsx","data-component-name":"TableHeader","data-component-line":"33","data-component-file":"ReservationList.tsx","data-component-content":"%7B%7D",children:g.jsxs(Nl,{"data-component-path":"src\\features\\reservations\\components\\ReservationList.tsx","data-component-name":"TableRow","data-component-line":"34","data-component-file":"ReservationList.tsx","data-component-content":"%7B%7D",children:[g.jsx(br,{"data-component-path":"src\\features\\reservations\\components\\ReservationList.tsx","data-component-name":"TableHead","data-component-line":"35","data-component-file":"ReservationList.tsx","data-component-content":"%7B%22text%22%3A%22ID%22%7D",children:"ID"}),g.jsx(br,{"data-component-path":"src\\features\\reservations\\components\\ReservationList.tsx","data-component-name":"TableHead","data-component-line":"36","data-component-file":"ReservationList.tsx","data-component-content":"%7B%22text%22%3A%22Status%22%7D",children:"Status"}),g.jsx(br,{"data-component-path":"src\\features\\reservations\\components\\ReservationList.tsx","data-component-name":"TableHead","data-component-line":"37","data-component-file":"ReservationList.tsx","data-component-content":"%7B%22text%22%3A%22Created%22%7D",children:"Created"}),g.jsx(br,{"data-component-path":"src\\features\\reservations\\components\\ReservationList.tsx","data-component-name":"TableHead","data-component-line":"38","data-component-file":"ReservationList.tsx","data-component-content":"%7B%22text%22%3A%22Customer%22%7D",children:"Customer"}),g.jsx(br,{"data-component-path":"src\\features\\reservations\\components\\ReservationList.tsx","data-component-name":"TableHead","data-component-line":"39","data-component-file":"ReservationList.tsx","data-component-content":"%7B%22text%22%3A%22Vehicle%22%7D",children:"Vehicle"}),g.jsx(br,{"data-component-path":"src\\features\\reservations\\components\\ReservationList.tsx","data-component-name":"TableHead","data-component-line":"40","data-component-file":"ReservationList.tsx","data-component-content":"%7B%22text%22%3A%22Actions%22%7D",children:"Actions"})]})}),g.jsx(jb,{"data-component-path":"src\\features\\reservations\\components\\ReservationList.tsx","data-component-name":"TableBody","data-component-line":"43","data-component-file":"ReservationList.tsx","data-component-content":"%7B%7D",children:e.map(r=>g.jsxs(Nl,{"data-component-path":"src\\features\\reservations\\components\\ReservationList.tsx","data-component-name":"TableRow","data-component-line":"45","data-component-file":"ReservationList.tsx","data-component-content":"%7B%7D",children:[g.jsx(xr,{"data-component-path":"src\\features\\reservations\\components\\ReservationList.tsx","data-component-name":"TableCell","data-component-line":"46","data-component-file":"ReservationList.tsx","data-component-content":"%7B%7D",children:r.id}),g.jsx(xr,{"data-component-path":"src\\features\\reservations\\components\\ReservationList.tsx","data-component-name":"TableCell","data-component-line":"47","data-component-file":"ReservationList.tsx","data-component-content":"%7B%7D",children:g.jsx("span",{"data-component-path":"src\\features\\reservations\\components\\ReservationList.tsx","data-component-name":"span","data-component-line":"48","data-component-file":"ReservationList.tsx","data-component-content":"%7B%7D",className:`px-2 py-1 rounded-full text-xs ${r.status==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:r.status})}),g.jsx(xr,{"data-component-path":"src\\features\\reservations\\components\\ReservationList.tsx","data-component-name":"TableCell","data-component-line":"58","data-component-file":"ReservationList.tsx","data-component-content":"%7B%7D",children:r.createdAt.toLocaleDateString()}),g.jsx(xr,{"data-component-path":"src\\features\\reservations\\components\\ReservationList.tsx","data-component-name":"TableCell","data-component-line":"61","data-component-file":"ReservationList.tsx","data-component-content":"%7B%7D",children:r.username}),g.jsx(xr,{"data-component-path":"src\\features\\reservations\\components\\ReservationList.tsx","data-component-name":"TableCell","data-component-line":"62","data-component-file":"ReservationList.tsx","data-component-content":"%7B%7D",children:`${r.vehicleYear} ${r.vehicleMake} ${r.vehicleModel}`}),g.jsx(xr,{"data-component-path":"src\\features\\reservations\\components\\ReservationList.tsx","data-component-name":"TableCell","data-component-line":"63","data-component-file":"ReservationList.tsx","data-component-content":"%7B%7D",children:g.jsx(dn,{"data-component-path":"src\\features\\reservations\\components\\ReservationList.tsx","data-component-name":"Button","data-component-line":"64","data-component-file":"ReservationList.tsx","data-component-content":"%7B%22text%22%3A%22Ver%22%7D",variant:"outline",size:"sm",onClick:()=>{n({title:"Ver Detalles",description:`Viendo reserva ${r.id}`})},children:"Ver"})})]},r.id))})]})})},Sz=(e,t,n,r)=>{if(n==="length"||n==="prototype"||n==="arguments"||n==="caller")return;const a=Object.getOwnPropertyDescriptor(e,n),o=Object.getOwnPropertyDescriptor(t,n);!_z(a,o)&&r||Object.defineProperty(e,n,o)},_z=function(e,t){return e===void 0||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},Az=(e,t)=>{const n=Object.getPrototypeOf(t);n!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,n)},Tz=(e,t)=>`/* Wrapped ${e}*/
${t}`,Pz=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),Oz=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),Cz=(e,t,n)=>{const r=n===""?"":`with ${n.trim()}() `,a=Tz.bind(null,r,t.toString());Object.defineProperty(a,"name",Oz),Object.defineProperty(e,"toString",{...Pz,value:a})},Ez=(e,t,{ignoreNonConfigurable:n=!1}={})=>{const{name:r}=e;for(const a of Reflect.ownKeys(t))Sz(e,t,a,n);return Az(e,t),Cz(e,t,r),e};var jz=Ez,mg={exports:{}},Dz=()=>{const e={};return e.promise=new Promise((t,n)=>{e.resolve=t,e.reject=n}),e};(function(e,t){var n=Vt&&Vt.__awaiter||function(i,s,c,l){return new(c||(c=Promise))(function(u,d){function f(m){try{p(l.next(m))}catch(v){d(v)}}function h(m){try{p(l.throw(m))}catch(v){d(v)}}function p(m){m.done?u(m.value):new c(function(v){v(m.value)}).then(f,h)}p((l=l.apply(i,s||[])).next())})},r=Vt&&Vt.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(Dz);function o(i,s="maxAge"){let c,l,u;const d=()=>n(this,void 0,void 0,function*(){if(c!==void 0)return;const p=m=>n(this,void 0,void 0,function*(){u=a.default();const v=m[1][s]-Date.now();if(v<=0){i.delete(m[0]),u.resolve();return}return c=m[0],l=setTimeout(()=>{i.delete(m[0]),u&&u.resolve()},v),typeof l.unref=="function"&&l.unref(),u.promise});try{for(const m of i)yield p(m)}catch{}c=void 0}),f=()=>{c=void 0,l!==void 0&&(clearTimeout(l),l=void 0),u!==void 0&&(u.reject(void 0),u=void 0)},h=i.set.bind(i);return i.set=(p,m)=>{i.has(p)&&i.delete(p);const v=h(p,m);return c&&c===p&&f(),d(),v},d(),i}t.default=o,e.exports=o,e.exports.default=o})(mg,mg.exports);var kz=mg.exports;const Nz=jz,Mz=kz,$m=new WeakMap,Aj=new WeakMap,_f=(e,{cacheKey:t,cache:n=new Map,maxAge:r}={})=>{typeof r=="number"&&Mz(n);const a=function(...o){const i=t?t(o):o[0],s=n.get(i);if(s)return s.data;const c=e.apply(this,o);return n.set(i,{data:c,maxAge:r?Date.now()+r:Number.POSITIVE_INFINITY}),c};return Nz(a,e,{ignoreNonConfigurable:!0}),Aj.set(a,n),a};_f.decorator=(e={})=>(t,n,r)=>{const a=t[n];if(typeof a!="function")throw new TypeError("The decorated value must be a function");delete r.value,delete r.writable,r.get=function(){if(!$m.has(this)){const o=_f(a,e);return $m.set(this,o),o}return $m.get(this)}};_f.clear=e=>{const t=Aj.get(e);if(!t)throw new TypeError("Can't clear a function that was not memoized!");if(typeof t.clear!="function")throw new TypeError("The cache Map can't be cleared!");t.clear()};var Rz=_f;const Tj=vt(Rz);function $z(e){return typeof e=="string"}function Iz(e,t,n){return n.indexOf(e)===t}function Lz(e){return e.toLowerCase()===e}function DS(e){return e.indexOf(",")===-1?e:e.split(",")}function vg(e){if(!e)return e;if(e==="C"||e==="posix"||e==="POSIX")return"en-US";if(e.indexOf(".")!==-1){var t=e.split(".")[0],n=t===void 0?"":t;return vg(n)}if(e.indexOf("@")!==-1){var r=e.split("@")[0],n=r===void 0?"":r;return vg(n)}if(e.indexOf("-")===-1||!Lz(e))return e;var a=e.split("-"),o=a[0],i=a[1],s=i===void 0?"":i;return"".concat(o,"-").concat(s.toUpperCase())}function Bz(e){var t=e===void 0?{}:e,n=t.useFallbackLocale,r=n===void 0?!0:n,a=t.fallbackLocale,o=a===void 0?"en-US":a,i=[];if(typeof navigator<"u"){for(var s=navigator.languages||[],c=[],l=0,u=s;l<u.length;l++){var d=u[l];c=c.concat(DS(d))}var f=navigator.language,h=f&&DS(f);i=i.concat(c,h)}return r&&i.push(o),i.filter($z).map(vg).filter(Iz)}var Fz=Tj(Bz,{cacheKey:JSON.stringify});function Uz(e){return Fz(e)[0]||null}var Pj=Tj(Uz,{cacheKey:JSON.stringify});function Da(e,t,n){return function(a,o){o===void 0&&(o=n);var i=e(a)+o;return t(i)}}function qu(e){return function(n){return new Date(e(n).getTime()-1)}}function Gu(e,t){return function(r){return[e(r),t(r)]}}function Pt(e){if(e instanceof Date)return e.getFullYear();if(typeof e=="number")return e;var t=parseInt(e,10);if(typeof e=="string"&&!isNaN(t))return t;throw new Error("Failed to get year from date: ".concat(e,"."))}function wo(e){if(e instanceof Date)return e.getMonth();throw new Error("Failed to get month from date: ".concat(e,"."))}function ep(e){if(e instanceof Date)return e.getDate();throw new Error("Failed to get year from date: ".concat(e,"."))}function sc(e){var t=Pt(e),n=t+(-t+1)%100,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var Vz=Da(Pt,sc,-100),Oj=Da(Pt,sc,100),Db=qu(Oj),zz=Da(Pt,Db,-100),Cj=Gu(sc,Db);function So(e){var t=Pt(e),n=t+(-t+1)%10,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var Ej=Da(Pt,So,-10),kb=Da(Pt,So,10),tp=qu(kb),jj=Da(Pt,tp,-10),Dj=Gu(So,tp);function cc(e){var t=Pt(e),n=new Date;return n.setFullYear(t,0,1),n.setHours(0,0,0,0),n}var kj=Da(Pt,cc,-1),Nb=Da(Pt,cc,1),np=qu(Nb),Nj=Da(Pt,np,-1),Wz=Gu(cc,np);function Mb(e,t){return function(r,a){a===void 0&&(a=t);var o=Pt(r),i=wo(r)+a,s=new Date;return s.setFullYear(o,i,1),s.setHours(0,0,0,0),e(s)}}function Ti(e){var t=Pt(e),n=wo(e),r=new Date;return r.setFullYear(t,n,1),r.setHours(0,0,0,0),r}var Mj=Mb(Ti,-1),Rb=Mb(Ti,1),Ku=qu(Rb),Rj=Mb(Ku,-1),Hz=Gu(Ti,Ku);function qz(e,t){return function(r,a){a===void 0&&(a=t);var o=Pt(r),i=wo(r),s=ep(r)+a,c=new Date;return c.setFullYear(o,i,s),c.setHours(0,0,0,0),e(c)}}function Yu(e){var t=Pt(e),n=wo(e),r=ep(e),a=new Date;return a.setFullYear(t,n,r),a.setHours(0,0,0,0),a}var Gz=qz(Yu,1),$b=qu(Gz),Kz=Gu(Yu,$b);function $j(e){return ep(Ku(e))}var ln={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},Yz={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},Ib=[0,1,2,3,4,5,6],Im=new Map;function Xz(e){return function(n,r){var a=n||Pj();Im.has(a)||Im.set(a,new Map);var o=Im.get(a);return o.has(e)||o.set(e,new Intl.DateTimeFormat(a||void 0,e).format),o.get(e)(r)}}function Zz(e){var t=new Date(e);return new Date(t.setHours(12))}function Pi(e){return function(t,n){return Xz(e)(t,Zz(n))}}var Jz={day:"numeric"},Qz={day:"numeric",month:"long",year:"numeric"},eW={month:"long"},tW={month:"long",year:"numeric"},nW={weekday:"short"},rW={weekday:"long"},aW={year:"numeric"},oW=Pi(Jz),iW=Pi(Qz),sW=Pi(eW),Ij=Pi(tW),cW=Pi(nW),lW=Pi(rW),rp=Pi(aW),uW=Ib[0],dW=Ib[5],kS=Ib[6];function Ml(e,t){t===void 0&&(t=ln.ISO_8601);var n=e.getDay();switch(t){case ln.ISO_8601:return(n+6)%7;case ln.ISLAMIC:return(n+1)%7;case ln.HEBREW:case ln.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function fW(e){var t=sc(e);return Pt(t)}function hW(e){var t=So(e);return Pt(t)}function gg(e,t){t===void 0&&(t=ln.ISO_8601);var n=Pt(e),r=wo(e),a=e.getDate()-Ml(e,t);return new Date(n,r,a)}function pW(e,t){t===void 0&&(t=ln.ISO_8601);var n=t===ln.GREGORY?ln.GREGORY:ln.ISO_8601,r=gg(e,t),a=Pt(e)+1,o,i;do o=new Date(a,0,n===ln.ISO_8601?4:1),i=gg(o,t),a-=1;while(e<i);return Math.round((r.getTime()-i.getTime())/(864e5*7))+1}function ii(e,t){switch(e){case"century":return sc(t);case"decade":return So(t);case"year":return cc(t);case"month":return Ti(t);case"day":return Yu(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function mW(e,t){switch(e){case"century":return Vz(t);case"decade":return Ej(t);case"year":return kj(t);case"month":return Mj(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Lj(e,t){switch(e){case"century":return Oj(t);case"decade":return kb(t);case"year":return Nb(t);case"month":return Rb(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function vW(e,t){switch(e){case"decade":return Ej(t,-100);case"year":return kj(t,-10);case"month":return Mj(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}function gW(e,t){switch(e){case"decade":return kb(t,100);case"year":return Nb(t,10);case"month":return Rb(t,12);default:throw new Error("Invalid rangeType: ".concat(e))}}function Bj(e,t){switch(e){case"century":return Db(t);case"decade":return tp(t);case"year":return np(t);case"month":return Ku(t);case"day":return $b(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function yW(e,t){switch(e){case"century":return zz(t);case"decade":return jj(t);case"year":return Nj(t);case"month":return Rj(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function bW(e,t){switch(e){case"decade":return jj(t,-100);case"year":return Nj(t,-10);case"month":return Rj(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}function NS(e,t){switch(e){case"century":return Cj(t);case"decade":return Dj(t);case"year":return Wz(t);case"month":return Hz(t);case"day":return Kz(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function xW(e,t,n){var r=[t,n].sort(function(a,o){return a.getTime()-o.getTime()});return[ii(e,r[0]),Bj(e,r[1])]}function Fj(e,t,n){return n.map(function(r){return(t||rp)(e,r)}).join(" – ")}function wW(e,t,n){return Fj(e,t,Cj(n))}function Uj(e,t,n){return Fj(e,t,Dj(n))}function SW(e){return e.getDay()===new Date().getDay()}function Vj(e,t){t===void 0&&(t=ln.ISO_8601);var n=e.getDay();switch(t){case ln.ISLAMIC:case ln.HEBREW:return n===dW||n===kS;case ln.ISO_8601:case ln.GREGORY:return n===kS||n===uW;default:throw new Error("Unsupported calendar type.")}}var Nr="react-calendar__navigation";function _W(e){var t=e.activeStartDate,n=e.drillUp,r=e.formatMonthYear,a=r===void 0?Ij:r,o=e.formatYear,i=o===void 0?rp:o,s=e.locale,c=e.maxDate,l=e.minDate,u=e.navigationAriaLabel,d=u===void 0?"":u,f=e.navigationAriaLive,h=e.navigationLabel,p=e.next2AriaLabel,m=p===void 0?"":p,v=e.next2Label,b=v===void 0?"»":v,x=e.nextAriaLabel,S=x===void 0?"":x,A=e.nextLabel,y=A===void 0?"›":A,_=e.prev2AriaLabel,T=_===void 0?"":_,P=e.prev2Label,O=P===void 0?"«":P,j=e.prevAriaLabel,E=j===void 0?"":j,C=e.prevLabel,I=C===void 0?"‹":C,R=e.setActiveStartDate,$=e.showDoubleView,F=e.view,V=e.views,H=V.indexOf(F)>0,q=F!=="century",X=mW(F,t),Y=q?vW(F,t):void 0,J=Lj(F,t),oe=q?gW(F,t):void 0,Te=function(){if(X.getFullYear()<0)return!0;var ae=yW(F,t);return l&&l>=ae}(),Ve=q&&function(){if(Y.getFullYear()<0)return!0;var ae=bW(F,t);return l&&l>=ae}(),rt=c&&c<J,Je=q&&c&&c<oe;function Re(){R(X,"prev")}function K(){R(Y,"prev2")}function fe(){R(J,"next")}function ce(){R(oe,"next2")}function U(ae){var Me=function(){switch(F){case"century":return wW(s,i,ae);case"decade":return Uj(s,i,ae);case"year":return i(s,ae);case"month":return a(s,ae);default:throw new Error("Invalid view: ".concat(F,"."))}}();return h?h({date:ae,label:Me,locale:s||Pj()||void 0,view:F}):Me}function ve(){var ae="".concat(Nr,"__label");return g.jsxs("button",{"aria-label":d,"aria-live":f,className:ae,disabled:!H,onClick:n,style:{flexGrow:1},type:"button",children:[g.jsx("span",{className:"".concat(ae,"__labelText ").concat(ae,"__labelText--from"),children:U(t)}),$?g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"".concat(ae,"__divider"),children:" – "}),g.jsx("span",{className:"".concat(ae,"__labelText ").concat(ae,"__labelText--to"),children:U(J)})]}):null]})}return g.jsxs("div",{className:Nr,children:[O!==null&&q?g.jsx("button",{"aria-label":T,className:"".concat(Nr,"__arrow ").concat(Nr,"__prev2-button"),disabled:Ve,onClick:K,type:"button",children:O}):null,I!==null&&g.jsx("button",{"aria-label":E,className:"".concat(Nr,"__arrow ").concat(Nr,"__prev-button"),disabled:Te,onClick:Re,type:"button",children:I}),ve(),y!==null&&g.jsx("button",{"aria-label":S,className:"".concat(Nr,"__arrow ").concat(Nr,"__next-button"),disabled:rt,onClick:fe,type:"button",children:y}),b!==null&&q?g.jsx("button",{"aria-label":m,className:"".concat(Nr,"__arrow ").concat(Nr,"__next2-button"),disabled:Je,onClick:ce,type:"button",children:b}):null]})}var Zi=function(){return Zi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Zi.apply(this,arguments)},AW=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function MS(e){return"".concat(e,"%")}function Lb(e){var t=e.children,n=e.className,r=e.count,a=e.direction,o=e.offset,i=e.style,s=e.wrap,c=AW(e,["children","className","count","direction","offset","style","wrap"]);return g.jsx("div",Zi({className:n,style:Zi({display:"flex",flexDirection:a,flexWrap:s?"wrap":"nowrap"},i)},c,{children:w.Children.map(t,function(l,u){var d=o&&u===0?MS(100*o/r):null;return w.cloneElement(l,Zi(Zi({},l.props),{style:{flexBasis:MS(100/r),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:d,marginInlineStart:d,marginInlineEnd:0}}))})}))}function TW(e,t,n){return t&&t>e?t:n&&n<e?n:e}function Rl(e,t){return t[0]<=e&&t[1]>=e}function PW(e,t){return e[0]<=t[0]&&e[1]>=t[1]}function zj(e,t){return Rl(e[0],t)||Rl(e[1],t)}function RS(e,t,n){var r=zj(t,e),a=[];if(r){a.push(n);var o=Rl(e[0],t),i=Rl(e[1],t);o&&a.push("".concat(n,"Start")),i&&a.push("".concat(n,"End")),o&&i&&a.push("".concat(n,"BothEnds"))}return a}function OW(e){return Array.isArray(e)?e[0]!==null&&e[1]!==null:e!==null}function CW(e){if(!e)throw new Error("args is required");var t=e.value,n=e.date,r=e.hover,a="react-calendar__tile",o=[a];if(!n)return o;var i=new Date,s=function(){if(Array.isArray(n))return n;var h=e.dateType;if(!h)throw new Error("dateType is required when date is not an array of two dates");return NS(h,n)}();if(Rl(i,s)&&o.push("".concat(a,"--now")),!t||!OW(t))return o;var c=function(){if(Array.isArray(t))return t;var h=e.valueType;if(!h)throw new Error("valueType is required when value is not an array of two dates");return NS(h,t)}();PW(c,s)?o.push("".concat(a,"--active")):zj(c,s)&&o.push("".concat(a,"--hasActive"));var l=RS(c,s,"".concat(a,"--range"));o.push.apply(o,l);var u=Array.isArray(t)?t:[t];if(r&&u.length===1){var d=r>c[0]?[c[0],r]:[r,c[0]],f=RS(d,s,"".concat(a,"--hover"));o.push.apply(o,f)}return o}function ap(e){for(var t=e.className,n=e.count,r=n===void 0?3:n,a=e.dateTransform,o=e.dateType,i=e.end,s=e.hover,c=e.offset,l=e.renderTile,u=e.start,d=e.step,f=d===void 0?1:d,h=e.value,p=e.valueType,m=[],v=u;v<=i;v+=f){var b=a(v);m.push(l({classes:CW({date:b,dateType:o,hover:s,value:h,valueType:p}),date:b}))}return g.jsx(Lb,{className:t,count:r,offset:c,wrap:!0,children:m})}function op(e){var t=e.activeStartDate,n=e.children,r=e.classes,a=e.date,o=e.formatAbbr,i=e.locale,s=e.maxDate,c=e.maxDateTransform,l=e.minDate,u=e.minDateTransform,d=e.onClick,f=e.onMouseOver,h=e.style,p=e.tileClassName,m=e.tileContent,v=e.tileDisabled,b=e.view,x=w.useMemo(function(){var A={activeStartDate:t,date:a,view:b};return typeof p=="function"?p(A):p},[t,a,p,b]),S=w.useMemo(function(){var A={activeStartDate:t,date:a,view:b};return typeof m=="function"?m(A):m},[t,a,m,b]);return g.jsxs("button",{className:Xe(r,x),disabled:l&&u(l)>a||s&&c(s)<a||(v==null?void 0:v({activeStartDate:t,date:a,view:b})),onClick:d?function(A){return d(a,A)}:void 0,onFocus:f?function(){return f(a)}:void 0,onMouseOver:f?function(){return f(a)}:void 0,style:h,type:"button",children:[o?g.jsx("abbr",{"aria-label":o(i,a),children:n}):n,S]})}var yg=function(){return yg=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},yg.apply(this,arguments)},EW=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n},$S="react-calendar__century-view__decades__decade";function jW(e){var t=e.classes,n=t===void 0?[]:t,r=e.currentCentury,a=e.formatYear,o=a===void 0?rp:a,i=EW(e,["classes","currentCentury","formatYear"]),s=i.date,c=i.locale,l=[];return n&&l.push.apply(l,n),l.push($S),sc(s).getFullYear()!==r&&l.push("".concat($S,"--neighboringCentury")),g.jsx(op,yg({},i,{classes:l,maxDateTransform:tp,minDateTransform:So,view:"century",children:Uj(c,o,s)}))}var bg=function(){return bg=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},bg.apply(this,arguments)},IS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function DW(e){var t=e.activeStartDate,n=e.hover,r=e.showNeighboringCentury,a=e.value,o=e.valueType,i=IS(e,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),s=fW(t),c=s+(r?119:99);return g.jsx(ap,{className:"react-calendar__century-view__decades",dateTransform:So,dateType:"decade",end:c,hover:n,renderTile:function(l){var u=l.date,d=IS(l,["date"]);return g.jsx(jW,bg({},i,d,{activeStartDate:t,currentCentury:s,date:u}),u.getTime())},start:s,step:10,value:a,valueType:o})}var xg=function(){return xg=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},xg.apply(this,arguments)};function kW(e){function t(){return g.jsx(DW,xg({},e))}return g.jsx("div",{className:"react-calendar__century-view",children:t()})}var wg=function(){return wg=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},wg.apply(this,arguments)},NW=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n},LS="react-calendar__decade-view__years__year";function MW(e){var t=e.classes,n=t===void 0?[]:t,r=e.currentDecade,a=e.formatYear,o=a===void 0?rp:a,i=NW(e,["classes","currentDecade","formatYear"]),s=i.date,c=i.locale,l=[];return n&&l.push.apply(l,n),l.push(LS),So(s).getFullYear()!==r&&l.push("".concat(LS,"--neighboringDecade")),g.jsx(op,wg({},i,{classes:l,maxDateTransform:np,minDateTransform:cc,view:"decade",children:o(c,s)}))}var Sg=function(){return Sg=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Sg.apply(this,arguments)},BS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function RW(e){var t=e.activeStartDate,n=e.hover,r=e.showNeighboringDecade,a=e.value,o=e.valueType,i=BS(e,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),s=hW(t),c=s+(r?11:9);return g.jsx(ap,{className:"react-calendar__decade-view__years",dateTransform:cc,dateType:"year",end:c,hover:n,renderTile:function(l){var u=l.date,d=BS(l,["date"]);return g.jsx(MW,Sg({},i,d,{activeStartDate:t,currentDecade:s,date:u}),u.getTime())},start:s,value:a,valueType:o})}var _g=function(){return _g=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},_g.apply(this,arguments)};function $W(e){function t(){return g.jsx(RW,_g({},e))}return g.jsx("div",{className:"react-calendar__decade-view",children:t()})}var Ag=function(){return Ag=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Ag.apply(this,arguments)},IW=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n},FS=function(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,o;r<a;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},LW="react-calendar__year-view__months__month";function BW(e){var t=e.classes,n=t===void 0?[]:t,r=e.formatMonth,a=r===void 0?sW:r,o=e.formatMonthYear,i=o===void 0?Ij:o,s=IW(e,["classes","formatMonth","formatMonthYear"]),c=s.date,l=s.locale;return g.jsx(op,Ag({},s,{classes:FS(FS([],n,!0),[LW],!1),formatAbbr:i,maxDateTransform:Ku,minDateTransform:Ti,view:"year",children:a(l,c)}))}var Tg=function(){return Tg=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Tg.apply(this,arguments)},US=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function FW(e){var t=e.activeStartDate,n=e.hover,r=e.value,a=e.valueType,o=US(e,["activeStartDate","hover","value","valueType"]),i=0,s=11,c=Pt(t);return g.jsx(ap,{className:"react-calendar__year-view__months",dateTransform:function(l){var u=new Date;return u.setFullYear(c,l,1),Ti(u)},dateType:"month",end:s,hover:n,renderTile:function(l){var u=l.date,d=US(l,["date"]);return g.jsx(BW,Tg({},o,d,{activeStartDate:t,date:u}),u.getTime())},start:i,value:r,valueType:a})}var Pg=function(){return Pg=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Pg.apply(this,arguments)};function UW(e){function t(){return g.jsx(FW,Pg({},e))}return g.jsx("div",{className:"react-calendar__year-view",children:t()})}var Og=function(){return Og=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Og.apply(this,arguments)},VW=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n},Lm="react-calendar__month-view__days__day";function zW(e){var t=e.calendarType,n=e.classes,r=n===void 0?[]:n,a=e.currentMonthIndex,o=e.formatDay,i=o===void 0?oW:o,s=e.formatLongDate,c=s===void 0?iW:s,l=VW(e,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),u=l.date,d=l.locale,f=[];return r&&f.push.apply(f,r),f.push(Lm),Vj(u,t)&&f.push("".concat(Lm,"--weekend")),u.getMonth()!==a&&f.push("".concat(Lm,"--neighboringMonth")),g.jsx(op,Og({},l,{classes:f,formatAbbr:c,maxDateTransform:$b,minDateTransform:Yu,view:"month",children:i(d,u)}))}var Cg=function(){return Cg=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Cg.apply(this,arguments)},VS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function WW(e){var t=e.activeStartDate,n=e.calendarType,r=e.hover,a=e.showFixedNumberOfWeeks,o=e.showNeighboringMonth,i=e.value,s=e.valueType,c=VS(e,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),l=Pt(t),u=wo(t),d=a||o,f=Ml(t,n),h=d?0:f,p=(d?-f:0)+1,m=function(){if(a)return p+6*7-1;var v=$j(t);if(o){var b=new Date;b.setFullYear(l,u,v),b.setHours(0,0,0,0);var x=7-Ml(b,n)-1;return v+x}return v}();return g.jsx(ap,{className:"react-calendar__month-view__days",count:7,dateTransform:function(v){var b=new Date;return b.setFullYear(l,u,v),Yu(b)},dateType:"day",hover:r,end:m,renderTile:function(v){var b=v.date,x=VS(v,["date"]);return g.jsx(zW,Cg({},c,x,{activeStartDate:t,calendarType:n,currentMonthIndex:u,date:b}),b.getTime())},offset:h,start:p,value:i,valueType:s})}var Wj="react-calendar__month-view__weekdays",Bm="".concat(Wj,"__weekday");function HW(e){for(var t=e.calendarType,n=e.formatShortWeekday,r=n===void 0?cW:n,a=e.formatWeekday,o=a===void 0?lW:a,i=e.locale,s=e.onMouseLeave,c=new Date,l=Ti(c),u=Pt(l),d=wo(l),f=[],h=1;h<=7;h+=1){var p=new Date(u,d,h-Ml(l,t)),m=o(i,p);f.push(g.jsx("div",{className:Xe(Bm,SW(p)&&"".concat(Bm,"--current"),Vj(p,t)&&"".concat(Bm,"--weekend")),children:g.jsx("abbr",{"aria-label":m,title:m,children:r(i,p).replace(".","")})},h))}return g.jsx(Lb,{className:Wj,count:7,onFocus:s,onMouseOver:s,children:f})}var Af=function(){return Af=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Af.apply(this,arguments)},zS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n},WS="react-calendar__tile";function qW(e){var t=e.onClickWeekNumber,n=e.weekNumber,r=g.jsx("span",{children:n});if(t){var a=e.date,o=e.onClickWeekNumber,i=e.weekNumber,s=zS(e,["date","onClickWeekNumber","weekNumber"]);return g.jsx("button",Af({},s,{className:WS,onClick:function(c){return o(i,a,c)},type:"button",children:r}))}else{e.date,e.onClickWeekNumber,e.weekNumber;var s=zS(e,["date","onClickWeekNumber","weekNumber"]);return g.jsx("div",Af({},s,{className:WS,children:r}))}}function GW(e){var t=e.activeStartDate,n=e.calendarType,r=e.onClickWeekNumber,a=e.onMouseLeave,o=e.showFixedNumberOfWeeks,i=function(){if(o)return 6;var l=$j(t),u=Ml(t,n),d=l-(7-u);return 1+Math.ceil(d/7)}(),s=function(){for(var l=Pt(t),u=wo(t),d=ep(t),f=[],h=0;h<i;h+=1)f.push(gg(new Date(l,u,d+h*7),n));return f}(),c=s.map(function(l){return pW(l,n)});return g.jsx(Lb,{className:"react-calendar__month-view__weekNumbers",count:i,direction:"column",onFocus:a,onMouseOver:a,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:c.map(function(l,u){var d=s[u];if(!d)throw new Error("date is not defined");return g.jsx(qW,{date:d,onClickWeekNumber:r,weekNumber:l},l)})})}var Eg=function(){return Eg=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Eg.apply(this,arguments)},KW=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function YW(e){if(e)for(var t=0,n=Object.entries(Yz);t<n.length;t++){var r=n[t],a=r[0],o=r[1];if(o.includes(e))return a}return ln.ISO_8601}function XW(e){var t=e.activeStartDate,n=e.locale,r=e.onMouseLeave,a=e.showFixedNumberOfWeeks,o=e.calendarType,i=o===void 0?YW(n):o,s=e.formatShortWeekday,c=e.formatWeekday,l=e.onClickWeekNumber,u=e.showWeekNumbers,d=KW(e,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function f(){return g.jsx(HW,{calendarType:i,formatShortWeekday:s,formatWeekday:c,locale:n,onMouseLeave:r})}function h(){return u?g.jsx(GW,{activeStartDate:t,calendarType:i,onClickWeekNumber:l,onMouseLeave:r,showFixedNumberOfWeeks:a}):null}function p(){return g.jsx(WW,Eg({calendarType:i},d))}var m="react-calendar__month-view";return g.jsx("div",{className:Xe(m,u?"".concat(m,"--weekNumbers"):""),children:g.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[h(),g.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[f(),p()]})]})})}var Ji=function(){return Ji=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Ji.apply(this,arguments)},xd="react-calendar",tf=["century","decade","year","month"],ZW=["decade","year","month","day"],Bb=new Date;Bb.setFullYear(1,0,1);Bb.setHours(0,0,0,0);var JW=new Date(864e13);function el(e){return e instanceof Date?e:new Date(e)}function Hj(e,t){return tf.slice(tf.indexOf(e),tf.indexOf(t)+1)}function QW(e,t,n){var r=Hj(t,n);return r.indexOf(e)!==-1}function Fb(e,t,n){return e&&QW(e,t,n)?e:n}function qj(e){var t=tf.indexOf(e);return ZW[t]}function e8(e,t){var n=Array.isArray(e)?e[t]:e;if(!n)return null;var r=el(n);if(Number.isNaN(r.getTime()))throw new Error("Invalid date: ".concat(e));return r}function Gj(e,t){var n=e.value,r=e.minDate,a=e.maxDate,o=e.maxDetail,i=e8(n,t);if(!i)return null;var s=qj(o),c=function(){switch(t){case 0:return ii(s,i);case 1:return Bj(s,i);default:throw new Error("Invalid index value: ".concat(t))}}();return TW(c,r,a)}var Ub=function(e){return Gj(e,0)},Kj=function(e){return Gj(e,1)},t8=function(e){return[Ub,Kj].map(function(t){return t(e)})};function Yj(e){var t=e.maxDate,n=e.maxDetail,r=e.minDate,a=e.minDetail,o=e.value,i=e.view,s=Fb(i,a,n),c=Ub({value:o,minDate:r,maxDate:t,maxDetail:n})||new Date;return ii(s,c)}function n8(e){var t=e.activeStartDate,n=e.defaultActiveStartDate,r=e.defaultValue,a=e.defaultView,o=e.maxDate,i=e.maxDetail,s=e.minDate,c=e.minDetail,l=e.value,u=e.view,d=Fb(u,c,i),f=t||n;return f?ii(d,f):Yj({maxDate:o,maxDetail:i,minDate:s,minDetail:c,value:l||r,view:u||a})}function Fm(e){return e&&(!Array.isArray(e)||e.length===1)}function wd(e,t){return e instanceof Date&&t instanceof Date&&e.getTime()===t.getTime()}var r8=w.forwardRef(function(t,n){var r=t.activeStartDate,a=t.allowPartialRange,o=t.calendarType,i=t.className,s=t.defaultActiveStartDate,c=t.defaultValue,l=t.defaultView,u=t.formatDay,d=t.formatLongDate,f=t.formatMonth,h=t.formatMonthYear,p=t.formatShortWeekday,m=t.formatWeekday,v=t.formatYear,b=t.goToRangeStartOnSelect,x=b===void 0?!0:b,S=t.inputRef,A=t.locale,y=t.maxDate,_=y===void 0?JW:y,T=t.maxDetail,P=T===void 0?"month":T,O=t.minDate,j=O===void 0?Bb:O,E=t.minDetail,C=E===void 0?"century":E,I=t.navigationAriaLabel,R=t.navigationAriaLive,$=t.navigationLabel,F=t.next2AriaLabel,V=t.next2Label,H=t.nextAriaLabel,q=t.nextLabel,X=t.onActiveStartDateChange,Y=t.onChange,J=t.onClickDay,oe=t.onClickDecade,Te=t.onClickMonth,Ve=t.onClickWeekNumber,rt=t.onClickYear,Je=t.onDrillDown,Re=t.onDrillUp,K=t.onViewChange,fe=t.prev2AriaLabel,ce=t.prev2Label,U=t.prevAriaLabel,ve=t.prevLabel,ae=t.returnValue,Me=ae===void 0?"start":ae,ke=t.selectRange,Qe=t.showDoubleView,D=t.showFixedNumberOfWeeks,L=t.showNavigation,z=L===void 0?!0:L,ne=t.showNeighboringCentury,ee=t.showNeighboringDecade,Z=t.showNeighboringMonth,ge=Z===void 0?!0:Z,Se=t.showWeekNumbers,et=t.tileClassName,gt=t.tileContent,wn=t.tileDisabled,ur=t.value,Dt=t.view,Ln=w.useState(s),kr=Ln[0],Sn=Ln[1],Ra=w.useState(null),oa=Ra[0],ia=Ra[1],Oo=w.useState(Array.isArray(c)?c.map(function(be){return be!==null?el(be):null}):c!=null?el(c):null),sa=Oo[0],Ni=Oo[1],Co=w.useState(l),Mi=Co[0],$a=Co[1],kt=r||kr||n8({activeStartDate:r,defaultActiveStartDate:s,defaultValue:c,defaultView:l,maxDate:_,maxDetail:P,minDate:j,minDetail:C,value:ur,view:Dt}),$t=function(){var be=function(){return ke&&Fm(sa)?sa:ur!==void 0?ur:sa}();return be?Array.isArray(be)?be.map(function(Ie){return Ie!==null?el(Ie):null}):be!==null?el(be):null:null}(),ca=qj(P),ft=Fb(Dt||Mi,C,P),N=Hj(C,P),B=ke?oa:null,W=N.indexOf(ft)<N.length-1,Q=N.indexOf(ft)>0,he=w.useCallback(function(be){var Ie=function(){switch(Me){case"start":return Ub;case"end":return Kj;case"range":return t8;default:throw new Error("Invalid returnValue.")}}();return Ie({maxDate:_,maxDetail:P,minDate:j,value:be})},[_,P,j,Me]),we=w.useCallback(function(be,Ie){Sn(be);var pt={action:Ie,activeStartDate:be,value:$t,view:ft};X&&!wd(kt,be)&&X(pt)},[kt,X,$t,ft]),Oe=w.useCallback(function(be,Ie){var pt=function(){switch(ft){case"century":return oe;case"decade":return rt;case"year":return Te;case"month":return J;default:throw new Error("Invalid view: ".concat(ft,"."))}}();pt&&pt(be,Ie)},[J,oe,Te,rt,ft]),pe=w.useCallback(function(be,Ie){if(W){Oe(be,Ie);var pt=N[N.indexOf(ft)+1];if(!pt)throw new Error("Attempted to drill down from the lowest view.");Sn(be),$a(pt);var on={action:"drillDown",activeStartDate:be,value:$t,view:pt};X&&!wd(kt,be)&&X(on),K&&ft!==pt&&K(on),Je&&Je(on)}},[kt,W,X,Oe,Je,K,$t,ft,N]),ye=w.useCallback(function(){if(Q){var be=N[N.indexOf(ft)-1];if(!be)throw new Error("Attempted to drill up from the highest view.");var Ie=ii(be,kt);Sn(Ie),$a(be);var pt={action:"drillUp",activeStartDate:Ie,value:$t,view:be};X&&!wd(kt,Ie)&&X(pt),K&&ft!==be&&K(pt),Re&&Re(pt)}},[kt,Q,X,Re,K,$t,ft,N]),ie=w.useCallback(function(be,Ie){var pt=$t;Oe(be,Ie);var on=ke&&!Fm(pt),It;if(ke)if(on)It=ii(ca,be);else{if(!pt)throw new Error("previousValue is required");if(Array.isArray(pt))throw new Error("previousValue must not be an array");It=xW(ca,pt,be)}else It=he(be);var En=!ke||on||x?Yj({maxDate:_,maxDetail:P,minDate:j,minDetail:C,value:It,view:ft}):null;Ie.persist(),Sn(En),Ni(It);var Ac={action:"onChange",activeStartDate:En,value:It,view:ft};if(X&&!wd(kt,En)&&X(Ac),Y)if(ke){var Eo=Fm(It);if(!Eo)Y(It||null,Ie);else if(a){if(Array.isArray(It))throw new Error("value must not be an array");Y([It||null,null],Ie)}}else Y(It||null,Ie)},[kt,a,he,x,_,P,j,C,X,Y,Oe,ke,$t,ca,ft]);function Ne(be){ia(be)}function $e(){ia(null)}w.useImperativeHandle(n,function(){return{activeStartDate:kt,drillDown:pe,drillUp:ye,onChange:ie,setActiveStartDate:we,value:$t,view:ft}},[kt,pe,ye,ie,we,$t,ft]);function ht(be){var Ie=be?Lj(ft,kt):ii(ft,kt),pt=W?pe:ie,on={activeStartDate:Ie,hover:B,locale:A,maxDate:_,minDate:j,onClick:pt,onMouseOver:ke?Ne:void 0,tileClassName:et,tileContent:gt,tileDisabled:wn,value:$t,valueType:ca};switch(ft){case"century":return g.jsx(kW,Ji({formatYear:v,showNeighboringCentury:ne},on));case"decade":return g.jsx($W,Ji({formatYear:v,showNeighboringDecade:ee},on));case"year":return g.jsx(UW,Ji({formatMonth:f,formatMonthYear:h},on));case"month":return g.jsx(XW,Ji({calendarType:o,formatDay:u,formatLongDate:d,formatShortWeekday:p,formatWeekday:m,onClickWeekNumber:Ve,onMouseLeave:ke?$e:void 0,showFixedNumberOfWeeks:typeof D<"u"?D:Qe,showNeighboringMonth:ge,showWeekNumbers:Se},on));default:throw new Error("Invalid view: ".concat(ft,"."))}}function qt(){return z?g.jsx(_W,{activeStartDate:kt,drillUp:ye,formatMonthYear:h,formatYear:v,locale:A,maxDate:_,minDate:j,navigationAriaLabel:I,navigationAriaLive:R,navigationLabel:$,next2AriaLabel:F,next2Label:V,nextAriaLabel:H,nextLabel:q,prev2AriaLabel:fe,prev2Label:ce,prevAriaLabel:U,prevLabel:ve,setActiveStartDate:we,showDoubleView:Qe,view:ft,views:N}):null}var wt=Array.isArray($t)?$t:[$t];return g.jsxs("div",{className:Xe(xd,ke&&wt.length===1&&"".concat(xd,"--selectRange"),Qe&&"".concat(xd,"--doubleView"),i),ref:S,children:[qt(),g.jsxs("div",{className:"".concat(xd,"__viewContainer"),onBlur:ke?$e:void 0,onMouseLeave:ke?$e:void 0,children:[ht(),Qe?ht(!0):null]})]})});const Xj=w.forwardRef(({className:e,mode:t,selected:n,onSelect:r,...a},o)=>g.jsx(r8,{"data-component-path":"src\\components\\ui\\calendar.tsx","data-component-name":"CalendarBase","data-component-line":"19","data-component-file":"calendar.tsx","data-component-content":"%7B%7D",ref:o,className:Ae("p-3 bg-white rounded-lg shadow",e),nextLabel:g.jsx(PI,{"data-component-path":"src\\components\\ui\\calendar.tsx","data-component-name":"ChevronRight","data-component-line":"22","data-component-file":"calendar.tsx","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D",className:"h-4 w-4"}),next2Label:null,prevLabel:g.jsx(TI,{"data-component-path":"src\\components\\ui\\calendar.tsx","data-component-name":"ChevronLeft","data-component-line":"24","data-component-file":"calendar.tsx","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D",className:"h-4 w-4"}),prev2Label:null,view:"month",value:n,onChange:r,...a}));Xj.displayName="Calendar";const a8=({searchQuery:e,onSearchChange:t,selectedDate:n,onDateSelect:r,sortDirection:a,onSortChange:o})=>{const i=s=>{Array.isArray(s)?r(s[0]):r(s)};return g.jsxs("div",{"data-component-path":"src\\features\\reservations\\components\\ReservationFilters.tsx","data-component-name":"div","data-component-line":"33","data-component-file":"ReservationFilters.tsx","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20md%3Agrid-cols-2%20gap-6%20mb-6%22%7D",className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[g.jsxs("div",{"data-component-path":"src\\features\\reservations\\components\\ReservationFilters.tsx","data-component-name":"div","data-component-line":"34","data-component-file":"ReservationFilters.tsx","data-component-content":"%7B%22className%22%3A%22space-y-2%22%7D",className:"space-y-2",children:[g.jsxs("div",{"data-component-path":"src\\features\\reservations\\components\\ReservationFilters.tsx","data-component-name":"div","data-component-line":"35","data-component-file":"ReservationFilters.tsx","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%22%7D",className:"flex items-center gap-2",children:[g.jsx(C2,{"data-component-path":"src\\features\\reservations\\components\\ReservationFilters.tsx","data-component-name":"Filter","data-component-line":"36","data-component-file":"ReservationFilters.tsx","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%20text-gray-500%22%7D",className:"h-4 w-4 text-gray-500"}),g.jsx("span",{"data-component-path":"src\\features\\reservations\\components\\ReservationFilters.tsx","data-component-name":"span","data-component-line":"37","data-component-file":"ReservationFilters.tsx","data-component-content":"%7B%22text%22%3A%22Filtrar%20Reservas%22%2C%22className%22%3A%22text-sm%20font-medium%20text-gray-700%22%7D",className:"text-sm font-medium text-gray-700",children:"Filtrar Reservas"})]}),g.jsx(oi,{"data-component-path":"src\\features\\reservations\\components\\ReservationFilters.tsx","data-component-name":"Input","data-component-line":"41","data-component-file":"ReservationFilters.tsx","data-component-content":"%7B%22placeholder%22%3A%22Buscar%20reservas...%22%2C%22className%22%3A%22w-full%22%7D",placeholder:"Buscar reservas...",value:e,onChange:s=>t(s.target.value),className:"w-full"})]}),g.jsxs("div",{"data-component-path":"src\\features\\reservations\\components\\ReservationFilters.tsx","data-component-name":"div","data-component-line":"48","data-component-file":"ReservationFilters.tsx","data-component-content":"%7B%22className%22%3A%22space-y-2%22%7D",className:"space-y-2",children:[g.jsxs("div",{"data-component-path":"src\\features\\reservations\\components\\ReservationFilters.tsx","data-component-name":"div","data-component-line":"49","data-component-file":"ReservationFilters.tsx","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%22%7D",className:"flex items-center gap-2",children:[g.jsx(C2,{"data-component-path":"src\\features\\reservations\\components\\ReservationFilters.tsx","data-component-name":"Filter","data-component-line":"50","data-component-file":"ReservationFilters.tsx","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%20text-gray-500%22%7D",className:"h-4 w-4 text-gray-500"}),g.jsx("span",{"data-component-path":"src\\features\\reservations\\components\\ReservationFilters.tsx","data-component-name":"span","data-component-line":"51","data-component-file":"ReservationFilters.tsx","data-component-content":"%7B%22text%22%3A%22Filtrar%20por%20Fecha%22%2C%22className%22%3A%22text-sm%20font-medium%20text-gray-700%22%7D",className:"text-sm font-medium text-gray-700",children:"Filtrar por Fecha"})]}),g.jsxs("div",{"data-component-path":"src\\features\\reservations\\components\\ReservationFilters.tsx","data-component-name":"div","data-component-line":"55","data-component-file":"ReservationFilters.tsx","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%22%7D",className:"flex items-center gap-2",children:[g.jsx(Xj,{"data-component-path":"src\\features\\reservations\\components\\ReservationFilters.tsx","data-component-name":"Calendar","data-component-line":"56","data-component-file":"ReservationFilters.tsx","data-component-content":"%7B%22className%22%3A%22rounded-md%20border%22%7D",mode:"single",selected:n,onSelect:i,className:"rounded-md border"}),g.jsx(dn,{"data-component-path":"src\\features\\reservations\\components\\ReservationFilters.tsx","data-component-name":"Button","data-component-line":"62","data-component-file":"ReservationFilters.tsx","data-component-content":"%7B%22className%22%3A%22relative%20group%22%7D",variant:"outline",size:"icon",onClick:o,className:"relative group",children:a==="asc"?g.jsx(wI,{"data-component-path":"src\\features\\reservations\\components\\ReservationFilters.tsx","data-component-name":"SortAsc","data-component-line":"69","data-component-file":"ReservationFilters.tsx","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D",className:"h-4 w-4"}):g.jsx(yI,{"data-component-path":"src\\features\\reservations\\components\\ReservationFilters.tsx","data-component-name":"SortDesc","data-component-line":"71","data-component-file":"ReservationFilters.tsx","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D",className:"h-4 w-4"})})]})]})]})},o8=({searchQuery:e=""})=>{const[t,n]=w.useState(new Date),[r,a]=w.useState(e),[o,i]=w.useState(!1),[s,c]=w.useState("desc"),{toast:l}=ta(),u=[{id:"1",status:"pending",createdAt:new Date,username:"John Doe",vehicleMake:"Toyota",vehicleModel:"Camry",vehicleYear:2020,vehicleColor:"Blue",truckType:"standard",issueDescription:"Flat tire",serviceType:"standard",requiresManeuver:!1,tollFees:0}],d=async m=>{i(!0);try{const v=u,b=m==="csv"?`ID,Status,Created At,Username
${v.map(y=>`${y.id},${y.status},${y.createdAt},${y.username}`).join(`
`)}`:JSON.stringify(v,null,2),x=new Blob([b],{type:m==="csv"?"text/csv":"text/plain"}),S=window.URL.createObjectURL(x),A=document.createElement("a");A.href=S,A.download=`reservations.${m}`,A.click(),window.URL.revokeObjectURL(S),l({title:"Descarga Completada",description:`Reservas exportadas como ${m.toUpperCase()}`})}catch{l({title:"Error en la Exportación",description:"No se pudieron exportar las reservas",variant:"destructive"})}finally{i(!1)}},f=()=>{c(m=>m==="asc"?"desc":"asc"),l({title:"Lista Ordenada",description:`Ordenado por fecha ${s==="asc"?"descendente":"ascendente"}`})},h=m=>{Array.isArray(m)?n(m[0]):n(m)},p=u.filter(m=>m.username.toLowerCase().includes(r.toLowerCase())||m.vehicleMake.toLowerCase().includes(r.toLowerCase())||m.vehicleModel.toLowerCase().includes(r.toLowerCase())).sort((m,v)=>{const b=new Date(m.createdAt).getTime(),x=new Date(v.createdAt).getTime();return s==="asc"?b-x:x-b});return g.jsx(Zt,{"data-component-path":"src\\components\\admin\\ReservationManagement.tsx","data-component-name":"Card","data-component-line":"108","data-component-file":"ReservationManagement.tsx","data-component-content":"%7B%22className%22%3A%22p-6%22%7D",className:"p-6",children:g.jsxs(Fe.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:[g.jsxs("div",{"data-component-path":"src\\components\\admin\\ReservationManagement.tsx","data-component-name":"div","data-component-line":"114","data-component-file":"ReservationManagement.tsx","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20items-center%20mb-6%22%7D",className:"flex justify-between items-center mb-6",children:[g.jsx("h2",{"data-component-path":"src\\components\\admin\\ReservationManagement.tsx","data-component-name":"h2","data-component-line":"115","data-component-file":"ReservationManagement.tsx","data-component-content":"%7B%22text%22%3A%22Gesti%C3%B3n%20de%20Reservas%22%2C%22className%22%3A%22text-2xl%20font-bold%20text-gray-900%22%7D",className:"text-2xl font-bold text-gray-900",children:"Gestión de Reservas"}),g.jsx(yz,{"data-component-path":"src\\components\\admin\\ReservationManagement.tsx","data-component-name":"DownloadButtons","data-component-line":"118","data-component-file":"ReservationManagement.tsx","data-component-content":"%7B%7D",onDownload:d})]}),g.jsx(a8,{"data-component-path":"src\\components\\admin\\ReservationManagement.tsx","data-component-name":"ReservationFilters","data-component-line":"121","data-component-file":"ReservationManagement.tsx","data-component-content":"%7B%7D",searchQuery:r,onSearchChange:a,selectedDate:t,onDateSelect:h,sortDirection:s,onSortChange:f}),g.jsx(UC,{"data-component-path":"src\\components\\admin\\ReservationManagement.tsx","data-component-name":"AnimatePresence","data-component-line":"130","data-component-file":"ReservationManagement.tsx","data-component-content":"%7B%7D",mode:"wait",children:o?g.jsx(Fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex justify-center items-center py-8",children:g.jsx(pi,{"data-component-path":"src\\components\\admin\\ReservationManagement.tsx","data-component-name":"Loader2","data-component-line":"138","data-component-file":"ReservationManagement.tsx","data-component-content":"%7B%22className%22%3A%22h-8%20w-8%20animate-spin%20text-primary%22%7D",className:"h-8 w-8 animate-spin text-primary"})}):g.jsx(wz,{"data-component-path":"src\\components\\admin\\ReservationManagement.tsx","data-component-name":"ReservationList","data-component-line":"141","data-component-file":"ReservationManagement.tsx","data-component-content":"%7B%7D",reservations:p,isLoading:o})})]})})};var i8=Array.isArray,In=i8,s8=typeof Vt=="object"&&Vt&&Vt.Object===Object&&Vt,Zj=s8,c8=Zj,l8=typeof self=="object"&&self&&self.Object===Object&&self,u8=c8||l8||Function("return this")(),ra=u8,d8=ra,f8=d8.Symbol,Xu=f8,HS=Xu,Jj=Object.prototype,h8=Jj.hasOwnProperty,p8=Jj.toString,$c=HS?HS.toStringTag:void 0;function m8(e){var t=h8.call(e,$c),n=e[$c];try{e[$c]=void 0;var r=!0}catch{}var a=p8.call(e);return r&&(t?e[$c]=n:delete e[$c]),a}var v8=m8,g8=Object.prototype,y8=g8.toString;function b8(e){return y8.call(e)}var x8=b8,qS=Xu,w8=v8,S8=x8,_8="[object Null]",A8="[object Undefined]",GS=qS?qS.toStringTag:void 0;function T8(e){return e==null?e===void 0?A8:_8:GS&&GS in Object(e)?w8(e):S8(e)}var ka=T8;function P8(e){return e!=null&&typeof e=="object"}var Na=P8,O8=ka,C8=Na,E8="[object Symbol]";function j8(e){return typeof e=="symbol"||C8(e)&&O8(e)==E8}var lc=j8,D8=In,k8=lc,N8=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,M8=/^\w*$/;function R8(e,t){if(D8(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||k8(e)?!0:M8.test(e)||!N8.test(e)||t!=null&&e in Object(t)}var Vb=R8;function $8(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var _o=$8;const uc=vt(_o);var I8=ka,L8=_o,B8="[object AsyncFunction]",F8="[object Function]",U8="[object GeneratorFunction]",V8="[object Proxy]";function z8(e){if(!L8(e))return!1;var t=I8(e);return t==F8||t==U8||t==B8||t==V8}var zb=z8;const Ye=vt(zb);var W8=ra,H8=W8["__core-js_shared__"],q8=H8,Um=q8,KS=function(){var e=/[^.]+$/.exec(Um&&Um.keys&&Um.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function G8(e){return!!KS&&KS in e}var K8=G8,Y8=Function.prototype,X8=Y8.toString;function Z8(e){if(e!=null){try{return X8.call(e)}catch{}try{return e+""}catch{}}return""}var Qj=Z8,J8=zb,Q8=K8,e6=_o,t6=Qj,n6=/[\\^$.*+?()[\]{}|]/g,r6=/^\[object .+?Constructor\]$/,a6=Function.prototype,o6=Object.prototype,i6=a6.toString,s6=o6.hasOwnProperty,c6=RegExp("^"+i6.call(s6).replace(n6,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function l6(e){if(!e6(e)||Q8(e))return!1;var t=J8(e)?c6:r6;return t.test(t6(e))}var u6=l6;function d6(e,t){return e==null?void 0:e[t]}var f6=d6,h6=u6,p6=f6;function m6(e,t){var n=p6(e,t);return h6(n)?n:void 0}var Oi=m6,v6=Oi,g6=v6(Object,"create"),ip=g6,YS=ip;function y6(){this.__data__=YS?YS(null):{},this.size=0}var b6=y6;function x6(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var w6=x6,S6=ip,_6="__lodash_hash_undefined__",A6=Object.prototype,T6=A6.hasOwnProperty;function P6(e){var t=this.__data__;if(S6){var n=t[e];return n===_6?void 0:n}return T6.call(t,e)?t[e]:void 0}var O6=P6,C6=ip,E6=Object.prototype,j6=E6.hasOwnProperty;function D6(e){var t=this.__data__;return C6?t[e]!==void 0:j6.call(t,e)}var k6=D6,N6=ip,M6="__lodash_hash_undefined__";function R6(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=N6&&t===void 0?M6:t,this}var $6=R6,I6=b6,L6=w6,B6=O6,F6=k6,U6=$6;function dc(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}dc.prototype.clear=I6;dc.prototype.delete=L6;dc.prototype.get=B6;dc.prototype.has=F6;dc.prototype.set=U6;var V6=dc;function z6(){this.__data__=[],this.size=0}var W6=z6;function H6(e,t){return e===t||e!==e&&t!==t}var Wb=H6,q6=Wb;function G6(e,t){for(var n=e.length;n--;)if(q6(e[n][0],t))return n;return-1}var sp=G6,K6=sp,Y6=Array.prototype,X6=Y6.splice;function Z6(e){var t=this.__data__,n=K6(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():X6.call(t,n,1),--this.size,!0}var J6=Z6,Q6=sp;function eH(e){var t=this.__data__,n=Q6(t,e);return n<0?void 0:t[n][1]}var tH=eH,nH=sp;function rH(e){return nH(this.__data__,e)>-1}var aH=rH,oH=sp;function iH(e,t){var n=this.__data__,r=oH(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var sH=iH,cH=W6,lH=J6,uH=tH,dH=aH,fH=sH;function fc(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}fc.prototype.clear=cH;fc.prototype.delete=lH;fc.prototype.get=uH;fc.prototype.has=dH;fc.prototype.set=fH;var cp=fc,hH=Oi,pH=ra,mH=hH(pH,"Map"),Hb=mH,XS=V6,vH=cp,gH=Hb;function yH(){this.size=0,this.__data__={hash:new XS,map:new(gH||vH),string:new XS}}var bH=yH;function xH(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var wH=xH,SH=wH;function _H(e,t){var n=e.__data__;return SH(t)?n[typeof t=="string"?"string":"hash"]:n.map}var lp=_H,AH=lp;function TH(e){var t=AH(this,e).delete(e);return this.size-=t?1:0,t}var PH=TH,OH=lp;function CH(e){return OH(this,e).get(e)}var EH=CH,jH=lp;function DH(e){return jH(this,e).has(e)}var kH=DH,NH=lp;function MH(e,t){var n=NH(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var RH=MH,$H=bH,IH=PH,LH=EH,BH=kH,FH=RH;function hc(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}hc.prototype.clear=$H;hc.prototype.delete=IH;hc.prototype.get=LH;hc.prototype.has=BH;hc.prototype.set=FH;var qb=hc,eD=qb,UH="Expected a function";function Gb(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(UH);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],o=n.cache;if(o.has(a))return o.get(a);var i=e.apply(this,r);return n.cache=o.set(a,i)||o,i};return n.cache=new(Gb.Cache||eD),n}Gb.Cache=eD;var tD=Gb;const VH=vt(tD);var zH=tD,WH=500;function HH(e){var t=zH(e,function(r){return n.size===WH&&n.clear(),r}),n=t.cache;return t}var qH=HH,GH=qH,KH=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,YH=/\\(\\)?/g,XH=GH(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(KH,function(n,r,a,o){t.push(a?o.replace(YH,"$1"):r||n)}),t}),ZH=XH;function JH(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}var Kb=JH,ZS=Xu,QH=Kb,e9=In,t9=lc,n9=1/0,JS=ZS?ZS.prototype:void 0,QS=JS?JS.toString:void 0;function nD(e){if(typeof e=="string")return e;if(e9(e))return QH(e,nD)+"";if(t9(e))return QS?QS.call(e):"";var t=e+"";return t=="0"&&1/e==-n9?"-0":t}var r9=nD,a9=r9;function o9(e){return e==null?"":a9(e)}var rD=o9,i9=In,s9=Vb,c9=ZH,l9=rD;function u9(e,t){return i9(e)?e:s9(e,t)?[e]:c9(l9(e))}var aD=u9,d9=lc,f9=1/0;function h9(e){if(typeof e=="string"||d9(e))return e;var t=e+"";return t=="0"&&1/e==-f9?"-0":t}var up=h9,p9=aD,m9=up;function v9(e,t){t=p9(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[m9(t[n++])];return n&&n==r?e:void 0}var Yb=v9,g9=Yb;function y9(e,t,n){var r=e==null?void 0:g9(e,t);return r===void 0?n:r}var oD=y9;const ar=vt(oD);function b9(e){return e==null}var x9=b9;const it=vt(x9);var w9=ka,S9=In,_9=Na,A9="[object String]";function T9(e){return typeof e=="string"||!S9(e)&&_9(e)&&w9(e)==A9}var P9=T9;const Zu=vt(P9);var iD={exports:{}},lt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xb=Symbol.for("react.element"),Zb=Symbol.for("react.portal"),dp=Symbol.for("react.fragment"),fp=Symbol.for("react.strict_mode"),hp=Symbol.for("react.profiler"),pp=Symbol.for("react.provider"),mp=Symbol.for("react.context"),O9=Symbol.for("react.server_context"),vp=Symbol.for("react.forward_ref"),gp=Symbol.for("react.suspense"),yp=Symbol.for("react.suspense_list"),bp=Symbol.for("react.memo"),xp=Symbol.for("react.lazy"),C9=Symbol.for("react.offscreen"),sD;sD=Symbol.for("react.module.reference");function sr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Xb:switch(e=e.type,e){case dp:case hp:case fp:case gp:case yp:return e;default:switch(e=e&&e.$$typeof,e){case O9:case mp:case vp:case xp:case bp:case pp:return e;default:return t}}case Zb:return t}}}lt.ContextConsumer=mp;lt.ContextProvider=pp;lt.Element=Xb;lt.ForwardRef=vp;lt.Fragment=dp;lt.Lazy=xp;lt.Memo=bp;lt.Portal=Zb;lt.Profiler=hp;lt.StrictMode=fp;lt.Suspense=gp;lt.SuspenseList=yp;lt.isAsyncMode=function(){return!1};lt.isConcurrentMode=function(){return!1};lt.isContextConsumer=function(e){return sr(e)===mp};lt.isContextProvider=function(e){return sr(e)===pp};lt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Xb};lt.isForwardRef=function(e){return sr(e)===vp};lt.isFragment=function(e){return sr(e)===dp};lt.isLazy=function(e){return sr(e)===xp};lt.isMemo=function(e){return sr(e)===bp};lt.isPortal=function(e){return sr(e)===Zb};lt.isProfiler=function(e){return sr(e)===hp};lt.isStrictMode=function(e){return sr(e)===fp};lt.isSuspense=function(e){return sr(e)===gp};lt.isSuspenseList=function(e){return sr(e)===yp};lt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===dp||e===hp||e===fp||e===gp||e===yp||e===C9||typeof e=="object"&&e!==null&&(e.$$typeof===xp||e.$$typeof===bp||e.$$typeof===pp||e.$$typeof===mp||e.$$typeof===vp||e.$$typeof===sD||e.getModuleId!==void 0)};lt.typeOf=sr;iD.exports=lt;var E9=iD.exports,j9=ka,D9=Na,k9="[object Number]";function N9(e){return typeof e=="number"||D9(e)&&j9(e)==k9}var cD=N9;const M9=vt(cD);var R9=cD;function $9(e){return R9(e)&&e!=+e}var I9=$9;const Ju=vt(I9);var _r=function(t){return t===0?0:t>0?1:-1},Go=function(t){return Zu(t)&&t.indexOf("%")===t.length-1},le=function(t){return M9(t)&&!Ju(t)},Jt=function(t){return le(t)||Zu(t)},L9=0,wp=function(t){var n=++L9;return"".concat(t||"").concat(n)},gi=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!le(t)&&!Zu(t))return r;var o;if(Go(t)){var i=t.indexOf("%");o=n*parseFloat(t.slice(0,i))/100}else o=+t;return Ju(o)&&(o=r),a&&o>n&&(o=n),o},Wi=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},B9=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},a=0;a<n;a++)if(!r[t[a]])r[t[a]]=!0;else return!0;return!1},Li=function(t,n){return le(t)&&le(n)?function(r){return t+r*(n-t)}:function(){return n}};function jg(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):ar(r,t))===n})}function os(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function Dg(e){"@babel/helpers - typeof";return Dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dg(e)}var F9=["viewBox","children"],U9=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],e1=["points","pathLength"],Vm={svg:F9,polygon:e1,polyline:e1},Jb=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Tf=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(w.isValidElement(t)&&(r=t.props),!uc(r))return null;var a={};return Object.keys(r).forEach(function(o){Jb.includes(o)&&(a[o]=n||function(i){return r[o](r,i)})}),a},V9=function(t,n,r){return function(a){return t(n,r,a),null}},Pf=function(t,n,r){if(!uc(t)||Dg(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(o){var i=t[o];Jb.includes(o)&&typeof i=="function"&&(a||(a={}),a[o]=V9(i,n,r))}),a},z9=["children"],W9=["children"];function t1(e,t){if(e==null)return{};var n=H9(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function H9(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var n1={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Sa=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},r1=null,zm=null,Qb=function e(t){if(t===r1&&Array.isArray(zm))return zm;var n=[];return w.Children.forEach(t,function(r){it(r)||(E9.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),zm=n,r1=t,n};function Pr(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(a){return Sa(a)}):r=[Sa(t)],Qb(e).forEach(function(a){var o=ar(a,"type.displayName")||ar(a,"type.name");r.indexOf(o)!==-1&&n.push(a)}),n}function zn(e,t){var n=Pr(e,t);return n&&n[0]}var a1=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,a=n.height;return!(!le(r)||r<=0||!le(a)||a<=0)},q9=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],G9=function(t){return t&&t.type&&Zu(t.type)&&q9.indexOf(t.type)>=0},K9=function(t,n,r,a){var o,i=(o=Vm==null?void 0:Vm[a])!==null&&o!==void 0?o:[];return!Ye(t)&&(a&&i.includes(n)||U9.includes(n))||r&&Jb.includes(n)},ot=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(w.isValidElement(t)&&(a=t.props),!uc(a))return null;var o={};return Object.keys(a).forEach(function(i){var s;K9((s=a)===null||s===void 0?void 0:s[i],i,n,r)&&(o[i]=a[i])}),o},kg=function e(t,n){if(t===n)return!0;var r=w.Children.count(t);if(r!==w.Children.count(n))return!1;if(r===0)return!0;if(r===1)return o1(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var a=0;a<r;a++){var o=t[a],i=n[a];if(Array.isArray(o)||Array.isArray(i)){if(!e(o,i))return!1}else if(!o1(o,i))return!1}return!0},o1=function(t,n){if(it(t)&&it(n))return!0;if(!it(t)&&!it(n)){var r=t.props||{},a=r.children,o=t1(r,z9),i=n.props||{},s=i.children,c=t1(i,W9);return a&&s?os(o,c)&&kg(a,s):!a&&!s?os(o,c):!1}return!1},i1=function(t,n){var r=[],a={};return Qb(t).forEach(function(o,i){if(G9(o))r.push(o);else if(o){var s=Sa(o.type),c=n[s]||{},l=c.handler,u=c.once;if(l&&(!u||!a[s])){var d=l(o,s,i);r.push(d),a[s]=!0}}}),r},Y9=function(t){var n=t&&t.type;return n&&n1[n]?n1[n]:null},X9=function(t,n){return Qb(n).indexOf(t)},Z9=["children","width","height","viewBox","className","style","title","desc"];function Ng(){return Ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ng.apply(this,arguments)}function J9(e,t){if(e==null)return{};var n=Q9(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Q9(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Mg(e){var t=e.children,n=e.width,r=e.height,a=e.viewBox,o=e.className,i=e.style,s=e.title,c=e.desc,l=J9(e,Z9),u=a||{width:n,height:r,x:0,y:0},d=Xe("recharts-surface",o);return k.createElement("svg",Ng({},ot(l,!0,"svg"),{className:d,width:n,height:r,style:i,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),k.createElement("title",null,s),k.createElement("desc",null,c),t)}var eq=["children","className"];function Rg(){return Rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rg.apply(this,arguments)}function tq(e,t){if(e==null)return{};var n=nq(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function nq(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var nn=k.forwardRef(function(e,t){var n=e.children,r=e.className,a=tq(e,eq),o=Xe("recharts-layer",r);return k.createElement("g",Rg({className:o},ot(a,!0),{ref:t}),n)}),si=function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o]};function rq(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),n=n>a?a:n,n<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(a);++r<a;)o[r]=e[r+t];return o}var aq=rq,oq=aq;function iq(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:oq(e,t,n)}var sq=iq,cq="\\ud800-\\udfff",lq="\\u0300-\\u036f",uq="\\ufe20-\\ufe2f",dq="\\u20d0-\\u20ff",fq=lq+uq+dq,hq="\\ufe0e\\ufe0f",pq="\\u200d",mq=RegExp("["+pq+cq+fq+hq+"]");function vq(e){return mq.test(e)}var lD=vq;function gq(e){return e.split("")}var yq=gq,uD="\\ud800-\\udfff",bq="\\u0300-\\u036f",xq="\\ufe20-\\ufe2f",wq="\\u20d0-\\u20ff",Sq=bq+xq+wq,_q="\\ufe0e\\ufe0f",Aq="["+uD+"]",$g="["+Sq+"]",Ig="\\ud83c[\\udffb-\\udfff]",Tq="(?:"+$g+"|"+Ig+")",dD="[^"+uD+"]",fD="(?:\\ud83c[\\udde6-\\uddff]){2}",hD="[\\ud800-\\udbff][\\udc00-\\udfff]",Pq="\\u200d",pD=Tq+"?",mD="["+_q+"]?",Oq="(?:"+Pq+"(?:"+[dD,fD,hD].join("|")+")"+mD+pD+")*",Cq=mD+pD+Oq,Eq="(?:"+[dD+$g+"?",$g,fD,hD,Aq].join("|")+")",jq=RegExp(Ig+"(?="+Ig+")|"+Eq+Cq,"g");function Dq(e){return e.match(jq)||[]}var kq=Dq,Nq=yq,Mq=lD,Rq=kq;function $q(e){return Mq(e)?Rq(e):Nq(e)}var Iq=$q,Lq=sq,Bq=lD,Fq=Iq,Uq=rD;function Vq(e){return function(t){t=Uq(t);var n=Bq(t)?Fq(t):void 0,r=n?n[0]:t.charAt(0),a=n?Lq(n,1).join(""):t.slice(1);return r[e]()+a}}var zq=Vq,Wq=zq,Hq=Wq("toUpperCase"),qq=Hq;const Sp=vt(qq);function xt(e){return function(){return e}}const vD=Math.cos,Of=Math.sin,Dr=Math.sqrt,Cf=Math.PI,_p=2*Cf,Lg=Math.PI,Bg=2*Lg,$o=1e-6,Gq=Bg-$o;function gD(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Kq(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return gD;const n=10**t;return function(r){this._+=r[0];for(let a=1,o=r.length;a<o;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class Yq{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?gD:Kq(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,o,i){this._append`C${+t},${+n},${+r},${+a},${this._x1=+o},${this._y1=+i}`}arcTo(t,n,r,a,o){if(t=+t,n=+n,r=+r,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let i=this._x1,s=this._y1,c=r-t,l=a-n,u=i-t,d=s-n,f=u*u+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(f>$o)if(!(Math.abs(d*c-l*u)>$o)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-i,p=a-s,m=c*c+l*l,v=h*h+p*p,b=Math.sqrt(m),x=Math.sqrt(f),S=o*Math.tan((Lg-Math.acos((m+f-v)/(2*b*x)))/2),A=S/x,y=S/b;Math.abs(A-1)>$o&&this._append`L${t+A*u},${n+A*d}`,this._append`A${o},${o},0,0,${+(d*h>u*p)},${this._x1=t+y*c},${this._y1=n+y*l}`}}arc(t,n,r,a,o,i){if(t=+t,n=+n,r=+r,i=!!i,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(a),c=r*Math.sin(a),l=t+s,u=n+c,d=1^i,f=i?a-o:o-a;this._x1===null?this._append`M${l},${u}`:(Math.abs(this._x1-l)>$o||Math.abs(this._y1-u)>$o)&&this._append`L${l},${u}`,r&&(f<0&&(f=f%Bg+Bg),f>Gq?this._append`A${r},${r},0,1,${d},${t-s},${n-c}A${r},${r},0,1,${d},${this._x1=l},${this._y1=u}`:f>$o&&this._append`A${r},${r},0,${+(f>=Lg)},${d},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function ex(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Yq(t)}function tx(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function yD(e){this._context=e}yD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ap(e){return new yD(e)}function bD(e){return e[0]}function xD(e){return e[1]}function wD(e,t){var n=xt(!0),r=null,a=Ap,o=null,i=ex(s);e=typeof e=="function"?e:e===void 0?bD:xt(e),t=typeof t=="function"?t:t===void 0?xD:xt(t);function s(c){var l,u=(c=tx(c)).length,d,f=!1,h;for(r==null&&(o=a(h=i())),l=0;l<=u;++l)!(l<u&&n(d=c[l],l,c))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+e(d,l,c),+t(d,l,c));if(h)return o=null,h+""||null}return s.x=function(c){return arguments.length?(e=typeof c=="function"?c:xt(+c),s):e},s.y=function(c){return arguments.length?(t=typeof c=="function"?c:xt(+c),s):t},s.defined=function(c){return arguments.length?(n=typeof c=="function"?c:xt(!!c),s):n},s.curve=function(c){return arguments.length?(a=c,r!=null&&(o=a(r)),s):a},s.context=function(c){return arguments.length?(c==null?r=o=null:o=a(r=c),s):r},s}function Sd(e,t,n){var r=null,a=xt(!0),o=null,i=Ap,s=null,c=ex(l);e=typeof e=="function"?e:e===void 0?bD:xt(+e),t=typeof t=="function"?t:xt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?xD:xt(+n);function l(d){var f,h,p,m=(d=tx(d)).length,v,b=!1,x,S=new Array(m),A=new Array(m);for(o==null&&(s=i(x=c())),f=0;f<=m;++f){if(!(f<m&&a(v=d[f],f,d))===b)if(b=!b)h=f,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),p=f-1;p>=h;--p)s.point(S[p],A[p]);s.lineEnd(),s.areaEnd()}b&&(S[f]=+e(v,f,d),A[f]=+t(v,f,d),s.point(r?+r(v,f,d):S[f],n?+n(v,f,d):A[f]))}if(x)return s=null,x+""||null}function u(){return wD().defined(a).curve(i).context(o)}return l.x=function(d){return arguments.length?(e=typeof d=="function"?d:xt(+d),r=null,l):e},l.x0=function(d){return arguments.length?(e=typeof d=="function"?d:xt(+d),l):e},l.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:xt(+d),l):r},l.y=function(d){return arguments.length?(t=typeof d=="function"?d:xt(+d),n=null,l):t},l.y0=function(d){return arguments.length?(t=typeof d=="function"?d:xt(+d),l):t},l.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:xt(+d),l):n},l.lineX0=l.lineY0=function(){return u().x(e).y(t)},l.lineY1=function(){return u().x(e).y(n)},l.lineX1=function(){return u().x(r).y(t)},l.defined=function(d){return arguments.length?(a=typeof d=="function"?d:xt(!!d),l):a},l.curve=function(d){return arguments.length?(i=d,o!=null&&(s=i(o)),l):i},l.context=function(d){return arguments.length?(d==null?o=s=null:s=i(o=d),l):o},l}class SD{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Xq(e){return new SD(e,!0)}function Zq(e){return new SD(e,!1)}const nx={draw(e,t){const n=Dr(t/Cf);e.moveTo(n,0),e.arc(0,0,n,0,_p)}},Jq={draw(e,t){const n=Dr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},_D=Dr(1/3),Qq=_D*2,eG={draw(e,t){const n=Dr(t/Qq),r=n*_D;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},tG={draw(e,t){const n=Dr(t),r=-n/2;e.rect(r,r,n,n)}},nG=.8908130915292852,AD=Of(Cf/10)/Of(7*Cf/10),rG=Of(_p/10)*AD,aG=-vD(_p/10)*AD,oG={draw(e,t){const n=Dr(t*nG),r=rG*n,a=aG*n;e.moveTo(0,-n),e.lineTo(r,a);for(let o=1;o<5;++o){const i=_p*o/5,s=vD(i),c=Of(i);e.lineTo(c*n,-s*n),e.lineTo(s*r-c*a,c*r+s*a)}e.closePath()}},Wm=Dr(3),iG={draw(e,t){const n=-Dr(t/(Wm*3));e.moveTo(0,n*2),e.lineTo(-Wm*n,-n),e.lineTo(Wm*n,-n),e.closePath()}},Xn=-.5,Zn=Dr(3)/2,Fg=1/Dr(12),sG=(Fg/2+1)*3,cG={draw(e,t){const n=Dr(t/sG),r=n/2,a=n*Fg,o=r,i=n*Fg+n,s=-o,c=i;e.moveTo(r,a),e.lineTo(o,i),e.lineTo(s,c),e.lineTo(Xn*r-Zn*a,Zn*r+Xn*a),e.lineTo(Xn*o-Zn*i,Zn*o+Xn*i),e.lineTo(Xn*s-Zn*c,Zn*s+Xn*c),e.lineTo(Xn*r+Zn*a,Xn*a-Zn*r),e.lineTo(Xn*o+Zn*i,Xn*i-Zn*o),e.lineTo(Xn*s+Zn*c,Xn*c-Zn*s),e.closePath()}};function lG(e,t){let n=null,r=ex(a);e=typeof e=="function"?e:xt(e||nx),t=typeof t=="function"?t:xt(t===void 0?64:+t);function a(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return a.type=function(o){return arguments.length?(e=typeof o=="function"?o:xt(o),a):e},a.size=function(o){return arguments.length?(t=typeof o=="function"?o:xt(+o),a):t},a.context=function(o){return arguments.length?(n=o??null,a):n},a}function Ef(){}function jf(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function TD(e){this._context=e}TD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:jf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:jf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function uG(e){return new TD(e)}function PD(e){this._context=e}PD.prototype={areaStart:Ef,areaEnd:Ef,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:jf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function dG(e){return new PD(e)}function OD(e){this._context=e}OD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:jf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function fG(e){return new OD(e)}function CD(e){this._context=e}CD.prototype={areaStart:Ef,areaEnd:Ef,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function hG(e){return new CD(e)}function s1(e){return e<0?-1:1}function c1(e,t,n){var r=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(r||a<0&&-0),i=(n-e._y1)/(a||r<0&&-0),s=(o*a+i*r)/(r+a);return(s1(o)+s1(i))*Math.min(Math.abs(o),Math.abs(i),.5*Math.abs(s))||0}function l1(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Hm(e,t,n){var r=e._x0,a=e._y0,o=e._x1,i=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,a+s*t,o-s,i-s*n,o,i)}function Df(e){this._context=e}Df.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Hm(this,this._t0,l1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Hm(this,l1(this,n=c1(this,e,t)),n);break;default:Hm(this,this._t0,n=c1(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function ED(e){this._context=new jD(e)}(ED.prototype=Object.create(Df.prototype)).point=function(e,t){Df.prototype.point.call(this,t,e)};function jD(e){this._context=e}jD.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,o){this._context.bezierCurveTo(t,e,r,n,o,a)}};function pG(e){return new Df(e)}function mG(e){return new ED(e)}function DD(e){this._context=e}DD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=u1(e),a=u1(t),o=0,i=1;i<n;++o,++i)this._context.bezierCurveTo(r[0][o],a[0][o],r[1][o],a[1][o],e[i],t[i]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function u1(e){var t,n=e.length-1,r,a=new Array(n),o=new Array(n),i=new Array(n);for(a[0]=0,o[0]=2,i[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,o[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,o[n-1]=7,i[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/o[t-1],o[t]-=r,i[t]-=r*i[t-1];for(a[n-1]=i[n-1]/o[n-1],t=n-2;t>=0;--t)a[t]=(i[t]-a[t+1])/o[t];for(o[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-a[t+1];return[a,o]}function vG(e){return new DD(e)}function Tp(e,t){this._context=e,this._t=t}Tp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function gG(e){return new Tp(e,.5)}function yG(e){return new Tp(e,0)}function bG(e){return new Tp(e,1)}function js(e,t){if((i=e.length)>1)for(var n=1,r,a,o=e[t[0]],i,s=o.length;n<i;++n)for(a=o,o=e[t[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function Ug(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function xG(e,t){return e[t]}function wG(e){const t=[];return t.key=e,t}function SG(){var e=xt([]),t=Ug,n=js,r=xG;function a(o){var i=Array.from(e.apply(this,arguments),wG),s,c=i.length,l=-1,u;for(const d of o)for(s=0,++l;s<c;++s)(i[s][l]=[0,+r(d,i[s].key,l,o)]).data=d;for(s=0,u=tx(t(i));s<c;++s)i[u[s]].index=s;return n(i,u),i}return a.keys=function(o){return arguments.length?(e=typeof o=="function"?o:xt(Array.from(o)),a):e},a.value=function(o){return arguments.length?(r=typeof o=="function"?o:xt(+o),a):r},a.order=function(o){return arguments.length?(t=o==null?Ug:typeof o=="function"?o:xt(Array.from(o)),a):t},a.offset=function(o){return arguments.length?(n=o??js,a):n},a}function _G(e,t){if((r=e.length)>0){for(var n,r,a=0,o=e[0].length,i;a<o;++a){for(i=n=0;n<r;++n)i+=e[n][a][1]||0;if(i)for(n=0;n<r;++n)e[n][a][1]/=i}js(e,t)}}function AG(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,o=r.length;n<o;++n){for(var i=0,s=0;i<a;++i)s+=e[i][n][1]||0;r[n][1]+=r[n][0]=-s/2}js(e,t)}}function TG(e,t){if(!(!((i=e.length)>0)||!((o=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,o,i;r<o;++r){for(var s=0,c=0,l=0;s<i;++s){for(var u=e[t[s]],d=u[r][1]||0,f=u[r-1][1]||0,h=(d-f)/2,p=0;p<s;++p){var m=e[t[p]],v=m[r][1]||0,b=m[r-1][1]||0;h+=v-b}c+=d,l+=h*d}a[r-1][1]+=a[r-1][0]=n,c&&(n-=l/c)}a[r-1][1]+=a[r-1][0]=n,js(e,t)}}function $l(e){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$l(e)}var PG=["type","size","sizeType"];function Vg(){return Vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vg.apply(this,arguments)}function d1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function f1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d1(Object(n),!0).forEach(function(r){OG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OG(e,t,n){return t=CG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CG(e){var t=EG(e,"string");return $l(t)=="symbol"?t:t+""}function EG(e,t){if($l(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if($l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jG(e,t){if(e==null)return{};var n=DG(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function DG(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var kD={symbolCircle:nx,symbolCross:Jq,symbolDiamond:eG,symbolSquare:tG,symbolStar:oG,symbolTriangle:iG,symbolWye:cG},kG=Math.PI/180,NG=function(t){var n="symbol".concat(Sp(t));return kD[n]||nx},MG=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*kG;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},RG=function(t,n){kD["symbol".concat(Sp(t))]=n},rx=function(t){var n=t.type,r=n===void 0?"circle":n,a=t.size,o=a===void 0?64:a,i=t.sizeType,s=i===void 0?"area":i,c=jG(t,PG),l=f1(f1({},c),{},{type:r,size:o,sizeType:s}),u=function(){var v=NG(r),b=lG().type(v).size(MG(o,s,r));return b()},d=l.className,f=l.cx,h=l.cy,p=ot(l,!0);return f===+f&&h===+h&&o===+o?k.createElement("path",Vg({},p,{className:Xe("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(h,")"),d:u()})):null};rx.registerSymbol=RG;function Ds(e){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ds(e)}function zg(){return zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zg.apply(this,arguments)}function h1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function $G(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h1(Object(n),!0).forEach(function(r){Il(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,MD(r.key),r)}}function BG(e,t,n){return t&&LG(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function FG(e,t,n){return t=kf(t),UG(e,ND()?Reflect.construct(t,n||[],kf(e).constructor):t.apply(e,n))}function UG(e,t){if(t&&(Ds(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VG(e)}function VG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ND(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ND=function(){return!!e})()}function kf(e){return kf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kf(e)}function zG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wg(e,t)}function Wg(e,t){return Wg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Wg(e,t)}function Il(e,t,n){return t=MD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MD(e){var t=WG(e,"string");return Ds(t)=="symbol"?t:t+""}function WG(e,t){if(Ds(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ds(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jn=32,ax=function(e){function t(){return IG(this,t),FG(this,t,arguments)}return zG(t,e),BG(t,[{key:"renderIcon",value:function(r){var a=this.props.inactiveColor,o=Jn/2,i=Jn/6,s=Jn/3,c=r.inactive?a:r.color;if(r.type==="plainline")return k.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Jn,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return k.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Jn,"M").concat(2*s,",").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return k.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Jn/8,"h").concat(Jn,"v").concat(Jn*3/4,"h").concat(-Jn,"z"),className:"recharts-legend-icon"});if(k.isValidElement(r.legendIcon)){var l=$G({},r);return delete l.legendIcon,k.cloneElement(r.legendIcon,l)}return k.createElement(rx,{fill:c,cx:o,cy:o,size:Jn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,a=this.props,o=a.payload,i=a.iconSize,s=a.layout,c=a.formatter,l=a.inactiveColor,u={x:0,y:0,width:Jn,height:Jn},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(h,p){var m=h.formatter||c,v=Xe(Il(Il({"recharts-legend-item":!0},"legend-item-".concat(p),!0),"inactive",h.inactive));if(h.type==="none")return null;var b=Ye(h.value)?null:h.value;si(!Ye(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=h.inactive?l:h.color;return k.createElement("li",zg({className:v,style:d,key:"legend-item-".concat(p)},Pf(r.props,h,p)),k.createElement(Mg,{width:i,height:i,viewBox:u,style:f},r.renderIcon(h)),k.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},m?m(b,h,p):b))})}},{key:"render",value:function(){var r=this.props,a=r.payload,o=r.layout,i=r.align;if(!a||!a.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?i:"left"};return k.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(w.PureComponent);Il(ax,"displayName","Legend");Il(ax,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var HG=cp;function qG(){this.__data__=new HG,this.size=0}var GG=qG;function KG(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var YG=KG;function XG(e){return this.__data__.get(e)}var ZG=XG;function JG(e){return this.__data__.has(e)}var QG=JG,eK=cp,tK=Hb,nK=qb,rK=200;function aK(e,t){var n=this.__data__;if(n instanceof eK){var r=n.__data__;if(!tK||r.length<rK-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new nK(r)}return n.set(e,t),this.size=n.size,this}var oK=aK,iK=cp,sK=GG,cK=YG,lK=ZG,uK=QG,dK=oK;function pc(e){var t=this.__data__=new iK(e);this.size=t.size}pc.prototype.clear=sK;pc.prototype.delete=cK;pc.prototype.get=lK;pc.prototype.has=uK;pc.prototype.set=dK;var RD=pc,fK="__lodash_hash_undefined__";function hK(e){return this.__data__.set(e,fK),this}var pK=hK;function mK(e){return this.__data__.has(e)}var vK=mK,gK=qb,yK=pK,bK=vK;function Nf(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new gK;++t<n;)this.add(e[t])}Nf.prototype.add=Nf.prototype.push=yK;Nf.prototype.has=bK;var $D=Nf;function xK(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var ID=xK;function wK(e,t){return e.has(t)}var LD=wK,SK=$D,_K=ID,AK=LD,TK=1,PK=2;function OK(e,t,n,r,a,o){var i=n&TK,s=e.length,c=t.length;if(s!=c&&!(i&&c>s))return!1;var l=o.get(e),u=o.get(t);if(l&&u)return l==t&&u==e;var d=-1,f=!0,h=n&PK?new SK:void 0;for(o.set(e,t),o.set(t,e);++d<s;){var p=e[d],m=t[d];if(r)var v=i?r(m,p,d,t,e,o):r(p,m,d,e,t,o);if(v!==void 0){if(v)continue;f=!1;break}if(h){if(!_K(t,function(b,x){if(!AK(h,x)&&(p===b||a(p,b,n,r,o)))return h.push(x)})){f=!1;break}}else if(!(p===m||a(p,m,n,r,o))){f=!1;break}}return o.delete(e),o.delete(t),f}var BD=OK,CK=ra,EK=CK.Uint8Array,jK=EK;function DK(e){var t=-1,n=Array(e.size);return e.forEach(function(r,a){n[++t]=[a,r]}),n}var kK=DK;function NK(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var ox=NK,p1=Xu,m1=jK,MK=Wb,RK=BD,$K=kK,IK=ox,LK=1,BK=2,FK="[object Boolean]",UK="[object Date]",VK="[object Error]",zK="[object Map]",WK="[object Number]",HK="[object RegExp]",qK="[object Set]",GK="[object String]",KK="[object Symbol]",YK="[object ArrayBuffer]",XK="[object DataView]",v1=p1?p1.prototype:void 0,qm=v1?v1.valueOf:void 0;function ZK(e,t,n,r,a,o,i){switch(n){case XK:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case YK:return!(e.byteLength!=t.byteLength||!o(new m1(e),new m1(t)));case FK:case UK:case WK:return MK(+e,+t);case VK:return e.name==t.name&&e.message==t.message;case HK:case GK:return e==t+"";case zK:var s=$K;case qK:var c=r&LK;if(s||(s=IK),e.size!=t.size&&!c)return!1;var l=i.get(e);if(l)return l==t;r|=BK,i.set(e,t);var u=RK(s(e),s(t),r,a,o,i);return i.delete(e),u;case KK:if(qm)return qm.call(e)==qm.call(t)}return!1}var JK=ZK;function QK(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}var FD=QK,eY=FD,tY=In;function nY(e,t,n){var r=t(e);return tY(e)?r:eY(r,n(e))}var rY=nY;function aY(e,t){for(var n=-1,r=e==null?0:e.length,a=0,o=[];++n<r;){var i=e[n];t(i,n,e)&&(o[a++]=i)}return o}var oY=aY;function iY(){return[]}var sY=iY,cY=oY,lY=sY,uY=Object.prototype,dY=uY.propertyIsEnumerable,g1=Object.getOwnPropertySymbols,fY=g1?function(e){return e==null?[]:(e=Object(e),cY(g1(e),function(t){return dY.call(e,t)}))}:lY,hY=fY;function pY(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var mY=pY,vY=ka,gY=Na,yY="[object Arguments]";function bY(e){return gY(e)&&vY(e)==yY}var xY=bY,y1=xY,wY=Na,UD=Object.prototype,SY=UD.hasOwnProperty,_Y=UD.propertyIsEnumerable,AY=y1(function(){return arguments}())?y1:function(e){return wY(e)&&SY.call(e,"callee")&&!_Y.call(e,"callee")},ix=AY,Mf={exports:{}};function TY(){return!1}var PY=TY;Mf.exports;(function(e,t){var n=ra,r=PY,a=t&&!t.nodeType&&t,o=a&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===a,s=i?n.Buffer:void 0,c=s?s.isBuffer:void 0,l=c||r;e.exports=l})(Mf,Mf.exports);var VD=Mf.exports,OY=9007199254740991,CY=/^(?:0|[1-9]\d*)$/;function EY(e,t){var n=typeof e;return t=t??OY,!!t&&(n=="number"||n!="symbol"&&CY.test(e))&&e>-1&&e%1==0&&e<t}var sx=EY,jY=9007199254740991;function DY(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=jY}var cx=DY,kY=ka,NY=cx,MY=Na,RY="[object Arguments]",$Y="[object Array]",IY="[object Boolean]",LY="[object Date]",BY="[object Error]",FY="[object Function]",UY="[object Map]",VY="[object Number]",zY="[object Object]",WY="[object RegExp]",HY="[object Set]",qY="[object String]",GY="[object WeakMap]",KY="[object ArrayBuffer]",YY="[object DataView]",XY="[object Float32Array]",ZY="[object Float64Array]",JY="[object Int8Array]",QY="[object Int16Array]",eX="[object Int32Array]",tX="[object Uint8Array]",nX="[object Uint8ClampedArray]",rX="[object Uint16Array]",aX="[object Uint32Array]",_t={};_t[XY]=_t[ZY]=_t[JY]=_t[QY]=_t[eX]=_t[tX]=_t[nX]=_t[rX]=_t[aX]=!0;_t[RY]=_t[$Y]=_t[KY]=_t[IY]=_t[YY]=_t[LY]=_t[BY]=_t[FY]=_t[UY]=_t[VY]=_t[zY]=_t[WY]=_t[HY]=_t[qY]=_t[GY]=!1;function oX(e){return MY(e)&&NY(e.length)&&!!_t[kY(e)]}var iX=oX;function sX(e){return function(t){return e(t)}}var zD=sX,Rf={exports:{}};Rf.exports;(function(e,t){var n=Zj,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===r,i=o&&n.process,s=function(){try{var c=a&&a.require&&a.require("util").types;return c||i&&i.binding&&i.binding("util")}catch{}}();e.exports=s})(Rf,Rf.exports);var cX=Rf.exports,lX=iX,uX=zD,b1=cX,x1=b1&&b1.isTypedArray,dX=x1?uX(x1):lX,WD=dX,fX=mY,hX=ix,pX=In,mX=VD,vX=sx,gX=WD,yX=Object.prototype,bX=yX.hasOwnProperty;function xX(e,t){var n=pX(e),r=!n&&hX(e),a=!n&&!r&&mX(e),o=!n&&!r&&!a&&gX(e),i=n||r||a||o,s=i?fX(e.length,String):[],c=s.length;for(var l in e)(t||bX.call(e,l))&&!(i&&(l=="length"||a&&(l=="offset"||l=="parent")||o&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||vX(l,c)))&&s.push(l);return s}var wX=xX,SX=Object.prototype;function _X(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||SX;return e===n}var AX=_X;function TX(e,t){return function(n){return e(t(n))}}var HD=TX,PX=HD,OX=PX(Object.keys,Object),CX=OX,EX=AX,jX=CX,DX=Object.prototype,kX=DX.hasOwnProperty;function NX(e){if(!EX(e))return jX(e);var t=[];for(var n in Object(e))kX.call(e,n)&&n!="constructor"&&t.push(n);return t}var MX=NX,RX=zb,$X=cx;function IX(e){return e!=null&&$X(e.length)&&!RX(e)}var Pp=IX,LX=wX,BX=MX,FX=Pp;function UX(e){return FX(e)?LX(e):BX(e)}var lx=UX,VX=rY,zX=hY,WX=lx;function HX(e){return VX(e,WX,zX)}var qX=HX,w1=qX,GX=1,KX=Object.prototype,YX=KX.hasOwnProperty;function XX(e,t,n,r,a,o){var i=n&GX,s=w1(e),c=s.length,l=w1(t),u=l.length;if(c!=u&&!i)return!1;for(var d=c;d--;){var f=s[d];if(!(i?f in t:YX.call(t,f)))return!1}var h=o.get(e),p=o.get(t);if(h&&p)return h==t&&p==e;var m=!0;o.set(e,t),o.set(t,e);for(var v=i;++d<c;){f=s[d];var b=e[f],x=t[f];if(r)var S=i?r(x,b,f,t,e,o):r(b,x,f,e,t,o);if(!(S===void 0?b===x||a(b,x,n,r,o):S)){m=!1;break}v||(v=f=="constructor")}if(m&&!v){var A=e.constructor,y=t.constructor;A!=y&&"constructor"in e&&"constructor"in t&&!(typeof A=="function"&&A instanceof A&&typeof y=="function"&&y instanceof y)&&(m=!1)}return o.delete(e),o.delete(t),m}var ZX=XX,JX=Oi,QX=ra,eZ=JX(QX,"DataView"),tZ=eZ,nZ=Oi,rZ=ra,aZ=nZ(rZ,"Promise"),oZ=aZ,iZ=Oi,sZ=ra,cZ=iZ(sZ,"Set"),qD=cZ,lZ=Oi,uZ=ra,dZ=lZ(uZ,"WeakMap"),fZ=dZ,Hg=tZ,qg=Hb,Gg=oZ,Kg=qD,Yg=fZ,GD=ka,mc=Qj,S1="[object Map]",hZ="[object Object]",_1="[object Promise]",A1="[object Set]",T1="[object WeakMap]",P1="[object DataView]",pZ=mc(Hg),mZ=mc(qg),vZ=mc(Gg),gZ=mc(Kg),yZ=mc(Yg),Io=GD;(Hg&&Io(new Hg(new ArrayBuffer(1)))!=P1||qg&&Io(new qg)!=S1||Gg&&Io(Gg.resolve())!=_1||Kg&&Io(new Kg)!=A1||Yg&&Io(new Yg)!=T1)&&(Io=function(e){var t=GD(e),n=t==hZ?e.constructor:void 0,r=n?mc(n):"";if(r)switch(r){case pZ:return P1;case mZ:return S1;case vZ:return _1;case gZ:return A1;case yZ:return T1}return t});var bZ=Io,Gm=RD,xZ=BD,wZ=JK,SZ=ZX,O1=bZ,C1=In,E1=VD,_Z=WD,AZ=1,j1="[object Arguments]",D1="[object Array]",_d="[object Object]",TZ=Object.prototype,k1=TZ.hasOwnProperty;function PZ(e,t,n,r,a,o){var i=C1(e),s=C1(t),c=i?D1:O1(e),l=s?D1:O1(t);c=c==j1?_d:c,l=l==j1?_d:l;var u=c==_d,d=l==_d,f=c==l;if(f&&E1(e)){if(!E1(t))return!1;i=!0,u=!1}if(f&&!u)return o||(o=new Gm),i||_Z(e)?xZ(e,t,n,r,a,o):wZ(e,t,c,n,r,a,o);if(!(n&AZ)){var h=u&&k1.call(e,"__wrapped__"),p=d&&k1.call(t,"__wrapped__");if(h||p){var m=h?e.value():e,v=p?t.value():t;return o||(o=new Gm),a(m,v,n,r,o)}}return f?(o||(o=new Gm),SZ(e,t,n,r,a,o)):!1}var OZ=PZ,CZ=OZ,N1=Na;function KD(e,t,n,r,a){return e===t?!0:e==null||t==null||!N1(e)&&!N1(t)?e!==e&&t!==t:CZ(e,t,n,r,KD,a)}var ux=KD,EZ=RD,jZ=ux,DZ=1,kZ=2;function NZ(e,t,n,r){var a=n.length,o=a,i=!r;if(e==null)return!o;for(e=Object(e);a--;){var s=n[a];if(i&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<o;){s=n[a];var c=s[0],l=e[c],u=s[1];if(i&&s[2]){if(l===void 0&&!(c in e))return!1}else{var d=new EZ;if(r)var f=r(l,u,c,e,t,d);if(!(f===void 0?jZ(u,l,DZ|kZ,r,d):f))return!1}}return!0}var MZ=NZ,RZ=_o;function $Z(e){return e===e&&!RZ(e)}var YD=$Z,IZ=YD,LZ=lx;function BZ(e){for(var t=LZ(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,IZ(a)]}return t}var FZ=BZ;function UZ(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var XD=UZ,VZ=MZ,zZ=FZ,WZ=XD;function HZ(e){var t=zZ(e);return t.length==1&&t[0][2]?WZ(t[0][0],t[0][1]):function(n){return n===e||VZ(n,e,t)}}var qZ=HZ;function GZ(e,t){return e!=null&&t in Object(e)}var KZ=GZ,YZ=aD,XZ=ix,ZZ=In,JZ=sx,QZ=cx,eJ=up;function tJ(e,t,n){t=YZ(t,e);for(var r=-1,a=t.length,o=!1;++r<a;){var i=eJ(t[r]);if(!(o=e!=null&&n(e,i)))break;e=e[i]}return o||++r!=a?o:(a=e==null?0:e.length,!!a&&QZ(a)&&JZ(i,a)&&(ZZ(e)||XZ(e)))}var nJ=tJ,rJ=KZ,aJ=nJ;function oJ(e,t){return e!=null&&aJ(e,t,rJ)}var iJ=oJ,sJ=ux,cJ=oD,lJ=iJ,uJ=Vb,dJ=YD,fJ=XD,hJ=up,pJ=1,mJ=2;function vJ(e,t){return uJ(e)&&dJ(t)?fJ(hJ(e),t):function(n){var r=cJ(n,e);return r===void 0&&r===t?lJ(n,e):sJ(t,r,pJ|mJ)}}var gJ=vJ;function yJ(e){return e}var vc=yJ;function bJ(e){return function(t){return t==null?void 0:t[e]}}var xJ=bJ,wJ=Yb;function SJ(e){return function(t){return wJ(t,e)}}var _J=SJ,AJ=xJ,TJ=_J,PJ=Vb,OJ=up;function CJ(e){return PJ(e)?AJ(OJ(e)):TJ(e)}var EJ=CJ,jJ=qZ,DJ=gJ,kJ=vc,NJ=In,MJ=EJ;function RJ(e){return typeof e=="function"?e:e==null?kJ:typeof e=="object"?NJ(e)?DJ(e[0],e[1]):jJ(e):MJ(e)}var gc=RJ;function $J(e,t,n,r){for(var a=e.length,o=n+(r?1:-1);r?o--:++o<a;)if(t(e[o],o,e))return o;return-1}var IJ=$J;function LJ(e){return e!==e}var BJ=LJ;function FJ(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}var UJ=FJ,VJ=IJ,zJ=BJ,WJ=UJ;function HJ(e,t,n){return t===t?WJ(e,t,n):VJ(e,zJ,n)}var qJ=HJ,GJ=qJ;function KJ(e,t){var n=e==null?0:e.length;return!!n&&GJ(e,t,0)>-1}var YJ=KJ;function XJ(e,t,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}var ZJ=XJ;function JJ(){}var QJ=JJ,Km=qD,eQ=QJ,tQ=ox,nQ=1/0,rQ=Km&&1/tQ(new Km([,-0]))[1]==nQ?function(e){return new Km(e)}:eQ,aQ=rQ,oQ=$D,iQ=YJ,sQ=ZJ,cQ=LD,lQ=aQ,uQ=ox,dQ=200;function fQ(e,t,n){var r=-1,a=iQ,o=e.length,i=!0,s=[],c=s;if(n)i=!1,a=sQ;else if(o>=dQ){var l=t?null:lQ(e);if(l)return uQ(l);i=!1,a=cQ,c=new oQ}else c=t?[]:s;e:for(;++r<o;){var u=e[r],d=t?t(u):u;if(u=n||u!==0?u:0,i&&d===d){for(var f=c.length;f--;)if(c[f]===d)continue e;t&&c.push(d),s.push(u)}else a(c,d,n)||(c!==s&&c.push(d),s.push(u))}return s}var hQ=fQ,pQ=gc,mQ=hQ;function vQ(e,t){return e&&e.length?mQ(e,pQ(t)):[]}var gQ=vQ;const M1=vt(gQ);function ZD(e,t,n){return t===!0?M1(e,n):Ye(t)?M1(e,t):e}function ks(e){"@babel/helpers - typeof";return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ks(e)}var yQ=["ref"];function R1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function da(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R1(Object(n),!0).forEach(function(r){Op(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,QD(r.key),r)}}function xQ(e,t,n){return t&&$1(e.prototype,t),n&&$1(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function wQ(e,t,n){return t=$f(t),SQ(e,JD()?Reflect.construct(t,n||[],$f(e).constructor):t.apply(e,n))}function SQ(e,t){if(t&&(ks(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Q(e)}function _Q(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JD=function(){return!!e})()}function $f(e){return $f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$f(e)}function AQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xg(e,t)}function Xg(e,t){return Xg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Xg(e,t)}function Op(e,t,n){return t=QD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QD(e){var t=TQ(e,"string");return ks(t)=="symbol"?t:t+""}function TQ(e,t){if(ks(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ks(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PQ(e,t){if(e==null)return{};var n=OQ(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function OQ(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function CQ(e){return e.value}function EQ(e,t){if(k.isValidElement(e))return k.cloneElement(e,t);if(typeof e=="function")return k.createElement(e,t);t.ref;var n=PQ(t,yQ);return k.createElement(ax,n)}var I1=1,is=function(e){function t(){var n;bQ(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=wQ(this,t,[].concat(a)),Op(n,"lastBoundingBox",{width:-1,height:-1}),n}return AQ(t,e),xQ(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>I1||Math.abs(a.height-this.lastBoundingBox.height)>I1)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,r&&r(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?da({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var a=this.props,o=a.layout,i=a.align,s=a.verticalAlign,c=a.margin,l=a.chartWidth,u=a.chartHeight,d,f;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(i==="center"&&o==="vertical"){var h=this.getBBoxSnapshot();d={left:((l||0)-h.width)/2}}else d=i==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var p=this.getBBoxSnapshot();f={top:((u||0)-p.height)/2}}else f=s==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return da(da({},d),f)}},{key:"render",value:function(){var r=this,a=this.props,o=a.content,i=a.width,s=a.height,c=a.wrapperStyle,l=a.payloadUniqBy,u=a.payload,d=da(da({position:"absolute",width:i||"auto",height:s||"auto"},this.getDefaultPosition(c)),c);return k.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(h){r.wrapperNode=h}},EQ(o,da(da({},this.props),{},{payload:ZD(u,l,CQ)})))}}],[{key:"getWithHeight",value:function(r,a){var o=da(da({},this.defaultProps),r.props),i=o.layout;return i==="vertical"&&le(r.props.height)?{height:r.props.height}:i==="horizontal"?{width:r.props.width||a}:null}}])}(w.PureComponent);Op(is,"displayName","Legend");Op(is,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var L1=Xu,jQ=ix,DQ=In,B1=L1?L1.isConcatSpreadable:void 0;function kQ(e){return DQ(e)||jQ(e)||!!(B1&&e&&e[B1])}var NQ=kQ,MQ=FD,RQ=NQ;function ek(e,t,n,r,a){var o=-1,i=e.length;for(n||(n=RQ),a||(a=[]);++o<i;){var s=e[o];t>0&&n(s)?t>1?ek(s,t-1,n,r,a):MQ(a,s):r||(a[a.length]=s)}return a}var tk=ek;function $Q(e){return function(t,n,r){for(var a=-1,o=Object(t),i=r(t),s=i.length;s--;){var c=i[e?s:++a];if(n(o[c],c,o)===!1)break}return t}}var IQ=$Q,LQ=IQ,BQ=LQ(),FQ=BQ,UQ=FQ,VQ=lx;function zQ(e,t){return e&&UQ(e,t,VQ)}var nk=zQ,WQ=Pp;function HQ(e,t){return function(n,r){if(n==null)return n;if(!WQ(n))return e(n,r);for(var a=n.length,o=t?a:-1,i=Object(n);(t?o--:++o<a)&&r(i[o],o,i)!==!1;);return n}}var qQ=HQ,GQ=nk,KQ=qQ,YQ=KQ(GQ),dx=YQ,XQ=dx,ZQ=Pp;function JQ(e,t){var n=-1,r=ZQ(e)?Array(e.length):[];return XQ(e,function(a,o,i){r[++n]=t(a,o,i)}),r}var rk=JQ;function QQ(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var eee=QQ,F1=lc;function tee(e,t){if(e!==t){var n=e!==void 0,r=e===null,a=e===e,o=F1(e),i=t!==void 0,s=t===null,c=t===t,l=F1(t);if(!s&&!l&&!o&&e>t||o&&i&&c&&!s&&!l||r&&i&&c||!n&&c||!a)return 1;if(!r&&!o&&!l&&e<t||l&&n&&a&&!r&&!o||s&&n&&a||!i&&a||!c)return-1}return 0}var nee=tee,ree=nee;function aee(e,t,n){for(var r=-1,a=e.criteria,o=t.criteria,i=a.length,s=n.length;++r<i;){var c=ree(a[r],o[r]);if(c){if(r>=s)return c;var l=n[r];return c*(l=="desc"?-1:1)}}return e.index-t.index}var oee=aee,Ym=Kb,iee=Yb,see=gc,cee=rk,lee=eee,uee=zD,dee=oee,fee=vc,hee=In;function pee(e,t,n){t.length?t=Ym(t,function(o){return hee(o)?function(i){return iee(i,o.length===1?o[0]:o)}:o}):t=[fee];var r=-1;t=Ym(t,uee(see));var a=cee(e,function(o,i,s){var c=Ym(t,function(l){return l(o)});return{criteria:c,index:++r,value:o}});return lee(a,function(o,i){return dee(o,i,n)})}var mee=pee;function vee(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var gee=vee,yee=gee,U1=Math.max;function bee(e,t,n){return t=U1(t===void 0?e.length-1:t,0),function(){for(var r=arguments,a=-1,o=U1(r.length-t,0),i=Array(o);++a<o;)i[a]=r[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=r[a];return s[t]=n(i),yee(e,this,s)}}var xee=bee;function wee(e){return function(){return e}}var See=wee,_ee=Oi,Aee=function(){try{var e=_ee(Object,"defineProperty");return e({},"",{}),e}catch{}}(),ak=Aee,Tee=See,V1=ak,Pee=vc,Oee=V1?function(e,t){return V1(e,"toString",{configurable:!0,enumerable:!1,value:Tee(t),writable:!0})}:Pee,Cee=Oee,Eee=800,jee=16,Dee=Date.now;function kee(e){var t=0,n=0;return function(){var r=Dee(),a=jee-(r-n);if(n=r,a>0){if(++t>=Eee)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Nee=kee,Mee=Cee,Ree=Nee,$ee=Ree(Mee),Iee=$ee,Lee=vc,Bee=xee,Fee=Iee;function Uee(e,t){return Fee(Bee(e,t,Lee),e+"")}var Vee=Uee,zee=Wb,Wee=Pp,Hee=sx,qee=_o;function Gee(e,t,n){if(!qee(n))return!1;var r=typeof t;return(r=="number"?Wee(n)&&Hee(t,n.length):r=="string"&&t in n)?zee(n[t],e):!1}var Cp=Gee,Kee=tk,Yee=mee,Xee=Vee,z1=Cp,Zee=Xee(function(e,t){if(e==null)return[];var n=t.length;return n>1&&z1(e,t[0],t[1])?t=[]:n>2&&z1(t[0],t[1],t[2])&&(t=[t[0]]),Yee(e,Kee(t,1),[])}),Jee=Zee;const fx=vt(Jee);function Ll(e){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ll(e)}function Zg(){return Zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zg.apply(this,arguments)}function Qee(e,t){return rte(e)||nte(e,t)||tte(e,t)||ete()}function ete(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tte(e,t){if(e){if(typeof e=="string")return W1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W1(e,t)}}function W1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nte(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,o,i,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&n.return!=null&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function rte(e){if(Array.isArray(e))return e}function H1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Xm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H1(Object(n),!0).forEach(function(r){ate(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ate(e,t,n){return t=ote(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ote(e){var t=ite(e,"string");return Ll(t)=="symbol"?t:t+""}function ite(e,t){if(Ll(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ste(e){return Array.isArray(e)&&Jt(e[0])&&Jt(e[1])?e.join(" ~ "):e}var cte=function(t){var n=t.separator,r=n===void 0?" : ":n,a=t.contentStyle,o=a===void 0?{}:a,i=t.itemStyle,s=i===void 0?{}:i,c=t.labelStyle,l=c===void 0?{}:c,u=t.payload,d=t.formatter,f=t.itemSorter,h=t.wrapperClassName,p=t.labelClassName,m=t.label,v=t.labelFormatter,b=t.accessibilityLayer,x=b===void 0?!1:b,S=function(){if(u&&u.length){var C={padding:0,margin:0},I=(f?fx(u,f):u).map(function(R,$){if(R.type==="none")return null;var F=Xm({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},s),V=R.formatter||d||ste,H=R.value,q=R.name,X=H,Y=q;if(V&&X!=null&&Y!=null){var J=V(H,q,R,$,u);if(Array.isArray(J)){var oe=Qee(J,2);X=oe[0],Y=oe[1]}else X=J}return k.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:F},Jt(Y)?k.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,Jt(Y)?k.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,k.createElement("span",{className:"recharts-tooltip-item-value"},X),k.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return k.createElement("ul",{className:"recharts-tooltip-item-list",style:C},I)}return null},A=Xm({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),y=Xm({margin:0},l),_=!it(m),T=_?m:"",P=Xe("recharts-default-tooltip",h),O=Xe("recharts-tooltip-label",p);_&&v&&u!==void 0&&u!==null&&(T=v(m,u));var j=x?{role:"status","aria-live":"assertive"}:{};return k.createElement("div",Zg({className:P,style:A},j),k.createElement("p",{className:O,style:y},k.isValidElement(T)?T:"".concat(T)),S())};function Bl(e){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bl(e)}function Ad(e,t,n){return t=lte(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lte(e){var t=ute(e,"string");return Bl(t)=="symbol"?t:t+""}function ute(e,t){if(Bl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ic="recharts-tooltip-wrapper",dte={visibility:"hidden"};function fte(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return Xe(Ic,Ad(Ad(Ad(Ad({},"".concat(Ic,"-right"),le(n)&&t&&le(t.x)&&n>=t.x),"".concat(Ic,"-left"),le(n)&&t&&le(t.x)&&n<t.x),"".concat(Ic,"-bottom"),le(r)&&t&&le(t.y)&&r>=t.y),"".concat(Ic,"-top"),le(r)&&t&&le(t.y)&&r<t.y))}function q1(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,a=e.offsetTopLeft,o=e.position,i=e.reverseDirection,s=e.tooltipDimension,c=e.viewBox,l=e.viewBoxDimension;if(o&&le(o[r]))return o[r];var u=n[r]-s-a,d=n[r]+a;if(t[r])return i[r]?u:d;if(i[r]){var f=u,h=c[r];return f<h?Math.max(d,c[r]):Math.max(u,c[r])}var p=d+s,m=c[r]+l;return p>m?Math.max(u,c[r]):Math.max(d,c[r])}function hte(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function pte(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,a=e.position,o=e.reverseDirection,i=e.tooltipBox,s=e.useTranslate3d,c=e.viewBox,l,u,d;return i.height>0&&i.width>0&&n?(u=q1({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:o,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),d=q1({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:o,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),l=hte({translateX:u,translateY:d,useTranslate3d:s})):l=dte,{cssProperties:l,cssClasses:fte({translateX:u,translateY:d,coordinate:n})}}function Ns(e){"@babel/helpers - typeof";return Ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ns(e)}function G1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function K1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G1(Object(n),!0).forEach(function(r){Qg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vte(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ik(r.key),r)}}function gte(e,t,n){return t&&vte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yte(e,t,n){return t=If(t),bte(e,ok()?Reflect.construct(t,n||[],If(e).constructor):t.apply(e,n))}function bte(e,t){if(t&&(Ns(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xte(e)}function xte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ok(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ok=function(){return!!e})()}function If(e){return If=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},If(e)}function wte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jg(e,t)}function Jg(e,t){return Jg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Jg(e,t)}function Qg(e,t,n){return t=ik(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ik(e){var t=Ste(e,"string");return Ns(t)=="symbol"?t:t+""}function Ste(e,t){if(Ns(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ns(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Y1=1,_te=function(e){function t(){var n;mte(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=yte(this,t,[].concat(a)),Qg(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Qg(n,"handleKeyDown",function(i){if(i.key==="Escape"){var s,c,l,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&s!==void 0?s:0,y:(l=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&l!==void 0?l:0}})}}),n}return wte(t,e),gte(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>Y1||Math.abs(r.height-this.state.lastBoundingBox.height)>Y1)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,a=this.props,o=a.active,i=a.allowEscapeViewBox,s=a.animationDuration,c=a.animationEasing,l=a.children,u=a.coordinate,d=a.hasPayload,f=a.isAnimationActive,h=a.offset,p=a.position,m=a.reverseDirection,v=a.useTranslate3d,b=a.viewBox,x=a.wrapperStyle,S=pte({allowEscapeViewBox:i,coordinate:u,offsetTopLeft:h,position:p,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:b}),A=S.cssClasses,y=S.cssProperties,_=K1(K1({transition:f&&o?"transform ".concat(s,"ms ").concat(c):void 0},y),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&d?"visible":"hidden",position:"absolute",top:0,left:0},x);return k.createElement("div",{tabIndex:-1,className:A,style:_,ref:function(P){r.wrapperNode=P}},l)}}])}(w.PureComponent),Ate=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},so={isSsr:Ate(),get:function(t){return so[t]},set:function(t,n){if(typeof t=="string")so[t]=n;else{var r=Object.keys(t);r&&r.length&&r.forEach(function(a){so[a]=t[a]})}}};function Ms(e){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ms(e)}function X1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Z1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X1(Object(n),!0).forEach(function(r){hx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pte(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ck(r.key),r)}}function Ote(e,t,n){return t&&Pte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cte(e,t,n){return t=Lf(t),Ete(e,sk()?Reflect.construct(t,n||[],Lf(e).constructor):t.apply(e,n))}function Ete(e,t){if(t&&(Ms(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jte(e)}function jte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sk=function(){return!!e})()}function Lf(e){return Lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lf(e)}function Dte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ey(e,t)}function ey(e,t){return ey=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},ey(e,t)}function hx(e,t,n){return t=ck(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ck(e){var t=kte(e,"string");return Ms(t)=="symbol"?t:t+""}function kte(e,t){if(Ms(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ms(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nte(e){return e.dataKey}function Mte(e,t){return k.isValidElement(e)?k.cloneElement(e,t):typeof e=="function"?k.createElement(e,t):k.createElement(cte,t)}var Mr=function(e){function t(){return Tte(this,t),Cte(this,t,arguments)}return Dte(t,e),Ote(t,[{key:"render",value:function(){var r=this,a=this.props,o=a.active,i=a.allowEscapeViewBox,s=a.animationDuration,c=a.animationEasing,l=a.content,u=a.coordinate,d=a.filterNull,f=a.isAnimationActive,h=a.offset,p=a.payload,m=a.payloadUniqBy,v=a.position,b=a.reverseDirection,x=a.useTranslate3d,S=a.viewBox,A=a.wrapperStyle,y=p??[];d&&y.length&&(y=ZD(p.filter(function(T){return T.value!=null&&(T.hide!==!0||r.props.includeHidden)}),m,Nte));var _=y.length>0;return k.createElement(_te,{allowEscapeViewBox:i,animationDuration:s,animationEasing:c,isAnimationActive:f,active:o,coordinate:u,hasPayload:_,offset:h,position:v,reverseDirection:b,useTranslate3d:x,viewBox:S,wrapperStyle:A},Mte(l,Z1(Z1({},this.props),{},{payload:y})))}}])}(w.PureComponent);hx(Mr,"displayName","Tooltip");hx(Mr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!so.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Rte=ra,$te=function(){return Rte.Date.now()},Ite=$te,Lte=/\s/;function Bte(e){for(var t=e.length;t--&&Lte.test(e.charAt(t)););return t}var Fte=Bte,Ute=Fte,Vte=/^\s+/;function zte(e){return e&&e.slice(0,Ute(e)+1).replace(Vte,"")}var Wte=zte,Hte=Wte,J1=_o,qte=lc,Q1=NaN,Gte=/^[-+]0x[0-9a-f]+$/i,Kte=/^0b[01]+$/i,Yte=/^0o[0-7]+$/i,Xte=parseInt;function Zte(e){if(typeof e=="number")return e;if(qte(e))return Q1;if(J1(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=J1(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Hte(e);var n=Kte.test(e);return n||Yte.test(e)?Xte(e.slice(2),n?2:8):Gte.test(e)?Q1:+e}var lk=Zte,Jte=_o,Zm=Ite,e_=lk,Qte="Expected a function",ene=Math.max,tne=Math.min;function nne(e,t,n){var r,a,o,i,s,c,l=0,u=!1,d=!1,f=!0;if(typeof e!="function")throw new TypeError(Qte);t=e_(t)||0,Jte(n)&&(u=!!n.leading,d="maxWait"in n,o=d?ene(e_(n.maxWait)||0,t):o,f="trailing"in n?!!n.trailing:f);function h(_){var T=r,P=a;return r=a=void 0,l=_,i=e.apply(P,T),i}function p(_){return l=_,s=setTimeout(b,t),u?h(_):i}function m(_){var T=_-c,P=_-l,O=t-T;return d?tne(O,o-P):O}function v(_){var T=_-c,P=_-l;return c===void 0||T>=t||T<0||d&&P>=o}function b(){var _=Zm();if(v(_))return x(_);s=setTimeout(b,m(_))}function x(_){return s=void 0,f&&r?h(_):(r=a=void 0,i)}function S(){s!==void 0&&clearTimeout(s),l=0,r=c=a=s=void 0}function A(){return s===void 0?i:x(Zm())}function y(){var _=Zm(),T=v(_);if(r=arguments,a=this,c=_,T){if(s===void 0)return p(c);if(d)return clearTimeout(s),s=setTimeout(b,t),h(c)}return s===void 0&&(s=setTimeout(b,t)),i}return y.cancel=S,y.flush=A,y}var uk=nne;const Fbe=vt(uk);var rne=uk,ane=_o,one="Expected a function";function ine(e,t,n){var r=!0,a=!0;if(typeof e!="function")throw new TypeError(one);return ane(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),rne(e,t,{leading:r,maxWait:t,trailing:a})}var sne=ine;const dk=vt(sne);function Fl(e){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fl(e)}function t_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Td(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?t_(Object(n),!0).forEach(function(r){cne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cne(e,t,n){return t=lne(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lne(e){var t=une(e,"string");return Fl(t)=="symbol"?t:t+""}function une(e,t){if(Fl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dne(e,t){return mne(e)||pne(e,t)||hne(e,t)||fne()}function fne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hne(e,t){if(e){if(typeof e=="string")return n_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n_(e,t)}}function n_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pne(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,o,i,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&n.return!=null&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function mne(e){if(Array.isArray(e))return e}var vne=w.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,a=r===void 0?{width:-1,height:-1}:r,o=e.width,i=o===void 0?"100%":o,s=e.height,c=s===void 0?"100%":s,l=e.minWidth,u=l===void 0?0:l,d=e.minHeight,f=e.maxHeight,h=e.children,p=e.debounce,m=p===void 0?0:p,v=e.id,b=e.className,x=e.onResize,S=e.style,A=S===void 0?{}:S,y=w.useRef(null),_=w.useRef();_.current=x,w.useImperativeHandle(t,function(){return Object.defineProperty(y.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),y.current},configurable:!0})});var T=w.useState({containerWidth:a.width,containerHeight:a.height}),P=dne(T,2),O=P[0],j=P[1],E=w.useCallback(function(I,R){j(function($){var F=Math.round(I),V=Math.round(R);return $.containerWidth===F&&$.containerHeight===V?$:{containerWidth:F,containerHeight:V}})},[]);w.useEffect(function(){var I=function(q){var X,Y=q[0].contentRect,J=Y.width,oe=Y.height;E(J,oe),(X=_.current)===null||X===void 0||X.call(_,J,oe)};m>0&&(I=dk(I,m,{trailing:!0,leading:!1}));var R=new ResizeObserver(I),$=y.current.getBoundingClientRect(),F=$.width,V=$.height;return E(F,V),R.observe(y.current),function(){R.disconnect()}},[E,m]);var C=w.useMemo(function(){var I=O.containerWidth,R=O.containerHeight;if(I<0||R<0)return null;si(Go(i)||Go(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,c),si(!n||n>0,"The aspect(%s) must be greater than zero.",n);var $=Go(i)?I:i,F=Go(c)?R:c;n&&n>0&&($?F=$/n:F&&($=F*n),f&&F>f&&(F=f)),si($>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,F,i,c,u,d,n);var V=!Array.isArray(h)&&Sa(h.type).endsWith("Chart");return k.Children.map(h,function(H){return k.isValidElement(H)?w.cloneElement(H,Td({width:$,height:F},V?{style:Td({height:"100%",width:"100%",maxHeight:F,maxWidth:$},H.props.style)}:{})):H})},[n,h,c,f,d,u,O,i]);return k.createElement("div",{id:v?"".concat(v):void 0,className:Xe("recharts-responsive-container",b),style:Td(Td({},A),{},{width:i,height:c,minWidth:u,minHeight:d,maxHeight:f}),ref:y},C)}),fk=function(t){return null};fk.displayName="Cell";function Ul(e){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ul(e)}function r_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ty(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r_(Object(n),!0).forEach(function(r){gne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gne(e,t,n){return t=yne(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yne(e){var t=bne(e,"string");return Ul(t)=="symbol"?t:t+""}function bne(e,t){if(Ul(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bi={widthCache:{},cacheCount:0},xne=2e3,wne={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},a_="recharts_measurement_span";function Sne(e){var t=ty({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var gl=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||so.isSsr)return{width:0,height:0};var r=Sne(n),a=JSON.stringify({text:t,copyStyle:r});if(Bi.widthCache[a])return Bi.widthCache[a];try{var o=document.getElementById(a_);o||(o=document.createElement("span"),o.setAttribute("id",a_),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var i=ty(ty({},wne),r);Object.assign(o.style,i),o.textContent="".concat(t);var s=o.getBoundingClientRect(),c={width:s.width,height:s.height};return Bi.widthCache[a]=c,++Bi.cacheCount>xne&&(Bi.cacheCount=0,Bi.widthCache={}),c}catch{return{width:0,height:0}}},_ne=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Vl(e){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vl(e)}function Bf(e,t){return One(e)||Pne(e,t)||Tne(e,t)||Ane()}function Ane(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tne(e,t){if(e){if(typeof e=="string")return o_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o_(e,t)}}function o_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pne(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,o,i,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&n.return!=null&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function One(e){if(Array.isArray(e))return e}function Cne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jne(r.key),r)}}function Ene(e,t,n){return t&&i_(e.prototype,t),n&&i_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jne(e){var t=Dne(e,"string");return Vl(t)=="symbol"?t:t+""}function Dne(e,t){if(Vl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var s_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,c_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,kne=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Nne=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,hk={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Mne=Object.keys(hk),Qi="NaN";function Rne(e,t){return e*hk[t]}var Pd=function(){function e(t,n){Cne(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!kne.test(n)&&(this.num=NaN,this.unit=""),Mne.includes(n)&&(this.num=Rne(t,n),this.unit="px")}return Ene(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,a=(r=Nne.exec(n))!==null&&r!==void 0?r:[],o=Bf(a,3),i=o[1],s=o[2];return new e(parseFloat(i),s??"")}}])}();function pk(e){if(e.includes(Qi))return Qi;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=s_.exec(t))!==null&&n!==void 0?n:[],a=Bf(r,4),o=a[1],i=a[2],s=a[3],c=Pd.parse(o??""),l=Pd.parse(s??""),u=i==="*"?c.multiply(l):c.divide(l);if(u.isNaN())return Qi;t=t.replace(s_,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,f=(d=c_.exec(t))!==null&&d!==void 0?d:[],h=Bf(f,4),p=h[1],m=h[2],v=h[3],b=Pd.parse(p??""),x=Pd.parse(v??""),S=m==="+"?b.add(x):b.subtract(x);if(S.isNaN())return Qi;t=t.replace(c_,S.toString())}return t}var l_=/\(([^()]*)\)/;function $ne(e){for(var t=e;t.includes("(");){var n=l_.exec(t),r=Bf(n,2),a=r[1];t=t.replace(l_,pk(a))}return t}function Ine(e){var t=e.replace(/\s+/g,"");return t=$ne(t),t=pk(t),t}function Lne(e){try{return Ine(e)}catch{return Qi}}function Jm(e){var t=Lne(e.slice(5,-1));return t===Qi?"":t}var Bne=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Fne=["dx","dy","angle","className","breakAll"];function ny(){return ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ny.apply(this,arguments)}function u_(e,t){if(e==null)return{};var n=Une(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Une(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function d_(e,t){return Hne(e)||Wne(e,t)||zne(e,t)||Vne()}function Vne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zne(e,t){if(e){if(typeof e=="string")return f_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f_(e,t)}}function f_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wne(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,o,i,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&n.return!=null&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function Hne(e){if(Array.isArray(e))return e}var mk=/[ \f\n\r\t\v\u2028\u2029]+/,vk=function(t){var n=t.children,r=t.breakAll,a=t.style;try{var o=[];it(n)||(r?o=n.toString().split(""):o=n.toString().split(mk));var i=o.map(function(c){return{word:c,width:gl(c,a).width}}),s=r?0:gl(" ",a).width;return{wordsWithComputedWidth:i,spaceWidth:s}}catch{return null}},qne=function(t,n,r,a,o){var i=t.maxLines,s=t.children,c=t.style,l=t.breakAll,u=le(i),d=s,f=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(F,V){var H=V.word,q=V.width,X=F[F.length-1];if(X&&(a==null||o||X.width+q+r<Number(a)))X.words.push(H),X.width+=q+r;else{var Y={words:[H],width:q};F.push(Y)}return F},[])},h=f(n),p=function($){return $.reduce(function(F,V){return F.width>V.width?F:V})};if(!u)return h;for(var m="…",v=function($){var F=d.slice(0,$),V=vk({breakAll:l,style:c,children:F+m}).wordsWithComputedWidth,H=f(V),q=H.length>i||p(H).width>Number(a);return[q,H]},b=0,x=d.length-1,S=0,A;b<=x&&S<=d.length-1;){var y=Math.floor((b+x)/2),_=y-1,T=v(_),P=d_(T,2),O=P[0],j=P[1],E=v(y),C=d_(E,1),I=C[0];if(!O&&!I&&(b=y+1),O&&I&&(x=y-1),!O&&I){A=j;break}S++}return A||h},h_=function(t){var n=it(t)?[]:t.toString().split(mk);return[{words:n}]},Gne=function(t){var n=t.width,r=t.scaleToFit,a=t.children,o=t.style,i=t.breakAll,s=t.maxLines;if((n||r)&&!so.isSsr){var c,l,u=vk({breakAll:i,children:a,style:o});if(u){var d=u.wordsWithComputedWidth,f=u.spaceWidth;c=d,l=f}else return h_(a);return qne({breakAll:i,children:a,maxLines:s,style:o},c,l,n,r)}return h_(a)},p_="#808080",Ff=function(t){var n=t.x,r=n===void 0?0:n,a=t.y,o=a===void 0?0:a,i=t.lineHeight,s=i===void 0?"1em":i,c=t.capHeight,l=c===void 0?"0.71em":c,u=t.scaleToFit,d=u===void 0?!1:u,f=t.textAnchor,h=f===void 0?"start":f,p=t.verticalAnchor,m=p===void 0?"end":p,v=t.fill,b=v===void 0?p_:v,x=u_(t,Bne),S=w.useMemo(function(){return Gne({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:d,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,d,x.style,x.width]),A=x.dx,y=x.dy,_=x.angle,T=x.className,P=x.breakAll,O=u_(x,Fne);if(!Jt(r)||!Jt(o))return null;var j=r+(le(A)?A:0),E=o+(le(y)?y:0),C;switch(m){case"start":C=Jm("calc(".concat(l,")"));break;case"middle":C=Jm("calc(".concat((S.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:C=Jm("calc(".concat(S.length-1," * -").concat(s,")"));break}var I=[];if(d){var R=S[0].width,$=x.width;I.push("scale(".concat((le($)?$/R:1)/R,")"))}return _&&I.push("rotate(".concat(_,", ").concat(j,", ").concat(E,")")),I.length&&(O.transform=I.join(" ")),k.createElement("text",ny({},ot(O,!0),{x:j,y:E,className:Xe("recharts-text",T),textAnchor:h,fill:b.includes("url")?p_:b}),S.map(function(F,V){var H=F.words.join(P?"":" ");return k.createElement("tspan",{x:j,dy:V===0?C:s,key:"".concat(H,"-").concat(V)},H)}))};function co(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Kne(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function px(e){let t,n,r;e.length!==2?(t=co,n=(s,c)=>co(e(s),c),r=(s,c)=>e(s)-c):(t=e===co||e===Kne?e:Yne,n=e,r=e);function a(s,c,l=0,u=s.length){if(l<u){if(t(c,c)!==0)return u;do{const d=l+u>>>1;n(s[d],c)<0?l=d+1:u=d}while(l<u)}return l}function o(s,c,l=0,u=s.length){if(l<u){if(t(c,c)!==0)return u;do{const d=l+u>>>1;n(s[d],c)<=0?l=d+1:u=d}while(l<u)}return l}function i(s,c,l=0,u=s.length){const d=a(s,c,l,u-1);return d>l&&r(s[d-1],c)>-r(s[d],c)?d-1:d}return{left:a,center:i,right:o}}function Yne(){return 0}function gk(e){return e===null?NaN:+e}function*Xne(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const Zne=px(co),Qu=Zne.right;px(gk).center;class m_ extends Map{constructor(t,n=ere){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(v_(this,t))}has(t){return super.has(v_(this,t))}set(t,n){return super.set(Jne(this,t),n)}delete(t){return super.delete(Qne(this,t))}}function v_({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Jne({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Qne({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function ere(e){return e!==null&&typeof e=="object"?e.valueOf():e}function tre(e=co){if(e===co)return yk;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function yk(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const nre=Math.sqrt(50),rre=Math.sqrt(10),are=Math.sqrt(2);function Uf(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),o=r/Math.pow(10,a),i=o>=nre?10:o>=rre?5:o>=are?2:1;let s,c,l;return a<0?(l=Math.pow(10,-a)/i,s=Math.round(e*l),c=Math.round(t*l),s/l<e&&++s,c/l>t&&--c,l=-l):(l=Math.pow(10,a)*i,s=Math.round(e/l),c=Math.round(t/l),s*l<e&&++s,c*l>t&&--c),c<s&&.5<=n&&n<2?Uf(e,t,n*2):[s,c,l]}function ry(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,o,i]=r?Uf(t,e,n):Uf(e,t,n);if(!(o>=a))return[];const s=o-a+1,c=new Array(s);if(r)if(i<0)for(let l=0;l<s;++l)c[l]=(o-l)/-i;else for(let l=0;l<s;++l)c[l]=(o-l)*i;else if(i<0)for(let l=0;l<s;++l)c[l]=(a+l)/-i;else for(let l=0;l<s;++l)c[l]=(a+l)*i;return c}function ay(e,t,n){return t=+t,e=+e,n=+n,Uf(e,t,n)[2]}function oy(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?ay(t,e,n):ay(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function g_(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function y_(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function bk(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?yk:tre(a);r>n;){if(r-n>600){const c=r-n+1,l=t-n+1,u=Math.log(c),d=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*d*(c-d)/c)*(l-c/2<0?-1:1),h=Math.max(n,Math.floor(t-l*d/c+f)),p=Math.min(r,Math.floor(t+(c-l)*d/c+f));bk(e,t,h,p,a)}const o=e[t];let i=n,s=r;for(Lc(e,n,t),a(e[r],o)>0&&Lc(e,n,r);i<s;){for(Lc(e,i,s),++i,--s;a(e[i],o)<0;)++i;for(;a(e[s],o)>0;)--s}a(e[n],o)===0?Lc(e,n,s):(++s,Lc(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Lc(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function ore(e,t,n){if(e=Float64Array.from(Xne(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return y_(e);if(t>=1)return g_(e);var r,a=(r-1)*t,o=Math.floor(a),i=g_(bk(e,o).subarray(0,o+1)),s=y_(e.subarray(o+1));return i+(s-i)*(a-o)}}function ire(e,t,n=gk){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,o=Math.floor(a),i=+n(e[o],o,e),s=+n(e[o+1],o+1,e);return i+(s-i)*(a-o)}}function sre(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(a);++r<a;)o[r]=e+r*n;return o}function cr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ma(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const iy=Symbol("implicit");function mx(){var e=new m_,t=[],n=[],r=iy;function a(o){let i=e.get(o);if(i===void 0){if(r!==iy)return r;e.set(o,i=t.push(o)-1)}return n[i%n.length]}return a.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new m_;for(const i of o)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(o){return arguments.length?(n=Array.from(o),a):n.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return mx(t,n).unknown(r)},cr.apply(a,arguments),a}function zl(){var e=mx().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,o,i,s=!1,c=0,l=0,u=.5;delete e.unknown;function d(){var f=t().length,h=a<r,p=h?a:r,m=h?r:a;o=(m-p)/Math.max(1,f-c+l*2),s&&(o=Math.floor(o)),p+=(m-p-o*(f-c))*u,i=o*(1-c),s&&(p=Math.round(p),i=Math.round(i));var v=sre(f).map(function(b){return p+o*b});return n(h?v.reverse():v)}return e.domain=function(f){return arguments.length?(t(f),d()):t()},e.range=function(f){return arguments.length?([r,a]=f,r=+r,a=+a,d()):[r,a]},e.rangeRound=function(f){return[r,a]=f,r=+r,a=+a,s=!0,d()},e.bandwidth=function(){return i},e.step=function(){return o},e.round=function(f){return arguments.length?(s=!!f,d()):s},e.padding=function(f){return arguments.length?(c=Math.min(1,l=+f),d()):c},e.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),d()):c},e.paddingOuter=function(f){return arguments.length?(l=+f,d()):l},e.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),d()):u},e.copy=function(){return zl(t(),[r,a]).round(s).paddingInner(c).paddingOuter(l).align(u)},cr.apply(d(),arguments)}function xk(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return xk(t())},e}function yl(){return xk(zl.apply(null,arguments).paddingInner(1))}function vx(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function wk(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ed(){}var Wl=.7,Vf=1/Wl,ss="\\s*([+-]?\\d+)\\s*",Hl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Gr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cre=/^#([0-9a-f]{3,8})$/,lre=new RegExp(`^rgb\\(${ss},${ss},${ss}\\)$`),ure=new RegExp(`^rgb\\(${Gr},${Gr},${Gr}\\)$`),dre=new RegExp(`^rgba\\(${ss},${ss},${ss},${Hl}\\)$`),fre=new RegExp(`^rgba\\(${Gr},${Gr},${Gr},${Hl}\\)$`),hre=new RegExp(`^hsl\\(${Hl},${Gr},${Gr}\\)$`),pre=new RegExp(`^hsla\\(${Hl},${Gr},${Gr},${Hl}\\)$`),b_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vx(ed,ql,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:x_,formatHex:x_,formatHex8:mre,formatHsl:vre,formatRgb:w_,toString:w_});function x_(){return this.rgb().formatHex()}function mre(){return this.rgb().formatHex8()}function vre(){return Sk(this).formatHsl()}function w_(){return this.rgb().formatRgb()}function ql(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=cre.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?S_(t):n===3?new $n(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Od(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Od(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=lre.exec(e))?new $n(t[1],t[2],t[3],1):(t=ure.exec(e))?new $n(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=dre.exec(e))?Od(t[1],t[2],t[3],t[4]):(t=fre.exec(e))?Od(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=hre.exec(e))?T_(t[1],t[2]/100,t[3]/100,1):(t=pre.exec(e))?T_(t[1],t[2]/100,t[3]/100,t[4]):b_.hasOwnProperty(e)?S_(b_[e]):e==="transparent"?new $n(NaN,NaN,NaN,0):null}function S_(e){return new $n(e>>16&255,e>>8&255,e&255,1)}function Od(e,t,n,r){return r<=0&&(e=t=n=NaN),new $n(e,t,n,r)}function gre(e){return e instanceof ed||(e=ql(e)),e?(e=e.rgb(),new $n(e.r,e.g,e.b,e.opacity)):new $n}function sy(e,t,n,r){return arguments.length===1?gre(e):new $n(e,t,n,r??1)}function $n(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}vx($n,sy,wk(ed,{brighter(e){return e=e==null?Vf:Math.pow(Vf,e),new $n(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Wl:Math.pow(Wl,e),new $n(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new $n(ci(this.r),ci(this.g),ci(this.b),zf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:__,formatHex:__,formatHex8:yre,formatRgb:A_,toString:A_}));function __(){return`#${Ko(this.r)}${Ko(this.g)}${Ko(this.b)}`}function yre(){return`#${Ko(this.r)}${Ko(this.g)}${Ko(this.b)}${Ko((isNaN(this.opacity)?1:this.opacity)*255)}`}function A_(){const e=zf(this.opacity);return`${e===1?"rgb(":"rgba("}${ci(this.r)}, ${ci(this.g)}, ${ci(this.b)}${e===1?")":`, ${e})`}`}function zf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ci(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ko(e){return e=ci(e),(e<16?"0":"")+e.toString(16)}function T_(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Sr(e,t,n,r)}function Sk(e){if(e instanceof Sr)return new Sr(e.h,e.s,e.l,e.opacity);if(e instanceof ed||(e=ql(e)),!e)return new Sr;if(e instanceof Sr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),o=Math.max(t,n,r),i=NaN,s=o-a,c=(o+a)/2;return s?(t===o?i=(n-r)/s+(n<r)*6:n===o?i=(r-t)/s+2:i=(t-n)/s+4,s/=c<.5?o+a:2-o-a,i*=60):s=c>0&&c<1?0:i,new Sr(i,s,c,e.opacity)}function bre(e,t,n,r){return arguments.length===1?Sk(e):new Sr(e,t,n,r??1)}function Sr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}vx(Sr,bre,wk(ed,{brighter(e){return e=e==null?Vf:Math.pow(Vf,e),new Sr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Wl:Math.pow(Wl,e),new Sr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new $n(Qm(e>=240?e-240:e+120,a,r),Qm(e,a,r),Qm(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new Sr(P_(this.h),Cd(this.s),Cd(this.l),zf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=zf(this.opacity);return`${e===1?"hsl(":"hsla("}${P_(this.h)}, ${Cd(this.s)*100}%, ${Cd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function P_(e){return e=(e||0)%360,e<0?e+360:e}function Cd(e){return Math.max(0,Math.min(1,e||0))}function Qm(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const gx=e=>()=>e;function xre(e,t){return function(n){return e+n*t}}function wre(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Sre(e){return(e=+e)==1?_k:function(t,n){return n-t?wre(t,n,e):gx(isNaN(t)?n:t)}}function _k(e,t){var n=t-e;return n?xre(e,n):gx(isNaN(e)?t:e)}const O_=function e(t){var n=Sre(t);function r(a,o){var i=n((a=sy(a)).r,(o=sy(o)).r),s=n(a.g,o.g),c=n(a.b,o.b),l=_k(a.opacity,o.opacity);return function(u){return a.r=i(u),a.g=s(u),a.b=c(u),a.opacity=l(u),a+""}}return r.gamma=e,r}(1);function _re(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(o){for(a=0;a<n;++a)r[a]=e[a]*(1-o)+t[a]*o;return r}}function Are(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Tre(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),o=new Array(n),i;for(i=0;i<r;++i)a[i]=yc(e[i],t[i]);for(;i<n;++i)o[i]=t[i];return function(s){for(i=0;i<r;++i)o[i]=a[i](s);return o}}function Pre(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Wf(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Ore(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=yc(e[a],t[a]):r[a]=t[a];return function(o){for(a in n)r[a]=n[a](o);return r}}var cy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ev=new RegExp(cy.source,"g");function Cre(e){return function(){return e}}function Ere(e){return function(t){return e(t)+""}}function jre(e,t){var n=cy.lastIndex=ev.lastIndex=0,r,a,o,i=-1,s=[],c=[];for(e=e+"",t=t+"";(r=cy.exec(e))&&(a=ev.exec(t));)(o=a.index)>n&&(o=t.slice(n,o),s[i]?s[i]+=o:s[++i]=o),(r=r[0])===(a=a[0])?s[i]?s[i]+=a:s[++i]=a:(s[++i]=null,c.push({i,x:Wf(r,a)})),n=ev.lastIndex;return n<t.length&&(o=t.slice(n),s[i]?s[i]+=o:s[++i]=o),s.length<2?c[0]?Ere(c[0].x):Cre(t):(t=c.length,function(l){for(var u=0,d;u<t;++u)s[(d=c[u]).i]=d.x(l);return s.join("")})}function yc(e,t){var n=typeof t,r;return t==null||n==="boolean"?gx(t):(n==="number"?Wf:n==="string"?(r=ql(t))?(t=r,O_):jre:t instanceof ql?O_:t instanceof Date?Pre:Are(t)?_re:Array.isArray(t)?Tre:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Ore:Wf)(e,t)}function yx(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Dre(e,t){t===void 0&&(t=e,e=yc);for(var n=0,r=t.length-1,a=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(a,a=t[++n]);return function(i){var s=Math.max(0,Math.min(r-1,Math.floor(i*=r)));return o[s](i-s)}}function kre(e){return function(){return e}}function Hf(e){return+e}var C_=[0,1];function On(e){return e}function ly(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:kre(isNaN(t)?NaN:.5)}function Nre(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Mre(e,t,n){var r=e[0],a=e[1],o=t[0],i=t[1];return a<r?(r=ly(a,r),o=n(i,o)):(r=ly(r,a),o=n(o,i)),function(s){return o(r(s))}}function Rre(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),o=new Array(r),i=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<r;)a[i]=ly(e[i],e[i+1]),o[i]=n(t[i],t[i+1]);return function(s){var c=Qu(e,s,1,r)-1;return o[c](a[c](s))}}function td(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ep(){var e=C_,t=C_,n=yc,r,a,o,i=On,s,c,l;function u(){var f=Math.min(e.length,t.length);return i!==On&&(i=Nre(e[0],e[f-1])),s=f>2?Rre:Mre,c=l=null,d}function d(f){return f==null||isNaN(f=+f)?o:(c||(c=s(e.map(r),t,n)))(r(i(f)))}return d.invert=function(f){return i(a((l||(l=s(t,e.map(r),Wf)))(f)))},d.domain=function(f){return arguments.length?(e=Array.from(f,Hf),u()):e.slice()},d.range=function(f){return arguments.length?(t=Array.from(f),u()):t.slice()},d.rangeRound=function(f){return t=Array.from(f),n=yx,u()},d.clamp=function(f){return arguments.length?(i=f?!0:On,u()):i!==On},d.interpolate=function(f){return arguments.length?(n=f,u()):n},d.unknown=function(f){return arguments.length?(o=f,d):o},function(f,h){return r=f,a=h,u()}}function bx(){return Ep()(On,On)}function $re(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function qf(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Rs(e){return e=qf(Math.abs(e)),e?e[1]:NaN}function Ire(e,t){return function(n,r){for(var a=n.length,o=[],i=0,s=e[0],c=0;a>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),o.push(n.substring(a-=s,a+s)),!((c+=s+1)>r));)s=e[i=(i+1)%e.length];return o.reverse().join(t)}}function Lre(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Bre=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gl(e){if(!(t=Bre.exec(e)))throw new Error("invalid format: "+e);var t;return new xx({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Gl.prototype=xx.prototype;function xx(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}xx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Fre(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var Ak;function Ure(e,t){var n=qf(e,t);if(!n)return e+"";var r=n[0],a=n[1],o=a-(Ak=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=r.length;return o===i?r:o>i?r+new Array(o-i+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+qf(e,Math.max(0,t+o-1))[0]}function E_(e,t){var n=qf(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const j_={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:$re,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>E_(e*100,t),r:E_,s:Ure,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function D_(e){return e}var k_=Array.prototype.map,N_=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Vre(e){var t=e.grouping===void 0||e.thousands===void 0?D_:Ire(k_.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?D_:Lre(k_.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function l(d){d=Gl(d);var f=d.fill,h=d.align,p=d.sign,m=d.symbol,v=d.zero,b=d.width,x=d.comma,S=d.precision,A=d.trim,y=d.type;y==="n"?(x=!0,y="g"):j_[y]||(S===void 0&&(S=12),A=!0,y="g"),(v||f==="0"&&h==="=")&&(v=!0,f="0",h="=");var _=m==="$"?n:m==="#"&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",T=m==="$"?r:/[%p]/.test(y)?i:"",P=j_[y],O=/[defgprs%]/.test(y);S=S===void 0?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function j(E){var C=_,I=T,R,$,F;if(y==="c")I=P(E)+I,E="";else{E=+E;var V=E<0||1/E<0;if(E=isNaN(E)?c:P(Math.abs(E),S),A&&(E=Fre(E)),V&&+E==0&&p!=="+"&&(V=!1),C=(V?p==="("?p:s:p==="-"||p==="("?"":p)+C,I=(y==="s"?N_[8+Ak/3]:"")+I+(V&&p==="("?")":""),O){for(R=-1,$=E.length;++R<$;)if(F=E.charCodeAt(R),48>F||F>57){I=(F===46?a+E.slice(R+1):E.slice(R))+I,E=E.slice(0,R);break}}}x&&!v&&(E=t(E,1/0));var H=C.length+E.length+I.length,q=H<b?new Array(b-H+1).join(f):"";switch(x&&v&&(E=t(q+E,q.length?b-I.length:1/0),q=""),h){case"<":E=C+E+I+q;break;case"=":E=C+q+E+I;break;case"^":E=q.slice(0,H=q.length>>1)+C+E+I+q.slice(H);break;default:E=q+C+E+I;break}return o(E)}return j.toString=function(){return d+""},j}function u(d,f){var h=l((d=Gl(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(Rs(f)/3)))*3,m=Math.pow(10,-p),v=N_[8+p/3];return function(b){return h(m*b)+v}}return{format:l,formatPrefix:u}}var Ed,wx,Tk;zre({thousands:",",grouping:[3],currency:["$",""]});function zre(e){return Ed=Vre(e),wx=Ed.format,Tk=Ed.formatPrefix,Ed}function Wre(e){return Math.max(0,-Rs(Math.abs(e)))}function Hre(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Rs(t)/3)))*3-Rs(Math.abs(e)))}function qre(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Rs(t)-Rs(e))+1}function Pk(e,t,n,r){var a=oy(e,t,n),o;switch(r=Gl(r??",f"),r.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=Hre(a,i))&&(r.precision=o),Tk(r,i)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=qre(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Wre(a))&&(r.precision=o-(r.type==="%")*2);break}}return wx(r)}function Ao(e){var t=e.domain;return e.ticks=function(n){var r=t();return ry(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return Pk(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,o=r.length-1,i=r[a],s=r[o],c,l,u=10;for(s<i&&(l=i,i=s,s=l,l=a,a=o,o=l);u-- >0;){if(l=ay(i,s,n),l===c)return r[a]=i,r[o]=s,t(r);if(l>0)i=Math.floor(i/l)*l,s=Math.ceil(s/l)*l;else if(l<0)i=Math.ceil(i*l)/l,s=Math.floor(s*l)/l;else break;c=l}return e},e}function Gf(){var e=bx();return e.copy=function(){return td(e,Gf())},cr.apply(e,arguments),Ao(e)}function Ok(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Hf),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Ok(e).unknown(t)},e=arguments.length?Array.from(e,Hf):[0,1],Ao(n)}function Ck(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],o=e[r],i;return o<a&&(i=n,n=r,r=i,i=a,a=o,o=i),e[n]=t.floor(a),e[r]=t.ceil(o),e}function M_(e){return Math.log(e)}function R_(e){return Math.exp(e)}function Gre(e){return-Math.log(-e)}function Kre(e){return-Math.exp(-e)}function Yre(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Xre(e){return e===10?Yre:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Zre(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function $_(e){return(t,n)=>-e(-t,n)}function Sx(e){const t=e(M_,R_),n=t.domain;let r=10,a,o;function i(){return a=Zre(r),o=Xre(r),n()[0]<0?(a=$_(a),o=$_(o),e(Gre,Kre)):e(M_,R_),t}return t.base=function(s){return arguments.length?(r=+s,i()):r},t.domain=function(s){return arguments.length?(n(s),i()):n()},t.ticks=s=>{const c=n();let l=c[0],u=c[c.length-1];const d=u<l;d&&([l,u]=[u,l]);let f=a(l),h=a(u),p,m;const v=s==null?10:+s;let b=[];if(!(r%1)&&h-f<v){if(f=Math.floor(f),h=Math.ceil(h),l>0){for(;f<=h;++f)for(p=1;p<r;++p)if(m=f<0?p/o(-f):p*o(f),!(m<l)){if(m>u)break;b.push(m)}}else for(;f<=h;++f)for(p=r-1;p>=1;--p)if(m=f>0?p/o(-f):p*o(f),!(m<l)){if(m>u)break;b.push(m)}b.length*2<v&&(b=ry(l,u,v))}else b=ry(f,h,Math.min(h-f,v)).map(o);return d?b.reverse():b},t.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Gl(c)).precision==null&&(c.trim=!0),c=wx(c)),s===1/0)return c;const l=Math.max(1,r*s/t.ticks().length);return u=>{let d=u/o(Math.round(a(u)));return d*r<r-.5&&(d*=r),d<=l?c(u):""}},t.nice=()=>n(Ck(n(),{floor:s=>o(Math.floor(a(s))),ceil:s=>o(Math.ceil(a(s)))})),t}function Ek(){const e=Sx(Ep()).domain([1,10]);return e.copy=()=>td(e,Ek()).base(e.base()),cr.apply(e,arguments),e}function I_(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function L_(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function _x(e){var t=1,n=e(I_(t),L_(t));return n.constant=function(r){return arguments.length?e(I_(t=+r),L_(t)):t},Ao(n)}function jk(){var e=_x(Ep());return e.copy=function(){return td(e,jk()).constant(e.constant())},cr.apply(e,arguments)}function B_(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Jre(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Qre(e){return e<0?-e*e:e*e}function Ax(e){var t=e(On,On),n=1;function r(){return n===1?e(On,On):n===.5?e(Jre,Qre):e(B_(n),B_(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},Ao(t)}function Tx(){var e=Ax(Ep());return e.copy=function(){return td(e,Tx()).exponent(e.exponent())},cr.apply(e,arguments),e}function eae(){return Tx.apply(null,arguments).exponent(.5)}function F_(e){return Math.sign(e)*e*e}function tae(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Dk(){var e=bx(),t=[0,1],n=!1,r;function a(o){var i=tae(e(o));return isNaN(i)?r:n?Math.round(i):i}return a.invert=function(o){return e.invert(F_(o))},a.domain=function(o){return arguments.length?(e.domain(o),a):e.domain()},a.range=function(o){return arguments.length?(e.range((t=Array.from(o,Hf)).map(F_)),a):t.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(n=!!o,a):n},a.clamp=function(o){return arguments.length?(e.clamp(o),a):e.clamp()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return Dk(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},cr.apply(a,arguments),Ao(a)}function kk(){var e=[],t=[],n=[],r;function a(){var i=0,s=Math.max(1,t.length);for(n=new Array(s-1);++i<s;)n[i-1]=ire(e,i/s);return o}function o(i){return i==null||isNaN(i=+i)?r:t[Qu(n,i)]}return o.invertExtent=function(i){var s=t.indexOf(i);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},o.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let s of i)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(co),a()},o.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},o.unknown=function(i){return arguments.length?(r=i,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return kk().domain(e).range(t).unknown(r)},cr.apply(o,arguments)}function Nk(){var e=0,t=1,n=1,r=[.5],a=[0,1],o;function i(c){return c!=null&&c<=c?a[Qu(r,c,0,n)]:o}function s(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return i}return i.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,s()):[e,t]},i.range=function(c){return arguments.length?(n=(a=Array.from(c)).length-1,s()):a.slice()},i.invertExtent=function(c){var l=a.indexOf(c);return l<0?[NaN,NaN]:l<1?[e,r[0]]:l>=n?[r[n-1],t]:[r[l-1],r[l]]},i.unknown=function(c){return arguments.length&&(o=c),i},i.thresholds=function(){return r.slice()},i.copy=function(){return Nk().domain([e,t]).range(a).unknown(o)},cr.apply(Ao(i),arguments)}function Mk(){var e=[.5],t=[0,1],n,r=1;function a(o){return o!=null&&o<=o?t[Qu(e,o,0,r)]:n}return a.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(o){var i=t.indexOf(o);return[e[i-1],e[i]]},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return Mk().domain(e).range(t).unknown(n)},cr.apply(a,arguments)}const tv=new Date,nv=new Date;function Qt(e,t,n,r){function a(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(e(o=new Date(+o)),o),a.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),a.round=o=>{const i=a(o),s=a.ceil(o);return o-i<s-o?i:s},a.offset=(o,i)=>(t(o=new Date(+o),i==null?1:Math.floor(i)),o),a.range=(o,i,s)=>{const c=[];if(o=a.ceil(o),s=s==null?1:Math.floor(s),!(o<i)||!(s>0))return c;let l;do c.push(l=new Date(+o)),t(o,s),e(o);while(l<o&&o<i);return c},a.filter=o=>Qt(i=>{if(i>=i)for(;e(i),!o(i);)i.setTime(i-1)},(i,s)=>{if(i>=i)if(s<0)for(;++s<=0;)for(;t(i,-1),!o(i););else for(;--s>=0;)for(;t(i,1),!o(i););}),n&&(a.count=(o,i)=>(tv.setTime(+o),nv.setTime(+i),e(tv),e(nv),Math.floor(n(tv,nv))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(r?i=>r(i)%o===0:i=>a.count(0,i)%o===0):a)),a}const Kf=Qt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Kf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Qt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Kf);Kf.range;const ya=1e3,rr=ya*60,ba=rr*60,Pa=ba*24,Px=Pa*7,U_=Pa*30,rv=Pa*365,Yo=Qt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ya)},(e,t)=>(t-e)/ya,e=>e.getUTCSeconds());Yo.range;const Ox=Qt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ya)},(e,t)=>{e.setTime(+e+t*rr)},(e,t)=>(t-e)/rr,e=>e.getMinutes());Ox.range;const Cx=Qt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*rr)},(e,t)=>(t-e)/rr,e=>e.getUTCMinutes());Cx.range;const Ex=Qt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ya-e.getMinutes()*rr)},(e,t)=>{e.setTime(+e+t*ba)},(e,t)=>(t-e)/ba,e=>e.getHours());Ex.range;const jx=Qt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ba)},(e,t)=>(t-e)/ba,e=>e.getUTCHours());jx.range;const nd=Qt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*rr)/Pa,e=>e.getDate()-1);nd.range;const jp=Qt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Pa,e=>e.getUTCDate()-1);jp.range;const Rk=Qt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Pa,e=>Math.floor(e/Pa));Rk.range;function Ci(e){return Qt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*rr)/Px)}const Dp=Ci(0),Yf=Ci(1),nae=Ci(2),rae=Ci(3),$s=Ci(4),aae=Ci(5),oae=Ci(6);Dp.range;Yf.range;nae.range;rae.range;$s.range;aae.range;oae.range;function Ei(e){return Qt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Px)}const kp=Ei(0),Xf=Ei(1),iae=Ei(2),sae=Ei(3),Is=Ei(4),cae=Ei(5),lae=Ei(6);kp.range;Xf.range;iae.range;sae.range;Is.range;cae.range;lae.range;const Dx=Qt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Dx.range;const kx=Qt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());kx.range;const Oa=Qt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Oa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Qt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Oa.range;const Ca=Qt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ca.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Qt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Ca.range;function $k(e,t,n,r,a,o){const i=[[Yo,1,ya],[Yo,5,5*ya],[Yo,15,15*ya],[Yo,30,30*ya],[o,1,rr],[o,5,5*rr],[o,15,15*rr],[o,30,30*rr],[a,1,ba],[a,3,3*ba],[a,6,6*ba],[a,12,12*ba],[r,1,Pa],[r,2,2*Pa],[n,1,Px],[t,1,U_],[t,3,3*U_],[e,1,rv]];function s(l,u,d){const f=u<l;f&&([l,u]=[u,l]);const h=d&&typeof d.range=="function"?d:c(l,u,d),p=h?h.range(l,+u+1):[];return f?p.reverse():p}function c(l,u,d){const f=Math.abs(u-l)/d,h=px(([,,v])=>v).right(i,f);if(h===i.length)return e.every(oy(l/rv,u/rv,d));if(h===0)return Kf.every(Math.max(oy(l,u,d),1));const[p,m]=i[f/i[h-1][2]<i[h][2]/f?h-1:h];return p.every(m)}return[s,c]}const[uae,dae]=$k(Ca,kx,kp,Rk,jx,Cx),[fae,hae]=$k(Oa,Dx,Dp,nd,Ex,Ox);function av(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ov(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Bc(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function pae(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,o=e.days,i=e.shortDays,s=e.months,c=e.shortMonths,l=Fc(a),u=Uc(a),d=Fc(o),f=Uc(o),h=Fc(i),p=Uc(i),m=Fc(s),v=Uc(s),b=Fc(c),x=Uc(c),S={a:V,A:H,b:q,B:X,c:null,d:G_,e:G_,f:Iae,g:Gae,G:Yae,H:Mae,I:Rae,j:$ae,L:Ik,m:Lae,M:Bae,p:Y,q:J,Q:X_,s:Z_,S:Fae,u:Uae,U:Vae,V:zae,w:Wae,W:Hae,x:null,X:null,y:qae,Y:Kae,Z:Xae,"%":Y_},A={a:oe,A:Te,b:Ve,B:rt,c:null,d:K_,e:K_,f:eoe,g:uoe,G:foe,H:Zae,I:Jae,j:Qae,L:Bk,m:toe,M:noe,p:Je,q:Re,Q:X_,s:Z_,S:roe,u:aoe,U:ooe,V:ioe,w:soe,W:coe,x:null,X:null,y:loe,Y:doe,Z:hoe,"%":Y_},y={a:j,A:E,b:C,B:I,c:R,d:H_,e:H_,f:jae,g:W_,G:z_,H:q_,I:q_,j:Pae,L:Eae,m:Tae,M:Oae,p:O,q:Aae,Q:kae,s:Nae,S:Cae,u:bae,U:xae,V:wae,w:yae,W:Sae,x:$,X:F,y:W_,Y:z_,Z:_ae,"%":Dae};S.x=_(n,S),S.X=_(r,S),S.c=_(t,S),A.x=_(n,A),A.X=_(r,A),A.c=_(t,A);function _(K,fe){return function(ce){var U=[],ve=-1,ae=0,Me=K.length,ke,Qe,D;for(ce instanceof Date||(ce=new Date(+ce));++ve<Me;)K.charCodeAt(ve)===37&&(U.push(K.slice(ae,ve)),(Qe=V_[ke=K.charAt(++ve)])!=null?ke=K.charAt(++ve):Qe=ke==="e"?" ":"0",(D=fe[ke])&&(ke=D(ce,Qe)),U.push(ke),ae=ve+1);return U.push(K.slice(ae,ve)),U.join("")}}function T(K,fe){return function(ce){var U=Bc(1900,void 0,1),ve=P(U,K,ce+="",0),ae,Me;if(ve!=ce.length)return null;if("Q"in U)return new Date(U.Q);if("s"in U)return new Date(U.s*1e3+("L"in U?U.L:0));if(fe&&!("Z"in U)&&(U.Z=0),"p"in U&&(U.H=U.H%12+U.p*12),U.m===void 0&&(U.m="q"in U?U.q:0),"V"in U){if(U.V<1||U.V>53)return null;"w"in U||(U.w=1),"Z"in U?(ae=ov(Bc(U.y,0,1)),Me=ae.getUTCDay(),ae=Me>4||Me===0?Xf.ceil(ae):Xf(ae),ae=jp.offset(ae,(U.V-1)*7),U.y=ae.getUTCFullYear(),U.m=ae.getUTCMonth(),U.d=ae.getUTCDate()+(U.w+6)%7):(ae=av(Bc(U.y,0,1)),Me=ae.getDay(),ae=Me>4||Me===0?Yf.ceil(ae):Yf(ae),ae=nd.offset(ae,(U.V-1)*7),U.y=ae.getFullYear(),U.m=ae.getMonth(),U.d=ae.getDate()+(U.w+6)%7)}else("W"in U||"U"in U)&&("w"in U||(U.w="u"in U?U.u%7:"W"in U?1:0),Me="Z"in U?ov(Bc(U.y,0,1)).getUTCDay():av(Bc(U.y,0,1)).getDay(),U.m=0,U.d="W"in U?(U.w+6)%7+U.W*7-(Me+5)%7:U.w+U.U*7-(Me+6)%7);return"Z"in U?(U.H+=U.Z/100|0,U.M+=U.Z%100,ov(U)):av(U)}}function P(K,fe,ce,U){for(var ve=0,ae=fe.length,Me=ce.length,ke,Qe;ve<ae;){if(U>=Me)return-1;if(ke=fe.charCodeAt(ve++),ke===37){if(ke=fe.charAt(ve++),Qe=y[ke in V_?fe.charAt(ve++):ke],!Qe||(U=Qe(K,ce,U))<0)return-1}else if(ke!=ce.charCodeAt(U++))return-1}return U}function O(K,fe,ce){var U=l.exec(fe.slice(ce));return U?(K.p=u.get(U[0].toLowerCase()),ce+U[0].length):-1}function j(K,fe,ce){var U=h.exec(fe.slice(ce));return U?(K.w=p.get(U[0].toLowerCase()),ce+U[0].length):-1}function E(K,fe,ce){var U=d.exec(fe.slice(ce));return U?(K.w=f.get(U[0].toLowerCase()),ce+U[0].length):-1}function C(K,fe,ce){var U=b.exec(fe.slice(ce));return U?(K.m=x.get(U[0].toLowerCase()),ce+U[0].length):-1}function I(K,fe,ce){var U=m.exec(fe.slice(ce));return U?(K.m=v.get(U[0].toLowerCase()),ce+U[0].length):-1}function R(K,fe,ce){return P(K,t,fe,ce)}function $(K,fe,ce){return P(K,n,fe,ce)}function F(K,fe,ce){return P(K,r,fe,ce)}function V(K){return i[K.getDay()]}function H(K){return o[K.getDay()]}function q(K){return c[K.getMonth()]}function X(K){return s[K.getMonth()]}function Y(K){return a[+(K.getHours()>=12)]}function J(K){return 1+~~(K.getMonth()/3)}function oe(K){return i[K.getUTCDay()]}function Te(K){return o[K.getUTCDay()]}function Ve(K){return c[K.getUTCMonth()]}function rt(K){return s[K.getUTCMonth()]}function Je(K){return a[+(K.getUTCHours()>=12)]}function Re(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var fe=_(K+="",S);return fe.toString=function(){return K},fe},parse:function(K){var fe=T(K+="",!1);return fe.toString=function(){return K},fe},utcFormat:function(K){var fe=_(K+="",A);return fe.toString=function(){return K},fe},utcParse:function(K){var fe=T(K+="",!0);return fe.toString=function(){return K},fe}}}var V_={"-":"",_:" ",0:"0"},an=/^\s*\d+/,mae=/^%/,vae=/[\\^$*+?|[\]().{}]/g;function tt(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",o=a.length;return r+(o<n?new Array(n-o+1).join(t)+a:a)}function gae(e){return e.replace(vae,"\\$&")}function Fc(e){return new RegExp("^(?:"+e.map(gae).join("|")+")","i")}function Uc(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function yae(e,t,n){var r=an.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function bae(e,t,n){var r=an.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function xae(e,t,n){var r=an.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function wae(e,t,n){var r=an.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Sae(e,t,n){var r=an.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function z_(e,t,n){var r=an.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function W_(e,t,n){var r=an.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function _ae(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Aae(e,t,n){var r=an.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Tae(e,t,n){var r=an.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function H_(e,t,n){var r=an.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Pae(e,t,n){var r=an.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function q_(e,t,n){var r=an.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Oae(e,t,n){var r=an.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Cae(e,t,n){var r=an.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Eae(e,t,n){var r=an.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function jae(e,t,n){var r=an.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Dae(e,t,n){var r=mae.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function kae(e,t,n){var r=an.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Nae(e,t,n){var r=an.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function G_(e,t){return tt(e.getDate(),t,2)}function Mae(e,t){return tt(e.getHours(),t,2)}function Rae(e,t){return tt(e.getHours()%12||12,t,2)}function $ae(e,t){return tt(1+nd.count(Oa(e),e),t,3)}function Ik(e,t){return tt(e.getMilliseconds(),t,3)}function Iae(e,t){return Ik(e,t)+"000"}function Lae(e,t){return tt(e.getMonth()+1,t,2)}function Bae(e,t){return tt(e.getMinutes(),t,2)}function Fae(e,t){return tt(e.getSeconds(),t,2)}function Uae(e){var t=e.getDay();return t===0?7:t}function Vae(e,t){return tt(Dp.count(Oa(e)-1,e),t,2)}function Lk(e){var t=e.getDay();return t>=4||t===0?$s(e):$s.ceil(e)}function zae(e,t){return e=Lk(e),tt($s.count(Oa(e),e)+(Oa(e).getDay()===4),t,2)}function Wae(e){return e.getDay()}function Hae(e,t){return tt(Yf.count(Oa(e)-1,e),t,2)}function qae(e,t){return tt(e.getFullYear()%100,t,2)}function Gae(e,t){return e=Lk(e),tt(e.getFullYear()%100,t,2)}function Kae(e,t){return tt(e.getFullYear()%1e4,t,4)}function Yae(e,t){var n=e.getDay();return e=n>=4||n===0?$s(e):$s.ceil(e),tt(e.getFullYear()%1e4,t,4)}function Xae(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+tt(t/60|0,"0",2)+tt(t%60,"0",2)}function K_(e,t){return tt(e.getUTCDate(),t,2)}function Zae(e,t){return tt(e.getUTCHours(),t,2)}function Jae(e,t){return tt(e.getUTCHours()%12||12,t,2)}function Qae(e,t){return tt(1+jp.count(Ca(e),e),t,3)}function Bk(e,t){return tt(e.getUTCMilliseconds(),t,3)}function eoe(e,t){return Bk(e,t)+"000"}function toe(e,t){return tt(e.getUTCMonth()+1,t,2)}function noe(e,t){return tt(e.getUTCMinutes(),t,2)}function roe(e,t){return tt(e.getUTCSeconds(),t,2)}function aoe(e){var t=e.getUTCDay();return t===0?7:t}function ooe(e,t){return tt(kp.count(Ca(e)-1,e),t,2)}function Fk(e){var t=e.getUTCDay();return t>=4||t===0?Is(e):Is.ceil(e)}function ioe(e,t){return e=Fk(e),tt(Is.count(Ca(e),e)+(Ca(e).getUTCDay()===4),t,2)}function soe(e){return e.getUTCDay()}function coe(e,t){return tt(Xf.count(Ca(e)-1,e),t,2)}function loe(e,t){return tt(e.getUTCFullYear()%100,t,2)}function uoe(e,t){return e=Fk(e),tt(e.getUTCFullYear()%100,t,2)}function doe(e,t){return tt(e.getUTCFullYear()%1e4,t,4)}function foe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Is(e):Is.ceil(e),tt(e.getUTCFullYear()%1e4,t,4)}function hoe(){return"+0000"}function Y_(){return"%"}function X_(e){return+e}function Z_(e){return Math.floor(+e/1e3)}var Fi,Uk,Vk;poe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function poe(e){return Fi=pae(e),Uk=Fi.format,Fi.parse,Vk=Fi.utcFormat,Fi.utcParse,Fi}function moe(e){return new Date(e)}function voe(e){return e instanceof Date?+e:+new Date(+e)}function Nx(e,t,n,r,a,o,i,s,c,l){var u=bx(),d=u.invert,f=u.domain,h=l(".%L"),p=l(":%S"),m=l("%I:%M"),v=l("%I %p"),b=l("%a %d"),x=l("%b %d"),S=l("%B"),A=l("%Y");function y(_){return(c(_)<_?h:s(_)<_?p:i(_)<_?m:o(_)<_?v:r(_)<_?a(_)<_?b:x:n(_)<_?S:A)(_)}return u.invert=function(_){return new Date(d(_))},u.domain=function(_){return arguments.length?f(Array.from(_,voe)):f().map(moe)},u.ticks=function(_){var T=f();return e(T[0],T[T.length-1],_??10)},u.tickFormat=function(_,T){return T==null?y:l(T)},u.nice=function(_){var T=f();return(!_||typeof _.range!="function")&&(_=t(T[0],T[T.length-1],_??10)),_?f(Ck(T,_)):u},u.copy=function(){return td(u,Nx(e,t,n,r,a,o,i,s,c,l))},u}function goe(){return cr.apply(Nx(fae,hae,Oa,Dx,Dp,nd,Ex,Ox,Yo,Uk).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function yoe(){return cr.apply(Nx(uae,dae,Ca,kx,kp,jp,jx,Cx,Yo,Vk).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Np(){var e=0,t=1,n,r,a,o,i=On,s=!1,c;function l(d){return d==null||isNaN(d=+d)?c:i(a===0?.5:(d=(o(d)-n)*a,s?Math.max(0,Math.min(1,d)):d))}l.domain=function(d){return arguments.length?([e,t]=d,n=o(e=+e),r=o(t=+t),a=n===r?0:1/(r-n),l):[e,t]},l.clamp=function(d){return arguments.length?(s=!!d,l):s},l.interpolator=function(d){return arguments.length?(i=d,l):i};function u(d){return function(f){var h,p;return arguments.length?([h,p]=f,i=d(h,p),l):[i(0),i(1)]}}return l.range=u(yc),l.rangeRound=u(yx),l.unknown=function(d){return arguments.length?(c=d,l):c},function(d){return o=d,n=d(e),r=d(t),a=n===r?0:1/(r-n),l}}function To(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function zk(){var e=Ao(Np()(On));return e.copy=function(){return To(e,zk())},Ma.apply(e,arguments)}function Wk(){var e=Sx(Np()).domain([1,10]);return e.copy=function(){return To(e,Wk()).base(e.base())},Ma.apply(e,arguments)}function Hk(){var e=_x(Np());return e.copy=function(){return To(e,Hk()).constant(e.constant())},Ma.apply(e,arguments)}function Mx(){var e=Ax(Np());return e.copy=function(){return To(e,Mx()).exponent(e.exponent())},Ma.apply(e,arguments)}function boe(){return Mx.apply(null,arguments).exponent(.5)}function qk(){var e=[],t=On;function n(r){if(r!=null&&!isNaN(r=+r))return t((Qu(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(co),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,o)=>ore(e,o/r))},n.copy=function(){return qk(t).domain(e)},Ma.apply(n,arguments)}function Mp(){var e=0,t=.5,n=1,r=1,a,o,i,s,c,l=On,u,d=!1,f;function h(m){return isNaN(m=+m)?f:(m=.5+((m=+u(m))-o)*(r*m<r*o?s:c),l(d?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([e,t,n]=m,a=u(e=+e),o=u(t=+t),i=u(n=+n),s=a===o?0:.5/(o-a),c=o===i?0:.5/(i-o),r=o<a?-1:1,h):[e,t,n]},h.clamp=function(m){return arguments.length?(d=!!m,h):d},h.interpolator=function(m){return arguments.length?(l=m,h):l};function p(m){return function(v){var b,x,S;return arguments.length?([b,x,S]=v,l=Dre(m,[b,x,S]),h):[l(0),l(.5),l(1)]}}return h.range=p(yc),h.rangeRound=p(yx),h.unknown=function(m){return arguments.length?(f=m,h):f},function(m){return u=m,a=m(e),o=m(t),i=m(n),s=a===o?0:.5/(o-a),c=o===i?0:.5/(i-o),r=o<a?-1:1,h}}function Gk(){var e=Ao(Mp()(On));return e.copy=function(){return To(e,Gk())},Ma.apply(e,arguments)}function Kk(){var e=Sx(Mp()).domain([.1,1,10]);return e.copy=function(){return To(e,Kk()).base(e.base())},Ma.apply(e,arguments)}function Yk(){var e=_x(Mp());return e.copy=function(){return To(e,Yk()).constant(e.constant())},Ma.apply(e,arguments)}function Rx(){var e=Ax(Mp());return e.copy=function(){return To(e,Rx()).exponent(e.exponent())},Ma.apply(e,arguments)}function xoe(){return Rx.apply(null,arguments).exponent(.5)}const J_=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:zl,scaleDiverging:Gk,scaleDivergingLog:Kk,scaleDivergingPow:Rx,scaleDivergingSqrt:xoe,scaleDivergingSymlog:Yk,scaleIdentity:Ok,scaleImplicit:iy,scaleLinear:Gf,scaleLog:Ek,scaleOrdinal:mx,scalePoint:yl,scalePow:Tx,scaleQuantile:kk,scaleQuantize:Nk,scaleRadial:Dk,scaleSequential:zk,scaleSequentialLog:Wk,scaleSequentialPow:Mx,scaleSequentialQuantile:qk,scaleSequentialSqrt:boe,scaleSequentialSymlog:Hk,scaleSqrt:eae,scaleSymlog:jk,scaleThreshold:Mk,scaleTime:goe,scaleUtc:yoe,tickFormat:Pk},Symbol.toStringTag,{value:"Module"}));var woe=lc;function Soe(e,t,n){for(var r=-1,a=e.length;++r<a;){var o=e[r],i=t(o);if(i!=null&&(s===void 0?i===i&&!woe(i):n(i,s)))var s=i,c=o}return c}var Xk=Soe;function _oe(e,t){return e>t}var Aoe=_oe,Toe=Xk,Poe=Aoe,Ooe=vc;function Coe(e){return e&&e.length?Toe(e,Ooe,Poe):void 0}var Eoe=Coe;const Rp=vt(Eoe);function joe(e,t){return e<t}var Doe=joe,koe=Xk,Noe=Doe,Moe=vc;function Roe(e){return e&&e.length?koe(e,Moe,Noe):void 0}var $oe=Roe;const $p=vt($oe);var Ioe=Kb,Loe=gc,Boe=rk,Foe=In;function Uoe(e,t){var n=Foe(e)?Ioe:Boe;return n(e,Loe(t))}var Voe=Uoe,zoe=tk,Woe=Voe;function Hoe(e,t){return zoe(Woe(e,t),1)}var qoe=Hoe;const Goe=vt(qoe);var Koe=ux;function Yoe(e,t){return Koe(e,t)}var Xoe=Yoe;const $x=vt(Xoe);var bc=1e9,Zoe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Lx,Tt=!0,or="[DecimalError] ",li=or+"Invalid argument: ",Ix=or+"Exponent out of range: ",xc=Math.floor,Lo=Math.pow,Joe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,qn,tn=1e7,At=7,Zk=9007199254740991,Zf=xc(Zk/At),me={};me.absoluteValue=me.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};me.comparedTo=me.cmp=function(e){var t,n,r,a,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===a?0:r>a^o.s<0?1:-1};me.decimalPlaces=me.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*At;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};me.dividedBy=me.div=function(e){return _a(this,new this.constructor(e))};me.dividedToIntegerBy=me.idiv=function(e){var t=this,n=t.constructor;return mt(_a(t,new n(e),0,1),n.precision)};me.equals=me.eq=function(e){return!this.cmp(e)};me.exponent=function(){return zt(this)};me.greaterThan=me.gt=function(e){return this.cmp(e)>0};me.greaterThanOrEqualTo=me.gte=function(e){return this.cmp(e)>=0};me.isInteger=me.isint=function(){return this.e>this.d.length-2};me.isNegative=me.isneg=function(){return this.s<0};me.isPositive=me.ispos=function(){return this.s>0};me.isZero=function(){return this.s===0};me.lessThan=me.lt=function(e){return this.cmp(e)<0};me.lessThanOrEqualTo=me.lte=function(e){return this.cmp(e)<1};me.logarithm=me.log=function(e){var t,n=this,r=n.constructor,a=r.precision,o=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(qn))throw Error(or+"NaN");if(n.s<1)throw Error(or+(n.s?"NaN":"-Infinity"));return n.eq(qn)?new r(0):(Tt=!1,t=_a(Kl(n,o),Kl(e,o),o),Tt=!0,mt(t,a))};me.minus=me.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?eN(t,e):Jk(t,(e.s=-e.s,e))};me.modulo=me.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(or+"NaN");return n.s?(Tt=!1,t=_a(n,e,0,1).times(e),Tt=!0,n.minus(t)):mt(new r(n),a)};me.naturalExponential=me.exp=function(){return Qk(this)};me.naturalLogarithm=me.ln=function(){return Kl(this)};me.negated=me.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};me.plus=me.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Jk(t,e):eN(t,(e.s=-e.s,e))};me.precision=me.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(li+e);if(t=zt(a)+1,r=a.d.length-1,n=r*At+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};me.squareRoot=me.sqrt=function(){var e,t,n,r,a,o,i,s=this,c=s.constructor;if(s.s<1){if(!s.s)return new c(0);throw Error(or+"NaN")}for(e=zt(s),Tt=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=zr(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=xc((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(a.toString()),n=c.precision,a=i=n+3;;)if(o=r,r=o.plus(_a(s,o,i+2)).times(.5),zr(o.d).slice(0,i)===(t=zr(r.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(mt(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(t!="9999")break;i+=4}return Tt=!0,mt(r,n)};me.times=me.mul=function(e){var t,n,r,a,o,i,s,c,l,u=this,d=u.constructor,f=u.d,h=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,n=u.e+e.e,c=f.length,l=h.length,c<l&&(o=f,f=h,h=o,i=c,c=l,l=i),o=[],i=c+l,r=i;r--;)o.push(0);for(r=l;--r>=0;){for(t=0,a=c+r;a>r;)s=o[a]+h[r]*f[a-r-1]+t,o[a--]=s%tn|0,t=s/tn|0;o[a]=(o[a]+t)%tn|0}for(;!o[--i];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,Tt?mt(e,d.precision):e};me.toDecimalPlaces=me.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Xr(e,0,bc),t===void 0?t=r.rounding:Xr(t,0,8),mt(n,e+zt(n)+1,t))};me.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=yi(r,!0):(Xr(e,0,bc),t===void 0?t=a.rounding:Xr(t,0,8),r=mt(new a(r),e+1,t),n=yi(r,!0,e+1)),n};me.toFixed=function(e,t){var n,r,a=this,o=a.constructor;return e===void 0?yi(a):(Xr(e,0,bc),t===void 0?t=o.rounding:Xr(t,0,8),r=mt(new o(a),e+zt(a)+1,t),n=yi(r.abs(),!1,e+zt(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};me.toInteger=me.toint=function(){var e=this,t=e.constructor;return mt(new t(e),zt(e)+1,t.rounding)};me.toNumber=function(){return+this};me.toPower=me.pow=function(e){var t,n,r,a,o,i,s=this,c=s.constructor,l=12,u=+(e=new c(e));if(!e.s)return new c(qn);if(s=new c(s),!s.s){if(e.s<1)throw Error(or+"Infinity");return s}if(s.eq(qn))return s;if(r=c.precision,e.eq(qn))return mt(s,r);if(t=e.e,n=e.d.length-1,i=t>=n,o=s.s,i){if((n=u<0?-u:u)<=Zk){for(a=new c(qn),t=Math.ceil(r/At+4),Tt=!1;n%2&&(a=a.times(s),eA(a.d,t)),n=xc(n/2),n!==0;)s=s.times(s),eA(s.d,t);return Tt=!0,e.s<0?new c(qn).div(a):mt(a,r)}}else if(o<0)throw Error(or+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,s.s=1,Tt=!1,a=e.times(Kl(s,r+l)),Tt=!0,a=Qk(a),a.s=o,a};me.toPrecision=function(e,t){var n,r,a=this,o=a.constructor;return e===void 0?(n=zt(a),r=yi(a,n<=o.toExpNeg||n>=o.toExpPos)):(Xr(e,1,bc),t===void 0?t=o.rounding:Xr(t,0,8),a=mt(new o(a),e,t),n=zt(a),r=yi(a,e<=n||n<=o.toExpNeg,e)),r};me.toSignificantDigits=me.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Xr(e,1,bc),t===void 0?t=r.rounding:Xr(t,0,8)),mt(new r(n),e,t)};me.toString=me.valueOf=me.val=me.toJSON=me[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=zt(e),n=e.constructor;return yi(e,t<=n.toExpNeg||t>=n.toExpPos)};function Jk(e,t){var n,r,a,o,i,s,c,l,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Tt?mt(t,d):t;if(c=e.d,l=t.d,i=e.e,a=t.e,c=c.slice(),o=i-a,o){for(o<0?(r=c,o=-o,s=l.length):(r=l,a=i,s=c.length),i=Math.ceil(d/At),s=i>s?i+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=c.length,o=l.length,s-o<0&&(o=s,r=l,l=c,c=r),n=0;o;)n=(c[--o]=c[o]+l[o]+n)/tn|0,c[o]%=tn;for(n&&(c.unshift(n),++a),s=c.length;c[--s]==0;)c.pop();return t.d=c,t.e=a,Tt?mt(t,d):t}function Xr(e,t,n){if(e!==~~e||e<t||e>n)throw Error(li+e)}function zr(e){var t,n,r,a=e.length-1,o="",i=e[0];if(a>0){for(o+=i,t=1;t<a;t++)r=e[t]+"",n=At-r.length,n&&(o+=Wa(n)),o+=r;i=e[t],r=i+"",n=At-r.length,n&&(o+=Wa(n))}else if(i===0)return"0";for(;i%10===0;)i/=10;return o+i}var _a=function(){function e(r,a){var o,i=0,s=r.length;for(r=r.slice();s--;)o=r[s]*a+i,r[s]=o%tn|0,i=o/tn|0;return i&&r.unshift(i),r}function t(r,a,o,i){var s,c;if(o!=i)c=o>i?1:-1;else for(s=c=0;s<o;s++)if(r[s]!=a[s]){c=r[s]>a[s]?1:-1;break}return c}function n(r,a,o){for(var i=0;o--;)r[o]-=i,i=r[o]<a[o]?1:0,r[o]=i*tn+r[o]-a[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,o,i){var s,c,l,u,d,f,h,p,m,v,b,x,S,A,y,_,T,P,O=r.constructor,j=r.s==a.s?1:-1,E=r.d,C=a.d;if(!r.s)return new O(r);if(!a.s)throw Error(or+"Division by zero");for(c=r.e-a.e,T=C.length,y=E.length,h=new O(j),p=h.d=[],l=0;C[l]==(E[l]||0);)++l;if(C[l]>(E[l]||0)&&--c,o==null?x=o=O.precision:i?x=o+(zt(r)-zt(a))+1:x=o,x<0)return new O(0);if(x=x/At+2|0,l=0,T==1)for(u=0,C=C[0],x++;(l<y||u)&&x--;l++)S=u*tn+(E[l]||0),p[l]=S/C|0,u=S%C|0;else{for(u=tn/(C[0]+1)|0,u>1&&(C=e(C,u),E=e(E,u),T=C.length,y=E.length),A=T,m=E.slice(0,T),v=m.length;v<T;)m[v++]=0;P=C.slice(),P.unshift(0),_=C[0],C[1]>=tn/2&&++_;do u=0,s=t(C,m,T,v),s<0?(b=m[0],T!=v&&(b=b*tn+(m[1]||0)),u=b/_|0,u>1?(u>=tn&&(u=tn-1),d=e(C,u),f=d.length,v=m.length,s=t(d,m,f,v),s==1&&(u--,n(d,T<f?P:C,f))):(u==0&&(s=u=1),d=C.slice()),f=d.length,f<v&&d.unshift(0),n(m,d,v),s==-1&&(v=m.length,s=t(C,m,T,v),s<1&&(u++,n(m,T<v?P:C,v))),v=m.length):s===0&&(u++,m=[0]),p[l++]=u,s&&m[0]?m[v++]=E[A]||0:(m=[E[A]],v=1);while((A++<y||m[0]!==void 0)&&x--)}return p[0]||p.shift(),h.e=c,mt(h,i?o+zt(h)+1:o)}}();function Qk(e,t){var n,r,a,o,i,s,c=0,l=0,u=e.constructor,d=u.precision;if(zt(e)>16)throw Error(Ix+zt(e));if(!e.s)return new u(qn);for(t==null?(Tt=!1,s=d):s=t,i=new u(.03125);e.abs().gte(.1);)e=e.times(i),l+=5;for(r=Math.log(Lo(2,l))/Math.LN10*2+5|0,s+=r,n=a=o=new u(qn),u.precision=s;;){if(a=mt(a.times(e),s),n=n.times(++c),i=o.plus(_a(a,n,s)),zr(i.d).slice(0,s)===zr(o.d).slice(0,s)){for(;l--;)o=mt(o.times(o),s);return u.precision=d,t==null?(Tt=!0,mt(o,d)):o}o=i}}function zt(e){for(var t=e.e*At,n=e.d[0];n>=10;n/=10)t++;return t}function iv(e,t,n){if(t>e.LN10.sd())throw Tt=!0,n&&(e.precision=n),Error(or+"LN10 precision limit exceeded");return mt(new e(e.LN10),t)}function Wa(e){for(var t="";e--;)t+="0";return t}function Kl(e,t){var n,r,a,o,i,s,c,l,u,d=1,f=10,h=e,p=h.d,m=h.constructor,v=m.precision;if(h.s<1)throw Error(or+(h.s?"NaN":"-Infinity"));if(h.eq(qn))return new m(0);if(t==null?(Tt=!1,l=v):l=t,h.eq(10))return t==null&&(Tt=!0),iv(m,l);if(l+=f,m.precision=l,n=zr(p),r=n.charAt(0),o=zt(h),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)h=h.times(e),n=zr(h.d),r=n.charAt(0),d++;o=zt(h),r>1?(h=new m("0."+n),o++):h=new m(r+"."+n.slice(1))}else return c=iv(m,l+2,v).times(o+""),h=Kl(new m(r+"."+n.slice(1)),l-f).plus(c),m.precision=v,t==null?(Tt=!0,mt(h,v)):h;for(s=i=h=_a(h.minus(qn),h.plus(qn),l),u=mt(h.times(h),l),a=3;;){if(i=mt(i.times(u),l),c=s.plus(_a(i,new m(a),l)),zr(c.d).slice(0,l)===zr(s.d).slice(0,l))return s=s.times(2),o!==0&&(s=s.plus(iv(m,l+2,v).times(o+""))),s=_a(s,new m(d),l),m.precision=v,t==null?(Tt=!0,mt(s,v)):s;s=c,a+=2}}function Q_(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=xc(n/At),e.d=[],r=(n+1)%At,n<0&&(r+=At),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=At;r<a;)e.d.push(+t.slice(r,r+=At));t=t.slice(r),r=At-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),Tt&&(e.e>Zf||e.e<-Zf))throw Error(Ix+n)}else e.s=0,e.e=0,e.d=[0];return e}function mt(e,t,n){var r,a,o,i,s,c,l,u,d=e.d;for(i=1,o=d[0];o>=10;o/=10)i++;if(r=t-i,r<0)r+=At,a=t,l=d[u=0];else{if(u=Math.ceil((r+1)/At),o=d.length,u>=o)return e;for(l=o=d[u],i=1;o>=10;o/=10)i++;r%=At,a=r-At+i}if(n!==void 0&&(o=Lo(10,i-a-1),s=l/o%10|0,c=t<0||d[u+1]!==void 0||l%o,c=n<4?(s||c)&&(n==0||n==(e.s<0?3:2)):s>5||s==5&&(n==4||c||n==6&&(r>0?a>0?l/Lo(10,i-a):0:d[u-1])%10&1||n==(e.s<0?8:7))),t<1||!d[0])return c?(o=zt(e),d.length=1,t=t-o-1,d[0]=Lo(10,(At-t%At)%At),e.e=xc(-t/At)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(r==0?(d.length=u,o=1,u--):(d.length=u+1,o=Lo(10,At-r),d[u]=a>0?(l/Lo(10,i-a)%Lo(10,a)|0)*o:0),c)for(;;)if(u==0){(d[0]+=o)==tn&&(d[0]=1,++e.e);break}else{if(d[u]+=o,d[u]!=tn)break;d[u--]=0,o=1}for(r=d.length;d[--r]===0;)d.pop();if(Tt&&(e.e>Zf||e.e<-Zf))throw Error(Ix+zt(e));return e}function eN(e,t){var n,r,a,o,i,s,c,l,u,d,f=e.constructor,h=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),Tt?mt(t,h):t;if(c=e.d,d=t.d,r=t.e,l=e.e,c=c.slice(),i=l-r,i){for(u=i<0,u?(n=c,i=-i,s=d.length):(n=d,r=l,s=c.length),a=Math.max(Math.ceil(h/At),s)+2,i>a&&(i=a,n.length=1),n.reverse(),a=i;a--;)n.push(0);n.reverse()}else{for(a=c.length,s=d.length,u=a<s,u&&(s=a),a=0;a<s;a++)if(c[a]!=d[a]){u=c[a]<d[a];break}i=0}for(u&&(n=c,c=d,d=n,t.s=-t.s),s=c.length,a=d.length-s;a>0;--a)c[s++]=0;for(a=d.length;a>i;){if(c[--a]<d[a]){for(o=a;o&&c[--o]===0;)c[o]=tn-1;--c[o],c[a]+=tn}c[a]-=d[a]}for(;c[--s]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,Tt?mt(t,h):t):new f(0)}function yi(e,t,n){var r,a=zt(e),o=zr(e.d),i=o.length;return t?(n&&(r=n-i)>0?o=o.charAt(0)+"."+o.slice(1)+Wa(r):i>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+Wa(-a-1)+o,n&&(r=n-i)>0&&(o+=Wa(r))):a>=i?(o+=Wa(a+1-i),n&&(r=n-a-1)>0&&(o=o+"."+Wa(r))):((r=a+1)<i&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-i)>0&&(a+1===i&&(o+="."),o+=Wa(r))),e.s<0?"-"+o:o}function eA(e,t){if(e.length>t)return e.length=t,!0}function tN(e){var t,n,r;function a(o){var i=this;if(!(i instanceof a))return new a(o);if(i.constructor=a,o instanceof a){i.s=o.s,i.e=o.e,i.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(li+o);if(o>0)i.s=1;else if(o<0)o=-o,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(o===~~o&&o<1e7){i.e=0,i.d=[o];return}return Q_(i,o.toString())}else if(typeof o!="string")throw Error(li+o);if(o.charCodeAt(0)===45?(o=o.slice(1),i.s=-1):i.s=1,Joe.test(o))Q_(i,o);else throw Error(li+o)}if(a.prototype=me,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=tN,a.config=a.set=Qoe,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function Qoe(e){if(!e||typeof e!="object")throw Error(or+"Object expected");var t,n,r,a=["precision",1,bc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(xc(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(li+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(li+n+": "+r);return this}var Lx=tN(Zoe);qn=new Lx(1);const ut=Lx;function eie(e){return aie(e)||rie(e)||nie(e)||tie()}function tie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nie(e,t){if(e){if(typeof e=="string")return uy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uy(e,t)}}function rie(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function aie(e){if(Array.isArray(e))return uy(e)}function uy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var oie=function(t){return t},nN={"@@functional/placeholder":!0},rN=function(t){return t===nN},tA=function(t){return function n(){return arguments.length===0||arguments.length===1&&rN(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},iie=function e(t,n){return t===1?n:tA(function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];var i=a.filter(function(s){return s!==nN}).length;return i>=t?n.apply(void 0,a):e(t-i,tA(function(){for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];var u=a.map(function(d){return rN(d)?c.shift():d});return n.apply(void 0,eie(u).concat(c))}))})},Ip=function(t){return iie(t.length,t)},dy=function(t,n){for(var r=[],a=t;a<n;++a)r[a-t]=a;return r},sie=Ip(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),cie=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return oie;var a=n.reverse(),o=a[0],i=a.slice(1);return function(){return i.reduce(function(s,c){return c(s)},o.apply(void 0,arguments))}},fy=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},aN=function(t){var n=null,r=null;return function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return n&&o.every(function(s,c){return s===n[c]})||(n=o,r=t.apply(void 0,o)),r}};function lie(e){var t;return e===0?t=1:t=Math.floor(new ut(e).abs().log(10).toNumber())+1,t}function uie(e,t,n){for(var r=new ut(e),a=0,o=[];r.lt(t)&&a<1e5;)o.push(r.toNumber()),r=r.add(n),a++;return o}var die=Ip(function(e,t,n){var r=+e,a=+t;return r+n*(a-r)}),fie=Ip(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),hie=Ip(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const Lp={rangeStep:uie,getDigitCount:lie,interpolateNumber:die,uninterpolateNumber:fie,uninterpolateTruncation:hie};function hy(e){return vie(e)||mie(e)||oN(e)||pie()}function pie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mie(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function vie(e){if(Array.isArray(e))return py(e)}function Yl(e,t){return bie(e)||yie(e,t)||oN(e,t)||gie()}function gie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oN(e,t){if(e){if(typeof e=="string")return py(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return py(e,t)}}function py(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yie(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,a=!1,o=void 0;try{for(var i=e[Symbol.iterator](),s;!(r=(s=i.next()).done)&&(n.push(s.value),!(t&&n.length===t));r=!0);}catch(c){a=!0,o=c}finally{try{!r&&i.return!=null&&i.return()}finally{if(a)throw o}}return n}}function bie(e){if(Array.isArray(e))return e}function iN(e){var t=Yl(e,2),n=t[0],r=t[1],a=n,o=r;return n>r&&(a=r,o=n),[a,o]}function sN(e,t,n){if(e.lte(0))return new ut(0);var r=Lp.getDigitCount(e.toNumber()),a=new ut(10).pow(r),o=e.div(a),i=r!==1?.05:.1,s=new ut(Math.ceil(o.div(i).toNumber())).add(n).mul(i),c=s.mul(a);return t?c:new ut(Math.ceil(c))}function xie(e,t,n){var r=1,a=new ut(e);if(!a.isint()&&n){var o=Math.abs(e);o<1?(r=new ut(10).pow(Lp.getDigitCount(e)-1),a=new ut(Math.floor(a.div(r).toNumber())).mul(r)):o>1&&(a=new ut(Math.floor(e)))}else e===0?a=new ut(Math.floor((t-1)/2)):n||(a=new ut(Math.floor(e)));var i=Math.floor((t-1)/2),s=cie(sie(function(c){return a.add(new ut(c-i).mul(r)).toNumber()}),dy);return s(0,t)}function cN(e,t,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new ut(0),tickMin:new ut(0),tickMax:new ut(0)};var o=sN(new ut(t).sub(e).div(n-1),r,a),i;e<=0&&t>=0?i=new ut(0):(i=new ut(e).add(t).div(2),i=i.sub(new ut(i).mod(o)));var s=Math.ceil(i.sub(e).div(o).toNumber()),c=Math.ceil(new ut(t).sub(i).div(o).toNumber()),l=s+c+1;return l>n?cN(e,t,n,r,a+1):(l<n&&(c=t>0?c+(n-l):c,s=t>0?s:s+(n-l)),{step:o,tickMin:i.sub(new ut(s).mul(o)),tickMax:i.add(new ut(c).mul(o))})}function wie(e){var t=Yl(e,2),n=t[0],r=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),s=iN([n,r]),c=Yl(s,2),l=c[0],u=c[1];if(l===-1/0||u===1/0){var d=u===1/0?[l].concat(hy(dy(0,a-1).map(function(){return 1/0}))):[].concat(hy(dy(0,a-1).map(function(){return-1/0})),[u]);return n>r?fy(d):d}if(l===u)return xie(l,a,o);var f=cN(l,u,i,o),h=f.step,p=f.tickMin,m=f.tickMax,v=Lp.rangeStep(p,m.add(new ut(.1).mul(h)),h);return n>r?fy(v):v}function Sie(e,t){var n=Yl(e,2),r=n[0],a=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=iN([r,a]),s=Yl(i,2),c=s[0],l=s[1];if(c===-1/0||l===1/0)return[r,a];if(c===l)return[c];var u=Math.max(t,2),d=sN(new ut(l).sub(c).div(u-1),o,0),f=[].concat(hy(Lp.rangeStep(new ut(c),new ut(l).sub(new ut(.99).mul(d)),d)),[l]);return r>a?fy(f):f}var _ie=aN(wie),Aie=aN(Sie),Tie="Invariant failed";function bi(e,t){throw new Error(Tie)}var Pie=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ls(e){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ls(e)}function Jf(){return Jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jf.apply(this,arguments)}function Oie(e,t){return Die(e)||jie(e,t)||Eie(e,t)||Cie()}function Cie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eie(e,t){if(e){if(typeof e=="string")return nA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nA(e,t)}}function nA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jie(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,o,i,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&n.return!=null&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function Die(e){if(Array.isArray(e))return e}function kie(e,t){if(e==null)return{};var n=Nie(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Nie(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Mie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dN(r.key),r)}}function $ie(e,t,n){return t&&Rie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Iie(e,t,n){return t=Qf(t),Lie(e,lN()?Reflect.construct(t,n||[],Qf(e).constructor):t.apply(e,n))}function Lie(e,t){if(t&&(Ls(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bie(e)}function Bie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lN=function(){return!!e})()}function Qf(e){return Qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qf(e)}function Fie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&my(e,t)}function my(e,t){return my=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},my(e,t)}function uN(e,t,n){return t=dN(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dN(e){var t=Uie(e,"string");return Ls(t)=="symbol"?t:t+""}function Uie(e,t){if(Ls(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ls(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bp=function(e){function t(){return Mie(this,t),Iie(this,t,arguments)}return Fie(t,e),$ie(t,[{key:"render",value:function(){var r=this.props,a=r.offset,o=r.layout,i=r.width,s=r.dataKey,c=r.data,l=r.dataPointFormatter,u=r.xAxis,d=r.yAxis,f=kie(r,Pie),h=ot(f,!1);this.props.direction==="x"&&u.type!=="number"&&bi();var p=c.map(function(m){var v=l(m,s),b=v.x,x=v.y,S=v.value,A=v.errorVal;if(!A)return null;var y=[],_,T;if(Array.isArray(A)){var P=Oie(A,2);_=P[0],T=P[1]}else _=T=A;if(o==="vertical"){var O=u.scale,j=x+a,E=j+i,C=j-i,I=O(S-_),R=O(S+T);y.push({x1:R,y1:E,x2:R,y2:C}),y.push({x1:I,y1:j,x2:R,y2:j}),y.push({x1:I,y1:E,x2:I,y2:C})}else if(o==="horizontal"){var $=d.scale,F=b+a,V=F-i,H=F+i,q=$(S-_),X=$(S+T);y.push({x1:V,y1:X,x2:H,y2:X}),y.push({x1:F,y1:q,x2:F,y2:X}),y.push({x1:V,y1:q,x2:H,y2:q})}return k.createElement(nn,Jf({className:"recharts-errorBar",key:"bar-".concat(y.map(function(Y){return"".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))},h),y.map(function(Y){return k.createElement("line",Jf({},Y,{key:"line-".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))}))});return k.createElement(nn,{className:"recharts-errorBars"},p)}}])}(k.Component);uN(Bp,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});uN(Bp,"displayName","ErrorBar");function Xl(e){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xl(e)}function rA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ko(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rA(Object(n),!0).forEach(function(r){Vie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vie(e,t,n){return t=zie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zie(e){var t=Wie(e,"string");return Xl(t)=="symbol"?t:t+""}function Wie(e,t){if(Xl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fN=function(t){var n=t.children,r=t.formattedGraphicalItems,a=t.legendWidth,o=t.legendContent,i=zn(n,is);if(!i)return null;var s=is.defaultProps,c=s!==void 0?ko(ko({},s),i.props):{},l;return i.props&&i.props.payload?l=i.props&&i.props.payload:o==="children"?l=(r||[]).reduce(function(u,d){var f=d.item,h=d.props,p=h.sectors||h.data||[];return u.concat(p.map(function(m){return{type:i.props.iconType||f.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):l=(r||[]).map(function(u){var d=u.item,f=d.type.defaultProps,h=f!==void 0?ko(ko({},f),d.props):{},p=h.dataKey,m=h.name,v=h.legendType,b=h.hide;return{inactive:b,dataKey:p,type:c.iconType||v||"square",color:Bx(d),value:m||p,payload:h}}),ko(ko(ko({},c),is.getWithHeight(i,a)),{},{payload:l,item:i})};function Zl(e){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zl(e)}function aA(e){return Kie(e)||Gie(e)||qie(e)||Hie()}function Hie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qie(e,t){if(e){if(typeof e=="string")return vy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vy(e,t)}}function Gie(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Kie(e){if(Array.isArray(e))return vy(e)}function vy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oA(Object(n),!0).forEach(function(r){cs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cs(e,t,n){return t=Yie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yie(e){var t=Xie(e,"string");return Zl(t)=="symbol"?t:t+""}function Xie(e,t){if(Zl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zr(e,t,n){return it(e)||it(t)?n:Jt(t)?ar(e,t,n):Ye(t)?t(e):n}function bl(e,t,n,r){var a=Goe(e,function(s){return Zr(s,t)});if(n==="number"){var o=a.filter(function(s){return le(s)||parseFloat(s)});return o.length?[$p(o),Rp(o)]:[1/0,-1/0]}var i=r?a.filter(function(s){return!it(s)}):a;return i.map(function(s){return Jt(s)||s instanceof Date?s:""})}var Zie=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var c=o.range,l=0;l<s;l++){var u=l>0?a[l-1].coordinate:a[s-1].coordinate,d=a[l].coordinate,f=l>=s-1?a[0].coordinate:a[l+1].coordinate,h=void 0;if(_r(d-u)!==_r(f-d)){var p=[];if(_r(f-d)===_r(c[1]-c[0])){h=f;var m=d+c[1]-c[0];p[0]=Math.min(m,(m+u)/2),p[1]=Math.max(m,(m+u)/2)}else{h=u;var v=f+c[1]-c[0];p[0]=Math.min(d,(v+d)/2),p[1]=Math.max(d,(v+d)/2)}var b=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(t>b[0]&&t<=b[1]||t>=p[0]&&t<=p[1]){i=a[l].index;break}}else{var x=Math.min(u,f),S=Math.max(u,f);if(t>(x+d)/2&&t<=(S+d)/2){i=a[l].index;break}}}else for(var A=0;A<s;A++)if(A===0&&t<=(r[A].coordinate+r[A+1].coordinate)/2||A>0&&A<s-1&&t>(r[A].coordinate+r[A-1].coordinate)/2&&t<=(r[A].coordinate+r[A+1].coordinate)/2||A===s-1&&t>(r[A].coordinate+r[A-1].coordinate)/2){i=r[A].index;break}return i},Bx=function(t){var n,r=t,a=r.type.displayName,o=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Rt(Rt({},t.type.defaultProps),t.props):t.props,i=o.stroke,s=o.fill,c;switch(a){case"Line":c=i;break;case"Area":case"Radar":c=i&&i!=="none"?i:s;break;default:c=s;break}return c},Jie=function(t){var n=t.barSize,r=t.totalSize,a=t.stackGroups,o=a===void 0?{}:a;if(!o)return{};for(var i={},s=Object.keys(o),c=0,l=s.length;c<l;c++)for(var u=o[s[c]].stackGroups,d=Object.keys(u),f=0,h=d.length;f<h;f++){var p=u[d[f]],m=p.items,v=p.cateAxisId,b=m.filter(function(T){return Sa(T.type).indexOf("Bar")>=0});if(b&&b.length){var x=b[0].type.defaultProps,S=x!==void 0?Rt(Rt({},x),b[0].props):b[0].props,A=S.barSize,y=S[v];i[y]||(i[y]=[]);var _=it(A)?n:A;i[y].push({item:b[0],stackList:b.slice(1),barSize:it(_)?void 0:gi(_,r,0)})}}return i},Qie=function(t){var n=t.barGap,r=t.barCategoryGap,a=t.bandSize,o=t.sizeList,i=o===void 0?[]:o,s=t.maxBarSize,c=i.length;if(c<1)return null;var l=gi(n,a,0,!0),u,d=[];if(i[0].barSize===+i[0].barSize){var f=!1,h=a/c,p=i.reduce(function(A,y){return A+y.barSize||0},0);p+=(c-1)*l,p>=a&&(p-=(c-1)*l,l=0),p>=a&&h>0&&(f=!0,h*=.9,p=c*h);var m=(a-p)/2>>0,v={offset:m-l,size:0};u=i.reduce(function(A,y){var _={item:y.item,position:{offset:v.offset+v.size+l,size:f?h:y.barSize}},T=[].concat(aA(A),[_]);return v=T[T.length-1].position,y.stackList&&y.stackList.length&&y.stackList.forEach(function(P){T.push({item:P,position:v})}),T},d)}else{var b=gi(r,a,0,!0);a-2*b-(c-1)*l<=0&&(l=0);var x=(a-2*b-(c-1)*l)/c;x>1&&(x>>=0);var S=s===+s?Math.min(x,s):x;u=i.reduce(function(A,y,_){var T=[].concat(aA(A),[{item:y.item,position:{offset:b+(x+l)*_+(x-S)/2,size:S}}]);return y.stackList&&y.stackList.length&&y.stackList.forEach(function(P){T.push({item:P,position:T[T.length-1].position})}),T},d)}return u},ese=function(t,n,r,a){var o=r.children,i=r.width,s=r.margin,c=i-(s.left||0)-(s.right||0),l=fN({children:o,legendWidth:c});if(l){var u=a||{},d=u.width,f=u.height,h=l.align,p=l.verticalAlign,m=l.layout;if((m==="vertical"||m==="horizontal"&&p==="middle")&&h!=="center"&&le(t[h]))return Rt(Rt({},t),{},cs({},h,t[h]+(d||0)));if((m==="horizontal"||m==="vertical"&&h==="center")&&p!=="middle"&&le(t[p]))return Rt(Rt({},t),{},cs({},p,t[p]+(f||0)))}return t},tse=function(t,n,r){return it(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},hN=function(t,n,r,a,o){var i=n.props.children,s=Pr(i,Bp).filter(function(l){return tse(a,o,l.props.direction)});if(s&&s.length){var c=s.map(function(l){return l.props.dataKey});return t.reduce(function(l,u){var d=Zr(u,r);if(it(d))return l;var f=Array.isArray(d)?[$p(d),Rp(d)]:[d,d],h=c.reduce(function(p,m){var v=Zr(u,m,0),b=f[0]-Math.abs(Array.isArray(v)?v[0]:v),x=f[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(b,p[0]),Math.max(x,p[1])]},[1/0,-1/0]);return[Math.min(h[0],l[0]),Math.max(h[1],l[1])]},[1/0,-1/0])}return null},nse=function(t,n,r,a,o){var i=n.map(function(s){return hN(t,s,r,o,a)}).filter(function(s){return!it(s)});return i&&i.length?i.reduce(function(s,c){return[Math.min(s[0],c[0]),Math.max(s[1],c[1])]},[1/0,-1/0]):null},pN=function(t,n,r,a,o){var i=n.map(function(c){var l=c.props.dataKey;return r==="number"&&l&&hN(t,c,l,a)||bl(t,l,r,o)});if(r==="number")return i.reduce(function(c,l){return[Math.min(c[0],l[0]),Math.max(c[1],l[1])]},[1/0,-1/0]);var s={};return i.reduce(function(c,l){for(var u=0,d=l.length;u<d;u++)s[l[u]]||(s[l[u]]=!0,c.push(l[u]));return c},[])},mN=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},Xo=function(t,n,r){if(!t)return null;var a=t.scale,o=t.duplicateDomain,i=t.type,s=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,l=(n||r)&&i==="category"&&a.bandwidth?a.bandwidth()/c:0;if(l=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?_r(s[0]-s[1])*2*l:l,n&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(d){var f=o?o.indexOf(d):d;return{coordinate:a(f)+l,value:d,offset:l}});return u.filter(function(d){return!Ju(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,f){return{coordinate:a(d)+l,value:d,index:f,offset:l}}):a.ticks&&!r?a.ticks(t.tickCount).map(function(d){return{coordinate:a(d)+l,value:d,offset:l}}):a.domain().map(function(d,f){return{coordinate:a(d)+l,value:o?o[d]:d,index:f,offset:l}})},sv=new WeakMap,jd=function(t,n){if(typeof n!="function")return t;sv.has(t)||sv.set(t,new WeakMap);var r=sv.get(t);if(r.has(n))return r.get(n);var a=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,a),a},rse=function(t,n,r){var a=t.scale,o=t.type,i=t.layout,s=t.axisType;if(a==="auto")return i==="radial"&&s==="radiusAxis"?{scale:zl(),realScaleType:"band"}:i==="radial"&&s==="angleAxis"?{scale:Gf(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:yl(),realScaleType:"point"}:o==="category"?{scale:zl(),realScaleType:"band"}:{scale:Gf(),realScaleType:"linear"};if(Zu(a)){var c="scale".concat(Sp(a));return{scale:(J_[c]||yl)(),realScaleType:J_[c]?c:"point"}}return Ye(a)?{scale:a}:{scale:yl(),realScaleType:"point"}},iA=1e-4,ase=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,a=t.range(),o=Math.min(a[0],a[1])-iA,i=Math.max(a[0],a[1])+iA,s=t(n[0]),c=t(n[r-1]);(s<o||s>i||c<o||c>i)&&t.domain([n[0],n[r-1]])}},ose=function(t,n){if(!t)return null;for(var r=0,a=t.length;r<a;r++)if(t[r].item===n)return t[r].position;return null},ise=function(t,n){if(!n||n.length!==2||!le(n[0])||!le(n[1]))return t;var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]),o=[t[0],t[1]];return(!le(t[0])||t[0]<r)&&(o[0]=r),(!le(t[1])||t[1]>a)&&(o[1]=a),o[0]>a&&(o[0]=a),o[1]<r&&(o[1]=r),o},sse=function(t){var n=t.length;if(!(n<=0))for(var r=0,a=t[0].length;r<a;++r)for(var o=0,i=0,s=0;s<n;++s){var c=Ju(t[s][r][1])?t[s][r][0]:t[s][r][1];c>=0?(t[s][r][0]=o,t[s][r][1]=o+c,o=t[s][r][1]):(t[s][r][0]=i,t[s][r][1]=i+c,i=t[s][r][1])}},cse=function(t){var n=t.length;if(!(n<=0))for(var r=0,a=t[0].length;r<a;++r)for(var o=0,i=0;i<n;++i){var s=Ju(t[i][r][1])?t[i][r][0]:t[i][r][1];s>=0?(t[i][r][0]=o,t[i][r][1]=o+s,o=t[i][r][1]):(t[i][r][0]=0,t[i][r][1]=0)}},lse={sign:sse,expand:_G,none:js,silhouette:AG,wiggle:TG,positive:cse},use=function(t,n,r){var a=n.map(function(s){return s.props.dataKey}),o=lse[r],i=SG().keys(a).value(function(s,c){return+Zr(s,c,0)}).order(Ug).offset(o);return i(t)},dse=function(t,n,r,a,o,i){if(!t)return null;var s=i?n.reverse():n,c={},l=s.reduce(function(d,f){var h,p=(h=f.type)!==null&&h!==void 0&&h.defaultProps?Rt(Rt({},f.type.defaultProps),f.props):f.props,m=p.stackId,v=p.hide;if(v)return d;var b=p[r],x=d[b]||{hasStack:!1,stackGroups:{}};if(Jt(m)){var S=x.stackGroups[m]||{numericAxisId:r,cateAxisId:a,items:[]};S.items.push(f),x.hasStack=!0,x.stackGroups[m]=S}else x.stackGroups[wp("_stackId_")]={numericAxisId:r,cateAxisId:a,items:[f]};return Rt(Rt({},d),{},cs({},b,x))},c),u={};return Object.keys(l).reduce(function(d,f){var h=l[f];if(h.hasStack){var p={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(m,v){var b=h.stackGroups[v];return Rt(Rt({},m),{},cs({},v,{numericAxisId:r,cateAxisId:a,items:b.items,stackedData:use(t,b.items,o)}))},p)}return Rt(Rt({},d),{},cs({},f,h))},u)},fse=function(t,n){var r=n.realScaleType,a=n.type,o=n.tickCount,i=n.originalDomain,s=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(o&&a==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var l=t.domain();if(!l.length)return null;var u=_ie(l,o,s);return t.domain([$p(u),Rp(u)]),{niceTicks:u}}if(o&&a==="number"){var d=t.domain(),f=Aie(d,o,s);return{niceTicks:f}}return null},sA=function(t){var n=t.axis,r=t.ticks,a=t.offset,o=t.bandSize,i=t.entry,s=t.index;if(n.type==="category")return r[s]?r[s].coordinate+a:null;var c=Zr(i,n.dataKey,n.domain[s]);return it(c)?null:n.scale(c)-o/2+a},hse=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var a=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return a<=0&&o>=0?0:o<0?o:a}return r[0]},pse=function(t,n){var r,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Rt(Rt({},t.type.defaultProps),t.props):t.props,o=a.stackId;if(Jt(o)){var i=n[o];if(i){var s=i.items.indexOf(t);return s>=0?i.stackedData[s]:null}}return null},mse=function(t){return t.reduce(function(n,r){return[$p(r.concat([n[0]]).filter(le)),Rp(r.concat([n[1]]).filter(le))]},[1/0,-1/0])},vN=function(t,n,r){return Object.keys(t).reduce(function(a,o){var i=t[o],s=i.stackedData,c=s.reduce(function(l,u){var d=mse(u.slice(n,r+1));return[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},cA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,lA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gy=function(t,n,r){if(Ye(t))return t(n,r);if(!Array.isArray(t))return n;var a=[];if(le(t[0]))a[0]=r?t[0]:Math.min(t[0],n[0]);else if(cA.test(t[0])){var o=+cA.exec(t[0])[1];a[0]=n[0]-o}else Ye(t[0])?a[0]=t[0](n[0]):a[0]=n[0];if(le(t[1]))a[1]=r?t[1]:Math.max(t[1],n[1]);else if(lA.test(t[1])){var i=+lA.exec(t[1])[1];a[1]=n[1]+i}else Ye(t[1])?a[1]=t[1](n[1]):a[1]=n[1];return a},eh=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!r||a>0)return a}if(t&&n&&n.length>=2){for(var o=fx(n,function(d){return d.coordinate}),i=1/0,s=1,c=o.length;s<c;s++){var l=o[s],u=o[s-1];i=Math.min((l.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0},uA=function(t,n,r){return!t||!t.length||$x(t,ar(r,"type.defaultProps.domain"))?n:t},gN=function(t,n){var r=t.type.defaultProps?Rt(Rt({},t.type.defaultProps),t.props):t.props,a=r.dataKey,o=r.name,i=r.unit,s=r.formatter,c=r.tooltipType,l=r.chartType,u=r.hide;return Rt(Rt({},ot(t,!1)),{},{dataKey:a,unit:i,formatter:s,name:o||a,color:Bx(t),value:Zr(n,a),type:c,payload:n,chartType:l,hide:u})};function Jl(e){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jl(e)}function dA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function fA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dA(Object(n),!0).forEach(function(r){vse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vse(e,t,n){return t=gse(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gse(e){var t=yse(e,"string");return Jl(t)=="symbol"?t:t+""}function yse(e,t){if(Jl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var th=Math.PI/180,bse=function(t){return t*180/Math.PI},un=function(t,n,r,a){return{x:t+Math.cos(-th*a)*r,y:n+Math.sin(-th*a)*r}},xse=function(t,n){var r=t.x,a=t.y,o=n.x,i=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(a-i,2))},wse=function(t,n){var r=t.x,a=t.y,o=n.cx,i=n.cy,s=xse({x:r,y:a},{x:o,y:i});if(s<=0)return{radius:s};var c=(r-o)/s,l=Math.acos(c);return a>i&&(l=2*Math.PI-l),{radius:s,angle:bse(l),angleInRadian:l}},Sse=function(t){var n=t.startAngle,r=t.endAngle,a=Math.floor(n/360),o=Math.floor(r/360),i=Math.min(a,o);return{startAngle:n-i*360,endAngle:r-i*360}},_se=function(t,n){var r=n.startAngle,a=n.endAngle,o=Math.floor(r/360),i=Math.floor(a/360),s=Math.min(o,i);return t+s*360},hA=function(t,n){var r=t.x,a=t.y,o=wse({x:r,y:a},n),i=o.radius,s=o.angle,c=n.innerRadius,l=n.outerRadius;if(i<c||i>l)return!1;if(i===0)return!0;var u=Sse(n),d=u.startAngle,f=u.endAngle,h=s,p;if(d<=f){for(;h>f;)h-=360;for(;h<d;)h+=360;p=h>=d&&h<=f}else{for(;h>d;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=d}return p?fA(fA({},n),{},{radius:i,angle:_se(h,n)}):null};function Ql(e){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ql(e)}var Ase=["offset"];function Tse(e){return Ese(e)||Cse(e)||Ose(e)||Pse()}function Pse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ose(e,t){if(e){if(typeof e=="string")return yy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yy(e,t)}}function Cse(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ese(e){if(Array.isArray(e))return yy(e)}function yy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jse(e,t){if(e==null)return{};var n=Dse(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Dse(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function pA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Gt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pA(Object(n),!0).forEach(function(r){kse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kse(e,t,n){return t=Nse(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nse(e){var t=Mse(e,"string");return Ql(t)=="symbol"?t:t+""}function Mse(e,t){if(Ql(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eu(){return eu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eu.apply(this,arguments)}var Rse=function(t){var n=t.value,r=t.formatter,a=it(t.children)?n:t.children;return Ye(r)?r(a):a},$se=function(t,n){var r=_r(n-t),a=Math.min(Math.abs(n-t),360);return r*a},Ise=function(t,n,r){var a=t.position,o=t.viewBox,i=t.offset,s=t.className,c=o,l=c.cx,u=c.cy,d=c.innerRadius,f=c.outerRadius,h=c.startAngle,p=c.endAngle,m=c.clockWise,v=(d+f)/2,b=$se(h,p),x=b>=0?1:-1,S,A;a==="insideStart"?(S=h+x*i,A=m):a==="insideEnd"?(S=p-x*i,A=!m):a==="end"&&(S=p+x*i,A=m),A=b<=0?A:!A;var y=un(l,u,v,S),_=un(l,u,v,S+(A?1:-1)*359),T="M".concat(y.x,",").concat(y.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(A?0:1,`,
    `).concat(_.x,",").concat(_.y),P=it(t.id)?wp("recharts-radial-line-"):t.id;return k.createElement("text",eu({},r,{dominantBaseline:"central",className:Xe("recharts-radial-bar-label",s)}),k.createElement("defs",null,k.createElement("path",{id:P,d:T})),k.createElement("textPath",{xlinkHref:"#".concat(P)},n))},Lse=function(t){var n=t.viewBox,r=t.offset,a=t.position,o=n,i=o.cx,s=o.cy,c=o.innerRadius,l=o.outerRadius,u=o.startAngle,d=o.endAngle,f=(u+d)/2;if(a==="outside"){var h=un(i,s,l+r,f),p=h.x,m=h.y;return{x:p,y:m,textAnchor:p>=i?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(c+l)/2,b=un(i,s,v,f),x=b.x,S=b.y;return{x,y:S,textAnchor:"middle",verticalAnchor:"middle"}},Bse=function(t){var n=t.viewBox,r=t.parentViewBox,a=t.offset,o=t.position,i=n,s=i.x,c=i.y,l=i.width,u=i.height,d=u>=0?1:-1,f=d*a,h=d>0?"end":"start",p=d>0?"start":"end",m=l>=0?1:-1,v=m*a,b=m>0?"end":"start",x=m>0?"start":"end";if(o==="top"){var S={x:s+l/2,y:c-d*a,textAnchor:"middle",verticalAnchor:h};return Gt(Gt({},S),r?{height:Math.max(c-r.y,0),width:l}:{})}if(o==="bottom"){var A={x:s+l/2,y:c+u+f,textAnchor:"middle",verticalAnchor:p};return Gt(Gt({},A),r?{height:Math.max(r.y+r.height-(c+u),0),width:l}:{})}if(o==="left"){var y={x:s-v,y:c+u/2,textAnchor:b,verticalAnchor:"middle"};return Gt(Gt({},y),r?{width:Math.max(y.x-r.x,0),height:u}:{})}if(o==="right"){var _={x:s+l+v,y:c+u/2,textAnchor:x,verticalAnchor:"middle"};return Gt(Gt({},_),r?{width:Math.max(r.x+r.width-_.x,0),height:u}:{})}var T=r?{width:l,height:u}:{};return o==="insideLeft"?Gt({x:s+v,y:c+u/2,textAnchor:x,verticalAnchor:"middle"},T):o==="insideRight"?Gt({x:s+l-v,y:c+u/2,textAnchor:b,verticalAnchor:"middle"},T):o==="insideTop"?Gt({x:s+l/2,y:c+f,textAnchor:"middle",verticalAnchor:p},T):o==="insideBottom"?Gt({x:s+l/2,y:c+u-f,textAnchor:"middle",verticalAnchor:h},T):o==="insideTopLeft"?Gt({x:s+v,y:c+f,textAnchor:x,verticalAnchor:p},T):o==="insideTopRight"?Gt({x:s+l-v,y:c+f,textAnchor:b,verticalAnchor:p},T):o==="insideBottomLeft"?Gt({x:s+v,y:c+u-f,textAnchor:x,verticalAnchor:h},T):o==="insideBottomRight"?Gt({x:s+l-v,y:c+u-f,textAnchor:b,verticalAnchor:h},T):uc(o)&&(le(o.x)||Go(o.x))&&(le(o.y)||Go(o.y))?Gt({x:s+gi(o.x,l),y:c+gi(o.y,u),textAnchor:"end",verticalAnchor:"end"},T):Gt({x:s+l/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},T)},Fse=function(t){return"cx"in t&&le(t.cx)};function vn(e){var t=e.offset,n=t===void 0?5:t,r=jse(e,Ase),a=Gt({offset:n},r),o=a.viewBox,i=a.position,s=a.value,c=a.children,l=a.content,u=a.className,d=u===void 0?"":u,f=a.textBreakAll;if(!o||it(s)&&it(c)&&!w.isValidElement(l)&&!Ye(l))return null;if(w.isValidElement(l))return w.cloneElement(l,a);var h;if(Ye(l)){if(h=w.createElement(l,a),w.isValidElement(h))return h}else h=Rse(a);var p=Fse(o),m=ot(a,!0);if(p&&(i==="insideStart"||i==="insideEnd"||i==="end"))return Ise(a,h,m);var v=p?Lse(a):Bse(a);return k.createElement(Ff,eu({className:Xe("recharts-label",d)},m,v,{breakAll:f}),h)}vn.displayName="Label";var yN=function(t){var n=t.cx,r=t.cy,a=t.angle,o=t.startAngle,i=t.endAngle,s=t.r,c=t.radius,l=t.innerRadius,u=t.outerRadius,d=t.x,f=t.y,h=t.top,p=t.left,m=t.width,v=t.height,b=t.clockWise,x=t.labelViewBox;if(x)return x;if(le(m)&&le(v)){if(le(d)&&le(f))return{x:d,y:f,width:m,height:v};if(le(h)&&le(p))return{x:h,y:p,width:m,height:v}}return le(d)&&le(f)?{x:d,y:f,width:0,height:0}:le(n)&&le(r)?{cx:n,cy:r,startAngle:o||a||0,endAngle:i||a||0,innerRadius:l||0,outerRadius:u||c||s||0,clockWise:b}:t.viewBox?t.viewBox:{}},Use=function(t,n){return t?t===!0?k.createElement(vn,{key:"label-implicit",viewBox:n}):Jt(t)?k.createElement(vn,{key:"label-implicit",viewBox:n,value:t}):w.isValidElement(t)?t.type===vn?w.cloneElement(t,{key:"label-implicit",viewBox:n}):k.createElement(vn,{key:"label-implicit",content:t,viewBox:n}):Ye(t)?k.createElement(vn,{key:"label-implicit",content:t,viewBox:n}):uc(t)?k.createElement(vn,eu({viewBox:n},t,{key:"label-implicit"})):null:null},Vse=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var a=t.children,o=yN(t),i=Pr(a,vn).map(function(c,l){return w.cloneElement(c,{viewBox:n||o,key:"label-".concat(l)})});if(!r)return i;var s=Use(t.label,n||o);return[s].concat(Tse(i))};vn.parseViewBox=yN;vn.renderCallByParent=Vse;function zse(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Wse=zse;const Hse=vt(Wse);function tu(e){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tu(e)}var qse=["valueAccessor"],Gse=["data","dataKey","clockWise","id","textBreakAll"];function Kse(e){return Jse(e)||Zse(e)||Xse(e)||Yse()}function Yse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xse(e,t){if(e){if(typeof e=="string")return by(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return by(e,t)}}function Zse(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Jse(e){if(Array.isArray(e))return by(e)}function by(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nh(){return nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nh.apply(this,arguments)}function mA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function vA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mA(Object(n),!0).forEach(function(r){Qse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qse(e,t,n){return t=ece(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ece(e){var t=tce(e,"string");return tu(t)=="symbol"?t:t+""}function tce(e,t){if(tu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gA(e,t){if(e==null)return{};var n=nce(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function nce(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var rce=function(t){return Array.isArray(t.value)?Hse(t.value):t.value};function ui(e){var t=e.valueAccessor,n=t===void 0?rce:t,r=gA(e,qse),a=r.data,o=r.dataKey,i=r.clockWise,s=r.id,c=r.textBreakAll,l=gA(r,Gse);return!a||!a.length?null:k.createElement(nn,{className:"recharts-label-list"},a.map(function(u,d){var f=it(o)?n(u,d):Zr(u&&u.payload,o),h=it(s)?{}:{id:"".concat(s,"-").concat(d)};return k.createElement(vn,nh({},ot(u,!0),l,h,{parentViewBox:u.parentViewBox,value:f,textBreakAll:c,viewBox:vn.parseViewBox(it(i)?u:vA(vA({},u),{},{clockWise:i})),key:"label-".concat(d),index:d}))}))}ui.displayName="LabelList";function ace(e,t){return e?e===!0?k.createElement(ui,{key:"labelList-implicit",data:t}):k.isValidElement(e)||Ye(e)?k.createElement(ui,{key:"labelList-implicit",data:t,content:e}):uc(e)?k.createElement(ui,nh({data:t},e,{key:"labelList-implicit"})):null:null}function oce(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,a=Pr(r,ui).map(function(i,s){return w.cloneElement(i,{data:t,key:"labelList-".concat(s)})});if(!n)return a;var o=ace(e.label,t);return[o].concat(Kse(a))}ui.renderCallByParent=oce;function nu(e){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nu(e)}function xy(){return xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xy.apply(this,arguments)}function yA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function bA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yA(Object(n),!0).forEach(function(r){ice(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ice(e,t,n){return t=sce(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sce(e){var t=cce(e,"string");return nu(t)=="symbol"?t:t+""}function cce(e,t){if(nu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lce=function(t,n){var r=_r(n-t),a=Math.min(Math.abs(n-t),359.999);return r*a},Dd=function(t){var n=t.cx,r=t.cy,a=t.radius,o=t.angle,i=t.sign,s=t.isExternal,c=t.cornerRadius,l=t.cornerIsExternal,u=c*(s?1:-1)+a,d=Math.asin(c/u)/th,f=l?o:o+i*d,h=un(n,r,u,f),p=un(n,r,a,f),m=l?o-i*d:o,v=un(n,r,u*Math.cos(d*th),m);return{center:h,circleTangency:p,lineTangency:v,theta:d}},bN=function(t){var n=t.cx,r=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.startAngle,s=t.endAngle,c=lce(i,s),l=i+c,u=un(n,r,o,i),d=un(n,r,o,l),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(i>l),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(a>0){var h=un(n,r,a,i),p=un(n,r,a,l);f+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(i<=l),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(n,",").concat(r," Z");return f},uce=function(t){var n=t.cx,r=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.cornerRadius,s=t.forceCornerRadius,c=t.cornerIsExternal,l=t.startAngle,u=t.endAngle,d=_r(u-l),f=Dd({cx:n,cy:r,radius:o,angle:l,sign:d,cornerRadius:i,cornerIsExternal:c}),h=f.circleTangency,p=f.lineTangency,m=f.theta,v=Dd({cx:n,cy:r,radius:o,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:c}),b=v.circleTangency,x=v.lineTangency,S=v.theta,A=c?Math.abs(l-u):Math.abs(l-u)-m-S;if(A<0)return s?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):bN({cx:n,cy:r,innerRadius:a,outerRadius:o,startAngle:l,endAngle:u});var y="M ".concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(A>180),",").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(a>0){var _=Dd({cx:n,cy:r,radius:a,angle:l,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),T=_.circleTangency,P=_.lineTangency,O=_.theta,j=Dd({cx:n,cy:r,radius:a,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),E=j.circleTangency,C=j.lineTangency,I=j.theta,R=c?Math.abs(l-u):Math.abs(l-u)-O-I;if(R<0&&i===0)return"".concat(y,"L").concat(n,",").concat(r,"Z");y+="L".concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(R>180),",").concat(+(d>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(P.x,",").concat(P.y,"Z")}else y+="L".concat(n,",").concat(r,"Z");return y},dce={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},xN=function(t){var n=bA(bA({},dce),t),r=n.cx,a=n.cy,o=n.innerRadius,i=n.outerRadius,s=n.cornerRadius,c=n.forceCornerRadius,l=n.cornerIsExternal,u=n.startAngle,d=n.endAngle,f=n.className;if(i<o||u===d)return null;var h=Xe("recharts-sector",f),p=i-o,m=gi(s,p,0,!0),v;return m>0&&Math.abs(u-d)<360?v=uce({cx:r,cy:a,innerRadius:o,outerRadius:i,cornerRadius:Math.min(m,p/2),forceCornerRadius:c,cornerIsExternal:l,startAngle:u,endAngle:d}):v=bN({cx:r,cy:a,innerRadius:o,outerRadius:i,startAngle:u,endAngle:d}),k.createElement("path",xy({},ot(n,!0),{className:h,d:v,role:"img"}))};function ru(e){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ru(e)}function wy(){return wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wy.apply(this,arguments)}function xA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function wA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xA(Object(n),!0).forEach(function(r){fce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fce(e,t,n){return t=hce(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hce(e){var t=pce(e,"string");return ru(t)=="symbol"?t:t+""}function pce(e,t){if(ru(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SA={curveBasisClosed:dG,curveBasisOpen:fG,curveBasis:uG,curveBumpX:Xq,curveBumpY:Zq,curveLinearClosed:hG,curveLinear:Ap,curveMonotoneX:pG,curveMonotoneY:mG,curveNatural:vG,curveStep:gG,curveStepAfter:bG,curveStepBefore:yG},kd=function(t){return t.x===+t.x&&t.y===+t.y},Vc=function(t){return t.x},zc=function(t){return t.y},mce=function(t,n){if(Ye(t))return t;var r="curve".concat(Sp(t));return(r==="curveMonotone"||r==="curveBump")&&n?SA["".concat(r).concat(n==="vertical"?"Y":"X")]:SA[r]||Ap},vce=function(t){var n=t.type,r=n===void 0?"linear":n,a=t.points,o=a===void 0?[]:a,i=t.baseLine,s=t.layout,c=t.connectNulls,l=c===void 0?!1:c,u=mce(r,s),d=l?o.filter(function(m){return kd(m)}):o,f;if(Array.isArray(i)){var h=l?i.filter(function(m){return kd(m)}):i,p=d.map(function(m,v){return wA(wA({},m),{},{base:h[v]})});return s==="vertical"?f=Sd().y(zc).x1(Vc).x0(function(m){return m.base.x}):f=Sd().x(Vc).y1(zc).y0(function(m){return m.base.y}),f.defined(kd).curve(u),f(p)}return s==="vertical"&&le(i)?f=Sd().y(zc).x1(Vc).x0(i):le(i)?f=Sd().x(Vc).y1(zc).y0(i):f=wD().x(Vc).y(zc),f.defined(kd).curve(u),f(d)},_A=function(t){var n=t.className,r=t.points,a=t.path,o=t.pathRef;if((!r||!r.length)&&!a)return null;var i=r&&r.length?vce(t):a;return k.createElement("path",wy({},ot(t,!1),Tf(t),{className:Xe("recharts-curve",n),d:i,ref:o}))},gce=Object.getOwnPropertyNames,yce=Object.getOwnPropertySymbols,bce=Object.prototype.hasOwnProperty;function AA(e,t){return function(r,a,o){return e(r,a,o)&&t(r,a,o)}}function Nd(e){return function(n,r,a){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,a);var o=a.cache,i=o.get(n),s=o.get(r);if(i&&s)return i===r&&s===n;o.set(n,r),o.set(r,n);var c=e(n,r,a);return o.delete(n),o.delete(r),c}}function TA(e){return gce(e).concat(yce(e))}var wN=Object.hasOwn||function(e,t){return bce.call(e,t)};function wc(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var SN="_owner",PA=Object.getOwnPropertyDescriptor,OA=Object.keys;function xce(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function wce(e,t){return wc(e.getTime(),t.getTime())}function CA(e,t,n){if(e.size!==t.size)return!1;for(var r={},a=e.entries(),o=0,i,s;(i=a.next())&&!i.done;){for(var c=t.entries(),l=!1,u=0;(s=c.next())&&!s.done;){var d=i.value,f=d[0],h=d[1],p=s.value,m=p[0],v=p[1];!l&&!r[u]&&(l=n.equals(f,m,o,u,e,t,n)&&n.equals(h,v,f,m,e,t,n))&&(r[u]=!0),u++}if(!l)return!1;o++}return!0}function Sce(e,t,n){var r=OA(e),a=r.length;if(OA(t).length!==a)return!1;for(var o;a-- >0;)if(o=r[a],o===SN&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!wN(t,o)||!n.equals(e[o],t[o],o,o,e,t,n))return!1;return!0}function Wc(e,t,n){var r=TA(e),a=r.length;if(TA(t).length!==a)return!1;for(var o,i,s;a-- >0;)if(o=r[a],o===SN&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!wN(t,o)||!n.equals(e[o],t[o],o,o,e,t,n)||(i=PA(e,o),s=PA(t,o),(i||s)&&(!i||!s||i.configurable!==s.configurable||i.enumerable!==s.enumerable||i.writable!==s.writable)))return!1;return!0}function _ce(e,t){return wc(e.valueOf(),t.valueOf())}function Ace(e,t){return e.source===t.source&&e.flags===t.flags}function EA(e,t,n){if(e.size!==t.size)return!1;for(var r={},a=e.values(),o,i;(o=a.next())&&!o.done;){for(var s=t.values(),c=!1,l=0;(i=s.next())&&!i.done;)!c&&!r[l]&&(c=n.equals(o.value,i.value,o.value,i.value,e,t,n))&&(r[l]=!0),l++;if(!c)return!1}return!0}function Tce(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}var Pce="[object Arguments]",Oce="[object Boolean]",Cce="[object Date]",Ece="[object Map]",jce="[object Number]",Dce="[object Object]",kce="[object RegExp]",Nce="[object Set]",Mce="[object String]",Rce=Array.isArray,jA=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,DA=Object.assign,$ce=Object.prototype.toString.call.bind(Object.prototype.toString);function Ice(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areMapsEqual,a=e.areObjectsEqual,o=e.arePrimitiveWrappersEqual,i=e.areRegExpsEqual,s=e.areSetsEqual,c=e.areTypedArraysEqual;return function(u,d,f){if(u===d)return!0;if(u==null||d==null||typeof u!="object"||typeof d!="object")return u!==u&&d!==d;var h=u.constructor;if(h!==d.constructor)return!1;if(h===Object)return a(u,d,f);if(Rce(u))return t(u,d,f);if(jA!=null&&jA(u))return c(u,d,f);if(h===Date)return n(u,d,f);if(h===RegExp)return i(u,d,f);if(h===Map)return r(u,d,f);if(h===Set)return s(u,d,f);var p=$ce(u);return p===Cce?n(u,d,f):p===kce?i(u,d,f):p===Ece?r(u,d,f):p===Nce?s(u,d,f):p===Dce?typeof u.then!="function"&&typeof d.then!="function"&&a(u,d,f):p===Pce?a(u,d,f):p===Oce||p===jce||p===Mce?o(u,d,f):!1}}function Lce(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,a={areArraysEqual:r?Wc:xce,areDatesEqual:wce,areMapsEqual:r?AA(CA,Wc):CA,areObjectsEqual:r?Wc:Sce,arePrimitiveWrappersEqual:_ce,areRegExpsEqual:Ace,areSetsEqual:r?AA(EA,Wc):EA,areTypedArraysEqual:r?Wc:Tce};if(n&&(a=DA({},a,n(a))),t){var o=Nd(a.areArraysEqual),i=Nd(a.areMapsEqual),s=Nd(a.areObjectsEqual),c=Nd(a.areSetsEqual);a=DA({},a,{areArraysEqual:o,areMapsEqual:i,areObjectsEqual:s,areSetsEqual:c})}return a}function Bce(e){return function(t,n,r,a,o,i,s){return e(t,n,s)}}function Fce(e){var t=e.circular,n=e.comparator,r=e.createState,a=e.equals,o=e.strict;if(r)return function(c,l){var u=r(),d=u.cache,f=d===void 0?t?new WeakMap:void 0:d,h=u.meta;return n(c,l,{cache:f,equals:a,meta:h,strict:o})};if(t)return function(c,l){return n(c,l,{cache:new WeakMap,equals:a,meta:void 0,strict:o})};var i={cache:void 0,equals:a,meta:void 0,strict:o};return function(c,l){return n(c,l,i)}}var Uce=Po();Po({strict:!0});Po({circular:!0});Po({circular:!0,strict:!0});Po({createInternalComparator:function(){return wc}});Po({strict:!0,createInternalComparator:function(){return wc}});Po({circular:!0,createInternalComparator:function(){return wc}});Po({circular:!0,createInternalComparator:function(){return wc},strict:!0});function Po(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,a=e.createState,o=e.strict,i=o===void 0?!1:o,s=Lce(e),c=Ice(s),l=r?r(c):Bce(c);return Fce({circular:n,comparator:c,createState:a,equals:l,strict:i})}function Vce(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function kA(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function a(o){n<0&&(n=o),o-n>t?(e(o),n=-1):Vce(a)};requestAnimationFrame(r)}function Sy(e){"@babel/helpers - typeof";return Sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sy(e)}function zce(e){return Gce(e)||qce(e)||Hce(e)||Wce()}function Wce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hce(e,t){if(e){if(typeof e=="string")return NA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NA(e,t)}}function NA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Gce(e){if(Array.isArray(e))return e}function Kce(){var e={},t=function(){return null},n=!1,r=function a(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var i=o,s=zce(i),c=s[0],l=s.slice(1);if(typeof c=="number"){kA(a.bind(null,l),c);return}a(c),kA(a.bind(null,l));return}Sy(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function au(e){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},au(e)}function MA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function RA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MA(Object(n),!0).forEach(function(r){_N(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _N(e,t,n){return t=Yce(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yce(e){var t=Xce(e,"string");return au(t)==="symbol"?t:String(t)}function Xce(e,t){if(au(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(au(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zce=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,a){return r.filter(function(o){return a.includes(o)})})},Jce=function(t){return t},Qce=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},xl=function(t,n){return Object.keys(n).reduce(function(r,a){return RA(RA({},r),{},_N({},a,t(a,n[a])))},{})},$A=function(t,n,r){return t.map(function(a){return"".concat(Qce(a)," ").concat(n,"ms ").concat(r)}).join(",")};function ele(e,t){return rle(e)||nle(e,t)||AN(e,t)||tle()}function tle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nle(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,o,i,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&n.return!=null&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function rle(e){if(Array.isArray(e))return e}function ale(e){return sle(e)||ile(e)||AN(e)||ole()}function ole(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AN(e,t){if(e){if(typeof e=="string")return _y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _y(e,t)}}function ile(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sle(e){if(Array.isArray(e))return _y(e)}function _y(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var rh=1e-4,TN=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},PN=function(t,n){return t.map(function(r,a){return r*Math.pow(n,a)}).reduce(function(r,a){return r+a})},IA=function(t,n){return function(r){var a=TN(t,n);return PN(a,r)}},cle=function(t,n){return function(r){var a=TN(t,n),o=[].concat(ale(a.map(function(i,s){return i*s}).slice(1)),[0]);return PN(o,r)}},LA=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0],o=n[1],i=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":a=0,o=0,i=1,s=1;break;case"ease":a=.25,o=.1,i=.25,s=1;break;case"ease-in":a=.42,o=0,i=1,s=1;break;case"ease-out":a=.42,o=0,i=.58,s=1;break;case"ease-in-out":a=0,o=0,i=.58,s=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var l=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=ele(l,4);a=u[0],o=u[1],i=u[2],s=u[3]}}}var d=IA(a,i),f=IA(o,s),h=cle(a,i),p=function(b){return b>1?1:b<0?0:b},m=function(b){for(var x=b>1?1:b,S=x,A=0;A<8;++A){var y=d(S)-x,_=h(S);if(Math.abs(y-x)<rh||_<rh)return f(S);S=p(S-y/_)}return f(S)};return m.isStepper=!1,m},lle=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,a=t.damping,o=a===void 0?8:a,i=t.dt,s=i===void 0?17:i,c=function(u,d,f){var h=-(u-d)*r,p=f*o,m=f+(h-p)*s/1e3,v=f*s/1e3+u;return Math.abs(v-d)<rh&&Math.abs(m)<rh?[d,0]:[v,m]};return c.isStepper=!0,c.dt=s,c},ule=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return LA(a);case"spring":return lle();default:if(a.split("(")[0]==="cubic-bezier")return LA(a)}return typeof a=="function"?a:null};function ou(e){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ou(e)}function BA(e){return hle(e)||fle(e)||ON(e)||dle()}function dle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fle(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hle(e){if(Array.isArray(e))return Ty(e)}function FA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function sn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FA(Object(n),!0).forEach(function(r){Ay(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ay(e,t,n){return t=ple(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ple(e){var t=mle(e,"string");return ou(t)==="symbol"?t:String(t)}function mle(e,t){if(ou(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ou(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vle(e,t){return ble(e)||yle(e,t)||ON(e,t)||gle()}function gle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ON(e,t){if(e){if(typeof e=="string")return Ty(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ty(e,t)}}function Ty(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yle(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,o,i,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&n.return!=null&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function ble(e){if(Array.isArray(e))return e}var ah=function(t,n,r){return t+(n-t)*r},Py=function(t){var n=t.from,r=t.to;return n!==r},xle=function e(t,n,r){var a=xl(function(o,i){if(Py(i)){var s=t(i.from,i.to,i.velocity),c=vle(s,2),l=c[0],u=c[1];return sn(sn({},i),{},{from:l,velocity:u})}return i},n);return r<1?xl(function(o,i){return Py(i)?sn(sn({},i),{},{velocity:ah(i.velocity,a[o].velocity,r),from:ah(i.from,a[o].from,r)}):i},n):e(t,a,r-1)};const wle=function(e,t,n,r,a){var o=Zce(e,t),i=o.reduce(function(v,b){return sn(sn({},v),{},Ay({},b,[e[b],t[b]]))},{}),s=o.reduce(function(v,b){return sn(sn({},v),{},Ay({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,l,u,d=function(){return null},f=function(){return xl(function(b,x){return x.from},s)},h=function(){return!Object.values(s).filter(Py).length},p=function(b){l||(l=b);var x=b-l,S=x/n.dt;s=xle(n,s,S),a(sn(sn(sn({},e),t),f())),l=b,h()||(c=requestAnimationFrame(d))},m=function(b){u||(u=b);var x=(b-u)/r,S=xl(function(y,_){return ah.apply(void 0,BA(_).concat([n(x)]))},i);if(a(sn(sn(sn({},e),t),S)),x<1)c=requestAnimationFrame(d);else{var A=xl(function(y,_){return ah.apply(void 0,BA(_).concat([n(1)]))},i);a(sn(sn(sn({},e),t),A))}};return d=n.isStepper?p:m,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(c)}}};function Bs(e){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bs(e)}var Sle=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function _le(e,t){if(e==null)return{};var n=Ale(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ale(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function cv(e){return Cle(e)||Ole(e)||Ple(e)||Tle()}function Tle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ple(e,t){if(e){if(typeof e=="string")return Oy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oy(e,t)}}function Ole(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Cle(e){if(Array.isArray(e))return Oy(e)}function Oy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function UA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function dr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UA(Object(n),!0).forEach(function(r){tl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tl(e,t,n){return t=CN(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ele(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jle(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,CN(r.key),r)}}function Dle(e,t,n){return t&&jle(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function CN(e){var t=kle(e,"string");return Bs(t)==="symbol"?t:String(t)}function kle(e,t){if(Bs(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Bs(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cy(e,t)}function Cy(e,t){return Cy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Cy(e,t)}function Mle(e){var t=Rle();return function(){var r=oh(e),a;if(t){var o=oh(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return Ey(this,a)}}function Ey(e,t){if(t&&(Bs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jy(e)}function jy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rle(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function oh(e){return oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},oh(e)}var ho=function(e){Nle(n,e);var t=Mle(n);function n(r,a){var o;Ele(this,n),o=t.call(this,r,a);var i=o.props,s=i.isActive,c=i.attributeName,l=i.from,u=i.to,d=i.steps,f=i.children,h=i.duration;if(o.handleStyleChange=o.handleStyleChange.bind(jy(o)),o.changeStyle=o.changeStyle.bind(jy(o)),!s||h<=0)return o.state={style:{}},typeof f=="function"&&(o.state={style:u}),Ey(o);if(d&&d.length)o.state={style:d[0].style};else if(l){if(typeof f=="function")return o.state={style:l},Ey(o);o.state={style:c?tl({},c,l):l}}else o.state={style:{}};return o}return Dle(n,[{key:"componentDidMount",value:function(){var a=this.props,o=a.isActive,i=a.canBegin;this.mounted=!0,!(!o||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var o=this.props,i=o.isActive,s=o.canBegin,c=o.attributeName,l=o.shouldReAnimate,u=o.to,d=o.from,f=this.state.style;if(s){if(!i){var h={style:c?tl({},c,u):u};this.state&&f&&(c&&f[c]!==u||!c&&f!==u)&&this.setState(h);return}if(!(Uce(a.to,u)&&a.canBegin&&a.isActive)){var p=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=p||l?d:a.to;if(this.state&&f){var v={style:c?tl({},c,m):m};(c&&f[c]!==m||!c&&f!==m)&&this.setState(v)}this.runAnimation(dr(dr({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var o=this,i=a.from,s=a.to,c=a.duration,l=a.easing,u=a.begin,d=a.onAnimationEnd,f=a.onAnimationStart,h=wle(i,s,ule(l),c,this.changeStyle),p=function(){o.stopJSAnimation=h()};this.manager.start([f,u,p,c,d])}},{key:"runStepAnimation",value:function(a){var o=this,i=a.steps,s=a.begin,c=a.onAnimationStart,l=i[0],u=l.style,d=l.duration,f=d===void 0?0:d,h=function(m,v,b){if(b===0)return m;var x=v.duration,S=v.easing,A=S===void 0?"ease":S,y=v.style,_=v.properties,T=v.onAnimationEnd,P=b>0?i[b-1]:v,O=_||Object.keys(y);if(typeof A=="function"||A==="spring")return[].concat(cv(m),[o.runJSAnimation.bind(o,{from:P.style,to:y,duration:x,easing:A}),x]);var j=$A(O,x,A),E=dr(dr(dr({},P.style),y),{},{transition:j});return[].concat(cv(m),[E,x,T]).filter(Jce)};return this.manager.start([c].concat(cv(i.reduce(h,[u,Math.max(f,s)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=Kce());var o=a.begin,i=a.duration,s=a.attributeName,c=a.to,l=a.easing,u=a.onAnimationStart,d=a.onAnimationEnd,f=a.steps,h=a.children,p=this.manager;if(this.unSubscribe=p.subscribe(this.handleStyleChange),typeof l=="function"||typeof h=="function"||l==="spring"){this.runJSAnimation(a);return}if(f.length>1){this.runStepAnimation(a);return}var m=s?tl({},s,c):c,v=$A(Object.keys(m),i,l);p.start([u,o,dr(dr({},m),{},{transition:v}),i,d])}},{key:"render",value:function(){var a=this.props,o=a.children;a.begin;var i=a.duration;a.attributeName,a.easing;var s=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=_le(a,Sle),l=w.Children.count(o),u=this.state.style;if(typeof o=="function")return o(u);if(!s||l===0||i<=0)return o;var d=function(h){var p=h.props,m=p.style,v=m===void 0?{}:m,b=p.className,x=w.cloneElement(h,dr(dr({},c),{},{style:dr(dr({},v),u),className:b}));return x};return l===1?d(w.Children.only(o)):k.createElement("div",null,w.Children.map(o,function(f){return d(f)}))}}]),n}(w.PureComponent);ho.displayName="Animate";ho.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ho.propTypes={from:_e.oneOfType([_e.object,_e.string]),to:_e.oneOfType([_e.object,_e.string]),attributeName:_e.string,duration:_e.number,begin:_e.number,easing:_e.oneOfType([_e.string,_e.func]),steps:_e.arrayOf(_e.shape({duration:_e.number.isRequired,style:_e.object.isRequired,easing:_e.oneOfType([_e.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),_e.func]),properties:_e.arrayOf("string"),onAnimationEnd:_e.func})),children:_e.oneOfType([_e.node,_e.func]),isActive:_e.bool,canBegin:_e.bool,onAnimationEnd:_e.func,shouldReAnimate:_e.bool,onAnimationStart:_e.func,onAnimationReStart:_e.func};function iu(e){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iu(e)}function ih(){return ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ih.apply(this,arguments)}function $le(e,t){return Fle(e)||Ble(e,t)||Lle(e,t)||Ile()}function Ile(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lle(e,t){if(e){if(typeof e=="string")return VA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VA(e,t)}}function VA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ble(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,o,i,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&n.return!=null&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function Fle(e){if(Array.isArray(e))return e}function zA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function WA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zA(Object(n),!0).forEach(function(r){Ule(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ule(e,t,n){return t=Vle(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vle(e){var t=zle(e,"string");return iu(t)=="symbol"?t:t+""}function zle(e,t){if(iu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HA=function(t,n,r,a,o){var i=Math.min(Math.abs(r)/2,Math.abs(a)/2),s=a>=0?1:-1,c=r>=0?1:-1,l=a>=0&&r>=0||a<0&&r<0?1:0,u;if(i>0&&o instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=o[f]>i?i:o[f];u="M".concat(t,",").concat(n+s*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(l,",").concat(t+c*d[0],",").concat(n)),u+="L ".concat(t+r-c*d[1],",").concat(n),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(l,`,
        `).concat(t+r,",").concat(n+s*d[1])),u+="L ".concat(t+r,",").concat(n+a-s*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(l,`,
        `).concat(t+r-c*d[2],",").concat(n+a)),u+="L ".concat(t+c*d[3],",").concat(n+a),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(l,`,
        `).concat(t,",").concat(n+a-s*d[3])),u+="Z"}else if(i>0&&o===+o&&o>0){var p=Math.min(i,o);u="M ".concat(t,",").concat(n+s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t+c*p,",").concat(n,`
            L `).concat(t+r-c*p,",").concat(n,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t+r,",").concat(n+s*p,`
            L `).concat(t+r,",").concat(n+a-s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t+r-c*p,",").concat(n+a,`
            L `).concat(t+c*p,",").concat(n+a,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t,",").concat(n+a-s*p," Z")}else u="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(a," h ").concat(-r," Z");return u},Wle=function(t,n){if(!t||!n)return!1;var r=t.x,a=t.y,o=n.x,i=n.y,s=n.width,c=n.height;if(Math.abs(s)>0&&Math.abs(c)>0){var l=Math.min(o,o+s),u=Math.max(o,o+s),d=Math.min(i,i+c),f=Math.max(i,i+c);return r>=l&&r<=u&&a>=d&&a<=f}return!1},Hle={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Fx=function(t){var n=WA(WA({},Hle),t),r=w.useRef(),a=w.useState(-1),o=$le(a,2),i=o[0],s=o[1];w.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var A=r.current.getTotalLength();A&&s(A)}catch{}},[]);var c=n.x,l=n.y,u=n.width,d=n.height,f=n.radius,h=n.className,p=n.animationEasing,m=n.animationDuration,v=n.animationBegin,b=n.isAnimationActive,x=n.isUpdateAnimationActive;if(c!==+c||l!==+l||u!==+u||d!==+d||u===0||d===0)return null;var S=Xe("recharts-rectangle",h);return x?k.createElement(ho,{canBegin:i>0,from:{width:u,height:d,x:c,y:l},to:{width:u,height:d,x:c,y:l},duration:m,animationEasing:p,isActive:x},function(A){var y=A.width,_=A.height,T=A.x,P=A.y;return k.createElement(ho,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:b,easing:p},k.createElement("path",ih({},ot(n,!0),{className:S,d:HA(T,P,y,_,f),ref:r})))}):k.createElement("path",ih({},ot(n,!0),{className:S,d:HA(c,l,u,d,f)}))};function Dy(){return Dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dy.apply(this,arguments)}var EN=function(t){var n=t.cx,r=t.cy,a=t.r,o=t.className,i=Xe("recharts-dot",o);return n===+n&&r===+r&&a===+a?k.createElement("circle",Dy({},ot(t,!1),Tf(t),{className:i,cx:n,cy:r,r:a})):null};function su(e){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(e)}var qle=["x","y","top","left","width","height","className"];function ky(){return ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ky.apply(this,arguments)}function qA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Gle(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qA(Object(n),!0).forEach(function(r){Kle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kle(e,t,n){return t=Yle(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yle(e){var t=Xle(e,"string");return su(t)=="symbol"?t:t+""}function Xle(e,t){if(su(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zle(e,t){if(e==null)return{};var n=Jle(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Jle(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Qle=function(t,n,r,a,o,i){return"M".concat(t,",").concat(o,"v").concat(a,"M").concat(i,",").concat(n,"h").concat(r)},eue=function(t){var n=t.x,r=n===void 0?0:n,a=t.y,o=a===void 0?0:a,i=t.top,s=i===void 0?0:i,c=t.left,l=c===void 0?0:c,u=t.width,d=u===void 0?0:u,f=t.height,h=f===void 0?0:f,p=t.className,m=Zle(t,qle),v=Gle({x:r,y:o,top:s,left:l,width:d,height:h},m);return!le(r)||!le(o)||!le(d)||!le(h)||!le(s)||!le(l)?null:k.createElement("path",ky({},ot(v,!0),{className:Xe("recharts-cross",p),d:Qle(r,o,d,h,s,l)}))},tue=HD,nue=tue(Object.getPrototypeOf,Object),rue=nue,aue=ka,oue=rue,iue=Na,sue="[object Object]",cue=Function.prototype,lue=Object.prototype,jN=cue.toString,uue=lue.hasOwnProperty,due=jN.call(Object);function fue(e){if(!iue(e)||aue(e)!=sue)return!1;var t=oue(e);if(t===null)return!0;var n=uue.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&jN.call(n)==due}var hue=fue;const pue=vt(hue);var mue=ka,vue=Na,gue="[object Boolean]";function yue(e){return e===!0||e===!1||vue(e)&&mue(e)==gue}var bue=yue;const xue=vt(bue);function cu(e){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cu(e)}function sh(){return sh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sh.apply(this,arguments)}function wue(e,t){return Tue(e)||Aue(e,t)||_ue(e,t)||Sue()}function Sue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ue(e,t){if(e){if(typeof e=="string")return GA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GA(e,t)}}function GA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Aue(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,o,i,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&n.return!=null&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function Tue(e){if(Array.isArray(e))return e}function KA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function YA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KA(Object(n),!0).forEach(function(r){Pue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pue(e,t,n){return t=Oue(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oue(e){var t=Cue(e,"string");return cu(t)=="symbol"?t:t+""}function Cue(e,t){if(cu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(cu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XA=function(t,n,r,a,o){var i=r-a,s;return s="M ".concat(t,",").concat(n),s+="L ".concat(t+r,",").concat(n),s+="L ".concat(t+r-i/2,",").concat(n+o),s+="L ".concat(t+r-i/2-a,",").concat(n+o),s+="L ".concat(t,",").concat(n," Z"),s},Eue={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jue=function(t){var n=YA(YA({},Eue),t),r=w.useRef(),a=w.useState(-1),o=wue(a,2),i=o[0],s=o[1];w.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&s(S)}catch{}},[]);var c=n.x,l=n.y,u=n.upperWidth,d=n.lowerWidth,f=n.height,h=n.className,p=n.animationEasing,m=n.animationDuration,v=n.animationBegin,b=n.isUpdateAnimationActive;if(c!==+c||l!==+l||u!==+u||d!==+d||f!==+f||u===0&&d===0||f===0)return null;var x=Xe("recharts-trapezoid",h);return b?k.createElement(ho,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:f,x:c,y:l},to:{upperWidth:u,lowerWidth:d,height:f,x:c,y:l},duration:m,animationEasing:p,isActive:b},function(S){var A=S.upperWidth,y=S.lowerWidth,_=S.height,T=S.x,P=S.y;return k.createElement(ho,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:p},k.createElement("path",sh({},ot(n,!0),{className:x,d:XA(T,P,A,y,_),ref:r})))}):k.createElement("g",null,k.createElement("path",sh({},ot(n,!0),{className:x,d:XA(c,l,u,d,f)})))},Due=["option","shapeType","propTransformer","activeClassName","isActive"];function lu(e){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lu(e)}function kue(e,t){if(e==null)return{};var n=Nue(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Nue(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ZA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ch(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZA(Object(n),!0).forEach(function(r){Mue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mue(e,t,n){return t=Rue(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rue(e){var t=$ue(e,"string");return lu(t)=="symbol"?t:t+""}function $ue(e,t){if(lu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Iue(e,t){return ch(ch({},t),e)}function Lue(e,t){return e==="symbols"}function JA(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return k.createElement(Fx,n);case"trapezoid":return k.createElement(jue,n);case"sector":return k.createElement(xN,n);case"symbols":if(Lue(t))return k.createElement(rx,n);break;default:return null}}function Bue(e){return w.isValidElement(e)?e.props:e}function Fue(e){var t=e.option,n=e.shapeType,r=e.propTransformer,a=r===void 0?Iue:r,o=e.activeClassName,i=o===void 0?"recharts-active-shape":o,s=e.isActive,c=kue(e,Due),l;if(w.isValidElement(t))l=w.cloneElement(t,ch(ch({},c),Bue(t)));else if(Ye(t))l=t(c);else if(pue(t)&&!xue(t)){var u=a(t,c);l=k.createElement(JA,{shapeType:n,elementProps:u})}else{var d=c;l=k.createElement(JA,{shapeType:n,elementProps:d})}return s?k.createElement(nn,{className:i},l):l}function Fp(e,t){return t!=null&&"trapezoids"in e.props}function Up(e,t){return t!=null&&"sectors"in e.props}function uu(e,t){return t!=null&&"points"in e.props}function Uue(e,t){var n,r,a=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,o=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return a&&o}function Vue(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function zue(e,t){var n=e.x===t.x,r=e.y===t.y,a=e.z===t.z;return n&&r&&a}function Wue(e,t){var n;return Fp(e,t)?n=Uue:Up(e,t)?n=Vue:uu(e,t)&&(n=zue),n}function Hue(e,t){var n;return Fp(e,t)?n="trapezoids":Up(e,t)?n="sectors":uu(e,t)&&(n="points"),n}function que(e,t){if(Fp(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Up(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return uu(e,t)?t.payload:{}}function Gue(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,a=Hue(n,t),o=que(n,t),i=r.filter(function(c,l){var u=$x(o,c),d=n.props[a].filter(function(p){var m=Wue(n,t);return m(p,t)}),f=n.props[a].indexOf(d[d.length-1]),h=l===f;return u&&h}),s=r.indexOf(i[i.length-1]);return s}var Kue=Math.ceil,Yue=Math.max;function Xue(e,t,n,r){for(var a=-1,o=Yue(Kue((t-e)/(n||1)),0),i=Array(o);o--;)i[r?o:++a]=e,e+=n;return i}var Zue=Xue,Jue=lk,QA=1/0,Que=17976931348623157e292;function ede(e){if(!e)return e===0?e:0;if(e=Jue(e),e===QA||e===-QA){var t=e<0?-1:1;return t*Que}return e===e?e:0}var tde=ede,nde=Zue,rde=Cp,lv=tde;function ade(e){return function(t,n,r){return r&&typeof r!="number"&&rde(t,n,r)&&(n=r=void 0),t=lv(t),n===void 0?(n=t,t=0):n=lv(n),r=r===void 0?t<n?1:-1:lv(r),nde(t,n,r,e)}}var ode=ade,ide=ode,sde=ide(),cde=sde;const lh=vt(cde);function du(e){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},du(e)}function eT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function tT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eT(Object(n),!0).forEach(function(r){DN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DN(e,t,n){return t=lde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lde(e){var t=ude(e,"string");return du(t)=="symbol"?t:t+""}function ude(e,t){if(du(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dde=["Webkit","Moz","O","ms"],fde=function(t,n){var r=t.replace(/(\w)/,function(o){return o.toUpperCase()}),a=dde.reduce(function(o,i){return tT(tT({},o),{},DN({},i+r,n))},{});return a[t]=n,a};function Fs(e){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fs(e)}function uh(){return uh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uh.apply(this,arguments)}function nT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function uv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nT(Object(n),!0).forEach(function(r){Un(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,NN(r.key),r)}}function pde(e,t,n){return t&&rT(e.prototype,t),n&&rT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function mde(e,t,n){return t=dh(t),vde(e,kN()?Reflect.construct(t,n||[],dh(e).constructor):t.apply(e,n))}function vde(e,t){if(t&&(Fs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gde(e)}function gde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kN=function(){return!!e})()}function dh(e){return dh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dh(e)}function yde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ny(e,t)}function Ny(e,t){return Ny=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Ny(e,t)}function Un(e,t,n){return t=NN(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NN(e){var t=bde(e,"string");return Fs(t)=="symbol"?t:t+""}function bde(e,t){if(Fs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Fs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xde=function(t){var n=t.data,r=t.startIndex,a=t.endIndex,o=t.x,i=t.width,s=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,l=yl().domain(lh(0,c)).range([o,o+i-s]),u=l.domain().map(function(d){return l(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(r),endX:l(a),scale:l,scaleValues:u}},aT=function(t){return t.changedTouches&&!!t.changedTouches.length},Us=function(e){function t(n){var r;return hde(this,t),r=mde(this,t,[n]),Un(r,"handleDrag",function(a){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(a):r.state.isSlideMoving&&r.handleSlideDrag(a)}),Un(r,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&r.handleDrag(a.changedTouches[0])}),Un(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=r.props,o=a.endIndex,i=a.onDragEnd,s=a.startIndex;i==null||i({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),Un(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Un(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Un(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Un(r,"handleSlideDragStart",function(a){var o=aT(a)?a.changedTouches[0]:a;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return yde(t,e),pde(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var a=r.startX,o=r.endX,i=this.state.scaleValues,s=this.props,c=s.gap,l=s.data,u=l.length-1,d=Math.min(a,o),f=Math.max(a,o),h=t.getIndexInRange(i,d),p=t.getIndexInRange(i,f);return{startIndex:h-h%c,endIndex:p===u?u:p-p%c}}},{key:"getTextOfTick",value:function(r){var a=this.props,o=a.data,i=a.tickFormatter,s=a.dataKey,c=Zr(o[r],s,r);return Ye(i)?i(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var a=this.state,o=a.slideMoveStartX,i=a.startX,s=a.endX,c=this.props,l=c.x,u=c.width,d=c.travellerWidth,f=c.startIndex,h=c.endIndex,p=c.onChange,m=r.pageX-o;m>0?m=Math.min(m,l+u-d-s,l+u-d-i):m<0&&(m=Math.max(m,l-i,l-s));var v=this.getIndex({startX:i+m,endX:s+m});(v.startIndex!==f||v.endIndex!==h)&&p&&p(v),this.setState({startX:i+m,endX:s+m,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,a){var o=aT(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var a=this.state,o=a.brushMoveStartX,i=a.movingTravellerId,s=a.endX,c=a.startX,l=this.state[i],u=this.props,d=u.x,f=u.width,h=u.travellerWidth,p=u.onChange,m=u.gap,v=u.data,b={startX:this.state.startX,endX:this.state.endX},x=r.pageX-o;x>0?x=Math.min(x,d+f-h-l):x<0&&(x=Math.max(x,d-l)),b[i]=l+x;var S=this.getIndex(b),A=S.startIndex,y=S.endIndex,_=function(){var P=v.length-1;return i==="startX"&&(s>c?A%m===0:y%m===0)||s<c&&y===P||i==="endX"&&(s>c?y%m===0:A%m===0)||s>c&&y===P};this.setState(Un(Un({},i,l+x),"brushMoveStartX",r.pageX),function(){p&&_()&&p(S)})}},{key:"handleTravellerMoveKeyboard",value:function(r,a){var o=this,i=this.state,s=i.scaleValues,c=i.startX,l=i.endX,u=this.state[a],d=s.indexOf(u);if(d!==-1){var f=d+r;if(!(f===-1||f>=s.length)){var h=s[f];a==="startX"&&h>=l||a==="endX"&&h<=c||this.setState(Un({},a,h),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,a=r.x,o=r.y,i=r.width,s=r.height,c=r.fill,l=r.stroke;return k.createElement("rect",{stroke:l,fill:c,x:a,y:o,width:i,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,a=r.x,o=r.y,i=r.width,s=r.height,c=r.data,l=r.children,u=r.padding,d=w.Children.only(l);return d?k.cloneElement(d,{x:a,y:o,width:i,height:s,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,a){var o,i,s=this,c=this.props,l=c.y,u=c.travellerWidth,d=c.height,f=c.traveller,h=c.ariaLabel,p=c.data,m=c.startIndex,v=c.endIndex,b=Math.max(r,this.props.x),x=uv(uv({},ot(this.props,!1)),{},{x:b,y:l,width:u,height:d}),S=h||"Min value: ".concat((o=p[m])===null||o===void 0?void 0:o.name,", Max value: ").concat((i=p[v])===null||i===void 0?void 0:i.name);return k.createElement(nn,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(y){["ArrowLeft","ArrowRight"].includes(y.key)&&(y.preventDefault(),y.stopPropagation(),s.handleTravellerMoveKeyboard(y.key==="ArrowRight"?1:-1,a))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(f,x))}},{key:"renderSlide",value:function(r,a){var o=this.props,i=o.y,s=o.height,c=o.stroke,l=o.travellerWidth,u=Math.min(r,a)+l,d=Math.max(Math.abs(a-r)-l,0);return k.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:i,width:d,height:s})}},{key:"renderText",value:function(){var r=this.props,a=r.startIndex,o=r.endIndex,i=r.y,s=r.height,c=r.travellerWidth,l=r.stroke,u=this.state,d=u.startX,f=u.endX,h=5,p={pointerEvents:"none",fill:l};return k.createElement(nn,{className:"recharts-brush-texts"},k.createElement(Ff,uh({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,f)-h,y:i+s/2},p),this.getTextOfTick(a)),k.createElement(Ff,uh({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,f)+c+h,y:i+s/2},p),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,a=r.data,o=r.className,i=r.children,s=r.x,c=r.y,l=r.width,u=r.height,d=r.alwaysShowText,f=this.state,h=f.startX,p=f.endX,m=f.isTextActive,v=f.isSlideMoving,b=f.isTravellerMoving,x=f.isTravellerFocused;if(!a||!a.length||!le(s)||!le(c)||!le(l)||!le(u)||l<=0||u<=0)return null;var S=Xe("recharts-brush",o),A=k.Children.count(i)===1,y=fde("userSelect","none");return k.createElement(nn,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:y},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(h,p),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(p,"endX"),(m||v||b||x||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var a=r.x,o=r.y,i=r.width,s=r.height,c=r.stroke,l=Math.floor(o+s/2)-1;return k.createElement(k.Fragment,null,k.createElement("rect",{x:a,y:o,width:i,height:s,fill:c,stroke:"none"}),k.createElement("line",{x1:a+1,y1:l,x2:a+i-1,y2:l,fill:"none",stroke:"#fff"}),k.createElement("line",{x1:a+1,y1:l+2,x2:a+i-1,y2:l+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,a){var o;return k.isValidElement(r)?o=k.cloneElement(r,a):Ye(r)?o=r(a):o=t.renderDefaultTraveller(a),o}},{key:"getDerivedStateFromProps",value:function(r,a){var o=r.data,i=r.width,s=r.x,c=r.travellerWidth,l=r.updateId,u=r.startIndex,d=r.endIndex;if(o!==a.prevData||l!==a.prevUpdateId)return uv({prevData:o,prevTravellerWidth:c,prevUpdateId:l,prevX:s,prevWidth:i},o&&o.length?xde({data:o,width:i,x:s,travellerWidth:c,startIndex:u,endIndex:d}):{scale:null,scaleValues:null});if(a.scale&&(i!==a.prevWidth||s!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([s,s+i-c]);var f=a.scale.domain().map(function(h){return a.scale(h)});return{prevData:o,prevTravellerWidth:c,prevUpdateId:l,prevX:s,prevWidth:i,startX:a.scale(r.startIndex),endX:a.scale(r.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(r,a){for(var o=r.length,i=0,s=o-1;s-i>1;){var c=Math.floor((i+s)/2);r[c]>a?s=c:i=c}return a>=r[s]?s:i}}])}(w.PureComponent);Un(Us,"displayName","Brush");Un(Us,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var wde=dx;function Sde(e,t){var n;return wde(e,function(r,a,o){return n=t(r,a,o),!n}),!!n}var _de=Sde,Ade=ID,Tde=gc,Pde=_de,Ode=In,Cde=Cp;function Ede(e,t,n){var r=Ode(e)?Ade:Pde;return n&&Cde(e,t,n)&&(t=void 0),r(e,Tde(t))}var jde=Ede;const Dde=vt(jde);var Kr=function(t,n){var r=t.alwaysShow,a=t.ifOverflow;return r&&(a="extendDomain"),a===n},oT=ak;function kde(e,t,n){t=="__proto__"&&oT?oT(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Nde=kde,Mde=Nde,Rde=nk,$de=gc;function Ide(e,t){var n={};return t=$de(t),Rde(e,function(r,a,o){Mde(n,a,t(r,a,o))}),n}var Lde=Ide;const Bde=vt(Lde);function Fde(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var Ude=Fde,Vde=dx;function zde(e,t){var n=!0;return Vde(e,function(r,a,o){return n=!!t(r,a,o),n}),n}var Wde=zde,Hde=Ude,qde=Wde,Gde=gc,Kde=In,Yde=Cp;function Xde(e,t,n){var r=Kde(e)?Hde:qde;return n&&Yde(e,t,n)&&(t=void 0),r(e,Gde(t))}var Zde=Xde;const Jde=vt(Zde);var Qde=["x","y"];function fu(e){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fu(e)}function My(){return My=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},My.apply(this,arguments)}function iT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Hc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iT(Object(n),!0).forEach(function(r){efe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function efe(e,t,n){return t=tfe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tfe(e){var t=nfe(e,"string");return fu(t)=="symbol"?t:t+""}function nfe(e,t){if(fu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rfe(e,t){if(e==null)return{};var n=afe(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function afe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ofe(e,t){var n=e.x,r=e.y,a=rfe(e,Qde),o="".concat(n),i=parseInt(o,10),s="".concat(r),c=parseInt(s,10),l="".concat(t.height||a.height),u=parseInt(l,10),d="".concat(t.width||a.width),f=parseInt(d,10);return Hc(Hc(Hc(Hc(Hc({},t),a),i?{x:i}:{}),c?{y:c}:{}),{},{height:u,width:f,name:t.name,radius:t.radius})}function sT(e){return k.createElement(Fue,My({shapeType:"rectangle",propTransformer:ofe,activeClassName:"recharts-active-bar"},e))}var ife=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,a){if(typeof t=="number")return t;var o=typeof r=="number";return o?t(r,a):(o||bi(),n)}},sfe=["value","background"],MN;function Vs(e){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vs(e)}function cfe(e,t){if(e==null)return{};var n=lfe(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function lfe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function fh(){return fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fh.apply(this,arguments)}function cT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cT(Object(n),!0).forEach(function(r){ao(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ufe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$N(r.key),r)}}function dfe(e,t,n){return t&&lT(e.prototype,t),n&&lT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ffe(e,t,n){return t=hh(t),hfe(e,RN()?Reflect.construct(t,n||[],hh(e).constructor):t.apply(e,n))}function hfe(e,t){if(t&&(Vs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pfe(e)}function pfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RN=function(){return!!e})()}function hh(e){return hh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hh(e)}function mfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ry(e,t)}function Ry(e,t){return Ry=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Ry(e,t)}function ao(e,t,n){return t=$N(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $N(e){var t=vfe(e,"string");return Vs(t)=="symbol"?t:t+""}function vfe(e,t){if(Vs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Vs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ji=function(e){function t(){var n;ufe(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=ffe(this,t,[].concat(a)),ao(n,"state",{isAnimationFinished:!1}),ao(n,"id",wp("recharts-bar-")),ao(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),i&&i()}),ao(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),i&&i()}),n}return mfe(t,e),dfe(t,[{key:"renderRectanglesStatically",value:function(r){var a=this,o=this.props,i=o.shape,s=o.dataKey,c=o.activeIndex,l=o.activeBar,u=ot(this.props,!1);return r&&r.map(function(d,f){var h=f===c,p=h?l:i,m=Ut(Ut(Ut({},u),d),{},{isActive:h,option:p,index:f,dataKey:s,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return k.createElement(nn,fh({className:"recharts-bar-rectangle"},Pf(a.props,d,f),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value)}),k.createElement(sT,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,a=this.props,o=a.data,i=a.layout,s=a.isAnimationActive,c=a.animationBegin,l=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state.prevData;return k.createElement(ho,{begin:c,duration:l,isActive:s,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var p=h.t,m=o.map(function(v,b){var x=f&&f[b];if(x){var S=Li(x.x,v.x),A=Li(x.y,v.y),y=Li(x.width,v.width),_=Li(x.height,v.height);return Ut(Ut({},v),{},{x:S(p),y:A(p),width:y(p),height:_(p)})}if(i==="horizontal"){var T=Li(0,v.height),P=T(p);return Ut(Ut({},v),{},{y:v.y+v.height-P,height:P})}var O=Li(0,v.width),j=O(p);return Ut(Ut({},v),{},{width:j})});return k.createElement(nn,null,r.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var r=this.props,a=r.data,o=r.isAnimationActive,i=this.state.prevData;return o&&a&&a.length&&(!i||!$x(i,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var r=this,a=this.props,o=a.data,i=a.dataKey,s=a.activeIndex,c=ot(this.props.background,!1);return o.map(function(l,u){l.value;var d=l.background,f=cfe(l,sfe);if(!d)return null;var h=Ut(Ut(Ut(Ut(Ut({},f),{},{fill:"#eee"},d),c),Pf(r.props,l,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:i,index:u,className:"recharts-bar-background-rectangle"});return k.createElement(sT,fh({key:"background-bar-".concat(u),option:r.props.background,isActive:u===s},h))})}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.data,s=o.xAxis,c=o.yAxis,l=o.layout,u=o.children,d=Pr(u,Bp);if(!d)return null;var f=l==="vertical"?i[0].height/2:i[0].width/2,h=function(v,b){var x=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:x,errorVal:Zr(v,b)}},p={clipPath:r?"url(#clipPath-".concat(a,")"):null};return k.createElement(nn,p,d.map(function(m){return k.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:i,xAxis:s,yAxis:c,layout:l,offset:f,dataPointFormatter:h})}))}},{key:"render",value:function(){var r=this.props,a=r.hide,o=r.data,i=r.className,s=r.xAxis,c=r.yAxis,l=r.left,u=r.top,d=r.width,f=r.height,h=r.isAnimationActive,p=r.background,m=r.id;if(a||!o||!o.length)return null;var v=this.state.isAnimationFinished,b=Xe("recharts-bar",i),x=s&&s.allowDataOverflow,S=c&&c.allowDataOverflow,A=x||S,y=it(m)?this.id:m;return k.createElement(nn,{className:b},x||S?k.createElement("defs",null,k.createElement("clipPath",{id:"clipPath-".concat(y)},k.createElement("rect",{x:x?l:l-d/2,y:S?u:u-f/2,width:x?d:d*2,height:S?f:f*2}))):null,k.createElement(nn,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(y,")"):null},p?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,y),(!h||v)&&ui.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:a.curData}:r.data!==a.curData?{curData:r.data}:null}}])}(w.PureComponent);MN=ji;ao(ji,"displayName","Bar");ao(ji,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!so.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ao(ji,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,a=e.bandSize,o=e.xAxis,i=e.yAxis,s=e.xAxisTicks,c=e.yAxisTicks,l=e.stackedData,u=e.dataStartIndex,d=e.displayedData,f=e.offset,h=ose(r,n);if(!h)return null;var p=t.layout,m=n.type.defaultProps,v=m!==void 0?Ut(Ut({},m),n.props):n.props,b=v.dataKey,x=v.children,S=v.minPointSize,A=p==="horizontal"?i:o,y=l?A.scale.domain():null,_=hse({numericAxis:A}),T=Pr(x,fk),P=d.map(function(O,j){var E,C,I,R,$,F;l?E=ise(l[u+j],y):(E=Zr(O,b),Array.isArray(E)||(E=[_,E]));var V=ife(S,MN.defaultProps.minPointSize)(E[1],j);if(p==="horizontal"){var H,q=[i.scale(E[0]),i.scale(E[1])],X=q[0],Y=q[1];C=sA({axis:o,ticks:s,bandSize:a,offset:h.offset,entry:O,index:j}),I=(H=Y??X)!==null&&H!==void 0?H:void 0,R=h.size;var J=X-Y;if($=Number.isNaN(J)?0:J,F={x:C,y:i.y,width:R,height:i.height},Math.abs(V)>0&&Math.abs($)<Math.abs(V)){var oe=_r($||V)*(Math.abs(V)-Math.abs($));I-=oe,$+=oe}}else{var Te=[o.scale(E[0]),o.scale(E[1])],Ve=Te[0],rt=Te[1];if(C=Ve,I=sA({axis:i,ticks:c,bandSize:a,offset:h.offset,entry:O,index:j}),R=rt-Ve,$=h.size,F={x:o.x,y:I,width:o.width,height:$},Math.abs(V)>0&&Math.abs(R)<Math.abs(V)){var Je=_r(R||V)*(Math.abs(V)-Math.abs(R));R+=Je}}return Ut(Ut(Ut({},O),{},{x:C,y:I,width:R,height:$,value:l?E:E[1],payload:O,background:F},T&&T[j]&&T[j].props),{},{tooltipPayload:[gN(n,O)],tooltipPosition:{x:C+R/2,y:I+$/2}})});return Ut({data:P,layout:p},f)});function hu(e){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(e)}function gfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,IN(r.key),r)}}function yfe(e,t,n){return t&&uT(e.prototype,t),n&&uT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function dT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function vr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dT(Object(n),!0).forEach(function(r){Vp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vp(e,t,n){return t=IN(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IN(e){var t=bfe(e,"string");return hu(t)=="symbol"?t:t+""}function bfe(e,t){if(hu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xfe=function(t,n,r,a,o){var i=t.width,s=t.height,c=t.layout,l=t.children,u=Object.keys(n),d={left:r.left,leftMirror:r.left,right:i-r.right,rightMirror:i-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},f=!!zn(l,ji);return u.reduce(function(h,p){var m=n[p],v=m.orientation,b=m.domain,x=m.padding,S=x===void 0?{}:x,A=m.mirror,y=m.reversed,_="".concat(v).concat(A?"Mirror":""),T,P,O,j,E;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var C=b[1]-b[0],I=1/0,R=m.categoricalDomain.sort();if(R.forEach(function(Te,Ve){Ve>0&&(I=Math.min((Te||0)-(R[Ve-1]||0),I))}),Number.isFinite(I)){var $=I/C,F=m.layout==="vertical"?r.height:r.width;if(m.padding==="gap"&&(T=$*F/2),m.padding==="no-gap"){var V=gi(t.barCategoryGap,$*F),H=$*F/2;T=H-V-(H-V)/F*V}}}a==="xAxis"?P=[r.left+(S.left||0)+(T||0),r.left+r.width-(S.right||0)-(T||0)]:a==="yAxis"?P=c==="horizontal"?[r.top+r.height-(S.bottom||0),r.top+(S.top||0)]:[r.top+(S.top||0)+(T||0),r.top+r.height-(S.bottom||0)-(T||0)]:P=m.range,y&&(P=[P[1],P[0]]);var q=rse(m,o,f),X=q.scale,Y=q.realScaleType;X.domain(b).range(P),ase(X);var J=fse(X,vr(vr({},m),{},{realScaleType:Y}));a==="xAxis"?(E=v==="top"&&!A||v==="bottom"&&A,O=r.left,j=d[_]-E*m.height):a==="yAxis"&&(E=v==="left"&&!A||v==="right"&&A,O=d[_]-E*m.width,j=r.top);var oe=vr(vr(vr({},m),J),{},{realScaleType:Y,x:O,y:j,scale:X,width:a==="xAxis"?r.width:m.width,height:a==="yAxis"?r.height:m.height});return oe.bandSize=eh(oe,J),!m.hide&&a==="xAxis"?d[_]+=(E?-1:1)*oe.height:m.hide||(d[_]+=(E?-1:1)*oe.width),vr(vr({},h),{},Vp({},p,oe))},{})},LN=function(t,n){var r=t.x,a=t.y,o=n.x,i=n.y;return{x:Math.min(r,o),y:Math.min(a,i),width:Math.abs(o-r),height:Math.abs(i-a)}},wfe=function(t){var n=t.x1,r=t.y1,a=t.x2,o=t.y2;return LN({x:n,y:r},{x:a,y:o})},BN=function(){function e(t){gfe(this,e),this.scale=t}return yfe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),a=r[0],o=r[r.length-1];return a<=o?n>=a&&n<=o:n>=o&&n<=a}}],[{key:"create",value:function(n){return new e(n)}}])}();Vp(BN,"EPS",1e-4);var Ux=function(t){var n=Object.keys(t).reduce(function(r,a){return vr(vr({},r),{},Vp({},a,BN.create(t[a])))},{});return vr(vr({},n),{},{apply:function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=o.bandAware,s=o.position;return Bde(a,function(c,l){return n[l].apply(c,{bandAware:i,position:s})})},isInRange:function(a){return Jde(a,function(o,i){return n[i].isInRange(o)})}})};function Sfe(e){return(e%180+180)%180}var _fe=function(t){var n=t.width,r=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Sfe(a),i=o*Math.PI/180,s=Math.atan(r/n),c=i>s&&i<Math.PI-s?r/Math.sin(i):n/Math.cos(i);return Math.abs(c)},Afe=VH(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),FN=w.createContext(void 0),UN=w.createContext(void 0),VN=w.createContext(void 0),Tfe=w.createContext({}),zN=w.createContext(void 0),WN=w.createContext(0),HN=w.createContext(0),fT=function(t){var n=t.state,r=n.xAxisMap,a=n.yAxisMap,o=n.offset,i=t.clipPathId,s=t.children,c=t.width,l=t.height,u=Afe(o);return k.createElement(FN.Provider,{value:r},k.createElement(UN.Provider,{value:a},k.createElement(Tfe.Provider,{value:o},k.createElement(VN.Provider,{value:u},k.createElement(zN.Provider,{value:i},k.createElement(WN.Provider,{value:l},k.createElement(HN.Provider,{value:c},s)))))))},Pfe=function(){return w.useContext(zN)},qN=function(t){var n=w.useContext(FN);n==null&&bi();var r=n[t];return r==null&&bi(),r},GN=function(t){var n=w.useContext(UN);n==null&&bi();var r=n[t];return r==null&&bi(),r},Ofe=function(){var t=w.useContext(VN);return t},KN=function(){return w.useContext(HN)},YN=function(){return w.useContext(WN)};function zs(e){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zs(e)}function Cfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Efe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ZN(r.key),r)}}function jfe(e,t,n){return t&&Efe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dfe(e,t,n){return t=ph(t),kfe(e,XN()?Reflect.construct(t,n||[],ph(e).constructor):t.apply(e,n))}function kfe(e,t){if(t&&(zs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nfe(e)}function Nfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XN=function(){return!!e})()}function ph(e){return ph=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ph(e)}function Mfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$y(e,t)}function $y(e,t){return $y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},$y(e,t)}function hT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function pT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hT(Object(n),!0).forEach(function(r){Vx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vx(e,t,n){return t=ZN(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZN(e){var t=Rfe(e,"string");return zs(t)=="symbol"?t:t+""}function Rfe(e,t){if(zs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(zs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $fe(e,t){return Ffe(e)||Bfe(e,t)||Lfe(e,t)||Ife()}function Ife(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lfe(e,t){if(e){if(typeof e=="string")return mT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mT(e,t)}}function mT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bfe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,o,i,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&n.return!=null&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function Ffe(e){if(Array.isArray(e))return e}function Iy(){return Iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Iy.apply(this,arguments)}var Ufe=function(t,n){var r;return k.isValidElement(t)?r=k.cloneElement(t,n):Ye(t)?r=t(n):r=k.createElement("line",Iy({},n,{className:"recharts-reference-line-line"})),r},Vfe=function(t,n,r,a,o,i,s,c,l){var u=o.x,d=o.y,f=o.width,h=o.height;if(r){var p=l.y,m=t.y.apply(p,{position:i});if(Kr(l,"discard")&&!t.y.isInRange(m))return null;var v=[{x:u+f,y:m},{x:u,y:m}];return c==="left"?v.reverse():v}if(n){var b=l.x,x=t.x.apply(b,{position:i});if(Kr(l,"discard")&&!t.x.isInRange(x))return null;var S=[{x,y:d+h},{x,y:d}];return s==="top"?S.reverse():S}if(a){var A=l.segment,y=A.map(function(_){return t.apply(_,{position:i})});return Kr(l,"discard")&&Dde(y,function(_){return!t.isInRange(_)})?null:y}return null};function zfe(e){var t=e.x,n=e.y,r=e.segment,a=e.xAxisId,o=e.yAxisId,i=e.shape,s=e.className,c=e.alwaysShow,l=Pfe(),u=qN(a),d=GN(o),f=Ofe();if(!l||!f)return null;si(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Ux({x:u.scale,y:d.scale}),p=Jt(t),m=Jt(n),v=r&&r.length===2,b=Vfe(h,p,m,v,f,e.position,u.orientation,d.orientation,e);if(!b)return null;var x=$fe(b,2),S=x[0],A=S.x,y=S.y,_=x[1],T=_.x,P=_.y,O=Kr(e,"hidden")?"url(#".concat(l,")"):void 0,j=pT(pT({clipPath:O},ot(e,!0)),{},{x1:A,y1:y,x2:T,y2:P});return k.createElement(nn,{className:Xe("recharts-reference-line",s)},Ufe(i,j),vn.renderCallByParent(e,wfe({x1:A,y1:y,x2:T,y2:P})))}var zx=function(e){function t(){return Cfe(this,t),Dfe(this,t,arguments)}return Mfe(t,e),jfe(t,[{key:"render",value:function(){return k.createElement(zfe,this.props)}}])}(k.Component);Vx(zx,"displayName","ReferenceLine");Vx(zx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Ly(){return Ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ly.apply(this,arguments)}function Ws(e){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ws(e)}function vT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function gT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vT(Object(n),!0).forEach(function(r){zp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hfe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,QN(r.key),r)}}function qfe(e,t,n){return t&&Hfe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gfe(e,t,n){return t=mh(t),Kfe(e,JN()?Reflect.construct(t,n||[],mh(e).constructor):t.apply(e,n))}function Kfe(e,t){if(t&&(Ws(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yfe(e)}function Yfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JN=function(){return!!e})()}function mh(e){return mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mh(e)}function Xfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&By(e,t)}function By(e,t){return By=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},By(e,t)}function zp(e,t,n){return t=QN(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QN(e){var t=Zfe(e,"string");return Ws(t)=="symbol"?t:t+""}function Zfe(e,t){if(Ws(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ws(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jfe=function(t){var n=t.x,r=t.y,a=t.xAxis,o=t.yAxis,i=Ux({x:a.scale,y:o.scale}),s=i.apply({x:n,y:r},{bandAware:!0});return Kr(t,"discard")&&!i.isInRange(s)?null:s},Wp=function(e){function t(){return Wfe(this,t),Gfe(this,t,arguments)}return Xfe(t,e),qfe(t,[{key:"render",value:function(){var r=this.props,a=r.x,o=r.y,i=r.r,s=r.alwaysShow,c=r.clipPathId,l=Jt(a),u=Jt(o);if(si(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!u)return null;var d=Jfe(this.props);if(!d)return null;var f=d.x,h=d.y,p=this.props,m=p.shape,v=p.className,b=Kr(this.props,"hidden")?"url(#".concat(c,")"):void 0,x=gT(gT({clipPath:b},ot(this.props,!0)),{},{cx:f,cy:h});return k.createElement(nn,{className:Xe("recharts-reference-dot",v)},t.renderDot(m,x),vn.renderCallByParent(this.props,{x:f-i,y:h-i,width:2*i,height:2*i}))}}])}(k.Component);zp(Wp,"displayName","ReferenceDot");zp(Wp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});zp(Wp,"renderDot",function(e,t){var n;return k.isValidElement(e)?n=k.cloneElement(e,t):Ye(e)?n=e(t):n=k.createElement(EN,Ly({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fy.apply(this,arguments)}function Hs(e){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hs(e)}function yT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function bT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yT(Object(n),!0).forEach(function(r){Hp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ehe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tM(r.key),r)}}function the(e,t,n){return t&&ehe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nhe(e,t,n){return t=vh(t),rhe(e,eM()?Reflect.construct(t,n||[],vh(e).constructor):t.apply(e,n))}function rhe(e,t){if(t&&(Hs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ahe(e)}function ahe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eM=function(){return!!e})()}function vh(e){return vh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vh(e)}function ohe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uy(e,t)}function Uy(e,t){return Uy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Uy(e,t)}function Hp(e,t,n){return t=tM(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tM(e){var t=ihe(e,"string");return Hs(t)=="symbol"?t:t+""}function ihe(e,t){if(Hs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Hs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var she=function(t,n,r,a,o){var i=o.x1,s=o.x2,c=o.y1,l=o.y2,u=o.xAxis,d=o.yAxis;if(!u||!d)return null;var f=Ux({x:u.scale,y:d.scale}),h={x:t?f.x.apply(i,{position:"start"}):f.x.rangeMin,y:r?f.y.apply(c,{position:"start"}):f.y.rangeMin},p={x:n?f.x.apply(s,{position:"end"}):f.x.rangeMax,y:a?f.y.apply(l,{position:"end"}):f.y.rangeMax};return Kr(o,"discard")&&(!f.isInRange(h)||!f.isInRange(p))?null:LN(h,p)},qp=function(e){function t(){return Qfe(this,t),nhe(this,t,arguments)}return ohe(t,e),the(t,[{key:"render",value:function(){var r=this.props,a=r.x1,o=r.x2,i=r.y1,s=r.y2,c=r.className,l=r.alwaysShow,u=r.clipPathId;si(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Jt(a),f=Jt(o),h=Jt(i),p=Jt(s),m=this.props.shape;if(!d&&!f&&!h&&!p&&!m)return null;var v=she(d,f,h,p,this.props);if(!v&&!m)return null;var b=Kr(this.props,"hidden")?"url(#".concat(u,")"):void 0;return k.createElement(nn,{className:Xe("recharts-reference-area",c)},t.renderRect(m,bT(bT({clipPath:b},ot(this.props,!0)),v)),vn.renderCallByParent(this.props,v))}}])}(k.Component);Hp(qp,"displayName","ReferenceArea");Hp(qp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Hp(qp,"renderRect",function(e,t){var n;return k.isValidElement(e)?n=k.cloneElement(e,t):Ye(e)?n=e(t):n=k.createElement(Fx,Fy({},t,{className:"recharts-reference-area-rect"})),n});function nM(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],a=0;a<e.length;a+=t)r.push(e[a]);return r}function che(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return _fe(r,n)}function lhe(e,t,n){var r=n==="width",a=e.x,o=e.y,i=e.width,s=e.height;return t===1?{start:r?a:o,end:r?a+i:o+s}:{start:r?a+i:o+s,end:r?a:o}}function gh(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-a)<=0}function uhe(e,t){return nM(e,t+1)}function dhe(e,t,n,r,a){for(var o=(r||[]).slice(),i=t.start,s=t.end,c=0,l=1,u=i,d=function(){var p=r==null?void 0:r[c];if(p===void 0)return{v:nM(r,l)};var m=c,v,b=function(){return v===void 0&&(v=n(p,m)),v},x=p.coordinate,S=c===0||gh(e,x,b,u,s);S||(c=0,u=i,l+=1),S&&(u=x+e*(b()/2+a),c+=l)},f;l<=o.length;)if(f=d(),f)return f.v;return[]}function pu(e){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(e)}function xT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function mn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xT(Object(n),!0).forEach(function(r){fhe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fhe(e,t,n){return t=hhe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hhe(e){var t=phe(e,"string");return pu(t)=="symbol"?t:t+""}function phe(e,t){if(pu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mhe(e,t,n,r,a){for(var o=(r||[]).slice(),i=o.length,s=t.start,c=t.end,l=function(f){var h=o[f],p,m=function(){return p===void 0&&(p=n(h,f)),p};if(f===i-1){var v=e*(h.coordinate+e*m()/2-c);o[f]=h=mn(mn({},h),{},{tickCoord:v>0?h.coordinate-v*e:h.coordinate})}else o[f]=h=mn(mn({},h),{},{tickCoord:h.coordinate});var b=gh(e,h.tickCoord,m,s,c);b&&(c=h.tickCoord-e*(m()/2+a),o[f]=mn(mn({},h),{},{isShow:!0}))},u=i-1;u>=0;u--)l(u);return o}function vhe(e,t,n,r,a,o){var i=(r||[]).slice(),s=i.length,c=t.start,l=t.end;if(o){var u=r[s-1],d=n(u,s-1),f=e*(u.coordinate+e*d/2-l);i[s-1]=u=mn(mn({},u),{},{tickCoord:f>0?u.coordinate-f*e:u.coordinate});var h=gh(e,u.tickCoord,function(){return d},c,l);h&&(l=u.tickCoord-e*(d/2+a),i[s-1]=mn(mn({},u),{},{isShow:!0}))}for(var p=o?s-1:s,m=function(x){var S=i[x],A,y=function(){return A===void 0&&(A=n(S,x)),A};if(x===0){var _=e*(S.coordinate-e*y()/2-c);i[x]=S=mn(mn({},S),{},{tickCoord:_<0?S.coordinate-_*e:S.coordinate})}else i[x]=S=mn(mn({},S),{},{tickCoord:S.coordinate});var T=gh(e,S.tickCoord,y,c,l);T&&(c=S.tickCoord+e*(y()/2+a),i[x]=mn(mn({},S),{},{isShow:!0}))},v=0;v<p;v++)m(v);return i}function ghe(e,t,n){var r=e.tick,a=e.ticks,o=e.viewBox,i=e.minTickGap,s=e.orientation,c=e.interval,l=e.tickFormatter,u=e.unit,d=e.angle;if(!a||!a.length||!r)return[];if(le(c)||so.isSsr)return uhe(a,typeof c=="number"&&le(c)?c:0);var f=[],h=s==="top"||s==="bottom"?"width":"height",p=u&&h==="width"?gl(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=function(S,A){var y=Ye(l)?l(S.value,A):S.value;return h==="width"?che(gl(y,{fontSize:t,letterSpacing:n}),p,d):gl(y,{fontSize:t,letterSpacing:n})[h]},v=a.length>=2?_r(a[1].coordinate-a[0].coordinate):1,b=lhe(o,v,h);return c==="equidistantPreserveStart"?dhe(v,b,m,a,i):(c==="preserveStart"||c==="preserveStartEnd"?f=vhe(v,b,m,a,i,c==="preserveStartEnd"):f=mhe(v,b,m,a,i),f.filter(function(x){return x.isShow}))}var yhe=["viewBox"],bhe=["viewBox"],xhe=["ticks"];function qs(e){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qs(e)}function es(){return es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},es.apply(this,arguments)}function wT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _n(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wT(Object(n),!0).forEach(function(r){Wx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dv(e,t){if(e==null)return{};var n=whe(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function whe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function She(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ST(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,aM(r.key),r)}}function _he(e,t,n){return t&&ST(e.prototype,t),n&&ST(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ahe(e,t,n){return t=yh(t),The(e,rM()?Reflect.construct(t,n||[],yh(e).constructor):t.apply(e,n))}function The(e,t){if(t&&(qs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Phe(e)}function Phe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rM=function(){return!!e})()}function yh(e){return yh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yh(e)}function Ohe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vy(e,t)}function Vy(e,t){return Vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Vy(e,t)}function Wx(e,t,n){return t=aM(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aM(e){var t=Che(e,"string");return qs(t)=="symbol"?t:t+""}function Che(e,t){if(qs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(qs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gp=function(e){function t(n){var r;return She(this,t),r=Ahe(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return Ohe(t,e),_he(t,[{key:"shouldComponentUpdate",value:function(r,a){var o=r.viewBox,i=dv(r,yhe),s=this.props,c=s.viewBox,l=dv(s,bhe);return!os(o,c)||!os(i,l)||!os(a,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var a=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var a=this.props,o=a.x,i=a.y,s=a.width,c=a.height,l=a.orientation,u=a.tickSize,d=a.mirror,f=a.tickMargin,h,p,m,v,b,x,S=d?-1:1,A=r.tickSize||u,y=le(r.tickCoord)?r.tickCoord:r.coordinate;switch(l){case"top":h=p=r.coordinate,v=i+ +!d*c,m=v-S*A,x=m-S*f,b=y;break;case"left":m=v=r.coordinate,p=o+ +!d*s,h=p-S*A,b=h-S*f,x=y;break;case"right":m=v=r.coordinate,p=o+ +d*s,h=p+S*A,b=h+S*f,x=y;break;default:h=p=r.coordinate,v=i+ +d*c,m=v+S*A,x=m+S*f,b=y;break}return{line:{x1:h,y1:m,x2:p,y2:v},tick:{x:b,y:x}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,a=r.orientation,o=r.mirror,i;switch(a){case"left":i=o?"start":"end";break;case"right":i=o?"end":"start";break;default:i="middle";break}return i}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,a=r.orientation,o=r.mirror,i="end";switch(a){case"left":case"right":i="middle";break;case"top":i=o?"start":"end";break;default:i=o?"end":"start";break}return i}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.x,o=r.y,i=r.width,s=r.height,c=r.orientation,l=r.mirror,u=r.axisLine,d=_n(_n(_n({},ot(this.props,!1)),ot(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var f=+(c==="top"&&!l||c==="bottom"&&l);d=_n(_n({},d),{},{x1:a,y1:o+f*s,x2:a+i,y2:o+f*s})}else{var h=+(c==="left"&&!l||c==="right"&&l);d=_n(_n({},d),{},{x1:a+h*i,y1:o,x2:a+h*i,y2:o+s})}return k.createElement("line",es({},d,{className:Xe("recharts-cartesian-axis-line",ar(u,"className"))}))}},{key:"renderTicks",value:function(r,a,o){var i=this,s=this.props,c=s.tickLine,l=s.stroke,u=s.tick,d=s.tickFormatter,f=s.unit,h=ghe(_n(_n({},this.props),{},{ticks:r}),a,o),p=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=ot(this.props,!1),b=ot(u,!1),x=_n(_n({},v),{},{fill:"none"},ot(c,!1)),S=h.map(function(A,y){var _=i.getTickLineCoord(A),T=_.line,P=_.tick,O=_n(_n(_n(_n({textAnchor:p,verticalAnchor:m},v),{},{stroke:"none",fill:l},b),P),{},{index:y,payload:A,visibleTicksCount:h.length,tickFormatter:d});return k.createElement(nn,es({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},Pf(i.props,A,y)),c&&k.createElement("line",es({},x,T,{className:Xe("recharts-cartesian-axis-tick-line",ar(c,"className"))})),u&&t.renderTickItem(u,O,"".concat(Ye(d)?d(A.value,y):A.value).concat(f||"")))});return k.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var r=this,a=this.props,o=a.axisLine,i=a.width,s=a.height,c=a.ticksGenerator,l=a.className,u=a.hide;if(u)return null;var d=this.props,f=d.ticks,h=dv(d,xhe),p=f;return Ye(c)&&(p=f&&f.length>0?c(this.props):c(h)),i<=0||s<=0||!p||!p.length?null:k.createElement(nn,{className:Xe("recharts-cartesian-axis",l),ref:function(v){r.layerReference=v}},o&&this.renderAxisLine(),this.renderTicks(p,this.state.fontSize,this.state.letterSpacing),vn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,a,o){var i;return k.isValidElement(r)?i=k.cloneElement(r,a):Ye(r)?i=r(a):i=k.createElement(Ff,es({},a,{className:"recharts-cartesian-axis-tick-value"}),o),i}}])}(w.Component);Wx(Gp,"displayName","CartesianAxis");Wx(Gp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});function Gs(e){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gs(e)}function Ehe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jhe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sM(r.key),r)}}function Dhe(e,t,n){return t&&jhe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function khe(e,t,n){return t=bh(t),Nhe(e,oM()?Reflect.construct(t,n||[],bh(e).constructor):t.apply(e,n))}function Nhe(e,t){if(t&&(Gs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mhe(e)}function Mhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oM=function(){return!!e})()}function bh(e){return bh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bh(e)}function Rhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zy(e,t)}function zy(e,t){return zy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},zy(e,t)}function iM(e,t,n){return t=sM(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sM(e){var t=$he(e,"string");return Gs(t)=="symbol"?t:t+""}function $he(e,t){if(Gs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Gs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wy(){return Wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wy.apply(this,arguments)}function Ihe(e){var t=e.xAxisId,n=KN(),r=YN(),a=qN(t);return a==null?null:k.createElement(Gp,Wy({},a,{className:Xe("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(i){return Xo(i,!0)}}))}var Kp=function(e){function t(){return Ehe(this,t),khe(this,t,arguments)}return Rhe(t,e),Dhe(t,[{key:"render",value:function(){return k.createElement(Ihe,this.props)}}])}(k.Component);iM(Kp,"displayName","XAxis");iM(Kp,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ks(e){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ks(e)}function Lhe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bhe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uM(r.key),r)}}function Fhe(e,t,n){return t&&Bhe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uhe(e,t,n){return t=xh(t),Vhe(e,cM()?Reflect.construct(t,n||[],xh(e).constructor):t.apply(e,n))}function Vhe(e,t){if(t&&(Ks(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zhe(e)}function zhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cM=function(){return!!e})()}function xh(e){return xh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xh(e)}function Whe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hy(e,t)}function Hy(e,t){return Hy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Hy(e,t)}function lM(e,t,n){return t=uM(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uM(e){var t=Hhe(e,"string");return Ks(t)=="symbol"?t:t+""}function Hhe(e,t){if(Ks(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ks(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qy(){return qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qy.apply(this,arguments)}var qhe=function(t){var n=t.yAxisId,r=KN(),a=YN(),o=GN(n);return o==null?null:k.createElement(Gp,qy({},o,{className:Xe("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(s){return Xo(s,!0)}}))},Yp=function(e){function t(){return Lhe(this,t),Uhe(this,t,arguments)}return Whe(t,e),Fhe(t,[{key:"render",value:function(){return k.createElement(qhe,this.props)}}])}(k.Component);lM(Yp,"displayName","YAxis");lM(Yp,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function _T(e){return Xhe(e)||Yhe(e)||Khe(e)||Ghe()}function Ghe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Khe(e,t){if(e){if(typeof e=="string")return Gy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gy(e,t)}}function Yhe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Xhe(e){if(Array.isArray(e))return Gy(e)}function Gy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ky=function(t,n,r,a,o){var i=Pr(t,zx),s=Pr(t,Wp),c=[].concat(_T(i),_T(s)),l=Pr(t,qp),u="".concat(a,"Id"),d=a[0],f=n;if(c.length&&(f=c.reduce(function(m,v){if(v.props[u]===r&&Kr(v.props,"extendDomain")&&le(v.props[d])){var b=v.props[d];return[Math.min(m[0],b),Math.max(m[1],b)]}return m},f)),l.length){var h="".concat(d,"1"),p="".concat(d,"2");f=l.reduce(function(m,v){if(v.props[u]===r&&Kr(v.props,"extendDomain")&&le(v.props[h])&&le(v.props[p])){var b=v.props[h],x=v.props[p];return[Math.min(m[0],b,x),Math.max(m[1],b,x)]}return m},f)}return o&&o.length&&(f=o.reduce(function(m,v){return le(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},f)),f},dM={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function o(c,l,u,d,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new a(u,d||c,f),p=n?n+l:l;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],h]:c._events[p].push(h):(c._events[p]=h,c._eventsCount++),c}function i(c,l){--c._eventsCount===0?c._events=new r:delete c._events[l]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var l=[],u,d;if(this._eventsCount===0)return l;for(d in u=this._events)t.call(u,d)&&l.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},s.prototype.listeners=function(l){var u=n?n+l:l,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,h=d.length,p=new Array(h);f<h;f++)p[f]=d[f].fn;return p},s.prototype.listenerCount=function(l){var u=n?n+l:l,d=this._events[u];return d?d.fn?1:d.length:0},s.prototype.emit=function(l,u,d,f,h,p){var m=n?n+l:l;if(!this._events[m])return!1;var v=this._events[m],b=arguments.length,x,S;if(v.fn){switch(v.once&&this.removeListener(l,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,d),!0;case 4:return v.fn.call(v.context,u,d,f),!0;case 5:return v.fn.call(v.context,u,d,f,h),!0;case 6:return v.fn.call(v.context,u,d,f,h,p),!0}for(S=1,x=new Array(b-1);S<b;S++)x[S-1]=arguments[S];v.fn.apply(v.context,x)}else{var A=v.length,y;for(S=0;S<A;S++)switch(v[S].once&&this.removeListener(l,v[S].fn,void 0,!0),b){case 1:v[S].fn.call(v[S].context);break;case 2:v[S].fn.call(v[S].context,u);break;case 3:v[S].fn.call(v[S].context,u,d);break;case 4:v[S].fn.call(v[S].context,u,d,f);break;default:if(!x)for(y=1,x=new Array(b-1);y<b;y++)x[y-1]=arguments[y];v[S].fn.apply(v[S].context,x)}}return!0},s.prototype.on=function(l,u,d){return o(this,l,u,d,!1)},s.prototype.once=function(l,u,d){return o(this,l,u,d,!0)},s.prototype.removeListener=function(l,u,d,f){var h=n?n+l:l;if(!this._events[h])return this;if(!u)return i(this,h),this;var p=this._events[h];if(p.fn)p.fn===u&&(!f||p.once)&&(!d||p.context===d)&&i(this,h);else{for(var m=0,v=[],b=p.length;m<b;m++)(p[m].fn!==u||f&&!p[m].once||d&&p[m].context!==d)&&v.push(p[m]);v.length?this._events[h]=v.length===1?v[0]:v:i(this,h)}return this},s.prototype.removeAllListeners=function(l){var u;return l?(u=n?n+l:l,this._events[u]&&i(this,u)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(dM);var Zhe=dM.exports;const Jhe=vt(Zhe);var fv=new Jhe,hv="recharts.syncMouseEvents";function mu(e){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mu(e)}function Qhe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function epe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fM(r.key),r)}}function tpe(e,t,n){return t&&epe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pv(e,t,n){return t=fM(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fM(e){var t=npe(e,"string");return mu(t)=="symbol"?t:t+""}function npe(e,t){if(mu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var rpe=function(){function e(){Qhe(this,e),pv(this,"activeIndex",0),pv(this,"coordinateList",[]),pv(this,"layout","horizontal")}return tpe(e,[{key:"setDetails",value:function(n){var r,a=n.coordinateList,o=a===void 0?null:a,i=n.container,s=i===void 0?null:i,c=n.layout,l=c===void 0?null:c,u=n.offset,d=u===void 0?null:u,f=n.mouseHandlerCallback,h=f===void 0?null:f;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=l??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),o=a.x,i=a.y,s=a.height,c=this.coordinateList[this.activeIndex].coordinate,l=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=o+c+l,f=i+this.offset.top+s/2+u;this.mouseHandlerCallback({pageX:d,pageY:f})}}}])}();function ape(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],a=e==null?void 0:e[1];if(r&&a&&le(r)&&le(a))return!0}return!1}function ope(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function hM(e){var t=e.cx,n=e.cy,r=e.radius,a=e.startAngle,o=e.endAngle,i=un(t,n,r,a),s=un(t,n,r,o);return{points:[i,s],cx:t,cy:n,radius:r,startAngle:a,endAngle:o}}function ipe(e,t,n){var r,a,o,i;if(e==="horizontal")r=t.x,o=r,a=n.top,i=n.top+n.height;else if(e==="vertical")a=t.y,i=a,r=n.left,o=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,c=t.cy,l=t.innerRadius,u=t.outerRadius,d=t.angle,f=un(s,c,l,d),h=un(s,c,u,d);r=f.x,a=f.y,o=h.x,i=h.y}else return hM(t);return[{x:r,y:a},{x:o,y:i}]}function vu(e){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(e)}function AT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Md(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AT(Object(n),!0).forEach(function(r){spe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function spe(e,t,n){return t=cpe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cpe(e){var t=lpe(e,"string");return vu(t)=="symbol"?t:t+""}function lpe(e,t){if(vu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function upe(e){var t,n,r=e.element,a=e.tooltipEventType,o=e.isActive,i=e.activeCoordinate,s=e.activePayload,c=e.offset,l=e.activeTooltipIndex,u=e.tooltipAxisBandSize,d=e.layout,f=e.chartName,h=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!h||!o||!i||f!=="ScatterChart"&&a!=="axis")return null;var p,m=_A;if(f==="ScatterChart")p=i,m=eue;else if(f==="BarChart")p=ope(d,i,c,u),m=Fx;else if(d==="radial"){var v=hM(i),b=v.cx,x=v.cy,S=v.radius,A=v.startAngle,y=v.endAngle;p={cx:b,cy:x,startAngle:A,endAngle:y,innerRadius:S,outerRadius:S},m=xN}else p={points:ipe(d,i,c)},m=_A;var _=Md(Md(Md(Md({stroke:"#ccc",pointerEvents:"none"},c),p),ot(h,!1)),{},{payload:s,payloadIndex:l,className:Xe("recharts-tooltip-cursor",h.className)});return w.isValidElement(h)?w.cloneElement(h,_):w.createElement(m,_)}var dpe=["item"],fpe=["children","className","width","height","style","compact","title","desc"];function Ys(e){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ys(e)}function ts(){return ts=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ts.apply(this,arguments)}function TT(e,t){return mpe(e)||ppe(e,t)||mM(e,t)||hpe()}function hpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ppe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,o,i,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(u){l=!0,a=u}finally{try{if(!c&&n.return!=null&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function mpe(e){if(Array.isArray(e))return e}function PT(e,t){if(e==null)return{};var n=vpe(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function vpe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function gpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ype(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vM(r.key),r)}}function bpe(e,t,n){return t&&ype(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xpe(e,t,n){return t=wh(t),wpe(e,pM()?Reflect.construct(t,n||[],wh(e).constructor):t.apply(e,n))}function wpe(e,t){if(t&&(Ys(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Spe(e)}function Spe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pM=function(){return!!e})()}function wh(e){return wh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wh(e)}function _pe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yy(e,t)}function Yy(e,t){return Yy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Yy(e,t)}function Xs(e){return Ppe(e)||Tpe(e)||mM(e)||Ape()}function Ape(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mM(e,t){if(e){if(typeof e=="string")return Xy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xy(e,t)}}function Tpe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ppe(e){if(Array.isArray(e))return Xy(e)}function Xy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function OT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OT(Object(n),!0).forEach(function(r){Ce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ce(e,t,n){return t=vM(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vM(e){var t=Ope(e,"string");return Ys(t)=="symbol"?t:t+""}function Ope(e,t){if(Ys(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ys(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cpe={xAxis:["bottom","top"],yAxis:["left","right"]},Epe={width:"100%",height:"100%"},gM={x:0,y:0};function Rd(e){return e}var jpe=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},Dpe=function(t,n,r,a){var o=n.find(function(u){return u&&u.index===r});if(o){if(t==="horizontal")return{x:o.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:o.coordinate};if(t==="centric"){var i=o.coordinate,s=a.radius;return G(G(G({},a),un(a.cx,a.cy,s,i)),{},{angle:i,radius:s})}var c=o.coordinate,l=a.angle;return G(G(G({},a),un(a.cx,a.cy,c,l)),{},{angle:l,radius:c})}return gM},Xp=function(t,n){var r=n.graphicalItems,a=n.dataStartIndex,o=n.dataEndIndex,i=(r??[]).reduce(function(s,c){var l=c.props.data;return l&&l.length?[].concat(Xs(s),Xs(l)):s},[]);return i.length>0?i:t&&t.length&&le(a)&&le(o)?t.slice(a,o+1):[]};function yM(e){return e==="number"?[0,"auto"]:void 0}var Zy=function(t,n,r,a){var o=t.graphicalItems,i=t.tooltipAxis,s=Xp(n,t);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(c,l){var u,d=(u=l.props.data)!==null&&u!==void 0?u:n;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var f;if(i.dataKey&&!i.allowDuplicatedCategory){var h=d===void 0?s:d;f=jg(h,i.dataKey,a)}else f=d&&d[r]||s[r];return f?[].concat(Xs(c),[gN(l,f)]):c},[])},CT=function(t,n,r,a){var o=a||{x:t.chartX,y:t.chartY},i=jpe(o,r),s=t.orderedTooltipTicks,c=t.tooltipAxis,l=t.tooltipTicks,u=Zie(i,s,l,c);if(u>=0&&l){var d=l[u]&&l[u].value,f=Zy(t,n,u,d),h=Dpe(r,s,u,o);return{activeTooltipIndex:u,activeLabel:d,activePayload:f,activeCoordinate:h}}return null},kpe=function(t,n){var r=n.axes,a=n.graphicalItems,o=n.axisType,i=n.axisIdKey,s=n.stackGroups,c=n.dataStartIndex,l=n.dataEndIndex,u=t.layout,d=t.children,f=t.stackOffset,h=mN(u,o);return r.reduce(function(p,m){var v,b=m.type.defaultProps!==void 0?G(G({},m.type.defaultProps),m.props):m.props,x=b.type,S=b.dataKey,A=b.allowDataOverflow,y=b.allowDuplicatedCategory,_=b.scale,T=b.ticks,P=b.includeHidden,O=b[i];if(p[O])return p;var j=Xp(t.data,{graphicalItems:a.filter(function(J){var oe,Te=i in J.props?J.props[i]:(oe=J.type.defaultProps)===null||oe===void 0?void 0:oe[i];return Te===O}),dataStartIndex:c,dataEndIndex:l}),E=j.length,C,I,R;ape(b.domain,A,x)&&(C=gy(b.domain,null,A),h&&(x==="number"||_!=="auto")&&(R=bl(j,S,"category")));var $=yM(x);if(!C||C.length===0){var F,V=(F=b.domain)!==null&&F!==void 0?F:$;if(S){if(C=bl(j,S,x),x==="category"&&h){var H=B9(C);y&&H?(I=C,C=lh(0,E)):y||(C=uA(V,C,m).reduce(function(J,oe){return J.indexOf(oe)>=0?J:[].concat(Xs(J),[oe])},[]))}else if(x==="category")y?C=C.filter(function(J){return J!==""&&!it(J)}):C=uA(V,C,m).reduce(function(J,oe){return J.indexOf(oe)>=0||oe===""||it(oe)?J:[].concat(Xs(J),[oe])},[]);else if(x==="number"){var q=nse(j,a.filter(function(J){var oe,Te,Ve=i in J.props?J.props[i]:(oe=J.type.defaultProps)===null||oe===void 0?void 0:oe[i],rt="hide"in J.props?J.props.hide:(Te=J.type.defaultProps)===null||Te===void 0?void 0:Te.hide;return Ve===O&&(P||!rt)}),S,o,u);q&&(C=q)}h&&(x==="number"||_!=="auto")&&(R=bl(j,S,"category"))}else h?C=lh(0,E):s&&s[O]&&s[O].hasStack&&x==="number"?C=f==="expand"?[0,1]:vN(s[O].stackGroups,c,l):C=pN(j,a.filter(function(J){var oe=i in J.props?J.props[i]:J.type.defaultProps[i],Te="hide"in J.props?J.props.hide:J.type.defaultProps.hide;return oe===O&&(P||!Te)}),x,u,!0);if(x==="number")C=Ky(d,C,O,o,T),V&&(C=gy(V,C,A));else if(x==="category"&&V){var X=V,Y=C.every(function(J){return X.indexOf(J)>=0});Y&&(C=X)}}return G(G({},p),{},Ce({},O,G(G({},b),{},{axisType:o,domain:C,categoricalDomain:R,duplicateDomain:I,originalDomain:(v=b.domain)!==null&&v!==void 0?v:$,isCategorical:h,layout:u})))},{})},Npe=function(t,n){var r=n.graphicalItems,a=n.Axis,o=n.axisType,i=n.axisIdKey,s=n.stackGroups,c=n.dataStartIndex,l=n.dataEndIndex,u=t.layout,d=t.children,f=Xp(t.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:l}),h=f.length,p=mN(u,o),m=-1;return r.reduce(function(v,b){var x=b.type.defaultProps!==void 0?G(G({},b.type.defaultProps),b.props):b.props,S=x[i],A=yM("number");if(!v[S]){m++;var y;return p?y=lh(0,h):s&&s[S]&&s[S].hasStack?(y=vN(s[S].stackGroups,c,l),y=Ky(d,y,S,o)):(y=gy(A,pN(f,r.filter(function(_){var T,P,O=i in _.props?_.props[i]:(T=_.type.defaultProps)===null||T===void 0?void 0:T[i],j="hide"in _.props?_.props.hide:(P=_.type.defaultProps)===null||P===void 0?void 0:P.hide;return O===S&&!j}),"number",u),a.defaultProps.allowDataOverflow),y=Ky(d,y,S,o)),G(G({},v),{},Ce({},S,G(G({axisType:o},a.defaultProps),{},{hide:!0,orientation:ar(Cpe,"".concat(o,".").concat(m%2),null),domain:y,originalDomain:A,isCategorical:p,layout:u})))}return v},{})},Mpe=function(t,n){var r=n.axisType,a=r===void 0?"xAxis":r,o=n.AxisComp,i=n.graphicalItems,s=n.stackGroups,c=n.dataStartIndex,l=n.dataEndIndex,u=t.children,d="".concat(a,"Id"),f=Pr(u,o),h={};return f&&f.length?h=kpe(t,{axes:f,graphicalItems:i,axisType:a,axisIdKey:d,stackGroups:s,dataStartIndex:c,dataEndIndex:l}):i&&i.length&&(h=Npe(t,{Axis:o,graphicalItems:i,axisType:a,axisIdKey:d,stackGroups:s,dataStartIndex:c,dataEndIndex:l})),h},Rpe=function(t){var n=Wi(t),r=Xo(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:fx(r,function(a){return a.coordinate}),tooltipAxis:n,tooltipAxisBandSize:eh(n,r)}},ET=function(t){var n=t.children,r=t.defaultShowTooltip,a=zn(n,Us),o=0,i=0;return t.data&&t.data.length!==0&&(i=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(o=a.props.startIndex),a.props.endIndex>=0&&(i=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!r}},$pe=function(t){return!t||!t.length?!1:t.some(function(n){var r=Sa(n&&n.type);return r&&r.indexOf("Bar")>=0})},jT=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Ipe=function(t,n){var r=t.props,a=t.graphicalItems,o=t.xAxisMap,i=o===void 0?{}:o,s=t.yAxisMap,c=s===void 0?{}:s,l=r.width,u=r.height,d=r.children,f=r.margin||{},h=zn(d,Us),p=zn(d,is),m=Object.keys(c).reduce(function(y,_){var T=c[_],P=T.orientation;return!T.mirror&&!T.hide?G(G({},y),{},Ce({},P,y[P]+T.width)):y},{left:f.left||0,right:f.right||0}),v=Object.keys(i).reduce(function(y,_){var T=i[_],P=T.orientation;return!T.mirror&&!T.hide?G(G({},y),{},Ce({},P,ar(y,"".concat(P))+T.height)):y},{top:f.top||0,bottom:f.bottom||0}),b=G(G({},v),m),x=b.bottom;h&&(b.bottom+=h.props.height||Us.defaultProps.height),p&&n&&(b=ese(b,a,r,n));var S=l-b.left-b.right,A=u-b.top-b.bottom;return G(G({brushBottom:x},b),{},{width:Math.max(S,0),height:Math.max(A,0)})},Lpe=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},Bpe=function(t){var n=t.chartName,r=t.GraphicalChild,a=t.defaultTooltipEventType,o=a===void 0?"axis":a,i=t.validateTooltipEventTypes,s=i===void 0?["axis"]:i,c=t.axisComponents,l=t.legendContent,u=t.formatAxisMap,d=t.defaultProps,f=function(b,x){var S=x.graphicalItems,A=x.stackGroups,y=x.offset,_=x.updateId,T=x.dataStartIndex,P=x.dataEndIndex,O=b.barSize,j=b.layout,E=b.barGap,C=b.barCategoryGap,I=b.maxBarSize,R=jT(j),$=R.numericAxisName,F=R.cateAxisName,V=$pe(S),H=[];return S.forEach(function(q,X){var Y=Xp(b.data,{graphicalItems:[q],dataStartIndex:T,dataEndIndex:P}),J=q.type.defaultProps!==void 0?G(G({},q.type.defaultProps),q.props):q.props,oe=J.dataKey,Te=J.maxBarSize,Ve=J["".concat($,"Id")],rt=J["".concat(F,"Id")],Je={},Re=c.reduce(function(ne,ee){var Z=x["".concat(ee.axisType,"Map")],ge=J["".concat(ee.axisType,"Id")];Z&&Z[ge]||ee.axisType==="zAxis"||bi();var Se=Z[ge];return G(G({},ne),{},Ce(Ce({},ee.axisType,Se),"".concat(ee.axisType,"Ticks"),Xo(Se)))},Je),K=Re[F],fe=Re["".concat(F,"Ticks")],ce=A&&A[Ve]&&A[Ve].hasStack&&pse(q,A[Ve].stackGroups),U=Sa(q.type).indexOf("Bar")>=0,ve=eh(K,fe),ae=[],Me=V&&Jie({barSize:O,stackGroups:A,totalSize:Lpe(Re,F)});if(U){var ke,Qe,D=it(Te)?I:Te,L=(ke=(Qe=eh(K,fe,!0))!==null&&Qe!==void 0?Qe:D)!==null&&ke!==void 0?ke:0;ae=Qie({barGap:E,barCategoryGap:C,bandSize:L!==ve?L:ve,sizeList:Me[rt],maxBarSize:D}),L!==ve&&(ae=ae.map(function(ne){return G(G({},ne),{},{position:G(G({},ne.position),{},{offset:ne.position.offset-L/2})})}))}var z=q&&q.type&&q.type.getComposedData;z&&H.push({props:G(G({},z(G(G({},Re),{},{displayedData:Y,props:b,dataKey:oe,item:q,bandSize:ve,barPosition:ae,offset:y,stackedData:ce,layout:j,dataStartIndex:T,dataEndIndex:P}))),{},Ce(Ce(Ce({key:q.key||"item-".concat(X)},$,Re[$]),F,Re[F]),"animationId",_)),childIndex:X9(q,b.children),item:q})}),H},h=function(b,x){var S=b.props,A=b.dataStartIndex,y=b.dataEndIndex,_=b.updateId;if(!a1({props:S}))return null;var T=S.children,P=S.layout,O=S.stackOffset,j=S.data,E=S.reverseStackOrder,C=jT(P),I=C.numericAxisName,R=C.cateAxisName,$=Pr(T,r),F=dse(j,$,"".concat(I,"Id"),"".concat(R,"Id"),O,E),V=c.reduce(function(J,oe){var Te="".concat(oe.axisType,"Map");return G(G({},J),{},Ce({},Te,Mpe(S,G(G({},oe),{},{graphicalItems:$,stackGroups:oe.axisType===I&&F,dataStartIndex:A,dataEndIndex:y}))))},{}),H=Ipe(G(G({},V),{},{props:S,graphicalItems:$}),x==null?void 0:x.legendBBox);Object.keys(V).forEach(function(J){V[J]=u(S,V[J],H,J.replace("Map",""),n)});var q=V["".concat(R,"Map")],X=Rpe(q),Y=f(S,G(G({},V),{},{dataStartIndex:A,dataEndIndex:y,updateId:_,graphicalItems:$,stackGroups:F,offset:H}));return G(G({formattedGraphicalItems:Y,graphicalItems:$,offset:H,stackGroups:F},X),V)},p=function(v){function b(x){var S,A,y;return gpe(this,b),y=xpe(this,b,[x]),Ce(y,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ce(y,"accessibilityManager",new rpe),Ce(y,"handleLegendBBoxUpdate",function(_){if(_){var T=y.state,P=T.dataStartIndex,O=T.dataEndIndex,j=T.updateId;y.setState(G({legendBBox:_},h({props:y.props,dataStartIndex:P,dataEndIndex:O,updateId:j},G(G({},y.state),{},{legendBBox:_}))))}}),Ce(y,"handleReceiveSyncEvent",function(_,T,P){if(y.props.syncId===_){if(P===y.eventEmitterSymbol&&typeof y.props.syncMethod!="function")return;y.applySyncEvent(T)}}),Ce(y,"handleBrushChange",function(_){var T=_.startIndex,P=_.endIndex;if(T!==y.state.dataStartIndex||P!==y.state.dataEndIndex){var O=y.state.updateId;y.setState(function(){return G({dataStartIndex:T,dataEndIndex:P},h({props:y.props,dataStartIndex:T,dataEndIndex:P,updateId:O},y.state))}),y.triggerSyncEvent({dataStartIndex:T,dataEndIndex:P})}}),Ce(y,"handleMouseEnter",function(_){var T=y.getMouseInfo(_);if(T){var P=G(G({},T),{},{isTooltipActive:!0});y.setState(P),y.triggerSyncEvent(P);var O=y.props.onMouseEnter;Ye(O)&&O(P,_)}}),Ce(y,"triggeredAfterMouseMove",function(_){var T=y.getMouseInfo(_),P=T?G(G({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};y.setState(P),y.triggerSyncEvent(P);var O=y.props.onMouseMove;Ye(O)&&O(P,_)}),Ce(y,"handleItemMouseEnter",function(_){y.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),Ce(y,"handleItemMouseLeave",function(){y.setState(function(){return{isTooltipActive:!1}})}),Ce(y,"handleMouseMove",function(_){_.persist(),y.throttleTriggeredAfterMouseMove(_)}),Ce(y,"handleMouseLeave",function(_){y.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};y.setState(T),y.triggerSyncEvent(T);var P=y.props.onMouseLeave;Ye(P)&&P(T,_)}),Ce(y,"handleOuterEvent",function(_){var T=Y9(_),P=ar(y.props,"".concat(T));if(T&&Ye(P)){var O,j;/.*touch.*/i.test(T)?j=y.getMouseInfo(_.changedTouches[0]):j=y.getMouseInfo(_),P((O=j)!==null&&O!==void 0?O:{},_)}}),Ce(y,"handleClick",function(_){var T=y.getMouseInfo(_);if(T){var P=G(G({},T),{},{isTooltipActive:!0});y.setState(P),y.triggerSyncEvent(P);var O=y.props.onClick;Ye(O)&&O(P,_)}}),Ce(y,"handleMouseDown",function(_){var T=y.props.onMouseDown;if(Ye(T)){var P=y.getMouseInfo(_);T(P,_)}}),Ce(y,"handleMouseUp",function(_){var T=y.props.onMouseUp;if(Ye(T)){var P=y.getMouseInfo(_);T(P,_)}}),Ce(y,"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&y.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),Ce(y,"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&y.handleMouseDown(_.changedTouches[0])}),Ce(y,"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&y.handleMouseUp(_.changedTouches[0])}),Ce(y,"handleDoubleClick",function(_){var T=y.props.onDoubleClick;if(Ye(T)){var P=y.getMouseInfo(_);T(P,_)}}),Ce(y,"handleContextMenu",function(_){var T=y.props.onContextMenu;if(Ye(T)){var P=y.getMouseInfo(_);T(P,_)}}),Ce(y,"triggerSyncEvent",function(_){y.props.syncId!==void 0&&fv.emit(hv,y.props.syncId,_,y.eventEmitterSymbol)}),Ce(y,"applySyncEvent",function(_){var T=y.props,P=T.layout,O=T.syncMethod,j=y.state.updateId,E=_.dataStartIndex,C=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)y.setState(G({dataStartIndex:E,dataEndIndex:C},h({props:y.props,dataStartIndex:E,dataEndIndex:C,updateId:j},y.state)));else if(_.activeTooltipIndex!==void 0){var I=_.chartX,R=_.chartY,$=_.activeTooltipIndex,F=y.state,V=F.offset,H=F.tooltipTicks;if(!V)return;if(typeof O=="function")$=O(H,_);else if(O==="value"){$=-1;for(var q=0;q<H.length;q++)if(H[q].value===_.activeLabel){$=q;break}}var X=G(G({},V),{},{x:V.left,y:V.top}),Y=Math.min(I,X.x+X.width),J=Math.min(R,X.y+X.height),oe=H[$]&&H[$].value,Te=Zy(y.state,y.props.data,$),Ve=H[$]?{x:P==="horizontal"?H[$].coordinate:Y,y:P==="horizontal"?J:H[$].coordinate}:gM;y.setState(G(G({},_),{},{activeLabel:oe,activeCoordinate:Ve,activePayload:Te,activeTooltipIndex:$}))}else y.setState(_)}),Ce(y,"renderCursor",function(_){var T,P=y.state,O=P.isTooltipActive,j=P.activeCoordinate,E=P.activePayload,C=P.offset,I=P.activeTooltipIndex,R=P.tooltipAxisBandSize,$=y.getTooltipEventType(),F=(T=_.props.active)!==null&&T!==void 0?T:O,V=y.props.layout,H=_.key||"_recharts-cursor";return k.createElement(upe,{key:H,activeCoordinate:j,activePayload:E,activeTooltipIndex:I,chartName:n,element:_,isActive:F,layout:V,offset:C,tooltipAxisBandSize:R,tooltipEventType:$})}),Ce(y,"renderPolarAxis",function(_,T,P){var O=ar(_,"type.axisType"),j=ar(y.state,"".concat(O,"Map")),E=_.type.defaultProps,C=E!==void 0?G(G({},E),_.props):_.props,I=j&&j[C["".concat(O,"Id")]];return w.cloneElement(_,G(G({},I),{},{className:Xe(O,I.className),key:_.key||"".concat(T,"-").concat(P),ticks:Xo(I,!0)}))}),Ce(y,"renderPolarGrid",function(_){var T=_.props,P=T.radialLines,O=T.polarAngles,j=T.polarRadius,E=y.state,C=E.radiusAxisMap,I=E.angleAxisMap,R=Wi(C),$=Wi(I),F=$.cx,V=$.cy,H=$.innerRadius,q=$.outerRadius;return w.cloneElement(_,{polarAngles:Array.isArray(O)?O:Xo($,!0).map(function(X){return X.coordinate}),polarRadius:Array.isArray(j)?j:Xo(R,!0).map(function(X){return X.coordinate}),cx:F,cy:V,innerRadius:H,outerRadius:q,key:_.key||"polar-grid",radialLines:P})}),Ce(y,"renderLegend",function(){var _=y.state.formattedGraphicalItems,T=y.props,P=T.children,O=T.width,j=T.height,E=y.props.margin||{},C=O-(E.left||0)-(E.right||0),I=fN({children:P,formattedGraphicalItems:_,legendWidth:C,legendContent:l});if(!I)return null;var R=I.item,$=PT(I,dpe);return w.cloneElement(R,G(G({},$),{},{chartWidth:O,chartHeight:j,margin:E,onBBoxUpdate:y.handleLegendBBoxUpdate}))}),Ce(y,"renderTooltip",function(){var _,T=y.props,P=T.children,O=T.accessibilityLayer,j=zn(P,Mr);if(!j)return null;var E=y.state,C=E.isTooltipActive,I=E.activeCoordinate,R=E.activePayload,$=E.activeLabel,F=E.offset,V=(_=j.props.active)!==null&&_!==void 0?_:C;return w.cloneElement(j,{viewBox:G(G({},F),{},{x:F.left,y:F.top}),active:V,label:$,payload:V?R:[],coordinate:I,accessibilityLayer:O})}),Ce(y,"renderBrush",function(_){var T=y.props,P=T.margin,O=T.data,j=y.state,E=j.offset,C=j.dataStartIndex,I=j.dataEndIndex,R=j.updateId;return w.cloneElement(_,{key:_.key||"_recharts-brush",onChange:jd(y.handleBrushChange,_.props.onChange),data:O,x:le(_.props.x)?_.props.x:E.left,y:le(_.props.y)?_.props.y:E.top+E.height+E.brushBottom-(P.bottom||0),width:le(_.props.width)?_.props.width:E.width,startIndex:C,endIndex:I,updateId:"brush-".concat(R)})}),Ce(y,"renderReferenceElement",function(_,T,P){if(!_)return null;var O=y,j=O.clipPathId,E=y.state,C=E.xAxisMap,I=E.yAxisMap,R=E.offset,$=_.type.defaultProps||{},F=_.props,V=F.xAxisId,H=V===void 0?$.xAxisId:V,q=F.yAxisId,X=q===void 0?$.yAxisId:q;return w.cloneElement(_,{key:_.key||"".concat(T,"-").concat(P),xAxis:C[H],yAxis:I[X],viewBox:{x:R.left,y:R.top,width:R.width,height:R.height},clipPathId:j})}),Ce(y,"renderActivePoints",function(_){var T=_.item,P=_.activePoint,O=_.basePoint,j=_.childIndex,E=_.isRange,C=[],I=T.props.key,R=T.item.type.defaultProps!==void 0?G(G({},T.item.type.defaultProps),T.item.props):T.item.props,$=R.activeDot,F=R.dataKey,V=G(G({index:j,dataKey:F,cx:P.x,cy:P.y,r:4,fill:Bx(T.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},ot($,!1)),Tf($));return C.push(b.renderActiveDot($,V,"".concat(I,"-activePoint-").concat(j))),O?C.push(b.renderActiveDot($,G(G({},V),{},{cx:O.x,cy:O.y}),"".concat(I,"-basePoint-").concat(j))):E&&C.push(null),C}),Ce(y,"renderGraphicChild",function(_,T,P){var O=y.filterFormatItem(_,T,P);if(!O)return null;var j=y.getTooltipEventType(),E=y.state,C=E.isTooltipActive,I=E.tooltipAxis,R=E.activeTooltipIndex,$=E.activeLabel,F=y.props.children,V=zn(F,Mr),H=O.props,q=H.points,X=H.isRange,Y=H.baseLine,J=O.item.type.defaultProps!==void 0?G(G({},O.item.type.defaultProps),O.item.props):O.item.props,oe=J.activeDot,Te=J.hide,Ve=J.activeBar,rt=J.activeShape,Je=!!(!Te&&C&&V&&(oe||Ve||rt)),Re={};j!=="axis"&&V&&V.props.trigger==="click"?Re={onClick:jd(y.handleItemMouseEnter,_.props.onClick)}:j!=="axis"&&(Re={onMouseLeave:jd(y.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:jd(y.handleItemMouseEnter,_.props.onMouseEnter)});var K=w.cloneElement(_,G(G({},O.props),Re));function fe(ee){return typeof I.dataKey=="function"?I.dataKey(ee.payload):null}if(Je)if(R>=0){var ce,U;if(I.dataKey&&!I.allowDuplicatedCategory){var ve=typeof I.dataKey=="function"?fe:"payload.".concat(I.dataKey.toString());ce=jg(q,ve,$),U=X&&Y&&jg(Y,ve,$)}else ce=q==null?void 0:q[R],U=X&&Y&&Y[R];if(rt||Ve){var ae=_.props.activeIndex!==void 0?_.props.activeIndex:R;return[w.cloneElement(_,G(G(G({},O.props),Re),{},{activeIndex:ae})),null,null]}if(!it(ce))return[K].concat(Xs(y.renderActivePoints({item:O,activePoint:ce,basePoint:U,childIndex:R,isRange:X})))}else{var Me,ke=(Me=y.getItemByXY(y.state.activeCoordinate))!==null&&Me!==void 0?Me:{graphicalItem:K},Qe=ke.graphicalItem,D=Qe.item,L=D===void 0?_:D,z=Qe.childIndex,ne=G(G(G({},O.props),Re),{},{activeIndex:z});return[w.cloneElement(L,ne),null,null]}return X?[K,null,null]:[K,null]}),Ce(y,"renderCustomized",function(_,T,P){return w.cloneElement(_,G(G({key:"recharts-customized-".concat(P)},y.props),y.state))}),Ce(y,"renderMap",{CartesianGrid:{handler:Rd,once:!0},ReferenceArea:{handler:y.renderReferenceElement},ReferenceLine:{handler:Rd},ReferenceDot:{handler:y.renderReferenceElement},XAxis:{handler:Rd},YAxis:{handler:Rd},Brush:{handler:y.renderBrush,once:!0},Bar:{handler:y.renderGraphicChild},Line:{handler:y.renderGraphicChild},Area:{handler:y.renderGraphicChild},Radar:{handler:y.renderGraphicChild},RadialBar:{handler:y.renderGraphicChild},Scatter:{handler:y.renderGraphicChild},Pie:{handler:y.renderGraphicChild},Funnel:{handler:y.renderGraphicChild},Tooltip:{handler:y.renderCursor,once:!0},PolarGrid:{handler:y.renderPolarGrid,once:!0},PolarAngleAxis:{handler:y.renderPolarAxis},PolarRadiusAxis:{handler:y.renderPolarAxis},Customized:{handler:y.renderCustomized}}),y.clipPathId="".concat((S=x.id)!==null&&S!==void 0?S:wp("recharts"),"-clip"),y.throttleTriggeredAfterMouseMove=dk(y.triggeredAfterMouseMove,(A=x.throttleDelay)!==null&&A!==void 0?A:1e3/60),y.state={},y}return _pe(b,v),bpe(b,[{key:"componentDidMount",value:function(){var S,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,A=S.children,y=S.data,_=S.height,T=S.layout,P=zn(A,Mr);if(P){var O=P.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var j=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,E=Zy(this.state,y,O,j),C=this.state.tooltipTicks[O].coordinate,I=(this.state.offset.top+_)/2,R=T==="horizontal",$=R?{x:C,y:I}:{y:C,x:I},F=this.state.formattedGraphicalItems.find(function(H){var q=H.item;return q.type.name==="Scatter"});F&&($=G(G({},$),F.props.points[O].tooltipPosition),E=F.props.points[O].tooltipPayload);var V={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:j,activePayload:E,activeCoordinate:$};this.setState(V),this.renderCursor(P),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var y,_;this.accessibilityManager.setDetails({offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0}})}return null}},{key:"componentDidUpdate",value:function(S){kg([zn(S.children,Mr)],[zn(this.props.children,Mr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=zn(this.props.children,Mr);if(S&&typeof S.props.shared=="boolean"){var A=S.props.shared?"axis":"item";return s.indexOf(A)>=0?A:o}return o}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var A=this.container,y=A.getBoundingClientRect(),_=_ne(y),T={chartX:Math.round(S.pageX-_.left),chartY:Math.round(S.pageY-_.top)},P=y.width/A.offsetWidth||1,O=this.inRange(T.chartX,T.chartY,P);if(!O)return null;var j=this.state,E=j.xAxisMap,C=j.yAxisMap,I=this.getTooltipEventType();if(I!=="axis"&&E&&C){var R=Wi(E).scale,$=Wi(C).scale,F=R&&R.invert?R.invert(T.chartX):null,V=$&&$.invert?$.invert(T.chartY):null;return G(G({},T),{},{xValue:F,yValue:V})}var H=CT(this.state,this.props.data,this.props.layout,O);return H?G(G({},T),H):null}},{key:"inRange",value:function(S,A){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=this.props.layout,T=S/y,P=A/y;if(_==="horizontal"||_==="vertical"){var O=this.state.offset,j=T>=O.left&&T<=O.left+O.width&&P>=O.top&&P<=O.top+O.height;return j?{x:T,y:P}:null}var E=this.state,C=E.angleAxisMap,I=E.radiusAxisMap;if(C&&I){var R=Wi(C);return hA({x:T,y:P},R)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,A=this.getTooltipEventType(),y=zn(S,Mr),_={};y&&A==="axis"&&(y.props.trigger==="click"?_={onClick:this.handleClick}:_={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=Tf(this.props,this.handleOuterEvent);return G(G({},T),_)}},{key:"addListener",value:function(){fv.on(hv,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){fv.removeListener(hv,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,A,y){for(var _=this.state.formattedGraphicalItems,T=0,P=_.length;T<P;T++){var O=_[T];if(O.item===S||O.props.key===S.key||A===Sa(O.item.type)&&y===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,A=this.state.offset,y=A.left,_=A.top,T=A.height,P=A.width;return k.createElement("defs",null,k.createElement("clipPath",{id:S},k.createElement("rect",{x:y,y:_,height:T,width:P})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(A,y){var _=TT(y,2),T=_[0],P=_[1];return G(G({},A),{},Ce({},T,P.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(A,y){var _=TT(y,2),T=_[0],P=_[1];return G(G({},A),{},Ce({},T,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[S])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(S){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[S])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(S){var A=this.state,y=A.formattedGraphicalItems,_=A.activeItem;if(y&&y.length)for(var T=0,P=y.length;T<P;T++){var O=y[T],j=O.props,E=O.item,C=E.type.defaultProps!==void 0?G(G({},E.type.defaultProps),E.props):E.props,I=Sa(E.type);if(I==="Bar"){var R=(j.data||[]).find(function(H){return Wle(S,H)});if(R)return{graphicalItem:O,payload:R}}else if(I==="RadialBar"){var $=(j.data||[]).find(function(H){return hA(S,H)});if($)return{graphicalItem:O,payload:$}}else if(Fp(O,_)||Up(O,_)||uu(O,_)){var F=Gue({graphicalItem:O,activeTooltipItem:_,itemData:C.data}),V=C.activeIndex===void 0?F:C.activeIndex;return{graphicalItem:G(G({},O),{},{childIndex:V}),payload:uu(O,_)?C.data[F]:O.props.data[F]}}}return null}},{key:"render",value:function(){var S=this;if(!a1(this))return null;var A=this.props,y=A.children,_=A.className,T=A.width,P=A.height,O=A.style,j=A.compact,E=A.title,C=A.desc,I=PT(A,fpe),R=ot(I,!1);if(j)return k.createElement(fT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},k.createElement(Mg,ts({},R,{width:T,height:P,title:E,desc:C}),this.renderClipPath(),i1(y,this.renderMap)));if(this.props.accessibilityLayer){var $,F;R.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,R.role=(F=this.props.role)!==null&&F!==void 0?F:"application",R.onKeyDown=function(H){S.accessibilityManager.keyboardEvent(H)},R.onFocus=function(){S.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return k.createElement(fT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},k.createElement("div",ts({className:Xe("recharts-wrapper",_),style:G({position:"relative",cursor:"default",width:T,height:P},O)},V,{ref:function(q){S.container=q}}),k.createElement(Mg,ts({},R,{width:T,height:P,title:E,desc:C,style:Epe}),this.renderClipPath(),i1(y,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(w.Component);Ce(p,"displayName",n),Ce(p,"defaultProps",G({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Ce(p,"getDerivedStateFromProps",function(v,b){var x=v.dataKey,S=v.data,A=v.children,y=v.width,_=v.height,T=v.layout,P=v.stackOffset,O=v.margin,j=b.dataStartIndex,E=b.dataEndIndex;if(b.updateId===void 0){var C=ET(v);return G(G(G({},C),{},{updateId:0},h(G(G({props:v},C),{},{updateId:0}),b)),{},{prevDataKey:x,prevData:S,prevWidth:y,prevHeight:_,prevLayout:T,prevStackOffset:P,prevMargin:O,prevChildren:A})}if(x!==b.prevDataKey||S!==b.prevData||y!==b.prevWidth||_!==b.prevHeight||T!==b.prevLayout||P!==b.prevStackOffset||!os(O,b.prevMargin)){var I=ET(v),R={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},$=G(G({},CT(b,S,T)),{},{updateId:b.updateId+1}),F=G(G(G({},I),R),$);return G(G(G({},F),h(G({props:v},F),b)),{},{prevDataKey:x,prevData:S,prevWidth:y,prevHeight:_,prevLayout:T,prevStackOffset:P,prevMargin:O,prevChildren:A})}if(!kg(A,b.prevChildren)){var V,H,q,X,Y=zn(A,Us),J=Y&&(V=(H=Y.props)===null||H===void 0?void 0:H.startIndex)!==null&&V!==void 0?V:j,oe=Y&&(q=(X=Y.props)===null||X===void 0?void 0:X.endIndex)!==null&&q!==void 0?q:E,Te=J!==j||oe!==E,Ve=!it(S),rt=Ve&&!Te?b.updateId:b.updateId+1;return G(G({updateId:rt},h(G(G({props:v},b),{},{updateId:rt,dataStartIndex:J,dataEndIndex:oe}),b)),{},{prevChildren:A,dataStartIndex:J,dataEndIndex:oe})}return null}),Ce(p,"renderActiveDot",function(v,b,x){var S;return w.isValidElement(v)?S=w.cloneElement(v,b):Ye(v)?S=v(b):S=k.createElement(EN,b),k.createElement(nn,{className:"recharts-active-dot",key:x},S)});var m=w.forwardRef(function(b,x){return k.createElement(p,ts({},b,{ref:x}))});return m.displayName=p.displayName,m},Fpe=Bpe({chartName:"BarChart",GraphicalChild:ji,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Kp},{axisType:"yAxis",AxisComp:Yp}],formatAxisMap:xfe});const Upe=[{name:"Ene",servicios:4},{name:"Feb",servicios:6},{name:"Mar",servicios:8},{name:"Abr",servicios:5},{name:"May",servicios:7}],Vpe=()=>g.jsxs(Zt,{"data-component-path":"src\\components\\analytics\\ServiceSummary.tsx","data-component-name":"Card","data-component-line":"22","data-component-file":"ServiceSummary.tsx","data-component-content":"%7B%22className%22%3A%22p-6%20space-y-6%22%7D",className:"p-6 space-y-6",children:[g.jsx("h2",{"data-component-path":"src\\components\\analytics\\ServiceSummary.tsx","data-component-name":"h2","data-component-line":"23","data-component-file":"ServiceSummary.tsx","data-component-content":"%7B%22text%22%3A%22Resumen%20de%20Servicios%22%2C%22className%22%3A%22text-2xl%20font-bold%20text-gray-900%22%7D",className:"text-2xl font-bold text-gray-900",children:"Resumen de Servicios"}),g.jsx("div",{"data-component-path":"src\\components\\analytics\\ServiceSummary.tsx","data-component-name":"div","data-component-line":"25","data-component-file":"ServiceSummary.tsx","data-component-content":"%7B%22className%22%3A%22h-%5B300px%5D%20w-full%22%7D",className:"h-[300px] w-full",children:g.jsx(vne,{"data-component-path":"src\\components\\analytics\\ServiceSummary.tsx","data-component-name":"ResponsiveContainer","data-component-line":"26","data-component-file":"ServiceSummary.tsx","data-component-content":"%7B%7D",width:"100%",height:"100%",children:g.jsxs(Fpe,{"data-component-path":"src\\components\\analytics\\ServiceSummary.tsx","data-component-name":"BarChart","data-component-line":"27","data-component-file":"ServiceSummary.tsx","data-component-content":"%7B%7D",data:Upe,children:[g.jsx(Kp,{"data-component-path":"src\\components\\analytics\\ServiceSummary.tsx","data-component-name":"XAxis","data-component-line":"28","data-component-file":"ServiceSummary.tsx","data-component-content":"%7B%7D",dataKey:"name"}),g.jsx(Yp,{"data-component-path":"src\\components\\analytics\\ServiceSummary.tsx","data-component-name":"YAxis","data-component-line":"29","data-component-file":"ServiceSummary.tsx","data-component-content":"%7B%7D"}),g.jsx(Mr,{"data-component-path":"src\\components\\analytics\\ServiceSummary.tsx","data-component-name":"Tooltip","data-component-line":"30","data-component-file":"ServiceSummary.tsx","data-component-content":"%7B%7D"}),g.jsx(ji,{"data-component-path":"src\\components\\analytics\\ServiceSummary.tsx","data-component-name":"Bar","data-component-line":"31","data-component-file":"ServiceSummary.tsx","data-component-content":"%7B%7D",dataKey:"servicios",fill:"#4f46e5"})]})})}),g.jsxs("div",{"data-component-path":"src\\components\\analytics\\ServiceSummary.tsx","data-component-name":"div","data-component-line":"36","data-component-file":"ServiceSummary.tsx","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20md%3Agrid-cols-3%20gap-4%20mt-6%22%7D",className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[g.jsxs(Zt,{"data-component-path":"src\\components\\analytics\\ServiceSummary.tsx","data-component-name":"Card","data-component-line":"37","data-component-file":"ServiceSummary.tsx","data-component-content":"%7B%22className%22%3A%22p-4%20bg-blue-50%22%7D",className:"p-4 bg-blue-50",children:[g.jsx("h3",{"data-component-path":"src\\components\\analytics\\ServiceSummary.tsx","data-component-name":"h3","data-component-line":"38","data-component-file":"ServiceSummary.tsx","data-component-content":"%7B%22text%22%3A%22Total%20Servicios%22%2C%22className%22%3A%22text-lg%20font-semibold%20text-blue-900%22%7D",className:"text-lg font-semibold text-blue-900",children:"Total Servicios"}),g.jsx("p",{"data-component-path":"src\\components\\analytics\\ServiceSummary.tsx","data-component-name":"p","data-component-line":"41","data-component-file":"ServiceSummary.tsx","data-component-content":"%7B%22text%22%3A%2230%22%2C%22className%22%3A%22text-3xl%20font-bold%20text-blue-600%22%7D",className:"text-3xl font-bold text-blue-600",children:"30"})]}),g.jsxs(Zt,{"data-component-path":"src\\components\\analytics\\ServiceSummary.tsx","data-component-name":"Card","data-component-line":"43","data-component-file":"ServiceSummary.tsx","data-component-content":"%7B%22className%22%3A%22p-4%20bg-green-50%22%7D",className:"p-4 bg-green-50",children:[g.jsx("h3",{"data-component-path":"src\\components\\analytics\\ServiceSummary.tsx","data-component-name":"h3","data-component-line":"44","data-component-file":"ServiceSummary.tsx","data-component-content":"%7B%22text%22%3A%22Completados%22%2C%22className%22%3A%22text-lg%20font-semibold%20text-green-900%22%7D",className:"text-lg font-semibold text-green-900",children:"Completados"}),g.jsx("p",{"data-component-path":"src\\components\\analytics\\ServiceSummary.tsx","data-component-name":"p","data-component-line":"45","data-component-file":"ServiceSummary.tsx","data-component-content":"%7B%22text%22%3A%2225%22%2C%22className%22%3A%22text-3xl%20font-bold%20text-green-600%22%7D",className:"text-3xl font-bold text-green-600",children:"25"})]}),g.jsxs(Zt,{"data-component-path":"src\\components\\analytics\\ServiceSummary.tsx","data-component-name":"Card","data-component-line":"47","data-component-file":"ServiceSummary.tsx","data-component-content":"%7B%22className%22%3A%22p-4%20bg-purple-50%22%7D",className:"p-4 bg-purple-50",children:[g.jsx("h3",{"data-component-path":"src\\components\\analytics\\ServiceSummary.tsx","data-component-name":"h3","data-component-line":"48","data-component-file":"ServiceSummary.tsx","data-component-content":"%7B%22text%22%3A%22En%20Proceso%22%2C%22className%22%3A%22text-lg%20font-semibold%20text-purple-900%22%7D",className:"text-lg font-semibold text-purple-900",children:"En Proceso"}),g.jsx("p",{"data-component-path":"src\\components\\analytics\\ServiceSummary.tsx","data-component-name":"p","data-component-line":"49","data-component-file":"ServiceSummary.tsx","data-component-content":"%7B%22text%22%3A%225%22%2C%22className%22%3A%22text-3xl%20font-bold%20text-purple-600%22%7D",className:"text-3xl font-bold text-purple-600",children:"5"})]})]})]}),zpe=()=>g.jsxs("div",{"data-component-path":"src\\components\\admin\\AdminMetrics.tsx","data-component-name":"div","data-component-line":"6","data-component-file":"AdminMetrics.tsx","data-component-content":"%7B%22className%22%3A%22space-y-6%22%7D",className:"space-y-6",children:[g.jsx(Vpe,{"data-component-path":"src\\components\\admin\\AdminMetrics.tsx","data-component-name":"ServiceSummary","data-component-line":"7","data-component-file":"AdminMetrics.tsx","data-component-content":"%7B%7D"}),g.jsxs("div",{"data-component-path":"src\\components\\admin\\AdminMetrics.tsx","data-component-name":"div","data-component-line":"9","data-component-file":"AdminMetrics.tsx","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20md%3Agrid-cols-3%20gap-4%22%7D",className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[g.jsxs(Zt,{"data-component-path":"src\\components\\admin\\AdminMetrics.tsx","data-component-name":"Card","data-component-line":"10","data-component-file":"AdminMetrics.tsx","data-component-content":"%7B%22className%22%3A%22p-4%22%7D",className:"p-4",children:[g.jsx("h3",{"data-component-path":"src\\components\\admin\\AdminMetrics.tsx","data-component-name":"h3","data-component-line":"11","data-component-file":"AdminMetrics.tsx","data-component-content":"%7B%22text%22%3A%22Average%20Response%20Time%22%2C%22className%22%3A%22font-semibold%20text-gray-700%22%7D",className:"font-semibold text-gray-700",children:"Average Response Time"}),g.jsx("p",{"data-component-path":"src\\components\\admin\\AdminMetrics.tsx","data-component-name":"p","data-component-line":"12","data-component-file":"AdminMetrics.tsx","data-component-content":"%7B%22text%22%3A%2215%20mins%22%2C%22className%22%3A%22text-2xl%20font-bold%20text-primary%22%7D",className:"text-2xl font-bold text-primary",children:"15 mins"})]}),g.jsxs(Zt,{"data-component-path":"src\\components\\admin\\AdminMetrics.tsx","data-component-name":"Card","data-component-line":"15","data-component-file":"AdminMetrics.tsx","data-component-content":"%7B%22className%22%3A%22p-4%22%7D",className:"p-4",children:[g.jsx("h3",{"data-component-path":"src\\components\\admin\\AdminMetrics.tsx","data-component-name":"h3","data-component-line":"16","data-component-file":"AdminMetrics.tsx","data-component-content":"%7B%22text%22%3A%22Customer%20Satisfaction%22%2C%22className%22%3A%22font-semibold%20text-gray-700%22%7D",className:"font-semibold text-gray-700",children:"Customer Satisfaction"}),g.jsx("p",{"data-component-path":"src\\components\\admin\\AdminMetrics.tsx","data-component-name":"p","data-component-line":"17","data-component-file":"AdminMetrics.tsx","data-component-content":"%7B%22text%22%3A%224.8%2F5.0%22%2C%22className%22%3A%22text-2xl%20font-bold%20text-primary%22%7D",className:"text-2xl font-bold text-primary",children:"4.8/5.0"})]}),g.jsxs(Zt,{"data-component-path":"src\\components\\admin\\AdminMetrics.tsx","data-component-name":"Card","data-component-line":"20","data-component-file":"AdminMetrics.tsx","data-component-content":"%7B%22className%22%3A%22p-4%22%7D",className:"p-4",children:[g.jsx("h3",{"data-component-path":"src\\components\\admin\\AdminMetrics.tsx","data-component-name":"h3","data-component-line":"21","data-component-file":"AdminMetrics.tsx","data-component-content":"%7B%22text%22%3A%22Active%20Drivers%22%2C%22className%22%3A%22font-semibold%20text-gray-700%22%7D",className:"font-semibold text-gray-700",children:"Active Drivers"}),g.jsx("p",{"data-component-path":"src\\components\\admin\\AdminMetrics.tsx","data-component-name":"p","data-component-line":"22","data-component-file":"AdminMetrics.tsx","data-component-content":"%7B%22text%22%3A%228%22%2C%22className%22%3A%22text-2xl%20font-bold%20text-primary%22%7D",className:"text-2xl font-bold text-primary",children:"8"})]})]})]});function Wpe(e,[t,n]){return Math.min(n,Math.max(t,e))}function Hpe(e,t){return w.useReducer((n,r)=>t[n][r]??n,e)}var Hx="ScrollArea",[bM,Ube]=kh(Hx),[qpe,lr]=bM(Hx),xM=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:a,scrollHideDelay:o=600,...i}=e,[s,c]=w.useState(null),[l,u]=w.useState(null),[d,f]=w.useState(null),[h,p]=w.useState(null),[m,v]=w.useState(null),[b,x]=w.useState(0),[S,A]=w.useState(0),[y,_]=w.useState(!1),[T,P]=w.useState(!1),O=bn(t,E=>c(E)),j=Xh(a);return g.jsx(qpe,{scope:n,type:r,dir:j,scrollHideDelay:o,scrollArea:s,viewport:l,onViewportChange:u,content:d,onContentChange:f,scrollbarX:h,onScrollbarXChange:p,scrollbarXEnabled:y,onScrollbarXEnabledChange:_,scrollbarY:m,onScrollbarYChange:v,scrollbarYEnabled:T,onScrollbarYEnabledChange:P,onCornerWidthChange:x,onCornerHeightChange:A,children:g.jsx(nt.div,{dir:j,...i,ref:O,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":S+"px",...e.style}})})});xM.displayName=Hx;var wM="ScrollAreaViewport",SM=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:a,...o}=e,i=lr(wM,n),s=w.useRef(null),c=bn(t,s,i.onViewportChange);return g.jsxs(g.Fragment,{children:[g.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),g.jsx(nt.div,{"data-radix-scroll-area-viewport":"",...o,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:g.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});SM.displayName=wM;var aa="ScrollAreaScrollbar",qx=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=lr(aa,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=a,s=e.orientation==="horizontal";return w.useEffect(()=>(s?o(!0):i(!0),()=>{s?o(!1):i(!1)}),[s,o,i]),a.type==="hover"?g.jsx(Gpe,{...r,ref:t,forceMount:n}):a.type==="scroll"?g.jsx(Kpe,{...r,ref:t,forceMount:n}):a.type==="auto"?g.jsx(_M,{...r,ref:t,forceMount:n}):a.type==="always"?g.jsx(Gx,{...r,ref:t}):null});qx.displayName=aa;var Gpe=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=lr(aa,e.__scopeScrollArea),[o,i]=w.useState(!1);return w.useEffect(()=>{const s=a.scrollArea;let c=0;if(s){const l=()=>{window.clearTimeout(c),i(!0)},u=()=>{c=window.setTimeout(()=>i(!1),a.scrollHideDelay)};return s.addEventListener("pointerenter",l),s.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),s.removeEventListener("pointerenter",l),s.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),g.jsx(ea,{present:n||o,children:g.jsx(_M,{"data-state":o?"visible":"hidden",...r,ref:t})})}),Kpe=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=lr(aa,e.__scopeScrollArea),o=e.orientation==="horizontal",i=Jp(()=>c("SCROLL_END"),100),[s,c]=Hpe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(s==="idle"){const l=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(l)}},[s,a.scrollHideDelay,c]),w.useEffect(()=>{const l=a.viewport,u=o?"scrollLeft":"scrollTop";if(l){let d=l[u];const f=()=>{const h=l[u];d!==h&&(c("SCROLL"),i()),d=h};return l.addEventListener("scroll",f),()=>l.removeEventListener("scroll",f)}},[a.viewport,o,c,i]),g.jsx(ea,{present:n||s!=="hidden",children:g.jsx(Gx,{"data-state":s==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Ue(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ue(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),_M=w.forwardRef((e,t)=>{const n=lr(aa,e.__scopeScrollArea),{forceMount:r,...a}=e,[o,i]=w.useState(!1),s=e.orientation==="horizontal",c=Jp(()=>{if(n.viewport){const l=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;i(s?l:u)}},10);return Zs(n.viewport,c),Zs(n.content,c),g.jsx(ea,{present:r||o,children:g.jsx(Gx,{"data-state":o?"visible":"hidden",...a,ref:t})})}),Gx=w.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,a=lr(aa,e.__scopeScrollArea),o=w.useRef(null),i=w.useRef(0),[s,c]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),l=CM(s.viewport,s.content),u={...r,sizes:s,onSizesChange:c,hasThumb:l>0&&l<1,onThumbChange:f=>o.current=f,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:f=>i.current=f};function d(f,h){return eme(f,i.current,s,h)}return n==="horizontal"?g.jsx(Ype,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const f=a.viewport.scrollLeft,h=DT(f,s,a.dir);o.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollLeft=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollLeft=d(f,a.dir))}}):n==="vertical"?g.jsx(Xpe,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const f=a.viewport.scrollTop,h=DT(f,s);o.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollTop=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollTop=d(f))}}):null}),Ype=w.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,o=lr(aa,e.__scopeScrollArea),[i,s]=w.useState(),c=w.useRef(null),l=bn(t,c,o.onScrollbarXChange);return w.useEffect(()=>{c.current&&s(getComputedStyle(c.current))},[c]),g.jsx(TM,{"data-orientation":"horizontal",...a,ref:l,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Zp(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,d)=>{if(o.viewport){const f=o.viewport.scrollLeft+u.deltaX;e.onWheelScroll(f),jM(f,d)&&u.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:_h(i.paddingLeft),paddingEnd:_h(i.paddingRight)}})}})}),Xpe=w.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,o=lr(aa,e.__scopeScrollArea),[i,s]=w.useState(),c=w.useRef(null),l=bn(t,c,o.onScrollbarYChange);return w.useEffect(()=>{c.current&&s(getComputedStyle(c.current))},[c]),g.jsx(TM,{"data-orientation":"vertical",...a,ref:l,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Zp(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,d)=>{if(o.viewport){const f=o.viewport.scrollTop+u.deltaY;e.onWheelScroll(f),jM(f,d)&&u.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:_h(i.paddingTop),paddingEnd:_h(i.paddingBottom)}})}})}),[Zpe,AM]=bM(aa),TM=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:a,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:s,onThumbPositionChange:c,onDragScroll:l,onWheelScroll:u,onResize:d,...f}=e,h=lr(aa,n),[p,m]=w.useState(null),v=bn(t,O=>m(O)),b=w.useRef(null),x=w.useRef(""),S=h.viewport,A=r.content-r.viewport,y=Yt(u),_=Yt(c),T=Jp(d,10);function P(O){if(b.current){const j=O.clientX-b.current.left,E=O.clientY-b.current.top;l({x:j,y:E})}}return w.useEffect(()=>{const O=j=>{const E=j.target;(p==null?void 0:p.contains(E))&&y(j,A)};return document.addEventListener("wheel",O,{passive:!1}),()=>document.removeEventListener("wheel",O,{passive:!1})},[S,p,A,y]),w.useEffect(_,[r,_]),Zs(p,T),Zs(h.content,T),g.jsx(Zpe,{scope:n,scrollbar:p,hasThumb:a,onThumbChange:Yt(o),onThumbPointerUp:Yt(i),onThumbPositionChange:_,onThumbPointerDown:Yt(s),children:g.jsx(nt.div,{...f,ref:v,style:{position:"absolute",...f.style},onPointerDown:Ue(e.onPointerDown,O=>{O.button===0&&(O.target.setPointerCapture(O.pointerId),b.current=p.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),P(O))}),onPointerMove:Ue(e.onPointerMove,P),onPointerUp:Ue(e.onPointerUp,O=>{const j=O.target;j.hasPointerCapture(O.pointerId)&&j.releasePointerCapture(O.pointerId),document.body.style.webkitUserSelect=x.current,h.viewport&&(h.viewport.style.scrollBehavior=""),b.current=null})})})}),Sh="ScrollAreaThumb",PM=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=AM(Sh,e.__scopeScrollArea);return g.jsx(ea,{present:n||a.hasThumb,children:g.jsx(Jpe,{ref:t,...r})})}),Jpe=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...a}=e,o=lr(Sh,n),i=AM(Sh,n),{onThumbPositionChange:s}=i,c=bn(t,d=>i.onThumbChange(d)),l=w.useRef(),u=Jp(()=>{l.current&&(l.current(),l.current=void 0)},100);return w.useEffect(()=>{const d=o.viewport;if(d){const f=()=>{if(u(),!l.current){const h=tme(d,s);l.current=h,s()}};return s(),d.addEventListener("scroll",f),()=>d.removeEventListener("scroll",f)}},[o.viewport,u,s]),g.jsx(nt.div,{"data-state":i.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ue(e.onPointerDownCapture,d=>{const h=d.target.getBoundingClientRect(),p=d.clientX-h.left,m=d.clientY-h.top;i.onThumbPointerDown({x:p,y:m})}),onPointerUp:Ue(e.onPointerUp,i.onThumbPointerUp)})});PM.displayName=Sh;var Kx="ScrollAreaCorner",OM=w.forwardRef((e,t)=>{const n=lr(Kx,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?g.jsx(Qpe,{...e,ref:t}):null});OM.displayName=Kx;var Qpe=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,a=lr(Kx,n),[o,i]=w.useState(0),[s,c]=w.useState(0),l=!!(o&&s);return Zs(a.scrollbarX,()=>{var d;const u=((d=a.scrollbarX)==null?void 0:d.offsetHeight)||0;a.onCornerHeightChange(u),c(u)}),Zs(a.scrollbarY,()=>{var d;const u=((d=a.scrollbarY)==null?void 0:d.offsetWidth)||0;a.onCornerWidthChange(u),i(u)}),l?g.jsx(nt.div,{...r,ref:t,style:{width:o,height:s,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function _h(e){return e?parseInt(e,10):0}function CM(e,t){const n=e/t;return isNaN(n)?0:n}function Zp(e){const t=CM(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function eme(e,t,n,r="ltr"){const a=Zp(n),o=a/2,i=t||o,s=a-i,c=n.scrollbar.paddingStart+i,l=n.scrollbar.size-n.scrollbar.paddingEnd-s,u=n.content-n.viewport,d=r==="ltr"?[0,u]:[u*-1,0];return EM([c,l],d)(e)}function DT(e,t,n="ltr"){const r=Zp(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-a,i=t.content-t.viewport,s=o-r,c=n==="ltr"?[0,i]:[i*-1,0],l=Wpe(e,c);return EM([0,i],[0,s])(l)}function EM(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function jM(e,t){return e>0&&e<t}var tme=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function a(){const o={left:e.scrollLeft,top:e.scrollTop},i=n.left!==o.left,s=n.top!==o.top;(i||s)&&t(),n=o,r=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(r)};function Jp(e,t){const n=Yt(e),r=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),w.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Zs(e,t){const n=Yt(t);_l(()=>{let r=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return a.observe(e),()=>{window.cancelAnimationFrame(r),a.unobserve(e)}}},[e,n])}var DM=xM,nme=SM,rme=OM;const Jy=w.forwardRef(({className:e,children:t,...n},r)=>g.jsxs(DM,{ref:r,className:Ae("relative overflow-hidden",e),...n,children:[g.jsx(nme,{className:"h-full w-full rounded-[inherit]",children:t}),g.jsx(kM,{"data-component-path":"src\\components\\ui\\scroll-area.tsx","data-component-name":"ScrollBar","data-component-line":"18","data-component-file":"scroll-area.tsx","data-component-content":"%7B%7D"}),g.jsx(rme,{})]}));Jy.displayName=DM.displayName;const kM=w.forwardRef(({className:e,orientation:t="vertical",...n},r)=>g.jsx(qx,{ref:r,orientation:t,className:Ae("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:g.jsx(PM,{className:"relative flex-1 rounded-full bg-border"})}));kM.displayName=qx.displayName;const ame=()=>{const{toast:e}=ta(),[t,n]=w.useState(""),[r,a]=w.useState(!1),[o,i]=w.useState(45),[s,c]=w.useState(156),[l,u]=w.useState(15690),d=async()=>{a(!0);try{await new Promise(h=>setTimeout(h,1e3)),i(h=>Math.max(30,Math.min(60,h+Math.floor(Math.random()*10)-5))),c(h=>h+Math.floor(Math.random()*5)),u(h=>h+Math.floor(Math.random()*1e3)),e({title:"Panel Actualizado",description:"Los datos han sido actualizados correctamente"})}catch{e({title:"Error al actualizar",description:"No se pudieron actualizar los datos",variant:"destructive"})}finally{a(!1)}};w.useEffect(()=>{d();const h=setInterval(d,3e5);return()=>clearInterval(h)},[]);const f=[{label:"Reservas Totales",value:s.toString(),icon:$I},{label:"Ingresos",value:`$${l.toLocaleString()}`,icon:E2},{label:"Usuarios Activos",value:o.toString(),icon:qP}];return g.jsx(Fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"container mx-auto p-6 space-y-6",children:g.jsxs("div",{"data-component-path":"src\\components\\admin\\AdminPanel.tsx","data-component-name":"div","data-component-line":"79","data-component-file":"AdminPanel.tsx","data-component-content":"%7B%22className%22%3A%22glass-card%20p-6%20rounded-xl%20border%20border-primary%2F10%22%7D",className:"glass-card p-6 rounded-xl border border-primary/10",children:[g.jsxs("div",{"data-component-path":"src\\components\\admin\\AdminPanel.tsx","data-component-name":"div","data-component-line":"80","data-component-file":"AdminPanel.tsx","data-component-content":"%7B%22className%22%3A%22flex%20flex-col%20sm%3Aflex-row%20justify-between%20items-start%20sm%3Aitems-center%20gap-4%20mb-6%22%7D",className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[g.jsxs("div",{"data-component-path":"src\\components\\admin\\AdminPanel.tsx","data-component-name":"div","data-component-line":"81","data-component-file":"AdminPanel.tsx","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-3%22%7D",className:"flex items-center gap-3",children:[g.jsx("h1",{"data-component-path":"src\\components\\admin\\AdminPanel.tsx","data-component-name":"h1","data-component-line":"82","data-component-file":"AdminPanel.tsx","data-component-content":"%7B%22text%22%3A%22Panel%20de%20Administraci%C3%B3n%22%2C%22className%22%3A%22text-3xl%20font-bold%20gradient-text%22%7D",className:"text-3xl font-bold gradient-text",children:"Panel de Administración"}),g.jsx(dn,{"data-component-path":"src\\components\\admin\\AdminPanel.tsx","data-component-name":"Button","data-component-line":"85","data-component-file":"AdminPanel.tsx","data-component-content":"%7B%7D",variant:"outline",size:"icon",onClick:d,className:`${r?"animate-spin":""}`,disabled:r,children:g.jsx(E2,{"data-component-path":"src\\components\\admin\\AdminPanel.tsx","data-component-name":"RefreshCw","data-component-line":"92","data-component-file":"AdminPanel.tsx","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D",className:"h-4 w-4"})})]}),g.jsxs("div",{"data-component-path":"src\\components\\admin\\AdminPanel.tsx","data-component-name":"div","data-component-line":"96","data-component-file":"AdminPanel.tsx","data-component-content":"%7B%22className%22%3A%22relative%20w-full%20sm%3Aw-64%22%7D",className:"relative w-full sm:w-64",children:[g.jsx(HP,{"data-component-path":"src\\components\\admin\\AdminPanel.tsx","data-component-name":"Search","data-component-line":"97","data-component-file":"AdminPanel.tsx","data-component-content":"%7B%22className%22%3A%22absolute%20left-3%20top-1%2F2%20transform%20-translate-y-1%2F2%20text-gray-500%20h-4%20w-4%22%7D",className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 h-4 w-4"}),g.jsx(oi,{"data-component-path":"src\\components\\admin\\AdminPanel.tsx","data-component-name":"Input","data-component-line":"98","data-component-file":"AdminPanel.tsx","data-component-content":"%7B%22placeholder%22%3A%22Buscar...%22%2C%22className%22%3A%22pl-10%22%7D",type:"text",placeholder:"Buscar...",value:t,onChange:h=>n(h.target.value),className:"pl-10"})]})]}),g.jsx(UC,{"data-component-path":"src\\components\\admin\\AdminPanel.tsx","data-component-name":"AnimatePresence","data-component-line":"108","data-component-file":"AdminPanel.tsx","data-component-content":"%7B%7D",mode:"wait",children:g.jsx(Fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:f.map((h,p)=>{const m=h.icon;return g.jsx(Fe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:p*.1},children:g.jsx(Zt,{"data-component-path":"src\\components\\admin\\AdminPanel.tsx","data-component-name":"Card","data-component-line":"125","data-component-file":"AdminPanel.tsx","data-component-content":"%7B%22className%22%3A%22p-4%20glass-card%20hover%3Ashadow-lg%20transition-all%20duration-300%22%7D",className:"p-4 glass-card hover:shadow-lg transition-all duration-300",children:g.jsxs("div",{"data-component-path":"src\\components\\admin\\AdminPanel.tsx","data-component-name":"div","data-component-line":"126","data-component-file":"AdminPanel.tsx","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-3%22%7D",className:"flex items-center gap-3",children:[g.jsx("div",{"data-component-path":"src\\components\\admin\\AdminPanel.tsx","data-component-name":"div","data-component-line":"127","data-component-file":"AdminPanel.tsx","data-component-content":"%7B%22className%22%3A%22p-2%20bg-primary%2F10%20rounded-lg%22%7D",className:"p-2 bg-primary/10 rounded-lg",children:g.jsx(m,{"data-component-path":"src\\components\\admin\\AdminPanel.tsx","data-component-name":"Icon","data-component-line":"128","data-component-file":"AdminPanel.tsx","data-component-content":"%7B%22className%22%3A%22h-5%20w-5%20text-primary%22%7D",className:"h-5 w-5 text-primary"})}),g.jsxs("div",{"data-component-path":"src\\components\\admin\\AdminPanel.tsx","data-component-name":"div","data-component-line":"130","data-component-file":"AdminPanel.tsx","data-component-content":"%7B%7D",children:[g.jsx("h3",{"data-component-path":"src\\components\\admin\\AdminPanel.tsx","data-component-name":"h3","data-component-line":"131","data-component-file":"AdminPanel.tsx","data-component-content":"%7B%22className%22%3A%22text-sm%20text-gray-500%22%7D",className:"text-sm text-gray-500",children:h.label}),g.jsx("p",{"data-component-path":"src\\components\\admin\\AdminPanel.tsx","data-component-name":"p","data-component-line":"132","data-component-file":"AdminPanel.tsx","data-component-content":"%7B%22className%22%3A%22text-2xl%20font-bold%20text-primary%22%7D",className:"text-2xl font-bold text-primary",children:h.value})]})]})})},p)})},"stats")}),g.jsxs(_j,{"data-component-path":"src\\components\\admin\\AdminPanel.tsx","data-component-name":"Tabs","data-component-line":"144","data-component-file":"AdminPanel.tsx","data-component-content":"%7B%22className%22%3A%22w-full%22%7D",defaultValue:"reservations",className:"w-full",children:[g.jsxs(Ob,{"data-component-path":"src\\components\\admin\\AdminPanel.tsx","data-component-name":"TabsList","data-component-line":"145","data-component-file":"AdminPanel.tsx","data-component-content":"%7B%22className%22%3A%22grid%20w-full%20grid-cols-2%20glass-card%22%7D",className:"grid w-full grid-cols-2 glass-card",children:[g.jsx(Ho,{"data-component-path":"src\\components\\admin\\AdminPanel.tsx","data-component-name":"TabsTrigger","data-component-line":"146","data-component-file":"AdminPanel.tsx","data-component-content":"%7B%22text%22%3A%22Reservas%22%7D",value:"reservations",children:"Reservas"}),g.jsx(Ho,{"data-component-path":"src\\components\\admin\\AdminPanel.tsx","data-component-name":"TabsTrigger","data-component-line":"147","data-component-file":"AdminPanel.tsx","data-component-content":"%7B%22text%22%3A%22M%C3%A9tricas%22%7D",value:"metrics",children:"Métricas"})]}),g.jsx(qo,{"data-component-path":"src\\components\\admin\\AdminPanel.tsx","data-component-name":"TabsContent","data-component-line":"150","data-component-file":"AdminPanel.tsx","data-component-content":"%7B%22className%22%3A%22mt-6%22%7D",value:"reservations",className:"mt-6",children:g.jsx(Zt,{"data-component-path":"src\\components\\admin\\AdminPanel.tsx","data-component-name":"Card","data-component-line":"151","data-component-file":"AdminPanel.tsx","data-component-content":"%7B%22className%22%3A%22glass-card%22%7D",className:"glass-card",children:g.jsx(Jy,{"data-component-path":"src\\components\\admin\\AdminPanel.tsx","data-component-name":"ScrollArea","data-component-line":"152","data-component-file":"AdminPanel.tsx","data-component-content":"%7B%22className%22%3A%22h-%5Bcalc(100vh-20rem)%5D%22%7D",className:"h-[calc(100vh-20rem)]",children:g.jsx(o8,{"data-component-path":"src\\components\\admin\\AdminPanel.tsx","data-component-name":"ReservationManagement","data-component-line":"153","data-component-file":"AdminPanel.tsx","data-component-content":"%7B%7D",searchQuery:t})})})}),g.jsx(qo,{"data-component-path":"src\\components\\admin\\AdminPanel.tsx","data-component-name":"TabsContent","data-component-line":"158","data-component-file":"AdminPanel.tsx","data-component-content":"%7B%22className%22%3A%22mt-6%22%7D",value:"metrics",className:"mt-6",children:g.jsx(Zt,{"data-component-path":"src\\components\\admin\\AdminPanel.tsx","data-component-name":"Card","data-component-line":"159","data-component-file":"AdminPanel.tsx","data-component-content":"%7B%22className%22%3A%22glass-card%22%7D",className:"glass-card",children:g.jsx(Jy,{"data-component-path":"src\\components\\admin\\AdminPanel.tsx","data-component-name":"ScrollArea","data-component-line":"160","data-component-file":"AdminPanel.tsx","data-component-content":"%7B%22className%22%3A%22h-%5Bcalc(100vh-20rem)%5D%22%7D",className:"h-[calc(100vh-20rem)]",children:g.jsx(zpe,{"data-component-path":"src\\components\\admin\\AdminPanel.tsx","data-component-name":"AdminMetrics","data-component-line":"161","data-component-file":"AdminPanel.tsx","data-component-content":"%7B%7D"})})})})]})]})})},ome=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>mi(async()=>{const{default:r}=await Promise.resolve().then(()=>Sc);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Yx extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class ime extends Yx{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class sme extends Yx{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class cme extends Yx{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Qy;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Qy||(Qy={}));var lme=function(e,t,n,r){function a(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function s(u){try{l(r.next(u))}catch(d){i(d)}}function c(u){try{l(r.throw(u))}catch(d){i(d)}}function l(u){u.done?o(u.value):a(u.value).then(s,c)}l((r=r.apply(e,t||[])).next())})};class ume{constructor(t,{headers:n={},customFetch:r,region:a=Qy.Any}={}){this.url=t,this.headers=n,this.region=a,this.fetch=ome(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return lme(this,void 0,void 0,function*(){try{const{headers:a,method:o,body:i}=n;let s={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(s["x-region"]=c);let l;i&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(s["Content-Type"]="application/octet-stream",l=i):typeof i=="string"?(s["Content-Type"]="text/plain",l=i):typeof FormData<"u"&&i instanceof FormData?l=i:(s["Content-Type"]="application/json",l=JSON.stringify(i)));const u=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},s),this.headers),a),body:l}).catch(p=>{throw new ime(p)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new sme(u);if(!u.ok)throw new cme(u);let f=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),h;return f==="application/json"?h=yield u.json():f==="application/octet-stream"?h=yield u.blob():f==="text/event-stream"?h=u:f==="multipart/form-data"?h=yield u.formData():h=yield u.text(),{data:h,error:null}}catch(a){return{data:null,error:a}}})}}var Rn={},Xx={},Qp={},rd={},em={},tm={},dme=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Js=dme();const fme=Js.fetch,NM=Js.fetch.bind(Js),MM=Js.Headers,hme=Js.Request,pme=Js.Response,Sc=Object.freeze(Object.defineProperty({__proto__:null,Headers:MM,Request:hme,Response:pme,default:NM,fetch:fme},Symbol.toStringTag,{value:"Module"})),mme=a$(Sc);var nm={};Object.defineProperty(nm,"__esModule",{value:!0});class vme extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}nm.default=vme;var RM=Vt&&Vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(tm,"__esModule",{value:!0});const gme=RM(mme),yme=RM(nm);let bme=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=gme.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let a=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,s,c;let l=null,u=null,d=null,f=o.status,h=o.statusText;if(o.ok){if(this.method!=="HEAD"){const b=await o.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=b:u=JSON.parse(b))}const m=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),v=(s=o.headers.get("content-range"))===null||s===void 0?void 0:s.split("/");m&&v&&v.length>1&&(d=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,f=406,h="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const m=await o.text();try{l=JSON.parse(m),Array.isArray(l)&&o.status===404&&(u=[],l=null,f=200,h="OK")}catch{o.status===404&&m===""?(f=204,h="No Content"):l={message:m}}if(l&&this.isMaybeSingle&&(!((c=l==null?void 0:l.details)===null||c===void 0)&&c.includes("0 rows"))&&(l=null,f=200,h="OK"),l&&this.shouldThrowOnError)throw new yme.default(l)}return{error:l,data:u,count:d,status:f,statusText:h}});return this.shouldThrowOnError||(a=a.catch(o=>{var i,s,c;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(s=o==null?void 0:o.stack)!==null&&s!==void 0?s:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,n)}};tm.default=bme;var xme=Vt&&Vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(em,"__esModule",{value:!0});const wme=xme(tm);let Sme=class extends wme.default{select(t){let n=!1;const r=(t??"*").split("").map(a=>/\s/.test(a)&&!n?"":(a==='"'&&(n=!n),a)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:a,referencedTable:o=a}={}){const i=o?`${o}.order`:"order",s=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${s?`${s},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:a=r}={}){const o=typeof a>"u"?"offset":`${a}.offset`,i=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:a=!1,wal:o=!1,format:i="text"}={}){var s;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,a?"buffers":null,o?"wal":null].filter(Boolean).join("|"),l=(s=this.headers.Accept)!==null&&s!==void 0?s:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${l}"; options=${c};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};em.default=Sme;var _me=Vt&&Vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rd,"__esModule",{value:!0});const Ame=_me(em);let Tme=class extends Ame.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:a}={}){let o="";a==="plain"?o="pl":a==="phrase"?o="ph":a==="websearch"&&(o="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${i}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const a=r?`${r}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};rd.default=Tme;var Pme=Vt&&Vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qp,"__esModule",{value:!0});const qc=Pme(rd);let Ome=class{constructor(t,{headers:n={},schema:r,fetch:a}){this.url=t,this.headers=n,this.schema=r,this.fetch=a}select(t,{head:n=!1,count:r}={}){const a=n?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(s=>/\s/.test(s)&&!o?"":(s==='"'&&(o=!o),s)).join("");return this.url.searchParams.set("select",i),r&&(this.headers.Prefer=`count=${r}`),new qc.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const a="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const i=t.reduce((s,c)=>s.concat(Object.keys(c)),[]);if(i.length>0){const s=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",s.join(","))}}return new qc.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:a,defaultToNull:o=!0}={}){const i="POST",s=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&s.push(this.headers.Prefer),a&&s.push(`count=${a}`),o||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const c=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(c.length>0){const l=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new qc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),this.headers.Prefer=a.join(","),new qc.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new qc.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Qp.default=Ome;var rm={},am={};Object.defineProperty(am,"__esModule",{value:!0});am.version=void 0;am.version="0.0.0-automated";Object.defineProperty(rm,"__esModule",{value:!0});rm.DEFAULT_HEADERS=void 0;const Cme=am;rm.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Cme.version}`};var $M=Vt&&Vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xx,"__esModule",{value:!0});const Eme=$M(Qp),jme=$M(rd),Dme=rm;let kme=class IM{constructor(t,{headers:n={},schema:r,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},Dme.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=a}from(t){const n=new URL(`${this.url}/${t}`);return new Eme.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new IM(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:a=!1,count:o}={}){let i;const s=new URL(`${this.url}/rpc/${t}`);let c;r||a?(i=r?"HEAD":"GET",Object.entries(n).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{s.searchParams.append(u,d)})):(i="POST",c=n);const l=Object.assign({},this.headers);return o&&(l.Prefer=`count=${o}`),new jme.default({method:i,url:s,headers:l,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Xx.default=kme;var _c=Vt&&Vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rn,"__esModule",{value:!0});Rn.PostgrestError=Rn.PostgrestBuilder=Rn.PostgrestTransformBuilder=Rn.PostgrestFilterBuilder=Rn.PostgrestQueryBuilder=Rn.PostgrestClient=void 0;const LM=_c(Xx);Rn.PostgrestClient=LM.default;const BM=_c(Qp);Rn.PostgrestQueryBuilder=BM.default;const FM=_c(rd);Rn.PostgrestFilterBuilder=FM.default;const UM=_c(em);Rn.PostgrestTransformBuilder=UM.default;const VM=_c(tm);Rn.PostgrestBuilder=VM.default;const zM=_c(nm);Rn.PostgrestError=zM.default;var Nme=Rn.default={PostgrestClient:LM.default,PostgrestQueryBuilder:BM.default,PostgrestFilterBuilder:FM.default,PostgrestTransformBuilder:UM.default,PostgrestBuilder:VM.default,PostgrestError:zM.default};const{PostgrestClient:Mme,PostgrestQueryBuilder:qbe,PostgrestFilterBuilder:Gbe,PostgrestTransformBuilder:Kbe,PostgrestBuilder:Ybe}=Nme,Rme="2.11.2",$me={"X-Client-Info":`realtime-js/${Rme}`},Ime="1.0.0",WM=1e4,Lme=1e3;var ls;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ls||(ls={}));var Fn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Fn||(Fn={}));var gr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(gr||(gr={}));var e0;(function(e){e.websocket="websocket"})(e0||(e0={}));var Uo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Uo||(Uo={}));class Bme{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const a=n.getUint8(1),o=n.getUint8(2);let i=this.HEADER_LENGTH+2;const s=r.decode(t.slice(i,i+a));i=i+a;const c=r.decode(t.slice(i,i+o));i=i+o;const l=JSON.parse(r.decode(t.slice(i,t.byteLength)));return{ref:null,topic:s,event:c,payload:l}}}class HM{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var bt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(bt||(bt={}));const kT=(e,t,n={})=>{var r;const a=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,i)=>(o[i]=Fme(i,e,t,a),o),{})},Fme=(e,t,n,r)=>{const a=t.find(s=>s.name===e),o=a==null?void 0:a.type,i=n[e];return o&&!r.includes(o)?qM(o,i):t0(i)},qM=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Wme(t,n)}switch(e){case bt.bool:return Ume(t);case bt.float4:case bt.float8:case bt.int2:case bt.int4:case bt.int8:case bt.numeric:case bt.oid:return Vme(t);case bt.json:case bt.jsonb:return zme(t);case bt.timestamp:return Hme(t);case bt.abstime:case bt.date:case bt.daterange:case bt.int4range:case bt.int8range:case bt.money:case bt.reltime:case bt.text:case bt.time:case bt.timestamptz:case bt.timetz:case bt.tsrange:case bt.tstzrange:return t0(t);default:return t0(t)}},t0=e=>e,Ume=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Vme=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},zme=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Wme=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const i=e.slice(1,n);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(s=>qM(t,s))}return e},Hme=e=>typeof e=="string"?e.replace(" ","T"):e,GM=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class mv{constructor(t,n,r={},a=WM){this.channel=t,this.event=n,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var NT;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(NT||(NT={}));class wl{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},a=>{const{onJoin:o,onLeave:i,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=wl.syncState(this.state,a,o,i),this.pendingDiffs.forEach(c=>{this.state=wl.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},a=>{const{onJoin:o,onLeave:i,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=wl.syncDiff(this.state,a,o,i),s())}),this.onJoin((a,o,i)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:o,newPresences:i})}),this.onLeave((a,o,i)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,a){const o=this.cloneDeep(t),i=this.transformState(n),s={},c={};return this.map(o,(l,u)=>{i[l]||(c[l]=u)}),this.map(i,(l,u)=>{const d=o[l];if(d){const f=u.map(v=>v.presence_ref),h=d.map(v=>v.presence_ref),p=u.filter(v=>h.indexOf(v.presence_ref)<0),m=d.filter(v=>f.indexOf(v.presence_ref)<0);p.length>0&&(s[l]=p),m.length>0&&(c[l]=m)}else s[l]=u}),this.syncDiff(o,{joins:s,leaves:c},r,a)}static syncDiff(t,n,r,a){const{joins:o,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(o,(s,c)=>{var l;const u=(l=t[s])!==null&&l!==void 0?l:[];if(t[s]=this.cloneDeep(c),u.length>0){const d=t[s].map(h=>h.presence_ref),f=u.filter(h=>d.indexOf(h.presence_ref)<0);t[s].unshift(...f)}r(s,u,c)}),this.map(i,(s,c)=>{let l=t[s];if(!l)return;const u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),t[s]=l,a(s,l,c),l.length===0&&delete t[s]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const a=t[r];return"metas"in a?n[r]=a.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=a,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var MT;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(MT||(MT={}));var RT;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(RT||(RT={}));var pa;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(pa||(pa={}));class Zx{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Fn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new mv(this,gr.join,this.params,this.timeout),this.rejoinTimer=new HM(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Fn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Fn.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Fn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Fn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(gr.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new wl(this),this.broadcastEndpointURL=GM(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:i,private:s}}=this.params;this._onError(u=>t==null?void 0:t(pa.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(pa.CLOSED));const c={},l={broadcast:o,presence:i,postgres_changes:(a=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&a!==void 0?a:[],private:s};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){t==null||t(pa.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,h=(d=f==null?void 0:f.length)!==null&&d!==void 0?d:0,p=[];for(let m=0;m<h;m++){const v=f[m],{filter:{event:b,schema:x,table:S,filter:A}}=v,y=u&&u[m];if(y&&y.event===b&&y.schema===x&&y.table===S&&y.filter===A)p.push(Object.assign(Object.assign({},v),{id:y.id}));else{this.unsubscribe(),t==null||t(pa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(pa.SUBSCRIBED);return}}).receive("error",u=>{t==null||t(pa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(pa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,a;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((a=l.body)===null||a===void 0?void 0:a.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,s,c;const l=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(s=(i=this.params)===null||i===void 0?void 0:i.config)===null||s===void 0?void 0:s.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),l.receive("ok",()=>o("ok")),l.receive("error",()=>o("error")),l.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Fn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(gr.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const a=new mv(this,gr.leave,{},t);a.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const a=new AbortController,o=setTimeout(()=>a.abort(),r),i=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(o),i}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new mv(this,t,n,r);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var a,o;const i=t.toLocaleLowerCase(),{close:s,error:c,leave:l,join:u}=gr;if(r&&[s,c,l,u].indexOf(i)>=0&&r!==this._joinRef())return;let f=this._onMessage(i,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(h=>{var p,m,v;return((p=h.filter)===null||p===void 0?void 0:p.event)==="*"||((v=(m=h.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===i}).map(h=>h.callback(f,r)):(o=this.bindings[i])===null||o===void 0||o.filter(h=>{var p,m,v,b,x,S;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in h){const A=h.id,y=(p=h.filter)===null||p===void 0?void 0:p.event;return A&&((m=n.ids)===null||m===void 0?void 0:m.includes(A))&&(y==="*"||(y==null?void 0:y.toLocaleLowerCase())===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const A=(x=(b=h==null?void 0:h.filter)===null||b===void 0?void 0:b.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return A==="*"||A===((S=n==null?void 0:n.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===i}).map(h=>{if(typeof f=="object"&&"ids"in f){const p=f.data,{schema:m,table:v,commit_timestamp:b,type:x,errors:S}=p;f=Object.assign(Object.assign({},{schema:m,table:v,commit_timestamp:b,eventType:x,new:{},old:{},errors:S}),this._getPayloadRecords(p))}h.callback(f,r)})}_isClosed(){return this.state===Fn.closed}_isJoined(){return this.state===Fn.joined}_isJoining(){return this.state===Fn.joining}_isLeaving(){return this.state===Fn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const a=t.toLocaleLowerCase(),o={type:a,filter:n,callback:r};return this.bindings[a]?this.bindings[a].push(o):this.bindings[a]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(a=>{var o;return!(((o=a.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Zx.isEqual(a.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(gr.close,{},t)}_onError(t){this._on(gr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Fn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=kT(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=kT(t.columns,t.old_record)),n}}const qme=()=>{},Gme=typeof WebSocket<"u",Kme=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Yme{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=$me,this.params={},this.timeout=WM,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=qme,this.conn=null,this.sendBuffer=[],this.serializer=new Bme,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...s)=>mi(async()=>{const{default:c}=await Promise.resolve().then(()=>Sc);return{default:c}},void 0).then(({default:c})=>c(...s)):i=fetch,(...s)=>i(...s)},this.endPoint=`${t}/${e0.websocket}`,this.httpEndpoint=GM(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const a=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(o,i)=>i(JSON.stringify(o)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new HM(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Gme){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Xme(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),mi(async()=>{const{default:t}=await import("./browser-ld2k7RX1.js").then(n=>n.b);return{default:t}},__vite__mapDeps([4,2])).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ime}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ls.connecting:return Uo.Connecting;case ls.open:return Uo.Open;case ls.closing:return Uo.Closing;default:return Uo.Closed}}isConnected(){return this.connectionState()===Uo.Open}channel(t,n={config:{}}){const r=new Zx(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:a,ref:o}=t,i=()=>{this.encode(t,s=>{var c;(c=this.conn)===null||c===void 0||c.send(s)})};this.log("push",`${n} ${r} (${o})`,a),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(a=>{n&&a.updateJoinPayload({access_token:n}),a.joinedOnce&&a._isJoined()&&a._push(gr.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Lme,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:a,payload:o,ref:i}=n;i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${a} ${i&&"("+i+")"||""}`,o),this.channels.filter(s=>s._isMember(r)).forEach(s=>s._trigger(a,o,i)),this.stateChangeCallbacks.message.forEach(s=>s(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(gr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${t}${r}${a}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Kme],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Xme{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ls.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Jx extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function en(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Zme extends Jx{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class n0 extends Jx{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var Jme=function(e,t,n,r){function a(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function s(u){try{l(r.next(u))}catch(d){i(d)}}function c(u){try{l(r.throw(u))}catch(d){i(d)}}function l(u){u.done?o(u.value):a(u.value).then(s,c)}l((r=r.apply(e,t||[])).next())})};const KM=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>mi(async()=>{const{default:r}=await Promise.resolve().then(()=>Sc);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Qme=()=>Jme(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield mi(()=>Promise.resolve().then(()=>Sc),void 0)).Response:Response}),r0=e=>{if(Array.isArray(e))return e.map(n=>r0(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const a=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[a]=r0(r)}),t};var Di=function(e,t,n,r){function a(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function s(u){try{l(r.next(u))}catch(d){i(d)}}function c(u){try{l(r.throw(u))}catch(d){i(d)}}function l(u){u.done?o(u.value):a(u.value).then(s,c)}l((r=r.apply(e,t||[])).next())})};const vv=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),eve=(e,t,n)=>Di(void 0,void 0,void 0,function*(){const r=yield Qme();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(a=>{t(new Zme(vv(a),e.status||500))}).catch(a=>{t(new n0(vv(a),a))}):t(new n0(vv(e),e))}),tve=(e,t,n,r)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(a.body=JSON.stringify(r)),Object.assign(Object.assign({},a),n))};function ad(e,t,n,r,a,o){return Di(this,void 0,void 0,function*(){return new Promise((i,s)=>{e(n,tve(t,r,a,o)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>eve(c,s,r))})})}function Ah(e,t,n,r){return Di(this,void 0,void 0,function*(){return ad(e,"GET",t,n,r)})}function Ha(e,t,n,r,a){return Di(this,void 0,void 0,function*(){return ad(e,"POST",t,r,a,n)})}function nve(e,t,n,r,a){return Di(this,void 0,void 0,function*(){return ad(e,"PUT",t,r,a,n)})}function rve(e,t,n,r){return Di(this,void 0,void 0,function*(){return ad(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function YM(e,t,n,r,a){return Di(this,void 0,void 0,function*(){return ad(e,"DELETE",t,r,a,n)})}var jn=function(e,t,n,r){function a(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function s(u){try{l(r.next(u))}catch(d){i(d)}}function c(u){try{l(r.throw(u))}catch(d){i(d)}}function l(u){u.done?o(u.value):a(u.value).then(s,c)}l((r=r.apply(e,t||[])).next())})};const ave={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$T={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ove{constructor(t,n={},r,a){this.url=t,this.headers=n,this.bucketId=r,this.fetch=KM(a)}uploadOrUpdate(t,n,r,a){return jn(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},$T),a);let s=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=r,s["cache-control"]=`max-age=${i.cacheControl}`,s["content-type"]=i.contentType,c&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(s=Object.assign(Object.assign({},s),a.headers));const l=this._removeEmptyFolders(n),u=this._getFinalPath(l),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:o,headers:s},i!=null&&i.duplex?{duplex:i.duplex}:{})),f=yield d.json();return d.ok?{data:{path:l,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(o){if(en(o))return{data:null,error:o};throw o}})}upload(t,n,r){return jn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,a){return jn(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),s=new URL(this.url+`/object/upload/sign/${i}`);s.searchParams.set("token",n);try{let c;const l=Object.assign({upsert:$T.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);const d=yield this.fetch(s.toString(),{method:"PUT",body:c,headers:u}),f=yield d.json();return d.ok?{data:{path:o,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(en(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return jn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const a=Object.assign({},this.headers);n!=null&&n.upsert&&(a["x-upsert"]="true");const o=yield Ha(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:a}),i=new URL(this.url+o.url),s=i.searchParams.get("token");if(!s)throw new Jx("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:s},error:null}}catch(r){if(en(r))return{data:null,error:r};throw r}})}update(t,n,r){return jn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return jn(this,void 0,void 0,function*(){try{return{data:yield Ha(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(en(a))return{data:null,error:a};throw a}})}copy(t,n,r){return jn(this,void 0,void 0,function*(){try{return{data:{path:(yield Ha(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(en(a))return{data:null,error:a};throw a}})}createSignedUrl(t,n,r){return jn(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),o=yield Ha(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(a){if(en(a))return{data:null,error:a};throw a}})}createSignedUrls(t,n,r){return jn(this,void 0,void 0,function*(){try{const a=yield Ha(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(a){if(en(a))return{data:null,error:a};throw a}})}download(t,n){return jn(this,void 0,void 0,function*(){const a=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),i=o?`?${o}`:"";try{const s=this._getFinalPath(t);return{data:yield(yield Ah(this.fetch,`${this.url}/${a}/${s}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(s){if(en(s))return{data:null,error:s};throw s}})}info(t){return jn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Ah(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:r0(r),error:null}}catch(r){if(en(r))return{data:null,error:r};throw r}})}exists(t){return jn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield rve(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(en(r)&&r instanceof n0){const a=r.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),a=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&a.push(o);const s=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&a.push(c);let l=a.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${l}`)}}}remove(t){return jn(this,void 0,void 0,function*(){try{return{data:yield YM(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(en(n))return{data:null,error:n};throw n}})}list(t,n,r){return jn(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},ave),n),{prefix:t||""});return{data:yield Ha(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(en(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const ive="2.7.1",sve={"X-Client-Info":`storage-js/${ive}`};var Ui=function(e,t,n,r){function a(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function s(u){try{l(r.next(u))}catch(d){i(d)}}function c(u){try{l(r.throw(u))}catch(d){i(d)}}function l(u){u.done?o(u.value):a(u.value).then(s,c)}l((r=r.apply(e,t||[])).next())})};class cve{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},sve),n),this.fetch=KM(r)}listBuckets(){return Ui(this,void 0,void 0,function*(){try{return{data:yield Ah(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(en(t))return{data:null,error:t};throw t}})}getBucket(t){return Ui(this,void 0,void 0,function*(){try{return{data:yield Ah(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(en(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Ui(this,void 0,void 0,function*(){try{return{data:yield Ha(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(en(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Ui(this,void 0,void 0,function*(){try{return{data:yield nve(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(en(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Ui(this,void 0,void 0,function*(){try{return{data:yield Ha(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(en(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ui(this,void 0,void 0,function*(){try{return{data:yield YM(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(en(n))return{data:null,error:n};throw n}})}}class lve extends cve{constructor(t,n={},r){super(t,n,r)}from(t){return new ove(this.url,this.headers,t,this.fetch)}}const uve="2.47.3";let nl="";typeof Deno<"u"?nl="deno":typeof document<"u"?nl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?nl="react-native":nl="node";const dve={"X-Client-Info":`supabase-js-${nl}/${uve}`},fve={headers:dve},hve={schema:"public"},pve={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},mve={};var vve=function(e,t,n,r){function a(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function s(u){try{l(r.next(u))}catch(d){i(d)}}function c(u){try{l(r.throw(u))}catch(d){i(d)}}function l(u){u.done?o(u.value):a(u.value).then(s,c)}l((r=r.apply(e,t||[])).next())})};const gve=e=>{let t;return e?t=e:typeof fetch>"u"?t=NM:t=fetch,(...n)=>t(...n)},yve=()=>typeof Headers>"u"?MM:Headers,bve=(e,t,n)=>{const r=gve(n),a=yve();return(o,i)=>vve(void 0,void 0,void 0,function*(){var s;const c=(s=yield t())!==null&&s!==void 0?s:e;let l=new a(i==null?void 0:i.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},i),{headers:l}))})};var xve=function(e,t,n,r){function a(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function s(u){try{l(r.next(u))}catch(d){i(d)}}function c(u){try{l(r.throw(u))}catch(d){i(d)}}function l(u){u.done?o(u.value):a(u.value).then(s,c)}l((r=r.apply(e,t||[])).next())})};function wve(e){return e.replace(/\/$/,"")}function Sve(e,t){const{db:n,auth:r,realtime:a,global:o}=e,{db:i,auth:s,realtime:c,global:l}=t,u={db:Object.assign(Object.assign({},i),n),auth:Object.assign(Object.assign({},s),r),realtime:Object.assign(Object.assign({},c),a),global:Object.assign(Object.assign({},l),o),accessToken:()=>xve(this,void 0,void 0,function*(){return""})};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}const XM="2.66.1",_ve="http://localhost:9999",Ave="supabase.auth.token",Tve={"X-Client-Info":`gotrue-js/${XM}`},IT=10,a0="X-Supabase-Api-Version",ZM={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Pve(e){return Math.round(Date.now()/1e3)+e}function Ove(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const fr=()=>typeof document<"u",No={tested:!1,writable:!1},Sl=()=>{if(!fr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(No.tested)return No.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),No.tested=!0,No.writable=!0}catch{No.tested=!0,No.writable=!1}return No.writable};function gv(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,o)=>{t[o]=a})}catch{}return n.searchParams.forEach((r,a)=>{t[a]=r}),t}const JM=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>mi(async()=>{const{default:r}=await Promise.resolve().then(()=>Sc);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Cve=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",QM=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},$d=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Id=async(e,t)=>{await e.removeItem(t)};function Eve(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,a,o,i,s,c,l,u=0;for(e=e.replace("-","+").replace("_","/");u<e.length;)i=t.indexOf(e.charAt(u++)),s=t.indexOf(e.charAt(u++)),c=t.indexOf(e.charAt(u++)),l=t.indexOf(e.charAt(u++)),r=i<<2|s>>4,a=(s&15)<<4|c>>2,o=(c&3)<<6|l,n=n+String.fromCharCode(r),c!=64&&a!=0&&(n=n+String.fromCharCode(a)),l!=64&&o!=0&&(n=n+String.fromCharCode(o));return n}class om{constructor(){this.promise=new om.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}om.promiseConstructor=Promise;function LT(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(Eve(r))}async function jve(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Dve(e,t){return new Promise((r,a)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){r(i);return}}catch(i){if(!t(o,i)){a(i);return}}})()})}function kve(e){return("0"+e.toString(16)).substr(-2)}function Nve(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let a="";for(let o=0;o<56;o++)a+=n.charAt(Math.floor(Math.random()*r));return a}return crypto.getRandomValues(t),Array.from(t,kve).join("")}async function Mve(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(r);return Array.from(a).map(o=>String.fromCharCode(o)).join("")}function Rve(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $ve(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Mve(e);return Rve(n)}async function Vi(e,t,n=!1){const r=Nve();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await QM(e,`${t}-code-verifier`,a);const o=await $ve(r);return[o,r===o?"plain":"s256"]}const Ive=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Lve(e){const t=e.headers.get(a0);if(!t||!t.match(Ive))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class Qx extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function We(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Bve extends Qx{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Fve(e){return We(e)&&e.name==="AuthApiError"}class eR extends Qx{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ki extends Qx{constructor(t,n,r,a){super(t,r,a),this.name=n,this.status=r}}class Va extends ki{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Uve(e){return We(e)&&e.name==="AuthSessionMissingError"}class yv extends ki{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ld extends ki{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Bd extends ki{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Vve(e){return We(e)&&e.name==="AuthImplicitGrantRedirectError"}class BT extends ki{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class o0 extends ki{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function bv(e){return We(e)&&e.name==="AuthRetryableFetchError"}class FT extends ki{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var zve=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const Bo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Wve=[502,503,504];async function UT(e){var t;if(!Cve(e))throw new o0(Bo(e),0);if(Wve.includes(e.status))throw new o0(Bo(e),e.status);let n;try{n=await e.json()}catch(o){throw new eR(Bo(o),o)}let r;const a=Lve(e);if(a&&a.getTime()>=ZM["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new FT(Bo(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Va}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new FT(Bo(n),e.status,n.weak_password.reasons);throw new Bve(Bo(n),e.status||500,r)}const Hve=(e,t,n,r)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))};async function Ke(e,t,n,r){var a;const o=Object.assign({},r==null?void 0:r.headers);o[a0]||(o[a0]=ZM["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const i=(a=r==null?void 0:r.query)!==null&&a!==void 0?a:{};r!=null&&r.redirectTo&&(i.redirect_to=r.redirectTo);const s=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await qve(e,t,n+s,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function qve(e,t,n,r,a,o){const i=Hve(t,r,a,o);let s;try{s=await e(n,Object.assign({},i))}catch(c){throw console.error(c),new o0(Bo(c),0)}if(s.ok||await UT(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(c){await UT(c)}}function za(e){var t;let n=null;Xve(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Pve(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function VT(e){const t=za(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ka(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Gve(e){return{data:e,error:null}}function Kve(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:o}=e,i=zve(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:o},c=Object.assign({},i);return{data:{properties:s,user:c},error:null}}function Yve(e){return e}function Xve(e){return e.access_token&&e.refresh_token&&e.expires_in}var Zve=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};class Jve{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=JM(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await Ke(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(We(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ka})}catch(r){if(We(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Zve(t,["options"]),a=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(a.new_email=r==null?void 0:r.newEmail,delete a.newEmail),await Ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Kve,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(We(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Ke(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ka})}catch(n){if(We(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,a,o,i,s,c;try{const l={nextPage:null,lastPage:0,total:0},u=await Ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:Yve});if(u.error)throw u.error;const d=await u.json(),f=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,h=(c=(s=u.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(p=>{const m=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(p.split(";")[1].split("=")[1]);l[`${v}Page`]=m}),l.total=parseInt(f)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(We(l))return{data:{users:[]},error:l};throw l}}async getUserById(t){try{return await Ke(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ka})}catch(n){if(We(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await Ke(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ka})}catch(r){if(We(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await Ke(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ka})}catch(r){if(We(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await Ke(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:r}}catch(n){if(We(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await Ke(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(We(n))return{data:null,error:n};throw n}}}const Qve={getItem:e=>Sl()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Sl()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Sl()&&globalThis.localStorage.removeItem(e)}};function zT(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function ege(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const zi={debug:!!(globalThis&&Sl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class tR extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class tge extends tR{}async function nge(e,t,n){zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),zi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async a=>{if(a){zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await n()}finally{zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new tge(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(zi.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}ege();const rge={url:_ve,storageKey:Ave,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Tve,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Gc=30*1e3,WT=3;async function HT(e,t,n){return await n()}class gu{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=gu.nextInstanceID,gu.nextInstanceID+=1,this.instanceID>0&&fr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},rge),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Jve({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=JM(a.fetch),this.lock=a.lock||HT,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:fr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=nge:this.lock=HT,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:Sl()?this.storage=Qve:(this.memoryStorage={},this.storage=zT(this.memoryStorage)):(this.memoryStorage={},this.storage=zT(this.memoryStorage)),fr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${XM}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=fr()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",n),n||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:r,error:a}=await this._getSessionFromURL(n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Vve(a)){const s=(t=a.details)===null||t===void 0?void 0:t.code;if(s==="identity_already_exists"||s==="identity_not_found"||s==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:i}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",i),await this._saveSession(o),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return We(n)?{error:n}:{error:new eR("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,a;try{const o=await Ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:za}),{data:i,error:s}=o;if(s||!i)return{data:{user:null,session:null},error:s};const c=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(o){if(We(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,a;try{let o;if("email"in t){const{email:u,password:d,options:f}=t;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await Vi(this.storage,this.storageKey)),o=await Ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:p},xform:za})}else if("phone"in t){const{phone:u,password:d,options:f}=t;o=await Ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(a=f==null?void 0:f.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:za})}else throw new Ld("You must provide either an email or phone number and a password");const{data:i,error:s}=o;if(s||!i)return{data:{user:null,session:null},error:s};const c=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(o){if(We(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:i,options:s}=t;n=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:VT})}else if("phone"in t){const{phone:o,password:i,options:s}=t;n=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:VT})}else throw new Ld("You must provide either an email or phone number and a password");const{data:r,error:a}=n;return a?{data:{user:null,session:null},error:a}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new yv}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:a})}catch(n){if(We(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,a,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await $d(this.storage,`${this.storageKey}-code-verifier`),[r,a]=(n??"").split("/");try{const{data:o,error:i}=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:za});if(await Id(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new yv}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:a??null}),error:i})}catch(o){if(We(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:a,access_token:o,nonce:i}=t,s=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:a,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:za}),{data:c,error:l}=s;return l?{data:{user:null,session:null},error:l}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new yv}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:l})}catch(n){if(We(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,a,o,i;try{if("email"in t){const{email:s,options:c}=t;let l=null,u=null;this.flowType==="pkce"&&([l,u]=await Vi(this.storage,this.storageKey));const{error:d}=await Ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:l,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:s,options:c}=t,{data:l,error:u}=await Ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new Ld("You must provide either an email or phone number.")}catch(s){if(We(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(t){var n,r;try{let a,o;"options"in t&&(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:i,error:s}=await Ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:a,xform:za});if(s)throw s;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,l=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(a){if(We(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var n,r,a;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await Vi(this.storage,this.storageKey)),await Ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:Gve})}catch(o){if(We(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Va;const{error:a}=await Ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(We(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:a,options:o}=t,{error:i}=await Ke(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:r,type:a,options:o}=t,{data:i,error:s}=await Ke(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:s}}throw new Ld("You must provide either an email or phone number and a type")}catch(n){if(We(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await $d(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,l,u)=>(!i&&l==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,l,u))})}return{data:{session:t},error:null}}const{session:a,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ka}):await this._useSession(async n=>{var r,a,o;const{data:i,error:s}=n;if(s)throw s;return!(!((r=i.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Va}:await Ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0,xform:Ka})})}catch(n){if(We(n))return Uve(n)&&(await this._removeSession(),await Id(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:a,error:o}=r;if(o)throw o;if(!a.session)throw new Va;const i=a.session;let s=null,c=null;this.flowType==="pkce"&&t.email!=null&&([s,c]=await Vi(this.storage,this.storageKey));const{data:l,error:u}=await Ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:c}),jwt:i.access_token,xform:Ka});if(u)throw u;return i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(r){if(We(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return LT(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Va;const n=Date.now()/1e3;let r=n,a=!0,o=null;const i=LT(t.access_token);if(i.exp&&(r=i.exp,a=r<=n),a){const{session:s,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!s)return{data:{user:null,session:null},error:null};o=s}else{const{data:s,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(We(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:i,error:s}=n;if(s)throw s;t=(r=i.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Va;const{session:a,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(We(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t){try{if(!fr())throw new Bd("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Bd("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new BT("Not a valid PKCE flow url.");const n=gv(window.location.href);if(t){if(!n.code)throw new BT("No code detected.");const{data:x,error:S}=await this._exchangeCodeForSession(n.code);if(S)throw S;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:x.session,redirectType:null},error:null}}if(n.error||n.error_description||n.error_code)throw new Bd(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:a,access_token:o,refresh_token:i,expires_in:s,expires_at:c,token_type:l}=n;if(!o||!s||!i||!l)throw new Bd("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(s);let f=u+d;c&&(f=parseInt(c));const h=f-u;h*1e3<=Gc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const p=f-d;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,f,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,f,u);const{data:m,error:v}=await this._getUser(o);if(v)throw v;const b={provider_token:r,provider_refresh_token:a,access_token:o,expires_in:d,expires_at:f,refresh_token:i,token_type:l,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:n.type},error:null}}catch(n){if(We(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantFlow(){const t=gv(window.location.href);return!!(fr()&&(t.access_token||t.error_description))}async _isPKCEFlow(){const t=gv(window.location.href),n=await $d(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:a,error:o}=n;if(o)return{error:o};const i=(r=a.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:s}=await this.admin.signOut(i,t);if(s&&!(Fve(s)&&(s.status===404||s.status===401||s.status===403)))return{error:s}}return t!=="others"&&(await this._removeSession(),await Id(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=Ove(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,a;try{const{data:{session:o},error:i}=n;if(i)throw i;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,a=null;this.flowType==="pkce"&&([r,a]=await Vi(this.storage,this.storageKey,!0));try{return await Ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(We(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(We(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:a}=await this._useSession(async o=>{var i,s,c,l,u;const{data:d,error:f}=o;if(f)throw f;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ke(this.fetch,"GET",h,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return fr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(We(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,a;const{data:o,error:i}=n;if(i)throw i;return await Ke(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(We(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Dve(async a=>(a>0&&await jve(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await Ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:za})),(a,o)=>{const i=200*Math.pow(2,a);return o&&bv(o)&&Date.now()+i-r<Gc})}catch(r){if(this._debug(n,"error",r),We(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),fr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await $d(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const a=Math.round(Date.now()/1e3),o=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<a+IT;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${IT}s`),o){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),bv(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Va;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new om;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new Va;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const s={session:o.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(o){if(this._debug(a,"error",o),We(o)){const i={session:null,error:o};return bv(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,n,r=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,n)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let s=0;s<o.length;s+=1)console.error(o[s]);throw o[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await QM(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Id(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&fr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Gc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((r.expires_at*1e3-t)/Gc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Gc}ms, refresh threshold is ${WT} ticks`),a<=WT&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof tR)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!fr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const a=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&a.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&a.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,i]=await Vi(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});a.push(s.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);a.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&a.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:a,error:o}=n;return o?{data:null,error:o}:await Ke(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(We(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,a;const{data:o,error:i}=n;if(i)return{data:null,error:i};const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:l}=await Ke(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(We(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:o}=n;if(o)return{data:null,error:o};const{data:i,error:s}=await Ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:s})})}catch(n){if(We(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:o}=n;return o?{data:null,error:o}:await Ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(We(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],a=r.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=r.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:r,totp:a,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:a},error:o}=t;if(o)return{data:null,error:o};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const i=this._decodeJWT(a.access_token);let s=null;i.aal&&(s=i.aal);let c=s;((r=(n=a.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const u=i.amr||[];return{data:{currentLevel:s,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}}gu.nextInstanceID=0;const age=gu;class oge extends age{constructor(t){super(t)}}var ige=function(e,t,n,r){function a(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function s(u){try{l(r.next(u))}catch(d){i(d)}}function c(u){try{l(r.throw(u))}catch(d){i(d)}}function l(u){u.done?o(u.value):a(u.value).then(s,c)}l((r=r.apply(e,t||[])).next())})};class sge{constructor(t,n,r){var a,o,i;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const s=wve(t);this.realtimeUrl=`${s}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${s}/auth/v1`,this.storageUrl=`${s}/storage/v1`,this.functionsUrl=`${s}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,l={db:hve,realtime:mve,auth:Object.assign(Object.assign({},pve),{storageKey:c}),global:fve},u=Sve(r??{},l);this.storageKey=(a=u.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=u.auth)!==null&&i!==void 0?i:{},this.headers,u.global.fetch),this.fetch=bve(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Mme(`${s}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new ume(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new lve(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return ige(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:a,storageKey:o,flowType:i,lock:s,debug:c},l,u){var d;const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new oge({url:this.authUrl,headers:Object.assign(Object.assign({},f),l),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:a,flowType:i,lock:s,debug:c,fetch:u,hasCustomAuthorizationHeader:(d="Authorization"in this.headers)!==null&&d!==void 0?d:!1})}_initRealtimeClient(t){return new Yme(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const cge=(e,t,n)=>new sge(e,t,n),lge="https://fhisqbevtkjdcokqeoqa.supabase.co",uge="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZoaXNxYmV2dGtqZGNva3Flb3FhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDc5MjA0MDAsImV4cCI6MjAyMzQ5NjQwMH0.dPTGt8OLhxq-KfqYKwVRkKkqE8fXHQa_PKhF5LqQyYE",rl=cge(lge,uge),nR=()=>{const{data:e,isLoading:t,error:n}=EP({queryKey:["profile"],queryFn:async()=>{const{data:{user:o}}=await rl.auth.getUser();if(!o)return null;const{data:i,error:s}=await rl.from("profiles").select("*").eq("id",o.id).single();if(s)throw s;return i}}),{mutateAsync:r,isPending:a}=$$({mutationFn:async o=>{const{data:{user:i}}=await rl.auth.getUser();if(!i)return null;const{data:s,error:c}=await rl.from("profiles").update(o).eq("id",i.id).select().single();if(c)throw c;return s}});return{profile:e,isLoading:t,updateProfile:r,isPending:a}},rR=w.forwardRef(({className:e,...t},n)=>g.jsx("textarea",{"data-component-path":"src\\components\\ui\\textarea.tsx","data-component-name":"textarea","data-component-line":"10","data-component-file":"textarea.tsx","data-component-content":"%7B%7D",className:Ae("flex min-h-[100px] w-full rounded-lg border border-input bg-background px-4 py-3","text-sm ring-offset-background transition-colors duration-200","placeholder:text-muted-foreground/60","focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none","disabled:cursor-not-allowed disabled:opacity-50","resize-none",e),ref:n,...t}));rR.displayName="Textarea";const qT=(e,t,n)=>{if(e&&"reportValidity"in e){const r=re(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},aR=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?qT(r.ref,n,e):r.refs&&r.refs.forEach(a=>qT(a,n,e))}},dge=(e,t)=>{t.shouldUseNativeValidation&&aR(e,t);const n={};for(const r in e){const a=re(t.fields,r),o=Object.assign(e[r]||{},{ref:a&&a.ref});if(fge(t.names||Object.keys(e),r)){const i=Object.assign({},re(n,r));at(i,"root",o),at(n,r,i)}else at(n,r,o)}return n},fge=(e,t)=>e.some(n=>n.startsWith(t+"."));var hge=function(e,t){for(var n={};e.length;){var r=e[0],a=r.code,o=r.message,i=r.path.join(".");if(!n[i])if("unionErrors"in r){var s=r.unionErrors[0].errors[0];n[i]={message:s.message,type:s.code}}else n[i]={message:o,type:a};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(d){return e.push(d)})}),t){var c=n[i].types,l=c&&c[r.code];n[i]=lE(i,t,n,a,l?[].concat(l,r.message):r.message)}e.shift()}return n},pge=function(e,t,n){return n===void 0&&(n={}),function(r,a,o){try{return Promise.resolve(function(i,s){try{var c=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(l){return o.shouldUseNativeValidation&&aR({},o),{errors:{},values:n.raw?r:l}})}catch(l){return s(l)}return c&&c.then?c.then(void 0,s):c}(0,function(i){if(function(s){return Array.isArray(s==null?void 0:s.errors)}(i))return{values:{},errors:dge(hge(i.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw i}))}catch(i){return Promise.reject(i)}}},Ze;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function n(a){throw new Error}e.assertNever=n,e.arrayToEnum=a=>{const o={};for(const i of a)o[i]=i;return o},e.getValidEnumValues=a=>{const o=e.objectKeys(a).filter(s=>typeof a[a[s]]!="number"),i={};for(const s of o)i[s]=a[s];return e.objectValues(i)},e.objectValues=a=>e.objectKeys(a).map(function(o){return a[o]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const o=[];for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&o.push(i);return o},e.find=(a,o)=>{for(const i of a)if(o(i))return i},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function r(a,o=" | "){return a.map(i=>typeof i=="string"?`'${i}'`:i).join(o)}e.joinValues=r,e.jsonStringifyReplacer=(a,o)=>typeof o=="bigint"?o.toString():o})(Ze||(Ze={}));var i0;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(i0||(i0={}));const de=Ze.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ma=e=>{switch(typeof e){case"undefined":return de.undefined;case"string":return de.string;case"number":return isNaN(e)?de.nan:de.number;case"boolean":return de.boolean;case"function":return de.function;case"bigint":return de.bigint;case"symbol":return de.symbol;case"object":return Array.isArray(e)?de.array:e===null?de.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?de.promise:typeof Map<"u"&&e instanceof Map?de.map:typeof Set<"u"&&e instanceof Set?de.set:typeof Date<"u"&&e instanceof Date?de.date:de.object;default:return de.unknown}},te=Ze.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),mge=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Gn extends Error{constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const n=t||function(o){return o.message},r={_errors:[]},a=o=>{for(const i of o.issues)if(i.code==="invalid_union")i.unionErrors.map(a);else if(i.code==="invalid_return_type")a(i.returnTypeError);else if(i.code==="invalid_arguments")a(i.argumentsError);else if(i.path.length===0)r._errors.push(n(i));else{let s=r,c=0;for(;c<i.path.length;){const l=i.path[c];c===i.path.length-1?(s[l]=s[l]||{_errors:[]},s[l]._errors.push(n(i))):s[l]=s[l]||{_errors:[]},s=s[l],c++}}};return a(this),r}static assert(t){if(!(t instanceof Gn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ze.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const a of this.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(t(a))):r.push(t(a));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Gn.create=e=>new Gn(e);const Qs=(e,t)=>{let n;switch(e.code){case te.invalid_type:e.received===de.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case te.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Ze.jsonStringifyReplacer)}`;break;case te.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ze.joinValues(e.keys,", ")}`;break;case te.invalid_union:n="Invalid input";break;case te.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ze.joinValues(e.options)}`;break;case te.invalid_enum_value:n=`Invalid enum value. Expected ${Ze.joinValues(e.options)}, received '${e.received}'`;break;case te.invalid_arguments:n="Invalid function arguments";break;case te.invalid_return_type:n="Invalid function return type";break;case te.invalid_date:n="Invalid date";break;case te.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Ze.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case te.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case te.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case te.custom:n="Invalid input";break;case te.invalid_intersection_types:n="Intersection results could not be merged";break;case te.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case te.not_finite:n="Number must be finite";break;default:n=t.defaultError,Ze.assertNever(e)}return{message:n}};let oR=Qs;function vge(e){oR=e}function Th(){return oR}const Ph=e=>{const{data:t,path:n,errorMaps:r,issueData:a}=e,o=[...n,...a.path||[]],i={...a,path:o};if(a.message!==void 0)return{...a,path:o,message:a.message};let s="";const c=r.filter(l=>!!l).slice().reverse();for(const l of c)s=l(i,{data:t,defaultError:s}).message;return{...a,path:o,message:s}},gge=[];function se(e,t){const n=Th(),r=Ph({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Qs?void 0:Qs].filter(a=>!!a)});e.common.issues.push(r)}class xn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const a of n){if(a.status==="aborted")return De;a.status==="dirty"&&t.dirty(),r.push(a.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const a of n){const o=await a.key,i=await a.value;r.push({key:o,value:i})}return xn.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const a of n){const{key:o,value:i}=a;if(o.status==="aborted"||i.status==="aborted")return De;o.status==="dirty"&&t.dirty(),i.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof i.value<"u"||a.alwaysSet)&&(r[o.value]=i.value)}return{status:t.value,value:r}}}const De=Object.freeze({status:"aborted"}),ns=e=>({status:"dirty",value:e}),Cn=e=>({status:"valid",value:e}),s0=e=>e.status==="aborted",c0=e=>e.status==="dirty",xi=e=>e.status==="valid",yu=e=>typeof Promise<"u"&&e instanceof Promise;function Oh(e,t,n,r){if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function iR(e,t,n,r,a){if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var xe;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(xe||(xe={}));var al,ol;class Jr{constructor(t,n,r,a){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const GT=(e,t)=>{if(xi(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Gn(e.common.issues);return this._error=n,this._error}}};function Le(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:a}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(i,s)=>{var c,l;const{message:u}=e;return i.code==="invalid_enum_value"?{message:u??s.defaultError}:typeof s.data>"u"?{message:(c=u??r)!==null&&c!==void 0?c:s.defaultError}:i.code!=="invalid_type"?{message:s.defaultError}:{message:(l=u??n)!==null&&l!==void 0?l:s.defaultError}},description:a}}class He{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}get description(){return this._def.description}_getType(t){return ma(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:ma(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new xn,ctx:{common:t.parent.common,data:t.data,parsedType:ma(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(yu(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const a={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ma(t)},o=this._parseSync({data:t,path:a.path,parent:a});return GT(a,o)}"~validate"(t){var n,r,a;const o={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ma(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:o});return xi(i)?{value:i.value}:{issues:o.common.issues}}catch(i){!((a=(r=(n=i)===null||n===void 0?void 0:n.message)===null||r===void 0?void 0:r.toLowerCase())===null||a===void 0)&&a.includes("encountered")&&(this["~standard"].async=!0),o.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:o}).then(i=>xi(i)?{value:i.value}:{issues:o.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ma(t)},a=this._parse({data:t,path:r.path,parent:r}),o=await(yu(a)?a:Promise.resolve(a));return GT(r,o)}refine(t,n){const r=a=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(a):n;return this._refinement((a,o)=>{const i=t(a),s=()=>o.addIssue({code:te.custom,...r(a)});return typeof Promise<"u"&&i instanceof Promise?i.then(c=>c?!0:(s(),!1)):i?!0:(s(),!1)})}refinement(t,n){return this._refinement((r,a)=>t(r)?!0:(a.addIssue(typeof n=="function"?n(r,a):n),!1))}_refinement(t){return new Er({schema:this,typeName:je.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return Yr.create(this,this._def)}nullable(){return go.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Or.create(this)}promise(){return tc.create(this,this._def)}or(t){return Su.create([this,t],this._def)}and(t){return _u.create(this,t,this._def)}transform(t){return new Er({...Le(this._def),schema:this,typeName:je.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Cu({...Le(this._def),innerType:this,defaultValue:n,typeName:je.ZodDefault})}brand(){return new e2({typeName:je.ZodBranded,type:this,...Le(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Eu({...Le(this._def),innerType:this,catchValue:n,typeName:je.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return od.create(this,t)}readonly(){return ju.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const yge=/^c[^\s-]{8,}$/i,bge=/^[0-9a-z]+$/,xge=/^[0-9A-HJKMNP-TV-Z]{26}$/i,wge=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Sge=/^[a-z0-9_-]{21}$/i,_ge=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Age=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Tge=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Pge="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let xv;const Oge=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Cge=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Ege=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,jge=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Dge=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,kge=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,sR="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Nge=new RegExp(`^${sR}$`);function cR(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function Mge(e){return new RegExp(`^${cR(e)}$`)}function lR(e){let t=`${sR}T${cR(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function Rge(e,t){return!!((t==="v4"||!t)&&Oge.test(e)||(t==="v6"||!t)&&Ege.test(e))}function $ge(e,t){if(!_ge.test(e))return!1;try{const[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(r));return!(typeof a!="object"||a===null||!a.typ||!a.alg||t&&a.alg!==t)}catch{return!1}}function Ige(e,t){return!!((t==="v4"||!t)&&Cge.test(e)||(t==="v6"||!t)&&jge.test(e))}class Ar extends He{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==de.string){const o=this._getOrReturnCtx(t);return se(o,{code:te.invalid_type,expected:de.string,received:o.parsedType}),De}const r=new xn;let a;for(const o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(a=this._getOrReturnCtx(t,a),se(a,{code:te.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")t.data.length>o.value&&(a=this._getOrReturnCtx(t,a),se(a,{code:te.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const i=t.data.length>o.value,s=t.data.length<o.value;(i||s)&&(a=this._getOrReturnCtx(t,a),i?se(a,{code:te.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):s&&se(a,{code:te.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")Tge.test(t.data)||(a=this._getOrReturnCtx(t,a),se(a,{validation:"email",code:te.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")xv||(xv=new RegExp(Pge,"u")),xv.test(t.data)||(a=this._getOrReturnCtx(t,a),se(a,{validation:"emoji",code:te.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")wge.test(t.data)||(a=this._getOrReturnCtx(t,a),se(a,{validation:"uuid",code:te.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")Sge.test(t.data)||(a=this._getOrReturnCtx(t,a),se(a,{validation:"nanoid",code:te.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")yge.test(t.data)||(a=this._getOrReturnCtx(t,a),se(a,{validation:"cuid",code:te.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")bge.test(t.data)||(a=this._getOrReturnCtx(t,a),se(a,{validation:"cuid2",code:te.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")xge.test(t.data)||(a=this._getOrReturnCtx(t,a),se(a,{validation:"ulid",code:te.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),se(a,{validation:"url",code:te.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),se(a,{validation:"regex",code:te.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="includes"?t.data.includes(o.value,o.position)||(a=this._getOrReturnCtx(t,a),se(a,{code:te.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?t.data=t.data.toLowerCase():o.kind==="toUpperCase"?t.data=t.data.toUpperCase():o.kind==="startsWith"?t.data.startsWith(o.value)||(a=this._getOrReturnCtx(t,a),se(a,{code:te.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(a=this._getOrReturnCtx(t,a),se(a,{code:te.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?lR(o).test(t.data)||(a=this._getOrReturnCtx(t,a),se(a,{code:te.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?Nge.test(t.data)||(a=this._getOrReturnCtx(t,a),se(a,{code:te.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?Mge(o).test(t.data)||(a=this._getOrReturnCtx(t,a),se(a,{code:te.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?Age.test(t.data)||(a=this._getOrReturnCtx(t,a),se(a,{validation:"duration",code:te.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?Rge(t.data,o.version)||(a=this._getOrReturnCtx(t,a),se(a,{validation:"ip",code:te.invalid_string,message:o.message}),r.dirty()):o.kind==="jwt"?$ge(t.data,o.alg)||(a=this._getOrReturnCtx(t,a),se(a,{validation:"jwt",code:te.invalid_string,message:o.message}),r.dirty()):o.kind==="cidr"?Ige(t.data,o.version)||(a=this._getOrReturnCtx(t,a),se(a,{validation:"cidr",code:te.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?Dge.test(t.data)||(a=this._getOrReturnCtx(t,a),se(a,{validation:"base64",code:te.invalid_string,message:o.message}),r.dirty()):o.kind==="base64url"?kge.test(t.data)||(a=this._getOrReturnCtx(t,a),se(a,{validation:"base64url",code:te.invalid_string,message:o.message}),r.dirty()):Ze.assertNever(o);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(a=>t.test(a),{validation:n,code:te.invalid_string,...xe.errToObj(r)})}_addCheck(t){return new Ar({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...xe.errToObj(t)})}url(t){return this._addCheck({kind:"url",...xe.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...xe.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...xe.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...xe.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...xe.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...xe.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...xe.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...xe.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...xe.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...xe.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...xe.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...xe.errToObj(t)})}datetime(t){var n,r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(r=t==null?void 0:t.local)!==null&&r!==void 0?r:!1,...xe.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...xe.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...xe.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...xe.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...xe.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...xe.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...xe.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...xe.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...xe.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...xe.errToObj(n)})}nonempty(t){return this.min(1,xe.errToObj(t))}trim(){return new Ar({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ar({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ar({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Ar.create=e=>{var t;return new Ar({checks:[],typeName:je.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Le(e)})};function Lge(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=n>r?n:r,o=parseInt(e.toFixed(a).replace(".","")),i=parseInt(t.toFixed(a).replace(".",""));return o%i/Math.pow(10,a)}class po extends He{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==de.number){const o=this._getOrReturnCtx(t);return se(o,{code:te.invalid_type,expected:de.number,received:o.parsedType}),De}let r;const a=new xn;for(const o of this._def.checks)o.kind==="int"?Ze.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),se(r,{code:te.invalid_type,expected:"integer",received:"float",message:o.message}),a.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(r=this._getOrReturnCtx(t,r),se(r,{code:te.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),a.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(r=this._getOrReturnCtx(t,r),se(r,{code:te.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),a.dirty()):o.kind==="multipleOf"?Lge(t.data,o.value)!==0&&(r=this._getOrReturnCtx(t,r),se(r,{code:te.not_multiple_of,multipleOf:o.value,message:o.message}),a.dirty()):o.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),se(r,{code:te.not_finite,message:o.message}),a.dirty()):Ze.assertNever(o);return{status:a.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,xe.toString(n))}gt(t,n){return this.setLimit("min",t,!1,xe.toString(n))}lte(t,n){return this.setLimit("max",t,!0,xe.toString(n))}lt(t,n){return this.setLimit("max",t,!1,xe.toString(n))}setLimit(t,n,r,a){return new po({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:xe.toString(a)}]})}_addCheck(t){return new po({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:xe.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:xe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:xe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:xe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:xe.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:xe.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:xe.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:xe.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:xe.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Ze.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}po.create=e=>new po({checks:[],typeName:je.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Le(e)});class mo extends He{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==de.bigint)return this._getInvalidInput(t);let r;const a=new xn;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(r=this._getOrReturnCtx(t,r),se(r,{code:te.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),a.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(r=this._getOrReturnCtx(t,r),se(r,{code:te.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),a.dirty()):o.kind==="multipleOf"?t.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),se(r,{code:te.not_multiple_of,multipleOf:o.value,message:o.message}),a.dirty()):Ze.assertNever(o);return{status:a.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return se(n,{code:te.invalid_type,expected:de.bigint,received:n.parsedType}),De}gte(t,n){return this.setLimit("min",t,!0,xe.toString(n))}gt(t,n){return this.setLimit("min",t,!1,xe.toString(n))}lte(t,n){return this.setLimit("max",t,!0,xe.toString(n))}lt(t,n){return this.setLimit("max",t,!1,xe.toString(n))}setLimit(t,n,r,a){return new mo({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:xe.toString(a)}]})}_addCheck(t){return new mo({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:xe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:xe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:xe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:xe.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:xe.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}mo.create=e=>{var t;return new mo({checks:[],typeName:je.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Le(e)})};class bu extends He{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==de.boolean){const r=this._getOrReturnCtx(t);return se(r,{code:te.invalid_type,expected:de.boolean,received:r.parsedType}),De}return Cn(t.data)}}bu.create=e=>new bu({typeName:je.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Le(e)});class wi extends He{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==de.date){const o=this._getOrReturnCtx(t);return se(o,{code:te.invalid_type,expected:de.date,received:o.parsedType}),De}if(isNaN(t.data.getTime())){const o=this._getOrReturnCtx(t);return se(o,{code:te.invalid_date}),De}const r=new xn;let a;for(const o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(a=this._getOrReturnCtx(t,a),se(a,{code:te.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(a=this._getOrReturnCtx(t,a),se(a,{code:te.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):Ze.assertNever(o);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new wi({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:xe.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:xe.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}wi.create=e=>new wi({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:je.ZodDate,...Le(e)});class Ch extends He{_parse(t){if(this._getType(t)!==de.symbol){const r=this._getOrReturnCtx(t);return se(r,{code:te.invalid_type,expected:de.symbol,received:r.parsedType}),De}return Cn(t.data)}}Ch.create=e=>new Ch({typeName:je.ZodSymbol,...Le(e)});class xu extends He{_parse(t){if(this._getType(t)!==de.undefined){const r=this._getOrReturnCtx(t);return se(r,{code:te.invalid_type,expected:de.undefined,received:r.parsedType}),De}return Cn(t.data)}}xu.create=e=>new xu({typeName:je.ZodUndefined,...Le(e)});class wu extends He{_parse(t){if(this._getType(t)!==de.null){const r=this._getOrReturnCtx(t);return se(r,{code:te.invalid_type,expected:de.null,received:r.parsedType}),De}return Cn(t.data)}}wu.create=e=>new wu({typeName:je.ZodNull,...Le(e)});class ec extends He{constructor(){super(...arguments),this._any=!0}_parse(t){return Cn(t.data)}}ec.create=e=>new ec({typeName:je.ZodAny,...Le(e)});class di extends He{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Cn(t.data)}}di.create=e=>new di({typeName:je.ZodUnknown,...Le(e)});class Ea extends He{_parse(t){const n=this._getOrReturnCtx(t);return se(n,{code:te.invalid_type,expected:de.never,received:n.parsedType}),De}}Ea.create=e=>new Ea({typeName:je.ZodNever,...Le(e)});class Eh extends He{_parse(t){if(this._getType(t)!==de.undefined){const r=this._getOrReturnCtx(t);return se(r,{code:te.invalid_type,expected:de.void,received:r.parsedType}),De}return Cn(t.data)}}Eh.create=e=>new Eh({typeName:je.ZodVoid,...Le(e)});class Or extends He{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),a=this._def;if(n.parsedType!==de.array)return se(n,{code:te.invalid_type,expected:de.array,received:n.parsedType}),De;if(a.exactLength!==null){const i=n.data.length>a.exactLength.value,s=n.data.length<a.exactLength.value;(i||s)&&(se(n,{code:i?te.too_big:te.too_small,minimum:s?a.exactLength.value:void 0,maximum:i?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(a.minLength!==null&&n.data.length<a.minLength.value&&(se(n,{code:te.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),a.maxLength!==null&&n.data.length>a.maxLength.value&&(se(n,{code:te.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((i,s)=>a.type._parseAsync(new Jr(n,i,n.path,s)))).then(i=>xn.mergeArray(r,i));const o=[...n.data].map((i,s)=>a.type._parseSync(new Jr(n,i,n.path,s)));return xn.mergeArray(r,o)}get element(){return this._def.type}min(t,n){return new Or({...this._def,minLength:{value:t,message:xe.toString(n)}})}max(t,n){return new Or({...this._def,maxLength:{value:t,message:xe.toString(n)}})}length(t,n){return new Or({...this._def,exactLength:{value:t,message:xe.toString(n)}})}nonempty(t){return this.min(1,t)}}Or.create=(e,t)=>new Or({type:e,minLength:null,maxLength:null,exactLength:null,typeName:je.ZodArray,...Le(t)});function Hi(e){if(e instanceof Ct){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Yr.create(Hi(r))}return new Ct({...e._def,shape:()=>t})}else return e instanceof Or?new Or({...e._def,type:Hi(e.element)}):e instanceof Yr?Yr.create(Hi(e.unwrap())):e instanceof go?go.create(Hi(e.unwrap())):e instanceof Qr?Qr.create(e.items.map(t=>Hi(t))):e}class Ct extends He{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=Ze.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==de.object){const l=this._getOrReturnCtx(t);return se(l,{code:te.invalid_type,expected:de.object,received:l.parsedType}),De}const{status:r,ctx:a}=this._processInputParams(t),{shape:o,keys:i}=this._getCached(),s=[];if(!(this._def.catchall instanceof Ea&&this._def.unknownKeys==="strip"))for(const l in a.data)i.includes(l)||s.push(l);const c=[];for(const l of i){const u=o[l],d=a.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new Jr(a,d,a.path,l)),alwaysSet:l in a.data})}if(this._def.catchall instanceof Ea){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of s)c.push({key:{status:"valid",value:u},value:{status:"valid",value:a.data[u]}});else if(l==="strict")s.length>0&&(se(a,{code:te.unrecognized_keys,keys:s}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of s){const d=a.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new Jr(a,d,a.path,u)),alwaysSet:u in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of c){const d=await u.key,f=await u.value;l.push({key:d,value:f,alwaysSet:u.alwaysSet})}return l}).then(l=>xn.mergeObjectSync(r,l)):xn.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return xe.errToObj,new Ct({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var a,o,i,s;const c=(i=(o=(a=this._def).errorMap)===null||o===void 0?void 0:o.call(a,n,r).message)!==null&&i!==void 0?i:r.defaultError;return n.code==="unrecognized_keys"?{message:(s=xe.errToObj(t).message)!==null&&s!==void 0?s:c}:{message:c}}}:{}})}strip(){return new Ct({...this._def,unknownKeys:"strip"})}passthrough(){return new Ct({...this._def,unknownKeys:"passthrough"})}extend(t){return new Ct({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Ct({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:je.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new Ct({...this._def,catchall:t})}pick(t){const n={};return Ze.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Ct({...this._def,shape:()=>n})}omit(t){const n={};return Ze.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new Ct({...this._def,shape:()=>n})}deepPartial(){return Hi(this)}partial(t){const n={};return Ze.objectKeys(this.shape).forEach(r=>{const a=this.shape[r];t&&!t[r]?n[r]=a:n[r]=a.optional()}),new Ct({...this._def,shape:()=>n})}required(t){const n={};return Ze.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof Yr;)o=o._def.innerType;n[r]=o}}),new Ct({...this._def,shape:()=>n})}keyof(){return uR(Ze.objectKeys(this.shape))}}Ct.create=(e,t)=>new Ct({shape:()=>e,unknownKeys:"strip",catchall:Ea.create(),typeName:je.ZodObject,...Le(t)});Ct.strictCreate=(e,t)=>new Ct({shape:()=>e,unknownKeys:"strict",catchall:Ea.create(),typeName:je.ZodObject,...Le(t)});Ct.lazycreate=(e,t)=>new Ct({shape:e,unknownKeys:"strip",catchall:Ea.create(),typeName:je.ZodObject,...Le(t)});class Su extends He{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function a(o){for(const s of o)if(s.result.status==="valid")return s.result;for(const s of o)if(s.result.status==="dirty")return n.common.issues.push(...s.ctx.common.issues),s.result;const i=o.map(s=>new Gn(s.ctx.common.issues));return se(n,{code:te.invalid_union,unionErrors:i}),De}if(n.common.async)return Promise.all(r.map(async o=>{const i={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:i}),ctx:i}})).then(a);{let o;const i=[];for(const c of r){const l={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!o&&(o={result:u,ctx:l}),l.common.issues.length&&i.push(l.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const s=i.map(c=>new Gn(c));return se(n,{code:te.invalid_union,unionErrors:s}),De}}get options(){return this._def.options}}Su.create=(e,t)=>new Su({options:e,typeName:je.ZodUnion,...Le(t)});const ha=e=>e instanceof Tu?ha(e.schema):e instanceof Er?ha(e.innerType()):e instanceof Pu?[e.value]:e instanceof vo?e.options:e instanceof Ou?Ze.objectValues(e.enum):e instanceof Cu?ha(e._def.innerType):e instanceof xu?[void 0]:e instanceof wu?[null]:e instanceof Yr?[void 0,...ha(e.unwrap())]:e instanceof go?[null,...ha(e.unwrap())]:e instanceof e2||e instanceof ju?ha(e.unwrap()):e instanceof Eu?ha(e._def.innerType):[];class im extends He{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==de.object)return se(n,{code:te.invalid_type,expected:de.object,received:n.parsedType}),De;const r=this.discriminator,a=n.data[r],o=this.optionsMap.get(a);return o?n.common.async?o._parseAsync({data:n.data,path:n.path,parent:n}):o._parseSync({data:n.data,path:n.path,parent:n}):(se(n,{code:te.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),De)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const a=new Map;for(const o of n){const i=ha(o.shape[t]);if(!i.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const s of i){if(a.has(s))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(s)}`);a.set(s,o)}}return new im({typeName:je.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:a,...Le(r)})}}function l0(e,t){const n=ma(e),r=ma(t);if(e===t)return{valid:!0,data:e};if(n===de.object&&r===de.object){const a=Ze.objectKeys(t),o=Ze.objectKeys(e).filter(s=>a.indexOf(s)!==-1),i={...e,...t};for(const s of o){const c=l0(e[s],t[s]);if(!c.valid)return{valid:!1};i[s]=c.data}return{valid:!0,data:i}}else if(n===de.array&&r===de.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let o=0;o<e.length;o++){const i=e[o],s=t[o],c=l0(i,s);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return n===de.date&&r===de.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class _u extends He{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),a=(o,i)=>{if(s0(o)||s0(i))return De;const s=l0(o.value,i.value);return s.valid?((c0(o)||c0(i))&&n.dirty(),{status:n.value,value:s.data}):(se(r,{code:te.invalid_intersection_types}),De)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,i])=>a(o,i)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}_u.create=(e,t,n)=>new _u({left:e,right:t,typeName:je.ZodIntersection,...Le(n)});class Qr extends He{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==de.array)return se(r,{code:te.invalid_type,expected:de.array,received:r.parsedType}),De;if(r.data.length<this._def.items.length)return se(r,{code:te.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),De;!this._def.rest&&r.data.length>this._def.items.length&&(se(r,{code:te.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...r.data].map((i,s)=>{const c=this._def.items[s]||this._def.rest;return c?c._parse(new Jr(r,i,r.path,s)):null}).filter(i=>!!i);return r.common.async?Promise.all(o).then(i=>xn.mergeArray(n,i)):xn.mergeArray(n,o)}get items(){return this._def.items}rest(t){return new Qr({...this._def,rest:t})}}Qr.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Qr({items:e,typeName:je.ZodTuple,rest:null,...Le(t)})};class Au extends He{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==de.object)return se(r,{code:te.invalid_type,expected:de.object,received:r.parsedType}),De;const a=[],o=this._def.keyType,i=this._def.valueType;for(const s in r.data)a.push({key:o._parse(new Jr(r,s,r.path,s)),value:i._parse(new Jr(r,r.data[s],r.path,s)),alwaysSet:s in r.data});return r.common.async?xn.mergeObjectAsync(n,a):xn.mergeObjectSync(n,a)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof He?new Au({keyType:t,valueType:n,typeName:je.ZodRecord,...Le(r)}):new Au({keyType:Ar.create(),valueType:t,typeName:je.ZodRecord,...Le(n)})}}class jh extends He{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==de.map)return se(r,{code:te.invalid_type,expected:de.map,received:r.parsedType}),De;const a=this._def.keyType,o=this._def.valueType,i=[...r.data.entries()].map(([s,c],l)=>({key:a._parse(new Jr(r,s,r.path,[l,"key"])),value:o._parse(new Jr(r,c,r.path,[l,"value"]))}));if(r.common.async){const s=new Map;return Promise.resolve().then(async()=>{for(const c of i){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return De;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),s.set(l.value,u.value)}return{status:n.value,value:s}})}else{const s=new Map;for(const c of i){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return De;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),s.set(l.value,u.value)}return{status:n.value,value:s}}}}jh.create=(e,t,n)=>new jh({valueType:t,keyType:e,typeName:je.ZodMap,...Le(n)});class Si extends He{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==de.set)return se(r,{code:te.invalid_type,expected:de.set,received:r.parsedType}),De;const a=this._def;a.minSize!==null&&r.data.size<a.minSize.value&&(se(r,{code:te.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),a.maxSize!==null&&r.data.size>a.maxSize.value&&(se(r,{code:te.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());const o=this._def.valueType;function i(c){const l=new Set;for(const u of c){if(u.status==="aborted")return De;u.status==="dirty"&&n.dirty(),l.add(u.value)}return{status:n.value,value:l}}const s=[...r.data.values()].map((c,l)=>o._parse(new Jr(r,c,r.path,l)));return r.common.async?Promise.all(s).then(c=>i(c)):i(s)}min(t,n){return new Si({...this._def,minSize:{value:t,message:xe.toString(n)}})}max(t,n){return new Si({...this._def,maxSize:{value:t,message:xe.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Si.create=(e,t)=>new Si({valueType:e,minSize:null,maxSize:null,typeName:je.ZodSet,...Le(t)});class us extends He{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==de.function)return se(n,{code:te.invalid_type,expected:de.function,received:n.parsedType}),De;function r(s,c){return Ph({data:s,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Th(),Qs].filter(l=>!!l),issueData:{code:te.invalid_arguments,argumentsError:c}})}function a(s,c){return Ph({data:s,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Th(),Qs].filter(l=>!!l),issueData:{code:te.invalid_return_type,returnTypeError:c}})}const o={errorMap:n.common.contextualErrorMap},i=n.data;if(this._def.returns instanceof tc){const s=this;return Cn(async function(...c){const l=new Gn([]),u=await s._def.args.parseAsync(c,o).catch(h=>{throw l.addIssue(r(c,h)),l}),d=await Reflect.apply(i,this,u);return await s._def.returns._def.type.parseAsync(d,o).catch(h=>{throw l.addIssue(a(d,h)),l})})}else{const s=this;return Cn(function(...c){const l=s._def.args.safeParse(c,o);if(!l.success)throw new Gn([r(c,l.error)]);const u=Reflect.apply(i,this,l.data),d=s._def.returns.safeParse(u,o);if(!d.success)throw new Gn([a(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new us({...this._def,args:Qr.create(t).rest(di.create())})}returns(t){return new us({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new us({args:t||Qr.create([]).rest(di.create()),returns:n||di.create(),typeName:je.ZodFunction,...Le(r)})}}class Tu extends He{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Tu.create=(e,t)=>new Tu({getter:e,typeName:je.ZodLazy,...Le(t)});class Pu extends He{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return se(n,{received:n.data,code:te.invalid_literal,expected:this._def.value}),De}return{status:"valid",value:t.data}}get value(){return this._def.value}}Pu.create=(e,t)=>new Pu({value:e,typeName:je.ZodLiteral,...Le(t)});function uR(e,t){return new vo({values:e,typeName:je.ZodEnum,...Le(t)})}class vo extends He{constructor(){super(...arguments),al.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return se(n,{expected:Ze.joinValues(r),received:n.parsedType,code:te.invalid_type}),De}if(Oh(this,al)||iR(this,al,new Set(this._def.values)),!Oh(this,al).has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return se(n,{received:n.data,code:te.invalid_enum_value,options:r}),De}return Cn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return vo.create(t,{...this._def,...n})}exclude(t,n=this._def){return vo.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}al=new WeakMap;vo.create=uR;class Ou extends He{constructor(){super(...arguments),ol.set(this,void 0)}_parse(t){const n=Ze.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==de.string&&r.parsedType!==de.number){const a=Ze.objectValues(n);return se(r,{expected:Ze.joinValues(a),received:r.parsedType,code:te.invalid_type}),De}if(Oh(this,ol)||iR(this,ol,new Set(Ze.getValidEnumValues(this._def.values))),!Oh(this,ol).has(t.data)){const a=Ze.objectValues(n);return se(r,{received:r.data,code:te.invalid_enum_value,options:a}),De}return Cn(t.data)}get enum(){return this._def.values}}ol=new WeakMap;Ou.create=(e,t)=>new Ou({values:e,typeName:je.ZodNativeEnum,...Le(t)});class tc extends He{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==de.promise&&n.common.async===!1)return se(n,{code:te.invalid_type,expected:de.promise,received:n.parsedType}),De;const r=n.parsedType===de.promise?n.data:Promise.resolve(n.data);return Cn(r.then(a=>this._def.type.parseAsync(a,{path:n.path,errorMap:n.common.contextualErrorMap})))}}tc.create=(e,t)=>new tc({type:e,typeName:je.ZodPromise,...Le(t)});class Er extends He{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===je.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),a=this._def.effect||null,o={addIssue:i=>{se(r,i),i.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),a.type==="preprocess"){const i=a.transform(r.data,o);if(r.common.async)return Promise.resolve(i).then(async s=>{if(n.value==="aborted")return De;const c=await this._def.schema._parseAsync({data:s,path:r.path,parent:r});return c.status==="aborted"?De:c.status==="dirty"||n.value==="dirty"?ns(c.value):c});{if(n.value==="aborted")return De;const s=this._def.schema._parseSync({data:i,path:r.path,parent:r});return s.status==="aborted"?De:s.status==="dirty"||n.value==="dirty"?ns(s.value):s}}if(a.type==="refinement"){const i=s=>{const c=a.refinement(s,o);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return s};if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?De:(s.status==="dirty"&&n.dirty(),i(s.value),{status:n.value,value:s.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>s.status==="aborted"?De:(s.status==="dirty"&&n.dirty(),i(s.value).then(()=>({status:n.value,value:s.value}))))}if(a.type==="transform")if(r.common.async===!1){const i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!xi(i))return i;const s=a.transform(i.value,o);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:s}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(i=>xi(i)?Promise.resolve(a.transform(i.value,o)).then(s=>({status:n.value,value:s})):i);Ze.assertNever(a)}}Er.create=(e,t,n)=>new Er({schema:e,typeName:je.ZodEffects,effect:t,...Le(n)});Er.createWithPreprocess=(e,t,n)=>new Er({schema:t,effect:{type:"preprocess",transform:e},typeName:je.ZodEffects,...Le(n)});class Yr extends He{_parse(t){return this._getType(t)===de.undefined?Cn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Yr.create=(e,t)=>new Yr({innerType:e,typeName:je.ZodOptional,...Le(t)});class go extends He{_parse(t){return this._getType(t)===de.null?Cn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}go.create=(e,t)=>new go({innerType:e,typeName:je.ZodNullable,...Le(t)});class Cu extends He{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===de.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Cu.create=(e,t)=>new Cu({innerType:e,typeName:je.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Le(t)});class Eu extends He{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},a=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return yu(a)?a.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Gn(r.common.issues)},input:r.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Gn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Eu.create=(e,t)=>new Eu({innerType:e,typeName:je.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Le(t)});class Dh extends He{_parse(t){if(this._getType(t)!==de.nan){const r=this._getOrReturnCtx(t);return se(r,{code:te.invalid_type,expected:de.nan,received:r.parsedType}),De}return{status:"valid",value:t.data}}}Dh.create=e=>new Dh({typeName:je.ZodNaN,...Le(e)});const Bge=Symbol("zod_brand");class e2 extends He{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class od extends He{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?De:o.status==="dirty"?(n.dirty(),ns(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const a=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?De:a.status==="dirty"?(n.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:r.path,parent:r})}}static create(t,n){return new od({in:t,out:n,typeName:je.ZodPipeline})}}class ju extends He{_parse(t){const n=this._def.innerType._parse(t),r=a=>(xi(a)&&(a.value=Object.freeze(a.value)),a);return yu(n)?n.then(a=>r(a)):r(n)}unwrap(){return this._def.innerType}}ju.create=(e,t)=>new ju({innerType:e,typeName:je.ZodReadonly,...Le(t)});function dR(e,t={},n){return e?ec.create().superRefine((r,a)=>{var o,i;if(!e(r)){const s=typeof t=="function"?t(r):typeof t=="string"?{message:t}:t,c=(i=(o=s.fatal)!==null&&o!==void 0?o:n)!==null&&i!==void 0?i:!0,l=typeof s=="string"?{message:s}:s;a.addIssue({code:"custom",...l,fatal:c})}}):ec.create()}const Fge={object:Ct.lazycreate};var je;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(je||(je={}));const Uge=(e,t={message:`Input not instance of ${e.name}`})=>dR(n=>n instanceof e,t),fR=Ar.create,hR=po.create,Vge=Dh.create,zge=mo.create,pR=bu.create,Wge=wi.create,Hge=Ch.create,qge=xu.create,Gge=wu.create,Kge=ec.create,Yge=di.create,Xge=Ea.create,Zge=Eh.create,Jge=Or.create,Qge=Ct.create,eye=Ct.strictCreate,tye=Su.create,nye=im.create,rye=_u.create,aye=Qr.create,oye=Au.create,iye=jh.create,sye=Si.create,cye=us.create,lye=Tu.create,uye=Pu.create,dye=vo.create,fye=Ou.create,hye=tc.create,KT=Er.create,pye=Yr.create,mye=go.create,vye=Er.createWithPreprocess,gye=od.create,yye=()=>fR().optional(),bye=()=>hR().optional(),xye=()=>pR().optional(),wye={string:e=>Ar.create({...e,coerce:!0}),number:e=>po.create({...e,coerce:!0}),boolean:e=>bu.create({...e,coerce:!0}),bigint:e=>mo.create({...e,coerce:!0}),date:e=>wi.create({...e,coerce:!0})},Sye=De;var Kc=Object.freeze({__proto__:null,defaultErrorMap:Qs,setErrorMap:vge,getErrorMap:Th,makeIssue:Ph,EMPTY_PATH:gge,addIssueToContext:se,ParseStatus:xn,INVALID:De,DIRTY:ns,OK:Cn,isAborted:s0,isDirty:c0,isValid:xi,isAsync:yu,get util(){return Ze},get objectUtil(){return i0},ZodParsedType:de,getParsedType:ma,ZodType:He,datetimeRegex:lR,ZodString:Ar,ZodNumber:po,ZodBigInt:mo,ZodBoolean:bu,ZodDate:wi,ZodSymbol:Ch,ZodUndefined:xu,ZodNull:wu,ZodAny:ec,ZodUnknown:di,ZodNever:Ea,ZodVoid:Eh,ZodArray:Or,ZodObject:Ct,ZodUnion:Su,ZodDiscriminatedUnion:im,ZodIntersection:_u,ZodTuple:Qr,ZodRecord:Au,ZodMap:jh,ZodSet:Si,ZodFunction:us,ZodLazy:Tu,ZodLiteral:Pu,ZodEnum:vo,ZodNativeEnum:Ou,ZodPromise:tc,ZodEffects:Er,ZodTransformer:Er,ZodOptional:Yr,ZodNullable:go,ZodDefault:Cu,ZodCatch:Eu,ZodNaN:Dh,BRAND:Bge,ZodBranded:e2,ZodPipeline:od,ZodReadonly:ju,custom:dR,Schema:He,ZodSchema:He,late:Fge,get ZodFirstPartyTypeKind(){return je},coerce:wye,any:Kge,array:Jge,bigint:zge,boolean:pR,date:Wge,discriminatedUnion:nye,effect:KT,enum:dye,function:cye,instanceof:Uge,intersection:rye,lazy:lye,literal:uye,map:iye,nan:Vge,nativeEnum:fye,never:Xge,null:Gge,nullable:mye,number:hR,object:Qge,oboolean:xye,onumber:bye,optional:pye,ostring:yye,pipeline:gye,preprocess:vye,promise:hye,record:oye,set:sye,strictObject:eye,string:fR,symbol:Hge,transformer:KT,tuple:aye,undefined:qge,union:tye,unknown:Yge,void:Zge,NEVER:Sye,ZodIssueCode:te,quotelessJson:mge,ZodError:Gn}),_ye="Label",mR=w.forwardRef((e,t)=>g.jsx(nt.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));mR.displayName=_ye;var vR=mR;const Aye=zu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 transition-colors duration-200",{variants:{variant:{default:"text-foreground",secondary:"text-muted-foreground",primary:"text-primary"}},defaultVariants:{variant:"default"}}),gR=w.forwardRef(({className:e,variant:t,...n},r)=>g.jsx(vR,{ref:r,className:Ae(Aye({variant:t}),e),...n}));gR.displayName=vR.displayName;const Tye=aE,yR=w.createContext({}),Fd=({...e})=>g.jsx(yR.Provider,{value:{name:e.name},children:g.jsx(O4,{"data-component-path":"src\\components\\ui\\form.tsx","data-component-name":"Controller","data-component-line":"37","data-component-file":"form.tsx","data-component-content":"%7B%7D",...e})}),sm=()=>{const e=w.useContext(yR),t=w.useContext(bR),{getFieldState:n,formState:r}=Gh(),a=n(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:o}=t;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...a}},bR=w.createContext({}),il=w.forwardRef(({className:e,...t},n)=>{const r=w.useId();return g.jsx(bR.Provider,{value:{id:r},children:g.jsx("div",{"data-component-path":"src\\components\\ui\\form.tsx","data-component-name":"div","data-component-line":"81","data-component-file":"form.tsx","data-component-content":"%7B%7D",ref:n,className:Ae("space-y-2",e),...t})})});il.displayName="FormItem";const sl=w.forwardRef(({className:e,...t},n)=>{const{error:r,formItemId:a}=sm();return g.jsx(gR,{"data-component-path":"src\\components\\ui\\form.tsx","data-component-name":"Label","data-component-line":"94","data-component-file":"form.tsx","data-component-content":"%7B%7D",ref:n,className:Ae(r&&"text-destructive",e),htmlFor:a,...t})});sl.displayName="FormLabel";const cl=w.forwardRef(({...e},t)=>{const{error:n,formItemId:r,formDescriptionId:a,formMessageId:o}=sm();return g.jsx(rf,{"data-component-path":"src\\components\\ui\\form.tsx","data-component-name":"Slot","data-component-line":"111","data-component-file":"form.tsx","data-component-content":"%7B%7D",ref:t,id:r,"aria-describedby":n?`${a} ${o}`:`${a}`,"aria-invalid":!!n,...e})});cl.displayName="FormControl";const Pye=w.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:r}=sm();return g.jsx("p",{"data-component-path":"src\\components\\ui\\form.tsx","data-component-name":"p","data-component-line":"133","data-component-file":"form.tsx","data-component-content":"%7B%7D",ref:n,id:r,className:Ae("text-sm text-muted-foreground",e),...t})});Pye.displayName="FormDescription";const ll=w.forwardRef(({className:e,children:t,...n},r)=>{const{error:a,formMessageId:o}=sm(),i=a?String(a==null?void 0:a.message):t;return i?g.jsx("p",{"data-component-path":"src\\components\\ui\\form.tsx","data-component-name":"p","data-component-line":"155","data-component-file":"form.tsx","data-component-content":"%7B%7D",ref:r,id:o,className:Ae("text-sm font-medium text-destructive",e),...n,children:i}):null});ll.displayName="FormMessage";const Oye=Kc.object({full_name:Kc.string().min(2,"El nombre es muy corto"),username:Kc.string().min(3,"El usuario es muy corto"),phone_number:Kc.string().min(10,"El teléfono debe tener al menos 10 dígitos"),bio:Kc.string().optional()}),Cye=()=>{const{profile:e,updateProfile:t,isPending:n,isLoading:r}=nR(),{toast:a}=ta(),o=vE({resolver:pge(Oye),defaultValues:{full_name:(e==null?void 0:e.full_name)||"",username:(e==null?void 0:e.username)||"",phone_number:(e==null?void 0:e.phone_number)||"",bio:(e==null?void 0:e.bio)||""}}),i=async s=>{try{await t(s),a({title:"Perfil actualizado",description:"Tu información ha sido actualizada exitosamente"})}catch{a({title:"Error",description:"No se pudo actualizar tu perfil",variant:"destructive"})}};return r?g.jsx("div",{"data-component-path":"src\\components\\user\\UserProfile.tsx","data-component-name":"div","data-component-line":"60","data-component-file":"UserProfile.tsx","data-component-content":"%7B%22className%22%3A%22flex%20justify-center%20items-center%20h-64%22%7D",className:"flex justify-center items-center h-64",children:g.jsx(pi,{"data-component-path":"src\\components\\user\\UserProfile.tsx","data-component-name":"Loader2","data-component-line":"61","data-component-file":"UserProfile.tsx","data-component-content":"%7B%22className%22%3A%22w-8%20h-8%20animate-spin%20text-primary%22%7D",className:"w-8 h-8 animate-spin text-primary"})}):g.jsx(Tye,{"data-component-path":"src\\components\\user\\UserProfile.tsx","data-component-name":"Form","data-component-line":"67","data-component-file":"UserProfile.tsx","data-component-content":"%7B%7D",...o,children:g.jsxs("form",{"data-component-path":"src\\components\\user\\UserProfile.tsx","data-component-name":"form","data-component-line":"68","data-component-file":"UserProfile.tsx","data-component-content":"%7B%22className%22%3A%22space-y-6%20max-w-2xl%20mx-auto%22%7D",onSubmit:o.handleSubmit(i),className:"space-y-6 max-w-2xl mx-auto",children:[g.jsx(Fd,{"data-component-path":"src\\components\\user\\UserProfile.tsx","data-component-name":"FormField","data-component-line":"72","data-component-file":"UserProfile.tsx","data-component-content":"%7B%7D",control:o.control,name:"full_name",render:({field:s})=>g.jsxs(il,{"data-component-path":"src\\components\\user\\UserProfile.tsx","data-component-name":"FormItem","data-component-line":"76","data-component-file":"UserProfile.tsx","data-component-content":"%7B%7D",children:[g.jsx(sl,{"data-component-path":"src\\components\\user\\UserProfile.tsx","data-component-name":"FormLabel","data-component-line":"77","data-component-file":"UserProfile.tsx","data-component-content":"%7B%22text%22%3A%22Nombre%20Completo%22%7D",children:"Nombre Completo"}),g.jsx(cl,{"data-component-path":"src\\components\\user\\UserProfile.tsx","data-component-name":"FormControl","data-component-line":"78","data-component-file":"UserProfile.tsx","data-component-content":"%7B%7D",children:g.jsx(oi,{"data-component-path":"src\\components\\user\\UserProfile.tsx","data-component-name":"Input","data-component-line":"79","data-component-file":"UserProfile.tsx","data-component-content":"%7B%22placeholder%22%3A%22Tu%20nombre%20completo%22%7D",...s,placeholder:"Tu nombre completo"})}),g.jsx(ll,{"data-component-path":"src\\components\\user\\UserProfile.tsx","data-component-name":"FormMessage","data-component-line":"81","data-component-file":"UserProfile.tsx","data-component-content":"%7B%7D"})]})}),g.jsx(Fd,{"data-component-path":"src\\components\\user\\UserProfile.tsx","data-component-name":"FormField","data-component-line":"86","data-component-file":"UserProfile.tsx","data-component-content":"%7B%7D",control:o.control,name:"username",render:({field:s})=>g.jsxs(il,{"data-component-path":"src\\components\\user\\UserProfile.tsx","data-component-name":"FormItem","data-component-line":"90","data-component-file":"UserProfile.tsx","data-component-content":"%7B%7D",children:[g.jsx(sl,{"data-component-path":"src\\components\\user\\UserProfile.tsx","data-component-name":"FormLabel","data-component-line":"91","data-component-file":"UserProfile.tsx","data-component-content":"%7B%22text%22%3A%22Nombre%20de%20Usuario%22%7D",children:"Nombre de Usuario"}),g.jsx(cl,{"data-component-path":"src\\components\\user\\UserProfile.tsx","data-component-name":"FormControl","data-component-line":"92","data-component-file":"UserProfile.tsx","data-component-content":"%7B%7D",children:g.jsx(oi,{"data-component-path":"src\\components\\user\\UserProfile.tsx","data-component-name":"Input","data-component-line":"93","data-component-file":"UserProfile.tsx","data-component-content":"%7B%22placeholder%22%3A%22Tu%20nombre%20de%20usuario%22%7D",...s,placeholder:"Tu nombre de usuario"})}),g.jsx(ll,{"data-component-path":"src\\components\\user\\UserProfile.tsx","data-component-name":"FormMessage","data-component-line":"95","data-component-file":"UserProfile.tsx","data-component-content":"%7B%7D"})]})}),g.jsx(Fd,{"data-component-path":"src\\components\\user\\UserProfile.tsx","data-component-name":"FormField","data-component-line":"100","data-component-file":"UserProfile.tsx","data-component-content":"%7B%7D",control:o.control,name:"phone_number",render:({field:s})=>g.jsxs(il,{"data-component-path":"src\\components\\user\\UserProfile.tsx","data-component-name":"FormItem","data-component-line":"104","data-component-file":"UserProfile.tsx","data-component-content":"%7B%7D",children:[g.jsx(sl,{"data-component-path":"src\\components\\user\\UserProfile.tsx","data-component-name":"FormLabel","data-component-line":"105","data-component-file":"UserProfile.tsx","data-component-content":"%7B%22text%22%3A%22Tel%C3%A9fono%22%7D",children:"Teléfono"}),g.jsx(cl,{"data-component-path":"src\\components\\user\\UserProfile.tsx","data-component-name":"FormControl","data-component-line":"106","data-component-file":"UserProfile.tsx","data-component-content":"%7B%7D",children:g.jsx(oi,{"data-component-path":"src\\components\\user\\UserProfile.tsx","data-component-name":"Input","data-component-line":"107","data-component-file":"UserProfile.tsx","data-component-content":"%7B%22placeholder%22%3A%22Tu%20n%C3%BAmero%20de%20tel%C3%A9fono%22%7D",...s,type:"tel",placeholder:"Tu número de teléfono"})}),g.jsx(ll,{"data-component-path":"src\\components\\user\\UserProfile.tsx","data-component-name":"FormMessage","data-component-line":"113","data-component-file":"UserProfile.tsx","data-component-content":"%7B%7D"})]})}),g.jsx(Fd,{"data-component-path":"src\\components\\user\\UserProfile.tsx","data-component-name":"FormField","data-component-line":"118","data-component-file":"UserProfile.tsx","data-component-content":"%7B%7D",control:o.control,name:"bio",render:({field:s})=>g.jsxs(il,{"data-component-path":"src\\components\\user\\UserProfile.tsx","data-component-name":"FormItem","data-component-line":"122","data-component-file":"UserProfile.tsx","data-component-content":"%7B%7D",children:[g.jsx(sl,{"data-component-path":"src\\components\\user\\UserProfile.tsx","data-component-name":"FormLabel","data-component-line":"123","data-component-file":"UserProfile.tsx","data-component-content":"%7B%22text%22%3A%22Biograf%C3%ADa%22%7D",children:"Biografía"}),g.jsx(cl,{"data-component-path":"src\\components\\user\\UserProfile.tsx","data-component-name":"FormControl","data-component-line":"124","data-component-file":"UserProfile.tsx","data-component-content":"%7B%7D",children:g.jsx(rR,{"data-component-path":"src\\components\\user\\UserProfile.tsx","data-component-name":"Textarea","data-component-line":"125","data-component-file":"UserProfile.tsx","data-component-content":"%7B%22placeholder%22%3A%22Cu%C3%A9ntanos%20un%20poco%20sobre%20ti%22%7D",...s,placeholder:"Cuéntanos un poco sobre ti"})}),g.jsx(ll,{"data-component-path":"src\\components\\user\\UserProfile.tsx","data-component-name":"FormMessage","data-component-line":"130","data-component-file":"UserProfile.tsx","data-component-content":"%7B%7D"})]})}),g.jsx(dn,{"data-component-path":"src\\components\\user\\UserProfile.tsx","data-component-name":"Button","data-component-line":"135","data-component-file":"UserProfile.tsx","data-component-content":"%7B%7D",type:"submit",disabled:n,children:n?g.jsxs(g.Fragment,{children:[g.jsx(pi,{"data-component-path":"src\\components\\user\\UserProfile.tsx","data-component-name":"Loader2","data-component-line":"138","data-component-file":"UserProfile.tsx","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20mr-2%20animate-spin%22%7D",className:"w-4 h-4 mr-2 animate-spin"}),"Actualizando..."]}):"Guardar Cambios"})]})})},Eye=zu("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function YT({className:e,variant:t,...n}){return g.jsx("div",{"data-component-path":"src\\components\\ui\\badge.tsx","data-component-name":"div","data-component-line":"32","data-component-file":"badge.tsx","data-component-content":"%7B%7D",className:Ae(Eye({variant:t}),e),...n})}const Xbe=6048e5,Zbe=864e5,Ud=43200,XT=1440,ZT=Symbol.for("constructDateFrom");function t2(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&ZT in e?e[ZT](t):e instanceof Date?new e.constructor(t):new Date(t)}function yo(e,t){return t2(t||e,e)}let jye={};function Dye(){return jye}function JT(e){const t=yo(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function n2(e,...t){const n=t2.bind(null,e||t.find(r=>typeof r=="object"));return t.map(n)}function nf(e,t){const n=+yo(e)-+yo(t);return n<0?-1:n>0?1:n}function kye(e){return t2(e,Date.now())}function Nye(e,t,n){const[r,a]=n2(n==null?void 0:n.in,e,t),o=r.getFullYear()-a.getFullYear(),i=r.getMonth()-a.getMonth();return o*12+i}function Mye(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function Rye(e,t){return+yo(e)-+yo(t)}function $ye(e,t){const n=yo(e,t==null?void 0:t.in);return n.setHours(23,59,59,999),n}function Iye(e,t){const n=yo(e,t==null?void 0:t.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function Lye(e,t){const n=yo(e,t==null?void 0:t.in);return+$ye(n,t)==+Iye(n,t)}function Bye(e,t,n){const[r,a,o]=n2(n==null?void 0:n.in,e,e,t),i=nf(a,o),s=Math.abs(Nye(a,o));if(s<1)return 0;a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-i*s);let c=nf(a,o)===-i;Lye(r)&&s===1&&nf(r,o)===1&&(c=!1);const l=i*(s-+c);return l===0?0:l}function Fye(e,t,n){const r=Rye(e,t)/1e3;return Mye(n==null?void 0:n.roundingMethod)(r)}const Uye={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Vye=(e,t,n)=>{let r;const a=Uye[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ds(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const zye={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Wye={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Hye={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},qye={date:ds({formats:zye,defaultWidth:"full"}),time:ds({formats:Wye,defaultWidth:"full"}),dateTime:ds({formats:Hye,defaultWidth:"full"})},Gye={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Kye=(e,t,n,r)=>Gye[e];function Fr(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,s=n!=null&&n.width?String(n.width):i;a=e.formattingValues[s]||e.formattingValues[i]}else{const i=e.defaultWidth,s=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[s]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return a[o]}}const Yye={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Xye={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Zye={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Jye={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Qye={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},e0e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},t0e=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},n0e={ordinalNumber:t0e,era:Fr({values:Yye,defaultWidth:"wide"}),quarter:Fr({values:Xye,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Fr({values:Zye,defaultWidth:"wide"}),day:Fr({values:Jye,defaultWidth:"wide"}),dayPeriod:Fr({values:Qye,defaultWidth:"wide",formattingValues:e0e,defaultFormattingWidth:"wide"})};function Ur(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(a);if(!o)return null;const i=o[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(s)?a0e(s,d=>d.test(i)):r0e(s,d=>d.test(i));let l;l=e.valueCallback?e.valueCallback(c):c,l=n.valueCallback?n.valueCallback(l):l;const u=t.slice(i.length);return{value:l,rest:u}}}function r0e(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function a0e(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function xR(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=n.valueCallback?n.valueCallback(i):i;const s=t.slice(a.length);return{value:i,rest:s}}}const o0e=/^(\d+)(th|st|nd|rd)?/i,i0e=/\d+/i,s0e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},c0e={any:[/^b/i,/^(a|c)/i]},l0e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},u0e={any:[/1/i,/2/i,/3/i,/4/i]},d0e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},f0e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},h0e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},p0e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},m0e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},v0e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},g0e={ordinalNumber:xR({matchPattern:o0e,parsePattern:i0e,valueCallback:e=>parseInt(e,10)}),era:Ur({matchPatterns:s0e,defaultMatchWidth:"wide",parsePatterns:c0e,defaultParseWidth:"any"}),quarter:Ur({matchPatterns:l0e,defaultMatchWidth:"wide",parsePatterns:u0e,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ur({matchPatterns:d0e,defaultMatchWidth:"wide",parsePatterns:f0e,defaultParseWidth:"any"}),day:Ur({matchPatterns:h0e,defaultMatchWidth:"wide",parsePatterns:p0e,defaultParseWidth:"any"}),dayPeriod:Ur({matchPatterns:m0e,defaultMatchWidth:"any",parsePatterns:v0e,defaultParseWidth:"any"})},y0e={code:"en-US",formatDistance:Vye,formatLong:qye,formatRelative:Kye,localize:n0e,match:g0e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function b0e(e,t,n){const r=Dye(),a=(n==null?void 0:n.locale)??r.locale??y0e,o=2520,i=nf(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const s=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:i}),[c,l]=n2(n==null?void 0:n.in,...i>0?[t,e]:[e,t]),u=Fye(l,c),d=(JT(l)-JT(c))/1e3,f=Math.round((u-d)/60);let h;if(f<2)return n!=null&&n.includeSeconds?u<5?a.formatDistance("lessThanXSeconds",5,s):u<10?a.formatDistance("lessThanXSeconds",10,s):u<20?a.formatDistance("lessThanXSeconds",20,s):u<40?a.formatDistance("halfAMinute",0,s):u<60?a.formatDistance("lessThanXMinutes",1,s):a.formatDistance("xMinutes",1,s):f===0?a.formatDistance("lessThanXMinutes",1,s):a.formatDistance("xMinutes",f,s);if(f<45)return a.formatDistance("xMinutes",f,s);if(f<90)return a.formatDistance("aboutXHours",1,s);if(f<XT){const p=Math.round(f/60);return a.formatDistance("aboutXHours",p,s)}else{if(f<o)return a.formatDistance("xDays",1,s);if(f<Ud){const p=Math.round(f/XT);return a.formatDistance("xDays",p,s)}else if(f<Ud*2)return h=Math.round(f/Ud),a.formatDistance("aboutXMonths",h,s)}if(h=Bye(l,c),h<12){const p=Math.round(f/Ud);return a.formatDistance("xMonths",p,s)}else{const p=h%12,m=Math.trunc(h/12);return p<3?a.formatDistance("aboutXYears",m,s):p<9?a.formatDistance("overXYears",m,s):a.formatDistance("almostXYears",m+1,s)}}function x0e(e,t){return b0e(e,kye(e),t)}const w0e={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},S0e=(e,t,n)=>{let r;const a=w0e[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},_0e={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},A0e={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},T0e={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},P0e={date:ds({formats:_0e,defaultWidth:"full"}),time:ds({formats:A0e,defaultWidth:"full"}),dateTime:ds({formats:T0e,defaultWidth:"full"})},O0e={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},C0e={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},E0e=(e,t,n,r)=>t.getHours()!==1?C0e[e]:O0e[e],j0e={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},D0e={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},k0e={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},N0e={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},M0e={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},R0e={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},$0e=(e,t)=>Number(e)+"º",I0e={ordinalNumber:$0e,era:Fr({values:j0e,defaultWidth:"wide"}),quarter:Fr({values:D0e,defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:Fr({values:k0e,defaultWidth:"wide"}),day:Fr({values:N0e,defaultWidth:"wide"}),dayPeriod:Fr({values:M0e,defaultWidth:"wide",formattingValues:R0e,defaultFormattingWidth:"wide"})},L0e=/^(\d+)(º)?/i,B0e=/\d+/i,F0e={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},U0e={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},V0e={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},z0e={any:[/1/i,/2/i,/3/i,/4/i]},W0e={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},H0e={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},q0e={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},G0e={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},K0e={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},Y0e={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},X0e={ordinalNumber:xR({matchPattern:L0e,parsePattern:B0e,valueCallback:function(e){return parseInt(e,10)}}),era:Ur({matchPatterns:F0e,defaultMatchWidth:"wide",parsePatterns:U0e,defaultParseWidth:"any"}),quarter:Ur({matchPatterns:V0e,defaultMatchWidth:"wide",parsePatterns:z0e,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ur({matchPatterns:W0e,defaultMatchWidth:"wide",parsePatterns:H0e,defaultParseWidth:"any"}),day:Ur({matchPatterns:q0e,defaultMatchWidth:"wide",parsePatterns:G0e,defaultParseWidth:"any"}),dayPeriod:Ur({matchPatterns:K0e,defaultMatchWidth:"any",parsePatterns:Y0e,defaultParseWidth:"any"})},Z0e={code:"es",formatDistance:S0e,formatLong:P0e,formatRelative:E0e,localize:I0e,match:X0e,options:{weekStartsOn:1,firstWeekContainsDate:1}},J0e=()=>{const{data:e,isLoading:t}=EP({queryKey:["vehicleRequests"],queryFn:async()=>{const{data:n,error:r}=await rl.from("vehicle_requests").select("*").order("created_at",{ascending:!1});if(r)throw r;return n}});return t?g.jsx("div",{"data-component-path":"src\\components\\user\\UserReservations.tsx","data-component-name":"div","data-component-line":"32","data-component-file":"UserReservations.tsx","data-component-content":"%7B%22className%22%3A%22flex%20justify-center%20items-center%20h-64%22%7D",className:"flex justify-center items-center h-64",children:g.jsx(pi,{"data-component-path":"src\\components\\user\\UserReservations.tsx","data-component-name":"Loader2","data-component-line":"33","data-component-file":"UserReservations.tsx","data-component-content":"%7B%22className%22%3A%22w-8%20h-8%20animate-spin%20text-primary%22%7D",className:"w-8 h-8 animate-spin text-primary"})}):g.jsx("div",{"data-component-path":"src\\components\\user\\UserReservations.tsx","data-component-name":"div","data-component-line":"39","data-component-file":"UserReservations.tsx","data-component-content":"%7B%22className%22%3A%22space-y-6%22%7D",className:"space-y-6",children:g.jsx("div",{"data-component-path":"src\\components\\user\\UserReservations.tsx","data-component-name":"div","data-component-line":"40","data-component-file":"UserReservations.tsx","data-component-content":"%7B%22className%22%3A%22rounded-md%20border%22%7D",className:"rounded-md border",children:g.jsxs(Cb,{"data-component-path":"src\\components\\user\\UserReservations.tsx","data-component-name":"Table","data-component-line":"41","data-component-file":"UserReservations.tsx","data-component-content":"%7B%7D",children:[g.jsx(Eb,{"data-component-path":"src\\components\\user\\UserReservations.tsx","data-component-name":"TableHeader","data-component-line":"42","data-component-file":"UserReservations.tsx","data-component-content":"%7B%7D",children:g.jsxs(Nl,{"data-component-path":"src\\components\\user\\UserReservations.tsx","data-component-name":"TableRow","data-component-line":"43","data-component-file":"UserReservations.tsx","data-component-content":"%7B%7D",children:[g.jsx(br,{"data-component-path":"src\\components\\user\\UserReservations.tsx","data-component-name":"TableHead","data-component-line":"44","data-component-file":"UserReservations.tsx","data-component-content":"%7B%22text%22%3A%22Veh%C3%ADculo%22%7D",children:"Vehículo"}),g.jsx(br,{"data-component-path":"src\\components\\user\\UserReservations.tsx","data-component-name":"TableHead","data-component-line":"45","data-component-file":"UserReservations.tsx","data-component-content":"%7B%22text%22%3A%22Estado%22%7D",children:"Estado"}),g.jsx(br,{"data-component-path":"src\\components\\user\\UserReservations.tsx","data-component-name":"TableHead","data-component-line":"46","data-component-file":"UserReservations.tsx","data-component-content":"%7B%22text%22%3A%22Fecha%22%7D",children:"Fecha"}),g.jsx(br,{"data-component-path":"src\\components\\user\\UserReservations.tsx","data-component-name":"TableHead","data-component-line":"47","data-component-file":"UserReservations.tsx","data-component-content":"%7B%22text%22%3A%22Pago%22%7D",children:"Pago"})]})}),g.jsx(jb,{"data-component-path":"src\\components\\user\\UserReservations.tsx","data-component-name":"TableBody","data-component-line":"50","data-component-file":"UserReservations.tsx","data-component-content":"%7B%7D",children:e==null?void 0:e.map(n=>g.jsxs(Nl,{"data-component-path":"src\\components\\user\\UserReservations.tsx","data-component-name":"TableRow","data-component-line":"52","data-component-file":"UserReservations.tsx","data-component-content":"%7B%7D",children:[g.jsxs(xr,{"data-component-path":"src\\components\\user\\UserReservations.tsx","data-component-name":"TableCell","data-component-line":"53","data-component-file":"UserReservations.tsx","data-component-content":"%7B%22text%22%3A%22(%20)%22%7D",children:[n.vehicle_make," ",n.vehicle_model," (",n.vehicle_year,")"]}),g.jsx(xr,{"data-component-path":"src\\components\\user\\UserReservations.tsx","data-component-name":"TableCell","data-component-line":"57","data-component-file":"UserReservations.tsx","data-component-content":"%7B%7D",children:g.jsx(YT,{"data-component-path":"src\\components\\user\\UserReservations.tsx","data-component-name":"Badge","data-component-line":"58","data-component-file":"UserReservations.tsx","data-component-content":"%7B%7D",variant:n.status==="completed"?"default":n.status==="pending"?"secondary":"destructive",children:n.status})}),g.jsx(xr,{"data-component-path":"src\\components\\user\\UserReservations.tsx","data-component-name":"TableCell","data-component-line":"70","data-component-file":"UserReservations.tsx","data-component-content":"%7B%7D",children:x0e(new Date(n.created_at),{addSuffix:!0,locale:Z0e})}),g.jsx(xr,{"data-component-path":"src\\components\\user\\UserReservations.tsx","data-component-name":"TableCell","data-component-line":"76","data-component-file":"UserReservations.tsx","data-component-content":"%7B%7D",children:g.jsx(YT,{"data-component-path":"src\\components\\user\\UserReservations.tsx","data-component-name":"Badge","data-component-line":"77","data-component-file":"UserReservations.tsx","data-component-content":"%7B%7D",variant:n.payment_status==="completed"?"default":"secondary",children:n.payment_status})})]},n.id))})]})})})},Q0e=()=>{const{toast:e}=ta(),t=()=>{e({title:"Cerraste sesión",description:"Tu sesión ha sido cerrada correctamente."})};return g.jsxs(Fe.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-4",children:[g.jsx("h2",{"data-component-path":"src\\components\\user\\UserSettings.tsx","data-component-name":"h2","data-component-line":"24","data-component-file":"UserSettings.tsx","data-component-content":"%7B%22text%22%3A%22Configuraci%C3%B3n%20de%20Cuenta%22%2C%22className%22%3A%22text-2xl%20font-semibold%20mb-4%22%7D",className:"text-2xl font-semibold mb-4",children:"Configuración de Cuenta"}),g.jsx(Zt,{"data-component-path":"src\\components\\user\\UserSettings.tsx","data-component-name":"Card","data-component-line":"25","data-component-file":"UserSettings.tsx","data-component-content":"%7B%22className%22%3A%22p-6%20gradient-border%22%7D",className:"p-6 gradient-border",children:g.jsxs("div",{"data-component-path":"src\\components\\user\\UserSettings.tsx","data-component-name":"div","data-component-line":"26","data-component-file":"UserSettings.tsx","data-component-content":"%7B%22className%22%3A%22flex%20flex-col%20items-center%20justify-center%20py-8%20text-gray-500%22%7D",className:"flex flex-col items-center justify-center py-8 text-gray-500",children:[g.jsx(qP,{"data-component-path":"src\\components\\user\\UserSettings.tsx","data-component-name":"Settings","data-component-line":"27","data-component-file":"UserSettings.tsx","data-component-content":"%7B%22className%22%3A%22w-12%20h-12%20mb-4%22%7D",className:"w-12 h-12 mb-4"}),g.jsx("p",{"data-component-path":"src\\components\\user\\UserSettings.tsx","data-component-name":"p","data-component-line":"28","data-component-file":"UserSettings.tsx","data-component-content":"%7B%22text%22%3A%22Configuraci%C3%B3n%20de%20cuenta%20pr%C3%B3ximamente%22%7D",children:"Configuración de cuenta próximamente"})]})}),g.jsxs(dn,{"data-component-path":"src\\components\\user\\UserSettings.tsx","data-component-name":"Button","data-component-line":"32","data-component-file":"UserSettings.tsx","data-component-content":"%7B%22text%22%3A%22Cerrar%20Sesi%C3%B3n%22%2C%22className%22%3A%22w-full%20mt-6%22%7D",variant:"destructive",className:"w-full mt-6",onClick:t,children:[g.jsx(jI,{"data-component-path":"src\\components\\user\\UserSettings.tsx","data-component-name":"LogOut","data-component-line":"37","data-component-file":"UserSettings.tsx","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20mr-2%22%7D",className:"w-4 h-4 mr-2"}),"Cerrar Sesión"]})]})},ebe=()=>g.jsxs(Fe.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-4",children:[g.jsx("h2",{"data-component-path":"src\\components\\user\\UserNotifications.tsx","data-component-name":"h2","data-component-line":"11","data-component-file":"UserNotifications.tsx","data-component-content":"%7B%22text%22%3A%22Notificaciones%22%2C%22className%22%3A%22text-2xl%20font-semibold%20mb-4%22%7D",className:"text-2xl font-semibold mb-4",children:"Notificaciones"}),g.jsxs("div",{"data-component-path":"src\\components\\user\\UserNotifications.tsx","data-component-name":"div","data-component-line":"12","data-component-file":"UserNotifications.tsx","data-component-content":"%7B%22className%22%3A%22flex%20flex-col%20items-center%20justify-center%20py-12%20text-gray-500%22%7D",className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[g.jsx(SI,{"data-component-path":"src\\components\\user\\UserNotifications.tsx","data-component-name":"Bell","data-component-line":"13","data-component-file":"UserNotifications.tsx","data-component-content":"%7B%22className%22%3A%22w-12%20h-12%20mb-4%22%7D",className:"w-12 h-12 mb-4"}),g.jsx("p",{"data-component-path":"src\\components\\user\\UserNotifications.tsx","data-component-name":"p","data-component-line":"14","data-component-file":"UserNotifications.tsx","data-component-content":"%7B%22text%22%3A%22No%20hay%20notificaciones%20nuevas%22%7D",children:"No hay notificaciones nuevas"})]})]}),tbe=()=>{const[e,t]=w.useState("profile"),{profile:n,isLoading:r}=nR();return r?g.jsx("div",{"data-component-path":"src\\components\\user\\UserDashboard.tsx","data-component-name":"div","data-component-line":"17","data-component-file":"UserDashboard.tsx","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-center%20min-h-screen%22%7D",className:"flex items-center justify-center min-h-screen",children:g.jsx(pi,{"data-component-path":"src\\components\\user\\UserDashboard.tsx","data-component-name":"Loader2","data-component-line":"18","data-component-file":"UserDashboard.tsx","data-component-content":"%7B%22className%22%3A%22w-8%20h-8%20animate-spin%20text-primary%22%7D",className:"w-8 h-8 animate-spin text-primary"})}):g.jsx(Fe.div,{initial:{opacity:0},animate:{opacity:1},className:"container mx-auto px-4 py-8",children:g.jsxs("div",{"data-component-path":"src\\components\\user\\UserDashboard.tsx","data-component-name":"div","data-component-line":"29","data-component-file":"UserDashboard.tsx","data-component-content":"%7B%22className%22%3A%22max-w-6xl%20mx-auto%22%7D",className:"max-w-6xl mx-auto",children:[g.jsxs(Fe.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"mb-8",children:[g.jsxs("h1",{"data-component-path":"src\\components\\user\\UserDashboard.tsx","data-component-name":"h1","data-component-line":"36","data-component-file":"UserDashboard.tsx","data-component-content":"%7B%22text%22%3A%22Bienvenido%2C%22%2C%22className%22%3A%22text-3xl%20font-bold%20text-gray-900%22%7D",className:"text-3xl font-bold text-gray-900",children:["Bienvenido, ",(n==null?void 0:n.full_name)||"Usuario"]}),g.jsx("p",{"data-component-path":"src\\components\\user\\UserDashboard.tsx","data-component-name":"p","data-component-line":"39","data-component-file":"UserDashboard.tsx","data-component-content":"%7B%22text%22%3A%22Gestiona%20tus%20servicios%20y%20preferencias%20desde%20aqu%C3%AD%22%2C%22className%22%3A%22text-gray-600%20mt-2%22%7D",className:"text-gray-600 mt-2",children:"Gestiona tus servicios y preferencias desde aquí"})]}),g.jsxs(_j,{"data-component-path":"src\\components\\user\\UserDashboard.tsx","data-component-name":"Tabs","data-component-line":"44","data-component-file":"UserDashboard.tsx","data-component-content":"%7B%22className%22%3A%22space-y-6%22%7D",defaultValue:e,onValueChange:t,className:"space-y-6",children:[g.jsxs(Ob,{"data-component-path":"src\\components\\user\\UserDashboard.tsx","data-component-name":"TabsList","data-component-line":"49","data-component-file":"UserDashboard.tsx","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-2%20sm%3Agrid-cols-4%20gap-2%22%7D",className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:[g.jsx(Ho,{"data-component-path":"src\\components\\user\\UserDashboard.tsx","data-component-name":"TabsTrigger","data-component-line":"50","data-component-file":"UserDashboard.tsx","data-component-content":"%7B%22text%22%3A%22Perfil%22%7D",value:"profile",children:"Perfil"}),g.jsx(Ho,{"data-component-path":"src\\components\\user\\UserDashboard.tsx","data-component-name":"TabsTrigger","data-component-line":"51","data-component-file":"UserDashboard.tsx","data-component-content":"%7B%22text%22%3A%22Servicios%22%7D",value:"reservations",children:"Servicios"}),g.jsx(Ho,{"data-component-path":"src\\components\\user\\UserDashboard.tsx","data-component-name":"TabsTrigger","data-component-line":"52","data-component-file":"UserDashboard.tsx","data-component-content":"%7B%22text%22%3A%22Notificaciones%22%7D",value:"notifications",children:"Notificaciones"}),g.jsx(Ho,{"data-component-path":"src\\components\\user\\UserDashboard.tsx","data-component-name":"TabsTrigger","data-component-line":"53","data-component-file":"UserDashboard.tsx","data-component-content":"%7B%22text%22%3A%22Configuraci%C3%B3n%22%7D",value:"settings",children:"Configuración"})]}),g.jsx(qo,{"data-component-path":"src\\components\\user\\UserDashboard.tsx","data-component-name":"TabsContent","data-component-line":"56","data-component-file":"UserDashboard.tsx","data-component-content":"%7B%7D",value:"profile",children:g.jsx(Cye,{"data-component-path":"src\\components\\user\\UserDashboard.tsx","data-component-name":"UserProfile","data-component-line":"57","data-component-file":"UserDashboard.tsx","data-component-content":"%7B%7D"})}),g.jsx(qo,{"data-component-path":"src\\components\\user\\UserDashboard.tsx","data-component-name":"TabsContent","data-component-line":"59","data-component-file":"UserDashboard.tsx","data-component-content":"%7B%7D",value:"reservations",children:g.jsx(J0e,{"data-component-path":"src\\components\\user\\UserDashboard.tsx","data-component-name":"UserReservations","data-component-line":"60","data-component-file":"UserDashboard.tsx","data-component-content":"%7B%7D"})}),g.jsx(qo,{"data-component-path":"src\\components\\user\\UserDashboard.tsx","data-component-name":"TabsContent","data-component-line":"62","data-component-file":"UserDashboard.tsx","data-component-content":"%7B%7D",value:"notifications",children:g.jsx(ebe,{"data-component-path":"src\\components\\user\\UserDashboard.tsx","data-component-name":"UserNotifications","data-component-line":"63","data-component-file":"UserDashboard.tsx","data-component-content":"%7B%7D"})}),g.jsx(qo,{"data-component-path":"src\\components\\user\\UserDashboard.tsx","data-component-name":"TabsContent","data-component-line":"65","data-component-file":"UserDashboard.tsx","data-component-content":"%7B%7D",value:"settings",children:g.jsx(Q0e,{"data-component-path":"src\\components\\user\\UserDashboard.tsx","data-component-name":"UserSettings","data-component-line":"66","data-component-file":"UserDashboard.tsx","data-component-content":"%7B%7D"})})]})]})})},QT=({children:e,requiredRole:t="user"})=>{const{toast:n}=ta();return ja(),t==="admin"&&"user"==="user"?(n({title:"Acceso Restringido",description:"No tienes permisos para acceder a esta sección",variant:"destructive"}),g.jsx(fB,{"data-component-path":"src\\components\\auth\\AuthGuard.tsx","data-component-name":"Navigate","data-component-line":"37","data-component-file":"AuthGuard.tsx","data-component-content":"%7B%7D",to:"/",replace:!0})):g.jsx(g.Fragment,{children:e})},nbe=IB([{path:"/",element:g.jsx(b4,{"data-component-path":"src\\routes\\index.tsx","data-component-name":"Landing","data-component-line":"11","data-component-file":"index.tsx","data-component-content":"%7B%7D"})},{path:"/map",element:g.jsx(ez,{"data-component-path":"src\\routes\\index.tsx","data-component-name":"Index","data-component-line":"15","data-component-file":"index.tsx","data-component-content":"%7B%7D"})},{path:"/admin/*",element:g.jsx(QT,{"data-component-path":"src\\routes\\index.tsx","data-component-name":"AuthGuard","data-component-line":"20","data-component-file":"index.tsx","data-component-content":"%7B%7D",requiredRole:"admin",children:g.jsx(ame,{"data-component-path":"src\\routes\\index.tsx","data-component-name":"AdminPanel","data-component-line":"21","data-component-file":"index.tsx","data-component-content":"%7B%7D"})})},{path:"/user/*",element:g.jsx(QT,{"data-component-path":"src\\routes\\index.tsx","data-component-name":"AuthGuard","data-component-line":"28","data-component-file":"index.tsx","data-component-content":"%7B%7D",children:g.jsx(tbe,{"data-component-path":"src\\routes\\index.tsx","data-component-name":"UserDashboard","data-component-line":"29","data-component-file":"index.tsx","data-component-content":"%7B%7D"})})}]);var r2="ToastProvider",[a2,rbe,abe]=Zh("Toast"),[wR,Jbe]=kh("Toast",[abe]),[obe,cm]=wR(r2),SR=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:a="right",swipeThreshold:o=50,children:i}=e,[s,c]=w.useState(null),[l,u]=w.useState(0),d=w.useRef(!1),f=w.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${r2}\`. Expected non-empty \`string\`.`),g.jsx(a2.Provider,{scope:t,children:g.jsx(obe,{scope:t,label:n,duration:r,swipeDirection:a,swipeThreshold:o,toastCount:l,viewport:s,onViewportChange:c,onToastAdd:w.useCallback(()=>u(h=>h+1),[]),onToastRemove:w.useCallback(()=>u(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:f,children:i})})};SR.displayName=r2;var _R="ToastViewport",ibe=["F8"],u0="toast.viewportPause",d0="toast.viewportResume",AR=w.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=ibe,label:a="Notifications ({hotkey})",...o}=e,i=cm(_R,n),s=rbe(n),c=w.useRef(null),l=w.useRef(null),u=w.useRef(null),d=w.useRef(null),f=bn(t,d,i.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=i.toastCount>0;w.useEffect(()=>{const v=b=>{var S;r.length!==0&&r.every(A=>b[A]||b.code===A)&&((S=d.current)==null||S.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),w.useEffect(()=>{const v=c.current,b=d.current;if(p&&v&&b){const x=()=>{if(!i.isClosePausedRef.current){const _=new CustomEvent(u0);b.dispatchEvent(_),i.isClosePausedRef.current=!0}},S=()=>{if(i.isClosePausedRef.current){const _=new CustomEvent(d0);b.dispatchEvent(_),i.isClosePausedRef.current=!1}},A=_=>{!v.contains(_.relatedTarget)&&S()},y=()=>{v.contains(document.activeElement)||S()};return v.addEventListener("focusin",x),v.addEventListener("focusout",A),v.addEventListener("pointermove",x),v.addEventListener("pointerleave",y),window.addEventListener("blur",x),window.addEventListener("focus",S),()=>{v.removeEventListener("focusin",x),v.removeEventListener("focusout",A),v.removeEventListener("pointermove",x),v.removeEventListener("pointerleave",y),window.removeEventListener("blur",x),window.removeEventListener("focus",S)}}},[p,i.isClosePausedRef]);const m=w.useCallback(({tabbingDirection:v})=>{const x=s().map(S=>{const A=S.ref.current,y=[A,...bbe(A)];return v==="forwards"?y:y.reverse()});return(v==="forwards"?x.reverse():x).flat()},[s]);return w.useEffect(()=>{const v=d.current;if(v){const b=x=>{var y,_,T;const S=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!S){const P=document.activeElement,O=x.shiftKey;if(x.target===v&&O){(y=l.current)==null||y.focus();return}const C=m({tabbingDirection:O?"backwards":"forwards"}),I=C.findIndex(R=>R===P);wv(C.slice(I+1))?x.preventDefault():O?(_=l.current)==null||_.focus():(T=u.current)==null||T.focus()}};return v.addEventListener("keydown",b),()=>v.removeEventListener("keydown",b)}},[s,m]),g.jsxs(e$,{ref:c,role:"region","aria-label":a.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&g.jsx(f0,{ref:l,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"forwards"});wv(v)}}),g.jsx(a2.Slot,{scope:n,children:g.jsx(nt.ol,{tabIndex:-1,...o,ref:f})}),p&&g.jsx(f0,{ref:u,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"backwards"});wv(v)}})]})});AR.displayName=_R;var TR="ToastFocusProxy",f0=w.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...a}=e,o=cm(TR,n);return g.jsx(Jh,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:i=>{var l;const s=i.relatedTarget;!((l=o.viewport)!=null&&l.contains(s))&&r()}})});f0.displayName=TR;var lm="Toast",sbe="toast.swipeStart",cbe="toast.swipeMove",lbe="toast.swipeCancel",ube="toast.swipeEnd",PR=w.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:a,onOpenChange:o,...i}=e,[s=!0,c]=Ru({prop:r,defaultProp:a,onChange:o});return g.jsx(ea,{present:n||s,children:g.jsx(hbe,{open:s,...i,ref:t,onClose:()=>c(!1),onPause:Yt(e.onPause),onResume:Yt(e.onResume),onSwipeStart:Ue(e.onSwipeStart,l=>{l.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ue(e.onSwipeMove,l=>{const{x:u,y:d}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","move"),l.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:Ue(e.onSwipeCancel,l=>{l.currentTarget.setAttribute("data-swipe","cancel"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ue(e.onSwipeEnd,l=>{const{x:u,y:d}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","end"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),c(!1)})})})});PR.displayName=lm;var[dbe,fbe]=wR(lm,{onClose(){}}),hbe=w.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:a,open:o,onClose:i,onEscapeKeyDown:s,onPause:c,onResume:l,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:f,onSwipeEnd:h,...p}=e,m=cm(lm,n),[v,b]=w.useState(null),x=bn(t,R=>b(R)),S=w.useRef(null),A=w.useRef(null),y=a||m.duration,_=w.useRef(0),T=w.useRef(y),P=w.useRef(0),{onToastAdd:O,onToastRemove:j}=m,E=Yt(()=>{var $;(v==null?void 0:v.contains(document.activeElement))&&(($=m.viewport)==null||$.focus()),i()}),C=w.useCallback(R=>{!R||R===1/0||(window.clearTimeout(P.current),_.current=new Date().getTime(),P.current=window.setTimeout(E,R))},[E]);w.useEffect(()=>{const R=m.viewport;if(R){const $=()=>{C(T.current),l==null||l()},F=()=>{const V=new Date().getTime()-_.current;T.current=T.current-V,window.clearTimeout(P.current),c==null||c()};return R.addEventListener(u0,F),R.addEventListener(d0,$),()=>{R.removeEventListener(u0,F),R.removeEventListener(d0,$)}}},[m.viewport,y,c,l,C]),w.useEffect(()=>{o&&!m.isClosePausedRef.current&&C(y)},[o,y,m.isClosePausedRef,C]),w.useEffect(()=>(O(),()=>j()),[O,j]);const I=w.useMemo(()=>v?NR(v):null,[v]);return m.viewport?g.jsxs(g.Fragment,{children:[I&&g.jsx(pbe,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:I}),g.jsx(dbe,{scope:n,onClose:E,children:h0.createPortal(g.jsx(a2.ItemSlot,{scope:n,children:g.jsx(t$,{asChild:!0,onEscapeKeyDown:Ue(s,()=>{m.isFocusedToastEscapeKeyDownRef.current||E(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:g.jsx(nt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":m.swipeDirection,...p,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ue(e.onKeyDown,R=>{R.key==="Escape"&&(s==null||s(R.nativeEvent),R.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,E()))}),onPointerDown:Ue(e.onPointerDown,R=>{R.button===0&&(S.current={x:R.clientX,y:R.clientY})}),onPointerMove:Ue(e.onPointerMove,R=>{if(!S.current)return;const $=R.clientX-S.current.x,F=R.clientY-S.current.y,V=!!A.current,H=["left","right"].includes(m.swipeDirection),q=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,X=H?q(0,$):0,Y=H?0:q(0,F),J=R.pointerType==="touch"?10:2,oe={x:X,y:Y},Te={originalEvent:R,delta:oe};V?(A.current=oe,Vd(cbe,d,Te,{discrete:!1})):eP(oe,m.swipeDirection,J)?(A.current=oe,Vd(sbe,u,Te,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs($)>J||Math.abs(F)>J)&&(S.current=null)}),onPointerUp:Ue(e.onPointerUp,R=>{const $=A.current,F=R.target;if(F.hasPointerCapture(R.pointerId)&&F.releasePointerCapture(R.pointerId),A.current=null,S.current=null,$){const V=R.currentTarget,H={originalEvent:R,delta:$};eP($,m.swipeDirection,m.swipeThreshold)?Vd(ube,h,H,{discrete:!0}):Vd(lbe,f,H,{discrete:!0}),V.addEventListener("click",q=>q.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),pbe=e=>{const{__scopeToast:t,children:n,...r}=e,a=cm(lm,t),[o,i]=w.useState(!1),[s,c]=w.useState(!1);return gbe(()=>i(!0)),w.useEffect(()=>{const l=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(l)},[]),s?null:g.jsx(n$,{asChild:!0,children:g.jsx(Jh,{...r,children:o&&g.jsxs(g.Fragment,{children:[a.label," ",n]})})})},mbe="ToastTitle",OR=w.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return g.jsx(nt.div,{...r,ref:t})});OR.displayName=mbe;var vbe="ToastDescription",CR=w.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return g.jsx(nt.div,{...r,ref:t})});CR.displayName=vbe;var ER="ToastAction",jR=w.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?g.jsx(kR,{altText:n,asChild:!0,children:g.jsx(o2,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${ER}\`. Expected non-empty \`string\`.`),null)});jR.displayName=ER;var DR="ToastClose",o2=w.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,a=fbe(DR,n);return g.jsx(kR,{asChild:!0,children:g.jsx(nt.button,{type:"button",...r,ref:t,onClick:Ue(e.onClick,a.onClose)})})});o2.displayName=DR;var kR=w.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...a}=e;return g.jsx(nt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...a,ref:t})});function NR(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),ybe(r)){const a=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!a)if(o){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...NR(r))}}),t}function Vd(e,t,n,{discrete:r}){const a=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?Sv(a,o):a.dispatchEvent(o)}var eP=(e,t,n=0)=>{const r=Math.abs(e.x),a=Math.abs(e.y),o=r>a;return t==="left"||t==="right"?o&&r>n:!o&&a>n};function gbe(e=()=>{}){const t=Yt(e);_l(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function ybe(e){return e.nodeType===e.ELEMENT_NODE}function bbe(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function wv(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var xbe=SR,MR=AR,RR=PR,$R=OR,IR=CR,LR=jR,BR=o2;const wbe=xbe,FR=w.forwardRef(({className:e,...t},n)=>g.jsx(MR,{ref:n,className:Ae("fixed top-0 z-[100] flex max-h-screen w-full flex-col p-4 sm:right-0 sm:top-0 md:max-w-[420px]",e),...t}));FR.displayName=MR.displayName;const Sbe=zu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),UR=w.forwardRef(({className:e,variant:t,...n},r)=>g.jsx(RR,{ref:r,className:Ae(Sbe({variant:t}),e),...n}));UR.displayName=RR.displayName;const _be=w.forwardRef(({className:e,...t},n)=>g.jsx(LR,{ref:n,className:Ae("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));_be.displayName=LR.displayName;const VR=w.forwardRef(({className:e,...t},n)=>g.jsx(BR,{ref:n,className:Ae("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:g.jsx(KP,{"data-component-path":"src\\components\\ui\\toast.tsx","data-component-name":"X","data-component-line":"84","data-component-file":"toast.tsx","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D",className:"h-4 w-4"})}));VR.displayName=BR.displayName;const zR=w.forwardRef(({className:e,...t},n)=>g.jsx($R,{ref:n,className:Ae("text-sm font-semibold",e),...t}));zR.displayName=$R.displayName;const WR=w.forwardRef(({className:e,...t},n)=>g.jsx(IR,{ref:n,className:Ae("text-sm opacity-90",e),...t}));WR.displayName=IR.displayName;function Abe(){const{toasts:e}=ta();return g.jsxs(wbe,{"data-component-path":"src\\components\\ui\\toaster.tsx","data-component-name":"ToastProvider","data-component-line":"8","data-component-file":"toaster.tsx","data-component-content":"%7B%7D",children:[e.map(function({id:t,title:n,description:r,action:a,...o}){return g.jsxs(UR,{"data-component-path":"src\\components\\ui\\toaster.tsx","data-component-name":"Toast","data-component-line":"11","data-component-file":"toaster.tsx","data-component-content":"%7B%7D",...o,children:[g.jsxs("div",{"data-component-path":"src\\components\\ui\\toaster.tsx","data-component-name":"div","data-component-line":"12","data-component-file":"toaster.tsx","data-component-content":"%7B%22className%22%3A%22grid%20gap-1%22%7D",className:"grid gap-1",children:[n&&g.jsx(zR,{"data-component-path":"src\\components\\ui\\toaster.tsx","data-component-name":"ToastTitle","data-component-line":"13","data-component-file":"toaster.tsx","data-component-content":"%7B%7D",children:n}),r&&g.jsx(WR,{"data-component-path":"src\\components\\ui\\toaster.tsx","data-component-name":"ToastDescription","data-component-line":"15","data-component-file":"toaster.tsx","data-component-content":"%7B%7D",children:r})]}),a,g.jsx(VR,{"data-component-path":"src\\components\\ui\\toaster.tsx","data-component-name":"ToastClose","data-component-line":"19","data-component-file":"toaster.tsx","data-component-content":"%7B%7D"})]},t)}),g.jsx(FR,{"data-component-path":"src\\components\\ui\\toaster.tsx","data-component-name":"ToastViewport","data-component-line":"23","data-component-file":"toaster.tsx","data-component-content":"%7B%22className%22%3A%22fixed%20bottom-0%20left-0%20z-%5B100%5D%20flex%20max-h-screen%20w-full%20flex-col-reverse%20p-4%20sm%3Abottom-0%20sm%3Aleft-0%20sm%3Atop-auto%20sm%3Aflex-col%20md%3Amax-w-%5B420px%5D%22%7D",className:"fixed bottom-0 left-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:left-0 sm:top-auto sm:flex-col md:max-w-[420px]"})]})}const Tbe=new b$({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}});function Pbe(){return g.jsx(A$,{"data-component-path":"src\\App.tsx","data-component-name":"QueryClientProvider","data-component-line":"21","data-component-file":"App.tsx","data-component-content":"%7B%7D",client:Tbe,children:g.jsx(XP,{"data-component-path":"src\\App.tsx","data-component-name":"TowingProvider","data-component-line":"22","data-component-file":"App.tsx","data-component-content":"%7B%7D",children:g.jsx(LI,{"data-component-path":"src\\App.tsx","data-component-name":"StripeProvider","data-component-line":"23","data-component-file":"App.tsx","data-component-content":"%7B%7D",children:g.jsx(FI,{"data-component-path":"src\\App.tsx","data-component-name":"SidebarProvider","data-component-line":"24","data-component-file":"App.tsx","data-component-content":"%7B%7D",children:g.jsxs("div",{"data-component-path":"src\\App.tsx","data-component-name":"div","data-component-line":"25","data-component-file":"App.tsx","data-component-content":"%7B%22className%22%3A%22min-h-screen%20bg-gradient-to-br%20from-blue-50%20via-white%20to-blue-50%20dark%3Afrom-gray-900%20dark%3Avia-gray-800%20dark%3Ato-gray-900%22%7D",className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[g.jsx("div",{"data-component-path":"src\\App.tsx","data-component-name":"div","data-component-line":"26","data-component-file":"App.tsx","data-component-content":"%7B%22className%22%3A%22absolute%20inset-0%20bg-grid-pattern%20opacity-5%22%7D",className:"absolute inset-0 bg-grid-pattern opacity-5"}),g.jsx("div",{"data-component-path":"src\\App.tsx","data-component-name":"div","data-component-line":"27","data-component-file":"App.tsx","data-component-content":"%7B%22className%22%3A%22relative%20z-10%22%7D",className:"relative z-10",children:g.jsx(YB,{"data-component-path":"src\\App.tsx","data-component-name":"RouterProvider","data-component-line":"28","data-component-file":"App.tsx","data-component-content":"%7B%7D",router:nbe})}),g.jsx(Abe,{"data-component-path":"src\\App.tsx","data-component-name":"Toaster","data-component-line":"30","data-component-file":"App.tsx","data-component-content":"%7B%7D"})]})})})})})}class Obe extends k.Component{constructor(){super(...arguments);c2(this,"state",{hasError:!1})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("Uncaught error:",n,r)}render(){return this.state.hasError?g.jsx(Cbe,{"data-component-path":"src\\components\\error\\ErrorBoundary.tsx","data-component-name":"ErrorFallback","data-component-line":"33","data-component-file":"ErrorBoundary.tsx","data-component-content":"%7B%7D",error:this.state.error,onReset:()=>this.setState({hasError:!1})}):this.props.children}}const Cbe=({error:e,onReset:t})=>{const{toast:n}=ta();return k.useEffect(()=>{n({title:"An error occurred",description:(e==null?void 0:e.message)||"Something went wrong",variant:"destructive"})},[e,n]),g.jsx(Fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-center min-h-[200px] p-4",children:g.jsx(Zt,{"data-component-path":"src\\components\\error\\ErrorBoundary.tsx","data-component-name":"Card","data-component-line":"66","data-component-file":"ErrorBoundary.tsx","data-component-content":"%7B%22className%22%3A%22p-6%20max-w-md%20w-full%20bg-destructive%2F5%20border-destructive%2F20%22%7D",className:"p-6 max-w-md w-full bg-destructive/5 border-destructive/20",children:g.jsxs("div",{"data-component-path":"src\\components\\error\\ErrorBoundary.tsx","data-component-name":"div","data-component-line":"67","data-component-file":"ErrorBoundary.tsx","data-component-content":"%7B%22className%22%3A%22flex%20flex-col%20items-center%20gap-4%20text-center%22%7D",className:"flex flex-col items-center gap-4 text-center",children:[g.jsx(NI,{"data-component-path":"src\\components\\error\\ErrorBoundary.tsx","data-component-name":"AlertTriangle","data-component-line":"68","data-component-file":"ErrorBoundary.tsx","data-component-content":"%7B%22className%22%3A%22h-10%20w-10%20text-destructive%22%7D",className:"h-10 w-10 text-destructive"}),g.jsxs("div",{"data-component-path":"src\\components\\error\\ErrorBoundary.tsx","data-component-name":"div","data-component-line":"69","data-component-file":"ErrorBoundary.tsx","data-component-content":"%7B%7D",children:[g.jsx("h3",{"data-component-path":"src\\components\\error\\ErrorBoundary.tsx","data-component-name":"h3","data-component-line":"70","data-component-file":"ErrorBoundary.tsx","data-component-content":"%7B%22text%22%3A%22Something%20went%20wrong%22%2C%22className%22%3A%22text-lg%20font-semibold%20text-destructive%22%7D",className:"text-lg font-semibold text-destructive",children:"Something went wrong"}),g.jsx("p",{"data-component-path":"src\\components\\error\\ErrorBoundary.tsx","data-component-name":"p","data-component-line":"73","data-component-file":"ErrorBoundary.tsx","data-component-content":"%7B%22className%22%3A%22text-sm%20text-gray-600%20mt-1%22%7D",className:"text-sm text-gray-600 mt-1",children:(e==null?void 0:e.message)||"An unexpected error occurred"})]}),g.jsx(dn,{"data-component-path":"src\\components\\error\\ErrorBoundary.tsx","data-component-name":"Button","data-component-line":"77","data-component-file":"ErrorBoundary.tsx","data-component-content":"%7B%22text%22%3A%22Try%20again%22%2C%22className%22%3A%22mt-2%22%7D",onClick:t,variant:"outline",className:"mt-2",children:"Try again"})]})})})};_v.createRoot(document.getElementById("root")).render(g.jsx(k.StrictMode,{children:g.jsx(Obe,{"data-component-path":"src\\main.tsx","data-component-name":"ErrorBoundary","data-component-line":"9","data-component-file":"main.tsx","data-component-content":"%7B%7D",children:g.jsx(Pbe,{"data-component-path":"src\\main.tsx","data-component-name":"App","data-component-line":"10","data-component-file":"main.tsx","data-component-content":"%7B%7D"})})}));export{OI as $,UC as A,dn as B,Zt as C,c4 as D,oj as E,Fd as F,Xh as G,pz as H,oi as I,Kc as J,Zh as K,pi as L,b0 as M,AI as N,vE as O,pge as P,aE as Q,hz as R,HP as S,MI as T,Tye as U,RI as V,j5 as W,xI as X,bI as Y,lg as Z,YT as _,t2 as a,gR as a0,TI as a1,PI as a2,JT as b,ct as c,Xbe as d,y0e as e,Fe as f,Dye as g,pI as h,Mbe as i,Ae as j,Nbe as k,YC as l,Zbe as m,n2 as n,XC as o,U$ as p,ZC as q,SI as r,zu as s,yo as t,ta as u,Fbe as v,il as w,sl as x,cl as y,C5 as z};
//# sourceMappingURL=index-DMAw_j-S.js.map



// C:\Users\israe\Documents\GitHub\recentmap\dist\assets\TowMap-SFcZvpFI.js
import{j as d,k as lo,d as on,u as pe,c as Pt,h as Rt,i as Oa,e as an,f as Ra,g as Cd,l as Td,q as Dd}from"./ui-Dn2T8l1V.js";import{r as w,c as Dt,a as _o,d as Sd,g as tr,e as Ad}from"./vendor-BJaCQb1B.js";import{c as $t,t as Jt,g as vo,a as tn,n as Nd,b as Cs,m as Ld,d as er,e as Md,u as St,A as ye,f as Q,h as Bd,i as yo,B as we,j as bt,M as te,p as nr,C as Ht,L as wo,k as kd,D as Ed,l as Id,o as jd,q as Od,r as Rd,I as Me,S as Fd,s as zd,v as Zd,F as Nn,w as Ln,x as Mn,y as Bn,z as or,E as ar,G as ir,R as Vd,H as Hd,T as Sa,J as gt,K as Wd,N as Ud,O as $d,P as Gd,Q as qd,U as Yd,V as Xd,W as Kd,X as Qd,Y as Jd,Z as Fa,_ as Ts,$ as tm,a0 as em,a1 as nm,a2 as om}from"./index-DMAw_j-S.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=$t("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=$t("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=$t("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=$t("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=$t("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=$t("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=$t("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=$t("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=$t("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=$t("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=$t("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);function kn(n,o){var f,h,g,_;const i=vo(),s=(o==null?void 0:o.weekStartsOn)??((h=(f=o==null?void 0:o.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??i.weekStartsOn??((_=(g=i.locale)==null?void 0:g.options)==null?void 0:_.weekStartsOn)??0,c=Jt(n,o==null?void 0:o.in),m=c.getDay(),p=(m<s?7:0)+m-s;return c.setDate(c.getDate()-p),c.setHours(0,0,0,0),c}function mo(n,o){return kn(n,{...o,weekStartsOn:1})}function rr(n,o){const i=Jt(n,o==null?void 0:o.in),s=i.getFullYear(),c=tn(i,0);c.setFullYear(s+1,0,4),c.setHours(0,0,0,0);const m=mo(c),p=tn(i,0);p.setFullYear(s,0,4),p.setHours(0,0,0,0);const f=mo(p);return i.getTime()>=m.getTime()?s+1:i.getTime()>=f.getTime()?s:s-1}function Ds(n,o){const i=Jt(n,o==null?void 0:o.in);return i.setHours(0,0,0,0),i}function pm(n,o,i){const[s,c]=Nd(i==null?void 0:i.in,n,o),m=Ds(s),p=Ds(c),f=+m-Cs(m),h=+p-Cs(p);return Math.round((f-h)/Ld)}function um(n,o){const i=rr(n,o),s=tn(n,0);return s.setFullYear(i,0,4),s.setHours(0,0,0,0),mo(s)}function hm(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function fm(n){return!(!hm(n)&&typeof n!="number"||isNaN(+Jt(n)))}function gm(n,o){const i=Jt(n,o==null?void 0:o.in);return i.setFullYear(i.getFullYear(),0,1),i.setHours(0,0,0,0),i}function xm(n,o){const i=Jt(n,o==null?void 0:o.in);return pm(i,gm(i))+1}function _m(n,o){const i=Jt(n,o==null?void 0:o.in),s=+mo(i)-+um(i);return Math.round(s/er)+1}function cr(n,o){var _,v,y,b;const i=Jt(n,o==null?void 0:o.in),s=i.getFullYear(),c=vo(),m=(o==null?void 0:o.firstWeekContainsDate)??((v=(_=o==null?void 0:o.locale)==null?void 0:_.options)==null?void 0:v.firstWeekContainsDate)??c.firstWeekContainsDate??((b=(y=c.locale)==null?void 0:y.options)==null?void 0:b.firstWeekContainsDate)??1,p=tn((o==null?void 0:o.in)||n,0);p.setFullYear(s+1,0,m),p.setHours(0,0,0,0);const f=kn(p,o),h=tn((o==null?void 0:o.in)||n,0);h.setFullYear(s,0,m),h.setHours(0,0,0,0);const g=kn(h,o);return+i>=+f?s+1:+i>=+g?s:s-1}function vm(n,o){var f,h,g,_;const i=vo(),s=(o==null?void 0:o.firstWeekContainsDate)??((h=(f=o==null?void 0:o.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((_=(g=i.locale)==null?void 0:g.options)==null?void 0:_.firstWeekContainsDate)??1,c=cr(n,o),m=tn((o==null?void 0:o.in)||n,0);return m.setFullYear(c,0,s),m.setHours(0,0,0,0),kn(m,o)}function ym(n,o){const i=Jt(n,o==null?void 0:o.in),s=+kn(i,o)-+vm(i,o);return Math.round(s/er)+1}function ot(n,o){const i=n<0?"-":"",s=Math.abs(n).toString().padStart(o,"0");return i+s}const xe={y(n,o){const i=n.getFullYear(),s=i>0?i:1-i;return ot(o==="yy"?s%100:s,o.length)},M(n,o){const i=n.getMonth();return o==="M"?String(i+1):ot(i+1,2)},d(n,o){return ot(n.getDate(),o.length)},a(n,o){const i=n.getHours()/12>=1?"pm":"am";switch(o){case"a":case"aa":return i.toUpperCase();case"aaa":return i;case"aaaaa":return i[0];case"aaaa":default:return i==="am"?"a.m.":"p.m."}},h(n,o){return ot(n.getHours()%12||12,o.length)},H(n,o){return ot(n.getHours(),o.length)},m(n,o){return ot(n.getMinutes(),o.length)},s(n,o){return ot(n.getSeconds(),o.length)},S(n,o){const i=o.length,s=n.getMilliseconds(),c=Math.trunc(s*Math.pow(10,i-3));return ot(c,o.length)}},qe={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ss={G:function(n,o,i){const s=n.getFullYear()>0?1:0;switch(o){case"G":case"GG":case"GGG":return i.era(s,{width:"abbreviated"});case"GGGGG":return i.era(s,{width:"narrow"});case"GGGG":default:return i.era(s,{width:"wide"})}},y:function(n,o,i){if(o==="yo"){const s=n.getFullYear(),c=s>0?s:1-s;return i.ordinalNumber(c,{unit:"year"})}return xe.y(n,o)},Y:function(n,o,i,s){const c=cr(n,s),m=c>0?c:1-c;if(o==="YY"){const p=m%100;return ot(p,2)}return o==="Yo"?i.ordinalNumber(m,{unit:"year"}):ot(m,o.length)},R:function(n,o){const i=rr(n);return ot(i,o.length)},u:function(n,o){const i=n.getFullYear();return ot(i,o.length)},Q:function(n,o,i){const s=Math.ceil((n.getMonth()+1)/3);switch(o){case"Q":return String(s);case"QQ":return ot(s,2);case"Qo":return i.ordinalNumber(s,{unit:"quarter"});case"QQQ":return i.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return i.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(s,{width:"wide",context:"formatting"})}},q:function(n,o,i){const s=Math.ceil((n.getMonth()+1)/3);switch(o){case"q":return String(s);case"qq":return ot(s,2);case"qo":return i.ordinalNumber(s,{unit:"quarter"});case"qqq":return i.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return i.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(s,{width:"wide",context:"standalone"})}},M:function(n,o,i){const s=n.getMonth();switch(o){case"M":case"MM":return xe.M(n,o);case"Mo":return i.ordinalNumber(s+1,{unit:"month"});case"MMM":return i.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return i.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(s,{width:"wide",context:"formatting"})}},L:function(n,o,i){const s=n.getMonth();switch(o){case"L":return String(s+1);case"LL":return ot(s+1,2);case"Lo":return i.ordinalNumber(s+1,{unit:"month"});case"LLL":return i.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return i.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(s,{width:"wide",context:"standalone"})}},w:function(n,o,i,s){const c=ym(n,s);return o==="wo"?i.ordinalNumber(c,{unit:"week"}):ot(c,o.length)},I:function(n,o,i){const s=_m(n);return o==="Io"?i.ordinalNumber(s,{unit:"week"}):ot(s,o.length)},d:function(n,o,i){return o==="do"?i.ordinalNumber(n.getDate(),{unit:"date"}):xe.d(n,o)},D:function(n,o,i){const s=xm(n);return o==="Do"?i.ordinalNumber(s,{unit:"dayOfYear"}):ot(s,o.length)},E:function(n,o,i){const s=n.getDay();switch(o){case"E":case"EE":case"EEE":return i.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return i.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(s,{width:"short",context:"formatting"});case"EEEE":default:return i.day(s,{width:"wide",context:"formatting"})}},e:function(n,o,i,s){const c=n.getDay(),m=(c-s.weekStartsOn+8)%7||7;switch(o){case"e":return String(m);case"ee":return ot(m,2);case"eo":return i.ordinalNumber(m,{unit:"day"});case"eee":return i.day(c,{width:"abbreviated",context:"formatting"});case"eeeee":return i.day(c,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(c,{width:"short",context:"formatting"});case"eeee":default:return i.day(c,{width:"wide",context:"formatting"})}},c:function(n,o,i,s){const c=n.getDay(),m=(c-s.weekStartsOn+8)%7||7;switch(o){case"c":return String(m);case"cc":return ot(m,o.length);case"co":return i.ordinalNumber(m,{unit:"day"});case"ccc":return i.day(c,{width:"abbreviated",context:"standalone"});case"ccccc":return i.day(c,{width:"narrow",context:"standalone"});case"cccccc":return i.day(c,{width:"short",context:"standalone"});case"cccc":default:return i.day(c,{width:"wide",context:"standalone"})}},i:function(n,o,i){const s=n.getDay(),c=s===0?7:s;switch(o){case"i":return String(c);case"ii":return ot(c,o.length);case"io":return i.ordinalNumber(c,{unit:"day"});case"iii":return i.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return i.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return i.day(s,{width:"short",context:"formatting"});case"iiii":default:return i.day(s,{width:"wide",context:"formatting"})}},a:function(n,o,i){const c=n.getHours()/12>=1?"pm":"am";switch(o){case"a":case"aa":return i.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"aaa":return i.dayPeriod(c,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return i.dayPeriod(c,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(c,{width:"wide",context:"formatting"})}},b:function(n,o,i){const s=n.getHours();let c;switch(s===12?c=qe.noon:s===0?c=qe.midnight:c=s/12>=1?"pm":"am",o){case"b":case"bb":return i.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"bbb":return i.dayPeriod(c,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return i.dayPeriod(c,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(c,{width:"wide",context:"formatting"})}},B:function(n,o,i){const s=n.getHours();let c;switch(s>=17?c=qe.evening:s>=12?c=qe.afternoon:s>=4?c=qe.morning:c=qe.night,o){case"B":case"BB":case"BBB":return i.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"BBBBB":return i.dayPeriod(c,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(c,{width:"wide",context:"formatting"})}},h:function(n,o,i){if(o==="ho"){let s=n.getHours()%12;return s===0&&(s=12),i.ordinalNumber(s,{unit:"hour"})}return xe.h(n,o)},H:function(n,o,i){return o==="Ho"?i.ordinalNumber(n.getHours(),{unit:"hour"}):xe.H(n,o)},K:function(n,o,i){const s=n.getHours()%12;return o==="Ko"?i.ordinalNumber(s,{unit:"hour"}):ot(s,o.length)},k:function(n,o,i){let s=n.getHours();return s===0&&(s=24),o==="ko"?i.ordinalNumber(s,{unit:"hour"}):ot(s,o.length)},m:function(n,o,i){return o==="mo"?i.ordinalNumber(n.getMinutes(),{unit:"minute"}):xe.m(n,o)},s:function(n,o,i){return o==="so"?i.ordinalNumber(n.getSeconds(),{unit:"second"}):xe.s(n,o)},S:function(n,o){return xe.S(n,o)},X:function(n,o,i){const s=n.getTimezoneOffset();if(s===0)return"Z";switch(o){case"X":return Ns(s);case"XXXX":case"XX":return Le(s);case"XXXXX":case"XXX":default:return Le(s,":")}},x:function(n,o,i){const s=n.getTimezoneOffset();switch(o){case"x":return Ns(s);case"xxxx":case"xx":return Le(s);case"xxxxx":case"xxx":default:return Le(s,":")}},O:function(n,o,i){const s=n.getTimezoneOffset();switch(o){case"O":case"OO":case"OOO":return"GMT"+As(s,":");case"OOOO":default:return"GMT"+Le(s,":")}},z:function(n,o,i){const s=n.getTimezoneOffset();switch(o){case"z":case"zz":case"zzz":return"GMT"+As(s,":");case"zzzz":default:return"GMT"+Le(s,":")}},t:function(n,o,i){const s=Math.trunc(+n/1e3);return ot(s,o.length)},T:function(n,o,i){return ot(+n,o.length)}};function As(n,o=""){const i=n>0?"-":"+",s=Math.abs(n),c=Math.trunc(s/60),m=s%60;return m===0?i+String(c):i+String(c)+o+ot(m,2)}function Ns(n,o){return n%60===0?(n>0?"-":"+")+ot(Math.abs(n)/60,2):Le(n,o)}function Le(n,o=""){const i=n>0?"-":"+",s=Math.abs(n),c=ot(Math.trunc(s/60),2),m=ot(s%60,2);return i+c+o+m}const Ls=(n,o)=>{switch(n){case"P":return o.date({width:"short"});case"PP":return o.date({width:"medium"});case"PPP":return o.date({width:"long"});case"PPPP":default:return o.date({width:"full"})}},lr=(n,o)=>{switch(n){case"p":return o.time({width:"short"});case"pp":return o.time({width:"medium"});case"ppp":return o.time({width:"long"});case"pppp":default:return o.time({width:"full"})}},wm=(n,o)=>{const i=n.match(/(P+)(p+)?/)||[],s=i[1],c=i[2];if(!c)return Ls(n,o);let m;switch(s){case"P":m=o.dateTime({width:"short"});break;case"PP":m=o.dateTime({width:"medium"});break;case"PPP":m=o.dateTime({width:"long"});break;case"PPPP":default:m=o.dateTime({width:"full"});break}return m.replace("{{date}}",Ls(s,o)).replace("{{time}}",lr(c,o))},bm={p:lr,P:wm},Pm=/^D+$/,Cm=/^Y+$/,Tm=["D","DD","YY","YYYY"];function Dm(n){return Pm.test(n)}function Sm(n){return Cm.test(n)}function Am(n,o,i){const s=Nm(n,o,i);if(console.warn(s),Tm.includes(n))throw new RangeError(s)}function Nm(n,o,i){const s=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${o}\`) for formatting ${s} to the input \`${i}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Lm=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Mm=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Bm=/^'([^]*?)'?$/,km=/''/g,Em=/[a-zA-Z]/;function Im(n,o,i){var _,v,y,b;const s=vo(),c=s.locale??Md,m=s.firstWeekContainsDate??((v=(_=s.locale)==null?void 0:_.options)==null?void 0:v.firstWeekContainsDate)??1,p=s.weekStartsOn??((b=(y=s.locale)==null?void 0:y.options)==null?void 0:b.weekStartsOn)??0,f=Jt(n,i==null?void 0:i.in);if(!fm(f))throw new RangeError("Invalid time value");let h=o.match(Mm).map(T=>{const P=T[0];if(P==="p"||P==="P"){const A=bm[P];return A(T,c.formatLong)}return T}).join("").match(Lm).map(T=>{if(T==="''")return{isToken:!1,value:"'"};const P=T[0];if(P==="'")return{isToken:!1,value:jm(T)};if(Ss[P])return{isToken:!0,value:T};if(P.match(Em))throw new RangeError("Format string contains an unescaped latin alphabet character `"+P+"`");return{isToken:!1,value:T}});c.localize.preprocessor&&(h=c.localize.preprocessor(f,h));const g={firstWeekContainsDate:m,weekStartsOn:p,locale:c};return h.map(T=>{if(!T.isToken)return T.value;const P=T.value;(Sm(P)||Dm(P))&&Am(P,o,String(n));const A=Ss[P[0]];return A(f,P,c.localize,g)}).join("")}function jm(n){const o=n.match(Bm);return o?o[1].replace(km,"'"):n}function dr(n,o){const i=w.useRef(o);w.useEffect(function(){o!==i.current&&n.attributionControl!=null&&(i.current!=null&&n.attributionControl.removeAttribution(i.current),o!=null&&n.attributionControl.addAttribution(o)),i.current=o},[n,o])}const Om=1;function Rm(n){return Object.freeze({__version:Om,map:n})}function mr(n,o){return Object.freeze({...n,...o})}const pr=w.createContext(null),ur=pr.Provider;function Po(){const n=w.useContext(pr);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function hr(n){function o(i,s){const{instance:c,context:m}=n(i).current;return w.useImperativeHandle(s,()=>c),i.children==null?null:Dt.createElement(ur,{value:m},i.children)}return w.forwardRef(o)}function Fm(n){function o(i,s){const[c,m]=w.useState(!1),{instance:p}=n(i,m).current;w.useImperativeHandle(s,()=>p),w.useEffect(function(){c&&p.update()},[p,c,i.children]);const f=p._contentNode;return f?_o.createPortal(i.children,f):null}return w.forwardRef(o)}function zm(n){function o(i,s){const{instance:c}=n(i).current;return w.useImperativeHandle(s,()=>c),null}return w.forwardRef(o)}function Za(n,o){const i=w.useRef();w.useEffect(function(){return o!=null&&n.instance.on(o),i.current=o,function(){i.current!=null&&n.instance.off(i.current),i.current=null}},[n,o])}function Co(n,o){const i=n.pane??o.pane;return i?{...n,pane:i}:n}function Zm(n,o){return function(s,c){const m=Po(),p=n(Co(s,m),m);return dr(m.map,s.attribution),Za(p.current,s.eventHandlers),o(p.current,m,s,c),p}}var Aa={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(n,o){(function(i,s){s(o)})(Sd,function(i){var s="1.9.4";function c(t){var e,a,r,l;for(a=1,r=arguments.length;a<r;a++){l=arguments[a];for(e in l)t[e]=l[e]}return t}var m=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function p(t,e){var a=Array.prototype.slice;if(t.bind)return t.bind.apply(t,a.call(arguments,1));var r=a.call(arguments,2);return function(){return t.apply(e,r.length?r.concat(a.call(arguments)):arguments)}}var f=0;function h(t){return"_leaflet_id"in t||(t._leaflet_id=++f),t._leaflet_id}function g(t,e,a){var r,l,u,x;return x=function(){r=!1,l&&(u.apply(a,l),l=!1)},u=function(){r?l=arguments:(t.apply(a,arguments),setTimeout(x,e),r=!0)},u}function _(t,e,a){var r=e[1],l=e[0],u=r-l;return t===r&&a?t:((t-l)%u+u)%u+l}function v(){return!1}function y(t,e){if(e===!1)return t;var a=Math.pow(10,e===void 0?6:e);return Math.round(t*a)/a}function b(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function T(t){return b(t).split(/\s+/)}function P(t,e){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?m(t.options):{});for(var a in e)t.options[a]=e[a];return t.options}function A(t,e,a){var r=[];for(var l in t)r.push(encodeURIComponent(a?l.toUpperCase():l)+"="+encodeURIComponent(t[l]));return(!e||e.indexOf("?")===-1?"?":"&")+r.join("&")}var k=/\{ *([\w_ -]+) *\}/g;function S(t,e){return t.replace(k,function(a,r){var l=e[r];if(l===void 0)throw new Error("No value provided for variable "+a);return typeof l=="function"&&(l=l(e)),l})}var N=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function M(t,e){for(var a=0;a<t.length;a++)if(t[a]===e)return a;return-1}var E="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function R(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var j=0;function W(t){var e=+new Date,a=Math.max(0,16-(e-j));return j=e+a,window.setTimeout(t,a)}var et=window.requestAnimationFrame||R("RequestAnimationFrame")||W,U=window.cancelAnimationFrame||R("CancelAnimationFrame")||R("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function G(t,e,a){if(a&&et===W)t.call(e);else return et.call(window,p(t,e))}function tt(t){t&&U.call(window,t)}var rt={__proto__:null,extend:c,create:m,bind:p,get lastId(){return f},stamp:h,throttle:g,wrapNum:_,falseFn:v,formatNum:y,trim:b,splitWords:T,setOptions:P,getParamString:A,template:S,isArray:N,indexOf:M,emptyImageUrl:E,requestFn:et,cancelFn:U,requestAnimFrame:G,cancelAnimFrame:tt};function Y(){}Y.extend=function(t){var e=function(){P(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},a=e.__super__=this.prototype,r=m(a);r.constructor=e,e.prototype=r;for(var l in this)Object.prototype.hasOwnProperty.call(this,l)&&l!=="prototype"&&l!=="__super__"&&(e[l]=this[l]);return t.statics&&c(e,t.statics),t.includes&&(xt(t.includes),c.apply(null,[r].concat(t.includes))),c(r,t),delete r.statics,delete r.includes,r.options&&(r.options=a.options?m(a.options):{},c(r.options,t.options)),r._initHooks=[],r.callInitHooks=function(){if(!this._initHooksCalled){a.callInitHooks&&a.callInitHooks.call(this),this._initHooksCalled=!0;for(var u=0,x=r._initHooks.length;u<x;u++)r._initHooks[u].call(this)}},e},Y.include=function(t){var e=this.prototype.options;return c(this.prototype,t),t.options&&(this.prototype.options=e,this.mergeOptions(t.options)),this},Y.mergeOptions=function(t){return c(this.prototype.options,t),this},Y.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),a=typeof t=="function"?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(a),this};function xt(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=N(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var X={on:function(t,e,a){if(typeof t=="object")for(var r in t)this._on(r,t[r],e);else{t=T(t);for(var l=0,u=t.length;l<u;l++)this._on(t[l],e,a)}return this},off:function(t,e,a){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var r in t)this._off(r,t[r],e);else{t=T(t);for(var l=arguments.length===1,u=0,x=t.length;u<x;u++)l?this._off(t[u]):this._off(t[u],e,a)}return this},_on:function(t,e,a,r){if(typeof e!="function"){console.warn("wrong listener type: "+typeof e);return}if(this._listens(t,e,a)===!1){a===this&&(a=void 0);var l={fn:e,ctx:a};r&&(l.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(l)}},_off:function(t,e,a){var r,l,u;if(this._events&&(r=this._events[t],!!r)){if(arguments.length===1){if(this._firingCount)for(l=0,u=r.length;l<u;l++)r[l].fn=v;delete this._events[t];return}if(typeof e!="function"){console.warn("wrong listener type: "+typeof e);return}var x=this._listens(t,e,a);if(x!==!1){var C=r[x];this._firingCount&&(C.fn=v,this._events[t]=r=r.slice()),r.splice(x,1)}}},fire:function(t,e,a){if(!this.listens(t,a))return this;var r=c({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var l=this._events[t];if(l){this._firingCount=this._firingCount+1||1;for(var u=0,x=l.length;u<x;u++){var C=l[u],D=C.fn;C.once&&this.off(t,D,C.ctx),D.call(C.ctx||this,r)}this._firingCount--}}return a&&this._propagateEvent(r),this},listens:function(t,e,a,r){typeof t!="string"&&console.warn('"string" type argument expected');var l=e;typeof e!="function"&&(r=!!e,l=void 0,a=void 0);var u=this._events&&this._events[t];if(u&&u.length&&this._listens(t,l,a)!==!1)return!0;if(r){for(var x in this._eventParents)if(this._eventParents[x].listens(t,e,a,r))return!0}return!1},_listens:function(t,e,a){if(!this._events)return!1;var r=this._events[t]||[];if(!e)return!!r.length;a===this&&(a=void 0);for(var l=0,u=r.length;l<u;l++)if(r[l].fn===e&&r[l].ctx===a)return l;return!1},once:function(t,e,a){if(typeof t=="object")for(var r in t)this._on(r,t[r],e,!0);else{t=T(t);for(var l=0,u=t.length;l<u;l++)this._on(t[l],e,a,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[h(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[h(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,c({layer:t.target,propagatedFrom:t.target},t),!0)}};X.addEventListener=X.on,X.removeEventListener=X.clearAllEventListeners=X.off,X.addOneTimeEventListener=X.once,X.fireEvent=X.fire,X.hasEventListeners=X.listens;var it=Y.extend(X);function I(t,e,a){this.x=a?Math.round(t):t,this.y=a?Math.round(e):e}var lt=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};I.prototype={clone:function(){return new I(this.x,this.y)},add:function(t){return this.clone()._add(F(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(F(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new I(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new I(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=lt(this.x),this.y=lt(this.y),this},distanceTo:function(t){t=F(t);var e=t.x-this.x,a=t.y-this.y;return Math.sqrt(e*e+a*a)},equals:function(t){return t=F(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=F(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+y(this.x)+", "+y(this.y)+")"}};function F(t,e,a){return t instanceof I?t:N(t)?new I(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new I(t.x,t.y):new I(t,e,a)}function at(t,e){if(t)for(var a=e?[t,e]:t,r=0,l=a.length;r<l;r++)this.extend(a[r])}at.prototype={extend:function(t){var e,a;if(!t)return this;if(t instanceof I||typeof t[0]=="number"||"x"in t)e=a=F(t);else if(t=vt(t),e=t.min,a=t.max,!e||!a)return this;return!this.min&&!this.max?(this.min=e.clone(),this.max=a.clone()):(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(a.y,this.max.y)),this},getCenter:function(t){return F((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return F(this.min.x,this.max.y)},getTopRight:function(){return F(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,a;return typeof t[0]=="number"||t instanceof I?t=F(t):t=vt(t),t instanceof at?(e=t.min,a=t.max):e=a=t,e.x>=this.min.x&&a.x<=this.max.x&&e.y>=this.min.y&&a.y<=this.max.y},intersects:function(t){t=vt(t);var e=this.min,a=this.max,r=t.min,l=t.max,u=l.x>=e.x&&r.x<=a.x,x=l.y>=e.y&&r.y<=a.y;return u&&x},overlaps:function(t){t=vt(t);var e=this.min,a=this.max,r=t.min,l=t.max,u=l.x>e.x&&r.x<a.x,x=l.y>e.y&&r.y<a.y;return u&&x},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var e=this.min,a=this.max,r=Math.abs(e.x-a.x)*t,l=Math.abs(e.y-a.y)*t;return vt(F(e.x-r,e.y-l),F(a.x+r,a.y+l))},equals:function(t){return t?(t=vt(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function vt(t,e){return!t||t instanceof at?t:new at(t,e)}function yt(t,e){if(t)for(var a=e?[t,e]:t,r=0,l=a.length;r<l;r++)this.extend(a[r])}yt.prototype={extend:function(t){var e=this._southWest,a=this._northEast,r,l;if(t instanceof nt)r=t,l=t;else if(t instanceof yt){if(r=t._southWest,l=t._northEast,!r||!l)return this}else return t?this.extend(q(t)||dt(t)):this;return!e&&!a?(this._southWest=new nt(r.lat,r.lng),this._northEast=new nt(l.lat,l.lng)):(e.lat=Math.min(r.lat,e.lat),e.lng=Math.min(r.lng,e.lng),a.lat=Math.max(l.lat,a.lat),a.lng=Math.max(l.lng,a.lng)),this},pad:function(t){var e=this._southWest,a=this._northEast,r=Math.abs(e.lat-a.lat)*t,l=Math.abs(e.lng-a.lng)*t;return new yt(new nt(e.lat-r,e.lng-l),new nt(a.lat+r,a.lng+l))},getCenter:function(){return new nt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new nt(this.getNorth(),this.getWest())},getSouthEast:function(){return new nt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof nt||"lat"in t?t=q(t):t=dt(t);var e=this._southWest,a=this._northEast,r,l;return t instanceof yt?(r=t.getSouthWest(),l=t.getNorthEast()):r=l=t,r.lat>=e.lat&&l.lat<=a.lat&&r.lng>=e.lng&&l.lng<=a.lng},intersects:function(t){t=dt(t);var e=this._southWest,a=this._northEast,r=t.getSouthWest(),l=t.getNorthEast(),u=l.lat>=e.lat&&r.lat<=a.lat,x=l.lng>=e.lng&&r.lng<=a.lng;return u&&x},overlaps:function(t){t=dt(t);var e=this._southWest,a=this._northEast,r=t.getSouthWest(),l=t.getNorthEast(),u=l.lat>e.lat&&r.lat<a.lat,x=l.lng>e.lng&&r.lng<a.lng;return u&&x},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return t?(t=dt(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function dt(t,e){return t instanceof yt?t:new yt(t,e)}function nt(t,e,a){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,a!==void 0&&(this.alt=+a)}nt.prototype={equals:function(t,e){if(!t)return!1;t=q(t);var a=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return a<=(e===void 0?1e-9:e)},toString:function(t){return"LatLng("+y(this.lat,t)+", "+y(this.lng,t)+")"},distanceTo:function(t){return Ft.distance(this,q(t))},wrap:function(){return Ft.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,a=e/Math.cos(Math.PI/180*this.lat);return dt([this.lat-e,this.lng-a],[this.lat+e,this.lng+a])},clone:function(){return new nt(this.lat,this.lng,this.alt)}};function q(t,e,a){return t instanceof nt?t:N(t)&&typeof t[0]!="object"?t.length===3?new nt(t[0],t[1],t[2]):t.length===2?new nt(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new nt(t.lat,"lng"in t?t.lng:t.lon,t.alt):e===void 0?null:new nt(t,e,a)}var Et={latLngToPoint:function(t,e){var a=this.projection.project(t),r=this.scale(e);return this.transformation._transform(a,r)},pointToLatLng:function(t,e){var a=this.scale(e),r=this.transformation.untransform(t,a);return this.projection.unproject(r)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,a=this.scale(t),r=this.transformation.transform(e.min,a),l=this.transformation.transform(e.max,a);return new at(r,l)},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?_(t.lng,this.wrapLng,!0):t.lng,a=this.wrapLat?_(t.lat,this.wrapLat,!0):t.lat,r=t.alt;return new nt(a,e,r)},wrapLatLngBounds:function(t){var e=t.getCenter(),a=this.wrapLatLng(e),r=e.lat-a.lat,l=e.lng-a.lng;if(r===0&&l===0)return t;var u=t.getSouthWest(),x=t.getNorthEast(),C=new nt(u.lat-r,u.lng-l),D=new nt(x.lat-r,x.lng-l);return new yt(C,D)}},Ft=c({},Et,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var a=Math.PI/180,r=t.lat*a,l=e.lat*a,u=Math.sin((e.lat-t.lat)*a/2),x=Math.sin((e.lng-t.lng)*a/2),C=u*u+Math.cos(r)*Math.cos(l)*x*x,D=2*Math.atan2(Math.sqrt(C),Math.sqrt(1-C));return this.R*D}}),cn=6378137,Ie={R:cn,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,a=this.MAX_LATITUDE,r=Math.max(Math.min(a,t.lat),-a),l=Math.sin(r*e);return new I(this.R*t.lng*e,this.R*Math.log((1+l)/(1-l))/2)},unproject:function(t){var e=180/Math.PI;return new nt((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=cn*Math.PI;return new at([-t,-t],[t,t])}()};function je(t,e,a,r){if(N(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=e,this._c=a,this._d=r}je.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new I((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};function he(t,e,a,r){return new je(t,e,a,r)}var ae=c({},Ft,{code:"EPSG:3857",projection:Ie,transformation:function(){var t=.5/(Math.PI*Ie.R);return he(t,.5,-t,.5)}()}),On=c({},ae,{code:"EPSG:900913"});function Rn(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Fn(t,e){var a="",r,l,u,x,C,D;for(r=0,u=t.length;r<u;r++){for(C=t[r],l=0,x=C.length;l<x;l++)D=C[l],a+=(l?"L":"M")+D.x+" "+D.y;a+=e?z.svg?"z":"x":""}return a||"M0 0"}var ln=document.documentElement.style,Oe="ActiveXObject"in window,Re=Oe&&!document.addEventListener,xi="msLaunchUri"in navigator&&!("documentMode"in document),Zo=Gt("webkit"),_i=Gt("android"),vi=Gt("android 2")||Gt("android 3"),nl=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ol=_i&&Gt("Google")&&nl<537&&!("AudioNode"in window),Vo=!!window.opera,yi=!xi&&Gt("chrome"),wi=Gt("gecko")&&!Zo&&!Vo&&!Oe,al=!yi&&Gt("safari"),bi=Gt("phantom"),Pi="OTransition"in ln,il=navigator.platform.indexOf("Win")===0,Ci=Oe&&"transition"in ln,Ho="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!vi,Ti="MozPerspective"in ln,sl=!window.L_DISABLE_3D&&(Ci||Ho||Ti)&&!Pi&&!bi,dn=typeof orientation<"u"||Gt("mobile"),rl=dn&&Zo,cl=dn&&Ho,Di=!window.PointerEvent&&window.MSPointerEvent,Si=!!(window.PointerEvent||Di),Ai="ontouchstart"in window||!!window.TouchEvent,ll=!window.L_NO_TOUCH&&(Ai||Si),dl=dn&&Vo,ml=dn&&wi,pl=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ul=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",v,e),window.removeEventListener("testPassiveEventSupport",v,e)}catch{}return t}(),hl=function(){return!!document.createElement("canvas").getContext}(),Wo=!!(document.createElementNS&&Rn("svg").createSVGRect),fl=!!Wo&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),gl=!Wo&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&typeof e.adj=="object"}catch{return!1}}(),xl=navigator.platform.indexOf("Mac")===0,_l=navigator.platform.indexOf("Linux")===0;function Gt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var z={ie:Oe,ielt9:Re,edge:xi,webkit:Zo,android:_i,android23:vi,androidStock:ol,opera:Vo,chrome:yi,gecko:wi,safari:al,phantom:bi,opera12:Pi,win:il,ie3d:Ci,webkit3d:Ho,gecko3d:Ti,any3d:sl,mobile:dn,mobileWebkit:rl,mobileWebkit3d:cl,msPointer:Di,pointer:Si,touch:ll,touchNative:Ai,mobileOpera:dl,mobileGecko:ml,retina:pl,passiveEvents:ul,canvas:hl,svg:Wo,vml:gl,inlineSvg:fl,mac:xl,linux:_l},Ni=z.msPointer?"MSPointerDown":"pointerdown",Li=z.msPointer?"MSPointerMove":"pointermove",Mi=z.msPointer?"MSPointerUp":"pointerup",Bi=z.msPointer?"MSPointerCancel":"pointercancel",Uo={touchstart:Ni,touchmove:Li,touchend:Mi,touchcancel:Bi},ki={touchstart:Cl,touchmove:zn,touchend:zn,touchcancel:zn},Fe={},Ei=!1;function vl(t,e,a){return e==="touchstart"&&Pl(),ki[e]?(a=ki[e].bind(this,a),t.addEventListener(Uo[e],a,!1),a):(console.warn("wrong event specified:",e),v)}function yl(t,e,a){if(!Uo[e]){console.warn("wrong event specified:",e);return}t.removeEventListener(Uo[e],a,!1)}function wl(t){Fe[t.pointerId]=t}function bl(t){Fe[t.pointerId]&&(Fe[t.pointerId]=t)}function Ii(t){delete Fe[t.pointerId]}function Pl(){Ei||(document.addEventListener(Ni,wl,!0),document.addEventListener(Li,bl,!0),document.addEventListener(Mi,Ii,!0),document.addEventListener(Bi,Ii,!0),Ei=!0)}function zn(t,e){if(e.pointerType!==(e.MSPOINTER_TYPE_MOUSE||"mouse")){e.touches=[];for(var a in Fe)e.touches.push(Fe[a]);e.changedTouches=[e],t(e)}}function Cl(t,e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&_t(e),zn(t,e)}function Tl(t){var e={},a,r;for(r in t)a=t[r],e[r]=a&&a.bind?a.bind(t):a;return t=e,e.type="dblclick",e.detail=2,e.isTrusted=!1,e._simulated=!0,e}var Dl=200;function Sl(t,e){t.addEventListener("dblclick",e);var a=0,r;function l(u){if(u.detail!==1){r=u.detail;return}if(!(u.pointerType==="mouse"||u.sourceCapabilities&&!u.sourceCapabilities.firesTouchEvents)){var x=zi(u);if(!(x.some(function(D){return D instanceof HTMLLabelElement&&D.attributes.for})&&!x.some(function(D){return D instanceof HTMLInputElement||D instanceof HTMLSelectElement}))){var C=Date.now();C-a<=Dl?(r++,r===2&&e(Tl(u))):r=1,a=C}}}return t.addEventListener("click",l),{dblclick:e,simDblclick:l}}function Al(t,e){t.removeEventListener("dblclick",e.dblclick),t.removeEventListener("click",e.simDblclick)}var $o=Hn(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),mn=Hn(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ji=mn==="webkitTransition"||mn==="OTransition"?mn+"End":"transitionend";function Oi(t){return typeof t=="string"?document.getElementById(t):t}function pn(t,e){var a=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!a||a==="auto")&&document.defaultView){var r=document.defaultView.getComputedStyle(t,null);a=r?r[e]:null}return a==="auto"?null:a}function J(t,e,a){var r=document.createElement(t);return r.className=e||"",a&&a.appendChild(r),r}function ct(t){var e=t.parentNode;e&&e.removeChild(t)}function Zn(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function ze(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function Ze(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function Go(t,e){if(t.classList!==void 0)return t.classList.contains(e);var a=Vn(t);return a.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(a)}function H(t,e){if(t.classList!==void 0)for(var a=T(e),r=0,l=a.length;r<l;r++)t.classList.add(a[r]);else if(!Go(t,e)){var u=Vn(t);qo(t,(u?u+" ":"")+e)}}function pt(t,e){t.classList!==void 0?t.classList.remove(e):qo(t,b((" "+Vn(t)+" ").replace(" "+e+" "," ")))}function qo(t,e){t.className.baseVal===void 0?t.className=e:t.className.baseVal=e}function Vn(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function It(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&Nl(t,e)}function Nl(t,e){var a=!1,r="DXImageTransform.Microsoft.Alpha";try{a=t.filters.item(r)}catch{if(e===1)return}e=Math.round(e*100),a?(a.Enabled=e!==100,a.Opacity=e):t.style.filter+=" progid:"+r+"(opacity="+e+")"}function Hn(t){for(var e=document.documentElement.style,a=0;a<t.length;a++)if(t[a]in e)return t[a];return!1}function Te(t,e,a){var r=e||new I(0,0);t.style[$o]=(z.ie3d?"translate("+r.x+"px,"+r.y+"px)":"translate3d("+r.x+"px,"+r.y+"px,0)")+(a?" scale("+a+")":"")}function ut(t,e){t._leaflet_pos=e,z.any3d?Te(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function De(t){return t._leaflet_pos||new I(0,0)}var un,hn,Yo;if("onselectstart"in document)un=function(){V(window,"selectstart",_t)},hn=function(){st(window,"selectstart",_t)};else{var fn=Hn(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);un=function(){if(fn){var t=document.documentElement.style;Yo=t[fn],t[fn]="none"}},hn=function(){fn&&(document.documentElement.style[fn]=Yo,Yo=void 0)}}function Xo(){V(window,"dragstart",_t)}function Ko(){st(window,"dragstart",_t)}var Wn,Qo;function Jo(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(Un(),Wn=t,Qo=t.style.outlineStyle,t.style.outlineStyle="none",V(window,"keydown",Un))}function Un(){Wn&&(Wn.style.outlineStyle=Qo,Wn=void 0,Qo=void 0,st(window,"keydown",Un))}function Ri(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function ta(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var Ll={__proto__:null,TRANSFORM:$o,TRANSITION:mn,TRANSITION_END:ji,get:Oi,getStyle:pn,create:J,remove:ct,empty:Zn,toFront:ze,toBack:Ze,hasClass:Go,addClass:H,removeClass:pt,setClass:qo,getClass:Vn,setOpacity:It,testProp:Hn,setTransform:Te,setPosition:ut,getPosition:De,get disableTextSelection(){return un},get enableTextSelection(){return hn},disableImageDrag:Xo,enableImageDrag:Ko,preventOutline:Jo,restoreOutline:Un,getSizedParentNode:Ri,getScale:ta};function V(t,e,a,r){if(e&&typeof e=="object")for(var l in e)na(t,l,e[l],a);else{e=T(e);for(var u=0,x=e.length;u<x;u++)na(t,e[u],a,r)}return this}var qt="_leaflet_events";function st(t,e,a,r){if(arguments.length===1)Fi(t),delete t[qt];else if(e&&typeof e=="object")for(var l in e)oa(t,l,e[l],a);else if(e=T(e),arguments.length===2)Fi(t,function(C){return M(e,C)!==-1});else for(var u=0,x=e.length;u<x;u++)oa(t,e[u],a,r);return this}function Fi(t,e){for(var a in t[qt]){var r=a.split(/\d/)[0];(!e||e(r))&&oa(t,r,null,null,a)}}var ea={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function na(t,e,a,r){var l=e+h(a)+(r?"_"+h(r):"");if(t[qt]&&t[qt][l])return this;var u=function(C){return a.call(r||t,C||window.event)},x=u;!z.touchNative&&z.pointer&&e.indexOf("touch")===0?u=vl(t,e,u):z.touch&&e==="dblclick"?u=Sl(t,u):"addEventListener"in t?e==="touchstart"||e==="touchmove"||e==="wheel"||e==="mousewheel"?t.addEventListener(ea[e]||e,u,z.passiveEvents?{passive:!1}:!1):e==="mouseenter"||e==="mouseleave"?(u=function(C){C=C||window.event,ia(t,C)&&x(C)},t.addEventListener(ea[e],u,!1)):t.addEventListener(e,x,!1):t.attachEvent("on"+e,u),t[qt]=t[qt]||{},t[qt][l]=u}function oa(t,e,a,r,l){l=l||e+h(a)+(r?"_"+h(r):"");var u=t[qt]&&t[qt][l];if(!u)return this;!z.touchNative&&z.pointer&&e.indexOf("touch")===0?yl(t,e,u):z.touch&&e==="dblclick"?Al(t,u):"removeEventListener"in t?t.removeEventListener(ea[e]||e,u,!1):t.detachEvent("on"+e,u),t[qt][l]=null}function Se(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function aa(t){return na(t,"wheel",Se),this}function gn(t){return V(t,"mousedown touchstart dblclick contextmenu",Se),t._leaflet_disable_click=!0,this}function _t(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Ae(t){return _t(t),Se(t),this}function zi(t){if(t.composedPath)return t.composedPath();for(var e=[],a=t.target;a;)e.push(a),a=a.parentNode;return e}function Zi(t,e){if(!e)return new I(t.clientX,t.clientY);var a=ta(e),r=a.boundingClientRect;return new I((t.clientX-r.left)/a.x-e.clientLeft,(t.clientY-r.top)/a.y-e.clientTop)}var Ml=z.linux&&z.chrome?window.devicePixelRatio:z.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Vi(t){return z.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/Ml:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function ia(t,e){var a=e.relatedTarget;if(!a)return!0;try{for(;a&&a!==t;)a=a.parentNode}catch{return!1}return a!==t}var Bl={__proto__:null,on:V,off:st,stopPropagation:Se,disableScrollPropagation:aa,disableClickPropagation:gn,preventDefault:_t,stop:Ae,getPropagationPath:zi,getMousePosition:Zi,getWheelDelta:Vi,isExternalTarget:ia,addListener:V,removeListener:st},Hi=it.extend({run:function(t,e,a,r){this.stop(),this._el=t,this._inProgress=!0,this._duration=a||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=De(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=G(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,a=this._duration*1e3;e<a?this._runFrame(this._easeOut(e/a),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var a=this._startPos.add(this._offset.multiplyBy(t));e&&a._round(),ut(this._el,a),this.fire("step")},_complete:function(){tt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),K=it.extend({options:{crs:ae,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=P(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=p(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.zoom!==void 0&&(this._zoom=this._limitZoom(e.zoom)),e.center&&e.zoom!==void 0&&this.setView(q(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=mn&&z.any3d&&!z.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),V(this._proxy,ji,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,a){if(e=e===void 0?this._zoom:this._limitZoom(e),t=this._limitCenter(q(t),e,this.options.maxBounds),a=a||{},this._stop(),this._loaded&&!a.reset&&a!==!0){a.animate!==void 0&&(a.zoom=c({animate:a.animate},a.zoom),a.pan=c({animate:a.animate,duration:a.duration},a.pan));var r=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,a.zoom):this._tryAnimatedPan(t,a.pan);if(r)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e,a.pan&&a.pan.noMoveStart),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(z.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(z.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,a){var r=this.getZoomScale(e),l=this.getSize().divideBy(2),u=t instanceof I?t:this.latLngToContainerPoint(t),x=u.subtract(l).multiplyBy(1-1/r),C=this.containerPointToLatLng(l.add(x));return this.setView(C,e,{zoom:a})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():dt(t);var a=F(e.paddingTopLeft||e.padding||[0,0]),r=F(e.paddingBottomRight||e.padding||[0,0]),l=this.getBoundsZoom(t,!1,a.add(r));if(l=typeof e.maxZoom=="number"?Math.min(e.maxZoom,l):l,l===1/0)return{center:t.getCenter(),zoom:l};var u=r.subtract(a).divideBy(2),x=this.project(t.getSouthWest(),l),C=this.project(t.getNorthEast(),l),D=this.unproject(x.add(C).divideBy(2).add(u),l);return{center:D,zoom:l}},fitBounds:function(t,e){if(t=dt(t),!t.isValid())throw new Error("Bounds are not valid.");var a=this._getBoundsCenterZoom(t,e);return this.setView(a.center,a.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(t=F(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(e.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Hi,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),e.animate!==!1){H(this._mapPane,"leaflet-pan-anim");var a=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,a,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,a){if(a=a||{},a.animate===!1||!z.any3d)return this.setView(t,e,a);this._stop();var r=this.project(this.getCenter()),l=this.project(t),u=this.getSize(),x=this._zoom;t=q(t),e=e===void 0?x:e;var C=Math.max(u.x,u.y),D=C*this.getZoomScale(x,e),B=l.distanceTo(r)||1,O=1.42,Z=O*O;function $(ht){var oo=ht?-1:1,yd=ht?D:C,wd=D*D-C*C+oo*Z*Z*B*B,bd=2*yd*Z*B,ga=wd/bd,Ps=Math.sqrt(ga*ga+1)-ga,Pd=Ps<1e-9?-18:Math.log(Ps);return Pd}function Ct(ht){return(Math.exp(ht)-Math.exp(-ht))/2}function ft(ht){return(Math.exp(ht)+Math.exp(-ht))/2}function Ot(ht){return Ct(ht)/ft(ht)}var At=$(0);function Ge(ht){return C*(ft(At)/ft(At+O*ht))}function gd(ht){return C*(ft(At)*Ot(At+O*ht)-Ct(At))/Z}function xd(ht){return 1-Math.pow(1-ht,1.5)}var _d=Date.now(),ws=($(1)-At)/O,vd=a.duration?1e3*a.duration:1e3*ws*.8;function bs(){var ht=(Date.now()-_d)/vd,oo=xd(ht)*ws;ht<=1?(this._flyToFrame=G(bs,this),this._move(this.unproject(r.add(l.subtract(r).multiplyBy(gd(oo)/B)),x),this.getScaleZoom(C/Ge(oo),x),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}return this._moveStart(!0,a.noMoveStart),bs.call(this),this},flyToBounds:function(t,e){var a=this._getBoundsCenterZoom(t,e);return this.flyTo(a.center,a.zoom,e)},setMaxBounds:function(t){return t=dt(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var a=this.getCenter(),r=this._limitCenter(a,this._zoom,dt(t));return a.equals(r)||this.panTo(r,e),this._enforcingBounds=!1,this},panInside:function(t,e){e=e||{};var a=F(e.paddingTopLeft||e.padding||[0,0]),r=F(e.paddingBottomRight||e.padding||[0,0]),l=this.project(this.getCenter()),u=this.project(t),x=this.getPixelBounds(),C=vt([x.min.add(a),x.max.subtract(r)]),D=C.getSize();if(!C.contains(u)){this._enforcingBounds=!0;var B=u.subtract(C.getCenter()),O=C.extend(u).getSize().subtract(D);l.x+=B.x<0?-O.x:O.x,l.y+=B.y<0?-O.y:O.y,this.panTo(this.unproject(l),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=c({animate:!1,pan:!0},t===!0?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var a=this.getSize(),r=e.divideBy(2).round(),l=a.divideBy(2).round(),u=r.subtract(l);return!u.x&&!u.y?this:(t.animate&&t.pan?this.panBy(u):(t.pan&&this._rawPanBy(u),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(p(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:a}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=c({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=p(this._handleGeolocationResponse,this),a=p(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,a,t):navigator.geolocation.getCurrentPosition(e,a,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var e=t.code,a=t.message||(e===1?"permission denied":e===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+a+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var e=t.coords.latitude,a=t.coords.longitude,r=new nt(e,a),l=r.toBounds(t.coords.accuracy*2),u=this._locateOptions;if(u.setView){var x=this.getBoundsZoom(l);this.setView(r,u.maxZoom?Math.min(x,u.maxZoom):x)}var C={latlng:r,bounds:l,timestamp:t.timestamp};for(var D in t.coords)typeof t.coords[D]=="number"&&(C[D]=t.coords[D]);this.fire("locationfound",C)}},addHandler:function(t,e){if(!e)return this;var a=this[t]=new e(this);return this._handlers.push(a),this.options[t]&&a.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ct(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(tt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)ct(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var a="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),r=J("div",a,e||this._mapPane);return t&&(this._panes[t]=r),r},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),a=this.unproject(t.getTopRight());return new yt(e,a)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,a){t=dt(t),a=F(a||[0,0]);var r=this.getZoom()||0,l=this.getMinZoom(),u=this.getMaxZoom(),x=t.getNorthWest(),C=t.getSouthEast(),D=this.getSize().subtract(a),B=vt(this.project(C,r),this.project(x,r)).getSize(),O=z.any3d?this.options.zoomSnap:1,Z=D.x/B.x,$=D.y/B.y,Ct=e?Math.max(Z,$):Math.min(Z,$);return r=this.getScaleZoom(Ct,r),O&&(r=Math.round(r/(O/100))*(O/100),r=e?Math.ceil(r/O)*O:Math.floor(r/O)*O),Math.max(l,Math.min(u,r))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new I(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var a=this._getTopLeftPoint(t,e);return new at(a,a.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var a=this.options.crs;return e=e===void 0?this._zoom:e,a.scale(t)/a.scale(e)},getScaleZoom:function(t,e){var a=this.options.crs;e=e===void 0?this._zoom:e;var r=a.zoom(t*a.scale(e));return isNaN(r)?1/0:r},project:function(t,e){return e=e===void 0?this._zoom:e,this.options.crs.latLngToPoint(q(t),e)},unproject:function(t,e){return e=e===void 0?this._zoom:e,this.options.crs.pointToLatLng(F(t),e)},layerPointToLatLng:function(t){var e=F(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(q(t))._round();return e._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(q(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(dt(t))},distance:function(t,e){return this.options.crs.distance(q(t),q(e))},containerPointToLayerPoint:function(t){return F(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return F(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(F(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(q(t)))},mouseEventToContainerPoint:function(t){return Zi(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=Oi(t);if(e){if(e._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");V(e,"scroll",this._onScroll,this),this._containerId=h(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&z.any3d,H(t,"leaflet-container"+(z.touch?" leaflet-touch":"")+(z.retina?" leaflet-retina":"")+(z.ielt9?" leaflet-oldie":"")+(z.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=pn(t,"position");e!=="absolute"&&e!=="relative"&&e!=="fixed"&&e!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ut(this._mapPane,new I(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(H(t.markerPane,"leaflet-zoom-hide"),H(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e,a){ut(this._mapPane,new I(0,0));var r=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var l=this._zoom!==e;this._moveStart(l,a)._move(t,e)._moveEnd(l),this.fire("viewreset"),r&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,a,r){e===void 0&&(e=this._zoom);var l=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),r?a&&a.pinch&&this.fire("zoom",a):((l||a&&a.pinch)&&this.fire("zoom",a),this.fire("move",a)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return tt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){ut(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[h(this._container)]=this;var e=t?st:V;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),z.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){tt(this._resizeRequest),this._resizeRequest=G(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var a=[],r,l=e==="mouseout"||e==="mouseover",u=t.target||t.srcElement,x=!1;u;){if(r=this._targets[h(u)],r&&(e==="click"||e==="preclick")&&this._draggableMoved(r)){x=!0;break}if(r&&r.listens(e,!0)&&(l&&!ia(u,t)||(a.push(r),l))||u===this._container)break;u=u.parentNode}return!a.length&&!x&&!l&&this.listens(e,!0)&&(a=[this]),a},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var e=t.target||t.srcElement;if(!(!this._loaded||e._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(e))){var a=t.type;a==="mousedown"&&Jo(e),this._fireDOMEvent(t,a)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,a){if(t.type==="click"){var r=c({},t);r.type="preclick",this._fireDOMEvent(r,r.type,a)}var l=this._findEventTargets(t,e);if(a){for(var u=[],x=0;x<a.length;x++)a[x].listens(e,!0)&&u.push(a[x]);l=u.concat(l)}if(l.length){e==="contextmenu"&&_t(t);var C=l[0],D={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var B=C.getLatLng&&(!C._radius||C._radius<=10);D.containerPoint=B?this.latLngToContainerPoint(C.getLatLng()):this.mouseEventToContainerPoint(t),D.layerPoint=this.containerPointToLayerPoint(D.containerPoint),D.latlng=B?C.getLatLng():this.layerPointToLatLng(D.layerPoint)}for(x=0;x<l.length;x++)if(l[x].fire(e,D,!0),D.originalEvent._stopped||l[x].options.bubblingMouseEvents===!1&&M(this._mouseEvents,e)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return De(this._mapPane)||new I(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){var a=t&&e!==void 0?this._getNewPixelOrigin(t,e):this.getPixelOrigin();return a.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var a=this.getSize()._divideBy(2);return this.project(t,e)._subtract(a)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,a){var r=this._getNewPixelOrigin(a,e);return this.project(t,e)._subtract(r)},_latLngBoundsToNewLayerBounds:function(t,e,a){var r=this._getNewPixelOrigin(a,e);return vt([this.project(t.getSouthWest(),e)._subtract(r),this.project(t.getNorthWest(),e)._subtract(r),this.project(t.getSouthEast(),e)._subtract(r),this.project(t.getNorthEast(),e)._subtract(r)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,a){if(!a)return t;var r=this.project(t,e),l=this.getSize().divideBy(2),u=new at(r.subtract(l),r.add(l)),x=this._getBoundsOffset(u,a,e);return Math.abs(x.x)<=1&&Math.abs(x.y)<=1?t:this.unproject(r.add(x),e)},_limitOffset:function(t,e){if(!e)return t;var a=this.getPixelBounds(),r=new at(a.min.add(t),a.max.add(t));return t.add(this._getBoundsOffset(r,e))},_getBoundsOffset:function(t,e,a){var r=vt(this.project(e.getNorthEast(),a),this.project(e.getSouthWest(),a)),l=r.min.subtract(t.min),u=r.max.subtract(t.max),x=this._rebound(l.x,-u.x),C=this._rebound(l.y,-u.y);return new I(x,C)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),a=this.getMaxZoom(),r=z.any3d?this.options.zoomSnap:1;return r&&(t=Math.round(t/r)*r),Math.max(e,Math.min(a,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){pt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var a=this._getCenterOffset(t)._trunc();return(e&&e.animate)!==!0&&!this.getSize().contains(a)?!1:(this.panBy(a,e),!0)},_createAnimProxy:function(){var t=this._proxy=J("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(e){var a=$o,r=this._proxy.style[a];Te(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),r===this._proxy.style[a]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ct(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();Te(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,a){if(this._animatingZoom)return!0;if(a=a||{},!this._zoomAnimated||a.animate===!1||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(e),l=this._getCenterOffset(t)._divideBy(1-1/r);return a.animate!==!0&&!this.getSize().contains(l)?!1:(G(function(){this._moveStart(!0,a.noMoveStart||!1)._animateZoom(t,e,!0)},this),!0)},_animateZoom:function(t,e,a,r){this._mapPane&&(a&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,H(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:r}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(p(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&pt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function kl(t,e){return new K(t,e)}var zt=Y.extend({options:{position:"topright"},initialize:function(t){P(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),a=this.getPosition(),r=t._controlCorners[a];return H(e,"leaflet-control"),a.indexOf("bottom")!==-1?r.insertBefore(e,r.firstChild):r.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ct(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),xn=function(t){return new zt(t)};K.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",a=this._controlContainer=J("div",e+"control-container",this._container);function r(l,u){var x=e+l+" "+e+u;t[l+u]=J("div",x,a)}r("top","left"),r("top","right"),r("bottom","left"),r("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)ct(this._controlCorners[t]);ct(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Wi=zt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,a,r){return a<r?-1:r<a?1:0}},initialize:function(t,e,a){P(this,a),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var r in t)this._addLayer(t[r],r);for(r in e)this._addLayer(e[r],r,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return zt.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(h(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){H(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(H(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):pt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return pt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=J("div",t),a=this.options.collapsed;e.setAttribute("aria-haspopup",!0),gn(e),aa(e);var r=this._section=J("section",t+"-list");a&&(this._map.on("click",this.collapse,this),V(e,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var l=this._layersLink=J("a",t+"-toggle",e);l.href="#",l.title="Layers",l.setAttribute("role","button"),V(l,{keydown:function(u){u.keyCode===13&&this._expandSafely()},click:function(u){_t(u),this._expandSafely()}},this),a||this.expand(),this._baseLayersList=J("div",t+"-base",r),this._separator=J("div",t+"-separator",r),this._overlaysList=J("div",t+"-overlays",r),e.appendChild(r)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&h(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,a){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:a}),this.options.sortLayers&&this._layers.sort(p(function(r,l){return this.options.sortFunction(r.layer,l.layer,r.name,l.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Zn(this._baseLayersList),Zn(this._overlaysList),this._layerControlInputs=[];var t,e,a,r,l=0;for(a=0;a<this._layers.length;a++)r=this._layers[a],this._addItem(r),e=e||r.overlay,t=t||!r.overlay,l+=r.overlay?0:1;return this.options.hideSingleBase&&(t=t&&l>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(h(t.target)),a=e.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;a&&this._map.fire(a,e)},_createRadioElement:function(t,e){var a='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",r=document.createElement("div");return r.innerHTML=a,r.firstChild},_addItem:function(t){var e=document.createElement("label"),a=this._map.hasLayer(t.layer),r;t.overlay?(r=document.createElement("input"),r.type="checkbox",r.className="leaflet-control-layers-selector",r.defaultChecked=a):r=this._createRadioElement("leaflet-base-layers_"+h(this),a),this._layerControlInputs.push(r),r.layerId=h(t.layer),V(r,"click",this._onInputClick,this);var l=document.createElement("span");l.innerHTML=" "+t.name;var u=document.createElement("span");e.appendChild(u),u.appendChild(r),u.appendChild(l);var x=t.overlay?this._overlaysList:this._baseLayersList;return x.appendChild(e),this._checkDisabledLayers(),e},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,e,a,r=[],l=[];this._handlingClick=!0;for(var u=t.length-1;u>=0;u--)e=t[u],a=this._getLayer(e.layerId).layer,e.checked?r.push(a):e.checked||l.push(a);for(u=0;u<l.length;u++)this._map.hasLayer(l[u])&&this._map.removeLayer(l[u]);for(u=0;u<r.length;u++)this._map.hasLayer(r[u])||this._map.addLayer(r[u]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,e,a,r=this._map.getZoom(),l=t.length-1;l>=0;l--)e=t[l],a=this._getLayer(e.layerId).layer,e.disabled=a.options.minZoom!==void 0&&r<a.options.minZoom||a.options.maxZoom!==void 0&&r>a.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,V(t,"click",_t),this.expand();var e=this;setTimeout(function(){st(t,"click",_t),e._preventClick=!1})}}),El=function(t,e,a){return new Wi(t,e,a)},sa=zt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",a=J("div",e+" leaflet-bar"),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,e+"-in",a,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,e+"-out",a,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),a},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,a,r,l){var u=J("a",a,r);return u.innerHTML=t,u.href="#",u.title=e,u.setAttribute("role","button"),u.setAttribute("aria-label",e),gn(u),V(u,"click",Ae),V(u,"click",l,this),V(u,"click",this._refocusOnMap,this),u},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";pt(this._zoomInButton,e),pt(this._zoomOutButton,e),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(H(this._zoomOutButton,e),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(H(this._zoomInButton,e),this._zoomInButton.setAttribute("aria-disabled","true"))}});K.mergeOptions({zoomControl:!0}),K.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new sa,this.addControl(this.zoomControl))});var Il=function(t){return new sa(t)},Ui=zt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",a=J("div",e),r=this.options;return this._addScales(r,e+"-line",a),t.on(r.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),a},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,a){t.metric&&(this._mScale=J("div",e,a)),t.imperial&&(this._iScale=J("div",e,a))},_update:function(){var t=this._map,e=t.getSize().y/2,a=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(a)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),a=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,a,e/t)},_updateImperial:function(t){var e=t*3.2808399,a,r,l;e>5280?(a=e/5280,r=this._getRoundNum(a),this._updateScale(this._iScale,r+" mi",r/a)):(l=this._getRoundNum(e),this._updateScale(this._iScale,l+" ft",l/e))},_updateScale:function(t,e,a){t.style.width=Math.round(this.options.maxWidth*a)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),a=t/e;return a=a>=10?10:a>=5?5:a>=3?3:a>=2?2:1,e*a}}),jl=function(t){return new Ui(t)},Ol='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ra=zt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(z.inlineSvg?Ol+" ":"")+"Leaflet</a>"},initialize:function(t){P(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=J("div","leaflet-control-attribution"),gn(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var a=[];this.options.prefix&&a.push(this.options.prefix),t.length&&a.push(t.join(", ")),this._container.innerHTML=a.join(' <span aria-hidden="true">|</span> ')}}});K.mergeOptions({attributionControl:!0}),K.addInitHook(function(){this.options.attributionControl&&new ra().addTo(this)});var Rl=function(t){return new ra(t)};zt.Layers=Wi,zt.Zoom=sa,zt.Scale=Ui,zt.Attribution=ra,xn.layers=El,xn.zoom=Il,xn.scale=jl,xn.attribution=Rl;var Yt=Y.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Yt.addTo=function(t,e){return t.addHandler(e,this),this};var Fl={Events:X},$i=z.touch?"touchstart mousedown":"mousedown",fe=it.extend({options:{clickTolerance:3},initialize:function(t,e,a,r){P(this,r),this._element=t,this._dragStartTarget=e||t,this._preventOutline=a},enable:function(){this._enabled||(V(this._dragStartTarget,$i,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(fe._dragging===this&&this.finishDrag(!0),st(this._dragStartTarget,$i,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!Go(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){fe._dragging===this&&this.finishDrag();return}if(!(fe._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(fe._dragging=this,this._preventOutline&&Jo(this._element),Xo(),un(),!this._moving)){this.fire("down");var e=t.touches?t.touches[0]:t,a=Ri(this._element);this._startPoint=new I(e.clientX,e.clientY),this._startPos=De(this._element),this._parentScale=ta(a);var r=t.type==="mousedown";V(document,r?"mousemove":"touchmove",this._onMove,this),V(document,r?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var e=t.touches&&t.touches.length===1?t.touches[0]:t,a=new I(e.clientX,e.clientY)._subtract(this._startPoint);!a.x&&!a.y||Math.abs(a.x)+Math.abs(a.y)<this.options.clickTolerance||(a.x/=this._parentScale.x,a.y/=this._parentScale.y,_t(t),this._moved||(this.fire("dragstart"),this._moved=!0,H(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),H(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(a),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),ut(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){pt(document.body,"leaflet-dragging"),this._lastTarget&&(pt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),st(document,"mousemove touchmove",this._onMove,this),st(document,"mouseup touchend touchcancel",this._onUp,this),Ko(),hn();var e=this._moved&&this._moving;this._moving=!1,fe._dragging=!1,e&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function Gi(t,e,a){var r,l=[1,4,2,8],u,x,C,D,B,O,Z,$;for(u=0,O=t.length;u<O;u++)t[u]._code=Ne(t[u],e);for(C=0;C<4;C++){for(Z=l[C],r=[],u=0,O=t.length,x=O-1;u<O;x=u++)D=t[u],B=t[x],D._code&Z?B._code&Z||($=$n(B,D,Z,e,a),$._code=Ne($,e),r.push($)):(B._code&Z&&($=$n(B,D,Z,e,a),$._code=Ne($,e),r.push($)),r.push(D));t=r}return t}function qi(t,e){var a,r,l,u,x,C,D,B,O;if(!t||t.length===0)throw new Error("latlngs not passed");jt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var Z=q([0,0]),$=dt(t),Ct=$.getNorthWest().distanceTo($.getSouthWest())*$.getNorthEast().distanceTo($.getNorthWest());Ct<1700&&(Z=ca(t));var ft=t.length,Ot=[];for(a=0;a<ft;a++){var At=q(t[a]);Ot.push(e.project(q([At.lat-Z.lat,At.lng-Z.lng])))}for(C=D=B=0,a=0,r=ft-1;a<ft;r=a++)l=Ot[a],u=Ot[r],x=l.y*u.x-u.y*l.x,D+=(l.x+u.x)*x,B+=(l.y+u.y)*x,C+=x*3;C===0?O=Ot[0]:O=[D/C,B/C];var Ge=e.unproject(F(O));return q([Ge.lat+Z.lat,Ge.lng+Z.lng])}function ca(t){for(var e=0,a=0,r=0,l=0;l<t.length;l++){var u=q(t[l]);e+=u.lat,a+=u.lng,r++}return q([e/r,a/r])}var zl={__proto__:null,clipPolygon:Gi,polygonCenter:qi,centroid:ca};function Yi(t,e){if(!e||!t.length)return t.slice();var a=e*e;return t=Hl(t,a),t=Vl(t,a),t}function Xi(t,e,a){return Math.sqrt(_n(t,e,a,!0))}function Zl(t,e,a){return _n(t,e,a)}function Vl(t,e){var a=t.length,r=typeof Uint8Array<"u"?Uint8Array:Array,l=new r(a);l[0]=l[a-1]=1,la(t,l,e,0,a-1);var u,x=[];for(u=0;u<a;u++)l[u]&&x.push(t[u]);return x}function la(t,e,a,r,l){var u=0,x,C,D;for(C=r+1;C<=l-1;C++)D=_n(t[C],t[r],t[l],!0),D>u&&(x=C,u=D);u>a&&(e[x]=1,la(t,e,a,r,x),la(t,e,a,x,l))}function Hl(t,e){for(var a=[t[0]],r=1,l=0,u=t.length;r<u;r++)Wl(t[r],t[l])>e&&(a.push(t[r]),l=r);return l<u-1&&a.push(t[u-1]),a}var Ki;function Qi(t,e,a,r,l){var u=r?Ki:Ne(t,a),x=Ne(e,a),C,D,B;for(Ki=x;;){if(!(u|x))return[t,e];if(u&x)return!1;C=u||x,D=$n(t,e,C,a,l),B=Ne(D,a),C===u?(t=D,u=B):(e=D,x=B)}}function $n(t,e,a,r,l){var u=e.x-t.x,x=e.y-t.y,C=r.min,D=r.max,B,O;return a&8?(B=t.x+u*(D.y-t.y)/x,O=D.y):a&4?(B=t.x+u*(C.y-t.y)/x,O=C.y):a&2?(B=D.x,O=t.y+x*(D.x-t.x)/u):a&1&&(B=C.x,O=t.y+x*(C.x-t.x)/u),new I(B,O,l)}function Ne(t,e){var a=0;return t.x<e.min.x?a|=1:t.x>e.max.x&&(a|=2),t.y<e.min.y?a|=4:t.y>e.max.y&&(a|=8),a}function Wl(t,e){var a=e.x-t.x,r=e.y-t.y;return a*a+r*r}function _n(t,e,a,r){var l=e.x,u=e.y,x=a.x-l,C=a.y-u,D=x*x+C*C,B;return D>0&&(B=((t.x-l)*x+(t.y-u)*C)/D,B>1?(l=a.x,u=a.y):B>0&&(l+=x*B,u+=C*B)),x=t.x-l,C=t.y-u,r?x*x+C*C:new I(l,u)}function jt(t){return!N(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function Ji(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),jt(t)}function ts(t,e){var a,r,l,u,x,C,D,B;if(!t||t.length===0)throw new Error("latlngs not passed");jt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var O=q([0,0]),Z=dt(t),$=Z.getNorthWest().distanceTo(Z.getSouthWest())*Z.getNorthEast().distanceTo(Z.getNorthWest());$<1700&&(O=ca(t));var Ct=t.length,ft=[];for(a=0;a<Ct;a++){var Ot=q(t[a]);ft.push(e.project(q([Ot.lat-O.lat,Ot.lng-O.lng])))}for(a=0,r=0;a<Ct-1;a++)r+=ft[a].distanceTo(ft[a+1])/2;if(r===0)B=ft[0];else for(a=0,u=0;a<Ct-1;a++)if(x=ft[a],C=ft[a+1],l=x.distanceTo(C),u+=l,u>r){D=(u-r)/l,B=[C.x-D*(C.x-x.x),C.y-D*(C.y-x.y)];break}var At=e.unproject(F(B));return q([At.lat+O.lat,At.lng+O.lng])}var Ul={__proto__:null,simplify:Yi,pointToSegmentDistance:Xi,closestPointOnSegment:Zl,clipSegment:Qi,_getEdgeIntersection:$n,_getBitCode:Ne,_sqClosestPointOnSegment:_n,isFlat:jt,_flat:Ji,polylineCenter:ts},da={project:function(t){return new I(t.lng,t.lat)},unproject:function(t){return new nt(t.y,t.x)},bounds:new at([-180,-90],[180,90])},ma={R:6378137,R_MINOR:6356752314245179e-9,bounds:new at([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var e=Math.PI/180,a=this.R,r=t.lat*e,l=this.R_MINOR/a,u=Math.sqrt(1-l*l),x=u*Math.sin(r),C=Math.tan(Math.PI/4-r/2)/Math.pow((1-x)/(1+x),u/2);return r=-a*Math.log(Math.max(C,1e-10)),new I(t.lng*e*a,r)},unproject:function(t){for(var e=180/Math.PI,a=this.R,r=this.R_MINOR/a,l=Math.sqrt(1-r*r),u=Math.exp(-t.y/a),x=Math.PI/2-2*Math.atan(u),C=0,D=.1,B;C<15&&Math.abs(D)>1e-7;C++)B=l*Math.sin(x),B=Math.pow((1-B)/(1+B),l/2),D=Math.PI/2-2*Math.atan(u*B)-x,x+=D;return new nt(x*e,t.x*e/a)}},$l={__proto__:null,LonLat:da,Mercator:ma,SphericalMercator:Ie},Gl=c({},Ft,{code:"EPSG:3395",projection:ma,transformation:function(){var t=.5/(Math.PI*ma.R);return he(t,.5,-t,.5)}()}),es=c({},Ft,{code:"EPSG:4326",projection:da,transformation:he(1/180,1,-1/180,.5)}),ql=c({},Et,{projection:da,transformation:he(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var a=e.lng-t.lng,r=e.lat-t.lat;return Math.sqrt(a*a+r*r)},infinite:!0});Et.Earth=Ft,Et.EPSG3395=Gl,Et.EPSG3857=ae,Et.EPSG900913=On,Et.EPSG4326=es,Et.Simple=ql;var Zt=it.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[h(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[h(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var a=this.getEvents();e.on(a,this),this.once("remove",function(){e.off(a,this)},this)}this.onAdd(e),this.fire("add"),e.fire("layeradd",{layer:this})}}});K.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=h(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=h(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return h(t)in this._layers},eachLayer:function(t,e){for(var a in this._layers)t.call(e,this._layers[a]);return this},_addLayers:function(t){t=t?N(t)?t:[t]:[];for(var e=0,a=t.length;e<a;e++)this.addLayer(t[e])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[h(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=h(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,a=this._getZoomSpan();for(var r in this._zoomBoundLayers){var l=this._zoomBoundLayers[r].options;t=l.minZoom===void 0?t:Math.min(t,l.minZoom),e=l.maxZoom===void 0?e:Math.max(e,l.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,a!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ve=Zt.extend({initialize:function(t,e){P(this,e),this._layers={};var a,r;if(t)for(a=0,r=t.length;a<r;a++)this.addLayer(t[a])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){var e=typeof t=="number"?t:this.getLayerId(t);return e in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e=Array.prototype.slice.call(arguments,1),a,r;for(a in this._layers)r=this._layers[a],r[t]&&r[t].apply(r,e);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var a in this._layers)t.call(e,this._layers[a]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return h(t)}}),Yl=function(t,e){return new Ve(t,e)},ie=Ve.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Ve.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Ve.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new yt;for(var e in this._layers){var a=this._layers[e];t.extend(a.getBounds?a.getBounds():a.getLatLng())}return t}}),Xl=function(t,e){return new ie(t,e)},He=Y.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){P(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var a=this._getIconUrl(t);if(!a){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var r=this._createImg(a,e&&e.tagName==="IMG"?e:null);return this._setIconStyles(r,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),r},_setIconStyles:function(t,e){var a=this.options,r=a[e+"Size"];typeof r=="number"&&(r=[r,r]);var l=F(r),u=F(e==="shadow"&&a.shadowAnchor||a.iconAnchor||l&&l.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(a.className||""),u&&(t.style.marginLeft=-u.x+"px",t.style.marginTop=-u.y+"px"),l&&(t.style.width=l.x+"px",t.style.height=l.y+"px")},_createImg:function(t,e){return e=e||document.createElement("img"),e.src=t,e},_getIconUrl:function(t){return z.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function Kl(t){return new He(t)}var vn=He.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof vn.imagePath!="string"&&(vn.imagePath=this._detectIconPath()),(this.options.imagePath||vn.imagePath)+He.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var e=function(a,r,l){var u=r.exec(a);return u&&u[l]};return t=e(t,/^url\((['"])?(.+)\1\)$/,2),t&&e(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=J("div","leaflet-default-icon-path",document.body),e=pn(t,"background-image")||pn(t,"backgroundImage");if(document.body.removeChild(t),e=this._stripUrl(e),e)return e;var a=document.querySelector('link[href$="leaflet.css"]');return a?a.href.substring(0,a.href.length-11-1):""}}),ns=Yt.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new fe(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),H(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&pt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,a=e._map,r=this._marker.options.autoPanSpeed,l=this._marker.options.autoPanPadding,u=De(e._icon),x=a.getPixelBounds(),C=a.getPixelOrigin(),D=vt(x.min._subtract(C).add(l),x.max._subtract(C).subtract(l));if(!D.contains(u)){var B=F((Math.max(D.max.x,u.x)-D.max.x)/(x.max.x-D.max.x)-(Math.min(D.min.x,u.x)-D.min.x)/(x.min.x-D.min.x),(Math.max(D.max.y,u.y)-D.max.y)/(x.max.y-D.max.y)-(Math.min(D.min.y,u.y)-D.min.y)/(x.min.y-D.min.y)).multiplyBy(r);a.panBy(B,{animate:!1}),this._draggable._newPos._add(B),this._draggable._startPos._add(B),ut(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=G(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(tt(this._panRequest),this._panRequest=G(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,a=e._shadow,r=De(e._icon),l=e._map.layerPointToLatLng(r);a&&ut(a,r),e._latlng=l,t.latlng=l,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){tt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Gn=Zt.extend({options:{icon:new vn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){P(this,e),this._latlng=q(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=q(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),a=t.icon.createIcon(this._icon),r=!1;a!==this._icon&&(this._icon&&this._removeIcon(),r=!0,t.title&&(a.title=t.title),a.tagName==="IMG"&&(a.alt=t.alt||"")),H(a,e),t.keyboard&&(a.tabIndex="0",a.setAttribute("role","button")),this._icon=a,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&V(a,"focus",this._panOnFocus,this);var l=t.icon.createShadow(this._shadow),u=!1;l!==this._shadow&&(this._removeShadow(),u=!0),l&&(H(l,e),l.alt=""),this._shadow=l,t.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),l&&u&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&st(this._icon,"focus",this._panOnFocus,this),ct(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ct(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&ut(this._icon,t),this._shadow&&ut(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(H(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ns)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ns(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&It(this._icon,t),this._shadow&&It(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var e=this.options.icon.options,a=e.iconSize?F(e.iconSize):F(0,0),r=e.iconAnchor?F(e.iconAnchor):F(0,0);t.panInside(this._latlng,{paddingTopLeft:r,paddingBottomRight:a.subtract(r)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Ql(t,e){return new Gn(t,e)}var ge=Zt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return P(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),qn=ge.extend({options:{fill:!0,radius:10},initialize:function(t,e){P(this,e),this._latlng=q(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=q(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return ge.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,a=this._clickTolerance(),r=[t+a,e+a];this._pxBounds=new at(this._point.subtract(r),this._point.add(r))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Jl(t,e){return new qn(t,e)}var pa=qn.extend({initialize:function(t,e,a){if(typeof e=="number"&&(e=c({},a,{radius:e})),P(this,e),this._latlng=q(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new yt(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:ge.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,a=this._map,r=a.options.crs;if(r.distance===Ft.distance){var l=Math.PI/180,u=this._mRadius/Ft.R/l,x=a.project([e+u,t]),C=a.project([e-u,t]),D=x.add(C).divideBy(2),B=a.unproject(D).lat,O=Math.acos((Math.cos(u*l)-Math.sin(e*l)*Math.sin(B*l))/(Math.cos(e*l)*Math.cos(B*l)))/l;(isNaN(O)||O===0)&&(O=u/Math.cos(Math.PI/180*e)),this._point=D.subtract(a.getPixelOrigin()),this._radius=isNaN(O)?0:D.x-a.project([B,t-O]).x,this._radiusY=D.y-x.y}else{var Z=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=a.latLngToLayerPoint(this._latlng),this._radius=this._point.x-a.latLngToLayerPoint(Z).x}this._updateBounds()}});function td(t,e,a){return new pa(t,e,a)}var se=ge.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){P(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e=1/0,a=null,r=_n,l,u,x=0,C=this._parts.length;x<C;x++)for(var D=this._parts[x],B=1,O=D.length;B<O;B++){l=D[B-1],u=D[B];var Z=r(t,l,u,!0);Z<e&&(e=Z,a=r(t,l,u))}return a&&(a.distance=Math.sqrt(e)),a},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ts(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=q(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new yt,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return jt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],a=jt(t),r=0,l=t.length;r<l;r++)a?(e[r]=q(t[r]),this._bounds.extend(e[r])):e[r]=this._convertLatLngs(t[r]);return e},_project:function(){var t=new at;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new I(t,t);this._rawPxBounds&&(this._pxBounds=new at([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)]))},_projectLatlngs:function(t,e,a){var r=t[0]instanceof nt,l=t.length,u,x;if(r){for(x=[],u=0;u<l;u++)x[u]=this._map.latLngToLayerPoint(t[u]),a.extend(x[u]);e.push(x)}else for(u=0;u<l;u++)this._projectLatlngs(t[u],e,a)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var e=this._parts,a,r,l,u,x,C,D;for(a=0,l=0,u=this._rings.length;a<u;a++)for(D=this._rings[a],r=0,x=D.length;r<x-1;r++)C=Qi(D[r],D[r+1],t,r,!0),C&&(e[l]=e[l]||[],e[l].push(C[0]),(C[1]!==D[r+1]||r===x-2)&&(e[l].push(C[1]),l++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,a=0,r=t.length;a<r;a++)t[a]=Yi(t[a],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var a,r,l,u,x,C,D=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(a=0,u=this._parts.length;a<u;a++)for(C=this._parts[a],r=0,x=C.length,l=x-1;r<x;l=r++)if(!(!e&&r===0)&&Xi(t,C[l],C[r])<=D)return!0;return!1}});function ed(t,e){return new se(t,e)}se._flat=Ji;var We=se.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return qi(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var e=se.prototype._convertLatLngs.call(this,t),a=e.length;return a>=2&&e[0]instanceof nt&&e[0].equals(e[a-1])&&e.pop(),e},_setLatLngs:function(t){se.prototype._setLatLngs.call(this,t),jt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return jt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,a=new I(e,e);if(t=new at(t.min.subtract(a),t.max.add(a)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var r=0,l=this._rings.length,u;r<l;r++)u=Gi(this._rings[r],t,!0),u.length&&this._parts.push(u)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e=!1,a,r,l,u,x,C,D,B;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(u=0,D=this._parts.length;u<D;u++)for(a=this._parts[u],x=0,B=a.length,C=B-1;x<B;C=x++)r=a[x],l=a[C],r.y>t.y!=l.y>t.y&&t.x<(l.x-r.x)*(t.y-r.y)/(l.y-r.y)+r.x&&(e=!e);return e||se.prototype._containsPoint.call(this,t,!0)}});function nd(t,e){return new We(t,e)}var re=ie.extend({initialize:function(t,e){P(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e=N(t)?t:t.features,a,r,l;if(e){for(a=0,r=e.length;a<r;a++)l=e[a],(l.geometries||l.geometry||l.features||l.coordinates)&&this.addData(l);return this}var u=this.options;if(u.filter&&!u.filter(t))return this;var x=Yn(t,u);return x?(x.feature=Qn(t),x.defaultOptions=x.options,this.resetStyle(x),u.onEachFeature&&u.onEachFeature(t,x),this.addLayer(x)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=c({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){t.setStyle&&(typeof e=="function"&&(e=e(t.feature)),t.setStyle(e))}});function Yn(t,e){var a=t.type==="Feature"?t.geometry:t,r=a?a.coordinates:null,l=[],u=e&&e.pointToLayer,x=e&&e.coordsToLatLng||ua,C,D,B,O;if(!r&&!a)return null;switch(a.type){case"Point":return C=x(r),os(u,t,C,e);case"MultiPoint":for(B=0,O=r.length;B<O;B++)C=x(r[B]),l.push(os(u,t,C,e));return new ie(l);case"LineString":case"MultiLineString":return D=Xn(r,a.type==="LineString"?0:1,x),new se(D,e);case"Polygon":case"MultiPolygon":return D=Xn(r,a.type==="Polygon"?1:2,x),new We(D,e);case"GeometryCollection":for(B=0,O=a.geometries.length;B<O;B++){var Z=Yn({geometry:a.geometries[B],type:"Feature",properties:t.properties},e);Z&&l.push(Z)}return new ie(l);case"FeatureCollection":for(B=0,O=a.features.length;B<O;B++){var $=Yn(a.features[B],e);$&&l.push($)}return new ie(l);default:throw new Error("Invalid GeoJSON object.")}}function os(t,e,a,r){return t?t(e,a):new Gn(a,r&&r.markersInheritOptions&&r)}function ua(t){return new nt(t[1],t[0],t[2])}function Xn(t,e,a){for(var r=[],l=0,u=t.length,x;l<u;l++)x=e?Xn(t[l],e-1,a):(a||ua)(t[l]),r.push(x);return r}function ha(t,e){return t=q(t),t.alt!==void 0?[y(t.lng,e),y(t.lat,e),y(t.alt,e)]:[y(t.lng,e),y(t.lat,e)]}function Kn(t,e,a,r){for(var l=[],u=0,x=t.length;u<x;u++)l.push(e?Kn(t[u],jt(t[u])?0:e-1,a,r):ha(t[u],r));return!e&&a&&l.length>0&&l.push(l[0].slice()),l}function Ue(t,e){return t.feature?c({},t.feature,{geometry:e}):Qn(e)}function Qn(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var fa={toGeoJSON:function(t){return Ue(this,{type:"Point",coordinates:ha(this.getLatLng(),t)})}};Gn.include(fa),pa.include(fa),qn.include(fa),se.include({toGeoJSON:function(t){var e=!jt(this._latlngs),a=Kn(this._latlngs,e?1:0,!1,t);return Ue(this,{type:(e?"Multi":"")+"LineString",coordinates:a})}}),We.include({toGeoJSON:function(t){var e=!jt(this._latlngs),a=e&&!jt(this._latlngs[0]),r=Kn(this._latlngs,a?2:e?1:0,!0,t);return e||(r=[r]),Ue(this,{type:(a?"Multi":"")+"Polygon",coordinates:r})}}),Ve.include({toMultiPoint:function(t){var e=[];return this.eachLayer(function(a){e.push(a.toGeoJSON(t).geometry.coordinates)}),Ue(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(e==="MultiPoint")return this.toMultiPoint(t);var a=e==="GeometryCollection",r=[];return this.eachLayer(function(l){if(l.toGeoJSON){var u=l.toGeoJSON(t);if(a)r.push(u.geometry);else{var x=Qn(u);x.type==="FeatureCollection"?r.push.apply(r,x.features):r.push(x)}}}),a?Ue(this,{geometries:r,type:"GeometryCollection"}):{type:"FeatureCollection",features:r}}});function as(t,e){return new re(t,e)}var od=as,Jn=Zt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,a){this._url=t,this._bounds=dt(e),P(this,a)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(H(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ct(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&ze(this._image),this},bringToBack:function(){return this._map&&Ze(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=dt(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",e=this._image=t?this._url:J("img");if(H(e,"leaflet-image-layer"),this._zoomAnimated&&H(e,"leaflet-zoom-animated"),this.options.className&&H(e,this.options.className),e.onselectstart=v,e.onmousemove=v,e.onload=p(this.fire,this,"load"),e.onerror=p(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(e.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=e.src;return}e.src=this._url,e.alt=this.options.alt},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),a=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Te(this._image,a,e)},_reset:function(){var t=this._image,e=new at(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),a=e.getSize();ut(t,e.min),t.style.width=a.x+"px",t.style.height=a.y+"px"},_updateOpacity:function(){It(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),ad=function(t,e,a){return new Jn(t,e,a)},is=Jn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",e=this._image=t?this._url:J("video");if(H(e,"leaflet-image-layer"),this._zoomAnimated&&H(e,"leaflet-zoom-animated"),this.options.className&&H(e,this.options.className),e.onselectstart=v,e.onmousemove=v,e.onloadeddata=p(this.fire,this,"load"),t){for(var a=e.getElementsByTagName("source"),r=[],l=0;l<a.length;l++)r.push(a[l].src);this._url=a.length>0?r:[e.src];return}N(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted,e.playsInline=!!this.options.playsInline;for(var u=0;u<this._url.length;u++){var x=J("source");x.src=this._url[u],e.appendChild(x)}}});function id(t,e,a){return new is(t,e,a)}var ss=Jn.extend({_initImage:function(){var t=this._image=this._url;H(t,"leaflet-image-layer"),this._zoomAnimated&&H(t,"leaflet-zoom-animated"),this.options.className&&H(t,this.options.className),t.onselectstart=v,t.onmousemove=v}});function sd(t,e,a){return new ss(t,e,a)}var Xt=Zt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,e){t&&(t instanceof nt||N(t))?(this._latlng=q(t),P(this,e)):(P(this,t),this._source=e),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&It(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&It(this._container,1),this.bringToFront(),this.options.interactive&&(H(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(It(this._container,0),this._removeTimeout=setTimeout(p(ct,void 0,this._container),200)):ct(this._container),this.options.interactive&&(pt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=q(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ze(this._container),this},bringToBack:function(){return this._map&&Ze(this._container),this},_prepareOpen:function(t){var e=this._source;if(!e._map)return!1;if(e instanceof ie){e=null;var a=this._source._layers;for(var r in a)if(a[r]._map){e=a[r];break}if(!e)return!1;this._source=e}if(!t)if(e.getCenter)t=e.getCenter();else if(e.getLatLng)t=e.getLatLng();else if(e.getBounds)t=e.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,e=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof e=="string")t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=F(this.options.offset),a=this._getAnchor();this._zoomAnimated?ut(this._container,t.add(a)):e=e.add(t).add(a);var r=this._containerBottom=-e.y,l=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=r+"px",this._container.style.left=l+"px"}},_getAnchor:function(){return[0,0]}});K.include({_initOverlay:function(t,e,a,r){var l=e;return l instanceof t||(l=new t(r).setContent(e)),a&&l.setLatLng(a),l}}),Zt.include({_initOverlay:function(t,e,a,r){var l=a;return l instanceof t?(P(l,r),l._source=this):(l=e&&!r?e:new t(r,this),l.setContent(a)),l}});var to=Xt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Xt.prototype.openOn.call(this,t)},onAdd:function(t){Xt.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ge||this._source.on("preclick",Se))},onRemove:function(t){Xt.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ge||this._source.off("preclick",Se))},getEvents:function(){var t=Xt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",e=this._container=J("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),a=this._wrapper=J("div",t+"-content-wrapper",e);if(this._contentNode=J("div",t+"-content",a),gn(e),aa(this._contentNode),V(e,"contextmenu",Se),this._tipContainer=J("div",t+"-tip-container",e),this._tip=J("div",t+"-tip",this._tipContainer),this.options.closeButton){var r=this._closeButton=J("a",t+"-close-button",e);r.setAttribute("role","button"),r.setAttribute("aria-label","Close popup"),r.href="#close",r.innerHTML='<span aria-hidden="true">&#215;</span>',V(r,"click",function(l){_t(l),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var a=t.offsetWidth;a=Math.min(a,this.options.maxWidth),a=Math.max(a,this.options.minWidth),e.width=a+1+"px",e.whiteSpace="",e.height="";var r=t.offsetHeight,l=this.options.maxHeight,u="leaflet-popup-scrolled";l&&r>l?(e.height=l+"px",H(t,u)):pt(t,u),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),a=this._getAnchor();ut(this._container,e.add(a))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,e=parseInt(pn(this._container,"marginBottom"),10)||0,a=this._container.offsetHeight+e,r=this._containerWidth,l=new I(this._containerLeft,-a-this._containerBottom);l._add(De(this._container));var u=t.layerPointToContainerPoint(l),x=F(this.options.autoPanPadding),C=F(this.options.autoPanPaddingTopLeft||x),D=F(this.options.autoPanPaddingBottomRight||x),B=t.getSize(),O=0,Z=0;u.x+r+D.x>B.x&&(O=u.x+r-B.x+D.x),u.x-O-C.x<0&&(O=u.x-C.x),u.y+a+D.y>B.y&&(Z=u.y+a-B.y+D.y),u.y-Z-C.y<0&&(Z=u.y-C.y),(O||Z)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([O,Z]))}},_getAnchor:function(){return F(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),rd=function(t,e){return new to(t,e)};K.mergeOptions({closePopupOnClick:!0}),K.include({openPopup:function(t,e,a){return this._initOverlay(to,t,e,a).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),Zt.include({bindPopup:function(t,e){return this._popup=this._initOverlay(to,this._popup,t,e),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof ie||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){Ae(t);var e=t.layer||t.target;if(this._popup._source===e&&!(e instanceof ge)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=e,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var eo=Xt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Xt.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Xt.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Xt.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",e=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=J("div",e),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,a,r=this._map,l=this._container,u=r.latLngToContainerPoint(r.getCenter()),x=r.layerPointToContainerPoint(t),C=this.options.direction,D=l.offsetWidth,B=l.offsetHeight,O=F(this.options.offset),Z=this._getAnchor();C==="top"?(e=D/2,a=B):C==="bottom"?(e=D/2,a=0):C==="center"?(e=D/2,a=B/2):C==="right"?(e=0,a=B/2):C==="left"?(e=D,a=B/2):x.x<u.x?(C="right",e=0,a=B/2):(C="left",e=D+(O.x+Z.x)*2,a=B/2),t=t.subtract(F(e,a,!0)).add(O).add(Z),pt(l,"leaflet-tooltip-right"),pt(l,"leaflet-tooltip-left"),pt(l,"leaflet-tooltip-top"),pt(l,"leaflet-tooltip-bottom"),H(l,"leaflet-tooltip-"+C),ut(l,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&It(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return F(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),cd=function(t,e){return new eo(t,e)};K.include({openTooltip:function(t,e,a){return this._initOverlay(eo,t,e,a).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Zt.include({bindTooltip:function(t,e){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(eo,this._tooltip,t,e),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var e=t?"off":"on",a={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?a.add=this._openTooltip:(a.mouseover=this._openTooltip,a.mouseout=this.closeTooltip,a.click=this._openTooltip,this._map?this._addFocusListeners():a.add=this._addFocusListeners),this._tooltip.options.sticky&&(a.mousemove=this._moveTooltip),this[e](a),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof ie||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var e=typeof t.getElement=="function"&&t.getElement();e&&(V(e,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),V(e,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var e=typeof t.getElement=="function"&&t.getElement();e&&e.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var e=this;this._map.once("moveend",function(){e._openOnceFlag=!1,e._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var e=t.latlng,a,r;this._tooltip.options.sticky&&t.originalEvent&&(a=this._map.mouseEventToContainerPoint(t.originalEvent),r=this._map.containerPointToLayerPoint(a),e=this._map.layerPointToLatLng(r)),this._tooltip.setLatLng(e)}});var rs=He.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&t.tagName==="DIV"?t:document.createElement("div"),a=this.options;if(a.html instanceof Element?(Zn(e),e.appendChild(a.html)):e.innerHTML=a.html!==!1?a.html:"",a.bgPos){var r=F(a.bgPos);e.style.backgroundPosition=-r.x+"px "+-r.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});function ld(t){return new rs(t)}He.Default=vn;var yn=Zt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:z.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){P(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),ct(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ze(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ze(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=g(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof I?t:new I(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e=this.getPane().children,a=-t(-1/0,1/0),r=0,l=e.length,u;r<l;r++)u=e[r].style.zIndex,e[r]!==this._container&&u&&(a=t(a,+u));isFinite(a)&&(this.options.zIndex=a+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!z.ielt9){It(this._container,this.options.opacity);var t=+new Date,e=!1,a=!1;for(var r in this._tiles){var l=this._tiles[r];if(!(!l.current||!l.loaded)){var u=Math.min(1,(t-l.loaded)/200);It(l.el,u),u<1?e=!0:(l.active?a=!0:this._onOpaqueTile(l),l.active=!0)}}a&&!this._noPrune&&this._pruneTiles(),e&&(tt(this._fadeFrame),this._fadeFrame=G(this._updateOpacity,this))}},_onOpaqueTile:v,_initContainer:function(){this._container||(this._container=J("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(t!==void 0){for(var a in this._levels)a=Number(a),this._levels[a].el.children.length||a===t?(this._levels[a].el.style.zIndex=e-Math.abs(t-a),this._onUpdateLevel(a)):(ct(this._levels[a].el),this._removeTilesAtZoom(a),this._onRemoveLevel(a),delete this._levels[a]);var r=this._levels[t],l=this._map;return r||(r=this._levels[t]={},r.el=J("div","leaflet-tile-container leaflet-zoom-animated",this._container),r.el.style.zIndex=e,r.origin=l.project(l.unproject(l.getPixelOrigin()),t).round(),r.zoom=t,this._setZoomTransform(r,l.getCenter(),l.getZoom()),v(r.el.offsetWidth),this._onCreateLevel(r)),this._level=r,r}},_onUpdateLevel:v,_onRemoveLevel:v,_onCreateLevel:v,_pruneTiles:function(){if(this._map){var t,e,a=this._map.getZoom();if(a>this.options.maxZoom||a<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)e=this._tiles[t],e.retain=e.current;for(t in this._tiles)if(e=this._tiles[t],e.current&&!e.active){var r=e.coords;this._retainParent(r.x,r.y,r.z,r.z-5)||this._retainChildren(r.x,r.y,r.z,r.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)ct(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,a,r){var l=Math.floor(t/2),u=Math.floor(e/2),x=a-1,C=new I(+l,+u);C.z=+x;var D=this._tileCoordsToKey(C),B=this._tiles[D];return B&&B.active?(B.retain=!0,!0):(B&&B.loaded&&(B.retain=!0),x>r?this._retainParent(l,u,x,r):!1)},_retainChildren:function(t,e,a,r){for(var l=2*t;l<2*t+2;l++)for(var u=2*e;u<2*e+2;u++){var x=new I(l,u);x.z=a+1;var C=this._tileCoordsToKey(x),D=this._tiles[C];if(D&&D.active){D.retain=!0;continue}else D&&D.loaded&&(D.retain=!0);a+1<r&&this._retainChildren(l,u,a+1,r)}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return e.minNativeZoom!==void 0&&t<e.minNativeZoom?e.minNativeZoom:e.maxNativeZoom!==void 0&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,a,r){var l=Math.round(e);this.options.maxZoom!==void 0&&l>this.options.maxZoom||this.options.minZoom!==void 0&&l<this.options.minZoom?l=void 0:l=this._clampZoom(l);var u=this.options.updateWhenZooming&&l!==this._tileZoom;(!r||u)&&(this._tileZoom=l,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),l!==void 0&&this._update(t),a||this._pruneTiles(),this._noPrune=!!a),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var a in this._levels)this._setZoomTransform(this._levels[a],t,e)},_setZoomTransform:function(t,e,a){var r=this._map.getZoomScale(a,t.zoom),l=t.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(e,a)).round();z.any3d?Te(t.el,l,r):ut(t.el,l)},_resetGrid:function(){var t=this._map,e=t.options.crs,a=this._tileSize=this.getTileSize(),r=this._tileZoom,l=this._map.getPixelWorldBounds(this._tileZoom);l&&(this._globalTileRange=this._pxBoundsToTileRange(l)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],r).x/a.x),Math.ceil(t.project([0,e.wrapLng[1]],r).x/a.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],r).y/a.x),Math.ceil(t.project([e.wrapLat[1],0],r).y/a.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var e=this._map,a=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),r=e.getZoomScale(a,this._tileZoom),l=e.project(t,this._tileZoom).floor(),u=e.getSize().divideBy(r*2);return new at(l.subtract(u),l.add(u))},_update:function(t){var e=this._map;if(e){var a=this._clampZoom(e.getZoom());if(t===void 0&&(t=e.getCenter()),this._tileZoom!==void 0){var r=this._getTiledPixelBounds(t),l=this._pxBoundsToTileRange(r),u=l.getCenter(),x=[],C=this.options.keepBuffer,D=new at(l.getBottomLeft().subtract([C,-C]),l.getTopRight().add([C,-C]));if(!(isFinite(l.min.x)&&isFinite(l.min.y)&&isFinite(l.max.x)&&isFinite(l.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var B in this._tiles){var O=this._tiles[B].coords;(O.z!==this._tileZoom||!D.contains(new I(O.x,O.y)))&&(this._tiles[B].current=!1)}if(Math.abs(a-this._tileZoom)>1){this._setView(t,a);return}for(var Z=l.min.y;Z<=l.max.y;Z++)for(var $=l.min.x;$<=l.max.x;$++){var Ct=new I($,Z);if(Ct.z=this._tileZoom,!!this._isValidTile(Ct)){var ft=this._tiles[this._tileCoordsToKey(Ct)];ft?ft.current=!0:x.push(Ct)}}if(x.sort(function(At,Ge){return At.distanceTo(u)-Ge.distanceTo(u)}),x.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ot=document.createDocumentFragment();for($=0;$<x.length;$++)this._addTile(x[$],Ot);this._level.el.appendChild(Ot)}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var a=this._globalTileRange;if(!e.wrapLng&&(t.x<a.min.x||t.x>a.max.x)||!e.wrapLat&&(t.y<a.min.y||t.y>a.max.y))return!1}if(!this.options.bounds)return!0;var r=this._tileCoordsToBounds(t);return dt(this.options.bounds).overlaps(r)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,a=this.getTileSize(),r=t.scaleBy(a),l=r.add(a),u=e.unproject(r,t.z),x=e.unproject(l,t.z);return[u,x]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),a=new yt(e[0],e[1]);return this.options.noWrap||(a=this._map.wrapLatLngBounds(a)),a},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),a=new I(+e[0],+e[1]);return a.z=+e[2],a},_removeTile:function(t){var e=this._tiles[t];e&&(ct(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){H(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=v,t.onmousemove=v,z.ielt9&&this.options.opacity<1&&It(t,this.options.opacity)},_addTile:function(t,e){var a=this._getTilePos(t),r=this._tileCoordsToKey(t),l=this.createTile(this._wrapCoords(t),p(this._tileReady,this,t));this._initTile(l),this.createTile.length<2&&G(p(this._tileReady,this,t,null,l)),ut(l,a),this._tiles[r]={el:l,coords:t,current:!0},e.appendChild(l),this.fire("tileloadstart",{tile:l,coords:t})},_tileReady:function(t,e,a){e&&this.fire("tileerror",{error:e,tile:a,coords:t});var r=this._tileCoordsToKey(t);a=this._tiles[r],a&&(a.loaded=+new Date,this._map._fadeAnimated?(It(a.el,0),tt(this._fadeFrame),this._fadeFrame=G(this._updateOpacity,this)):(a.active=!0,this._pruneTiles()),e||(H(a.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:a.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),z.ielt9||!this._map._fadeAnimated?G(this._pruneTiles,this):setTimeout(p(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new I(this._wrapX?_(t.x,this._wrapX):t.x,this._wrapY?_(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new at(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function dd(t){return new yn(t)}var $e=yn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,e){this._url=t,e=P(this,e),e.detectRetina&&z.retina&&e.maxZoom>0?(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom=Math.min(e.maxZoom,e.minZoom+1)):(e.zoomOffset++,e.maxZoom=Math.max(e.minZoom,e.maxZoom-1)),e.minZoom=Math.max(0,e.minZoom)):e.zoomReverse?e.minZoom=Math.min(e.maxZoom,e.minZoom):e.maxZoom=Math.max(e.minZoom,e.maxZoom),typeof e.subdomains=="string"&&(e.subdomains=e.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&e===void 0&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var a=document.createElement("img");return V(a,"load",p(this._tileOnLoad,this,e,a)),V(a,"error",p(this._tileOnError,this,e,a)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(a.referrerPolicy=this.options.referrerPolicy),a.alt="",a.src=this.getTileUrl(t),a},getTileUrl:function(t){var e={r:z.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var a=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=a),e["-y"]=a}return S(this._url,c(e,this.options))},_tileOnLoad:function(t,e){z.ielt9?setTimeout(p(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,a){var r=this.options.errorTileUrl;r&&e.getAttribute("src")!==r&&(e.src=r),t(a,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom,a=this.options.zoomReverse,r=this.options.zoomOffset;return a&&(t=e-t),t+r},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(e=this._tiles[t].el,e.onload=v,e.onerror=v,!e.complete)){e.src=E;var a=this._tiles[t].coords;ct(e),delete this._tiles[t],this.fire("tileabort",{tile:e,coords:a})}},_removeTile:function(t){var e=this._tiles[t];if(e)return e.el.setAttribute("src",E),yn.prototype._removeTile.call(this,t)},_tileReady:function(t,e,a){if(!(!this._map||a&&a.getAttribute("src")===E))return yn.prototype._tileReady.call(this,t,e,a)}});function cs(t,e){return new $e(t,e)}var ls=$e.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var a=c({},this.defaultWmsParams);for(var r in e)r in this.options||(a[r]=e[r]);e=P(this,e);var l=e.detectRetina&&z.retina?2:1,u=this.getTileSize();a.width=u.x*l,a.height=u.y*l,this.wmsParams=a},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,$e.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),a=this._crs,r=vt(a.project(e[0]),a.project(e[1])),l=r.min,u=r.max,x=(this._wmsVersion>=1.3&&this._crs===es?[l.y,l.x,u.y,u.x]:[l.x,l.y,u.x,u.y]).join(","),C=$e.prototype.getTileUrl.call(this,t);return C+A(this.wmsParams,C,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+x},setParams:function(t,e){return c(this.wmsParams,t),e||this.redraw(),this}});function md(t,e){return new ls(t,e)}$e.WMS=ls,cs.wms=md;var ce=Zt.extend({options:{padding:.1},initialize:function(t){P(this,t),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),H(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var a=this._map.getZoomScale(e,this._zoom),r=this._map.getSize().multiplyBy(.5+this.options.padding),l=this._map.project(this._center,e),u=r.multiplyBy(-a).add(l).subtract(this._map._getNewPixelOrigin(t,e));z.any3d?Te(this._container,u,a):ut(this._container,u)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),a=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new at(a,a.add(e.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ds=ce.extend({options:{tolerance:0},getEvents:function(){var t=ce.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ce.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");V(t,"mousemove",this._onMouseMove,this),V(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),V(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){tt(this._redrawRequest),delete this._ctx,ct(this._container),st(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var e in this._layers)t=this._layers[e],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ce.prototype._update.call(this);var t=this._bounds,e=this._container,a=t.getSize(),r=z.retina?2:1;ut(e,t.min),e.width=r*a.x,e.height=r*a.y,e.style.width=a.x+"px",e.style.height=a.y+"px",z.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){ce.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[h(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,a=e.next,r=e.prev;a?a.prev=r:this._drawLast=r,r?r.next=a:this._drawFirst=a,delete t._order,delete this._layers[h(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var e=t.options.dashArray.split(/[, ]+/),a=[],r,l;for(l=0;l<e.length;l++){if(r=Number(e[l]),isNaN(r))return;a.push(r)}t.options._dashArray=a}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||G(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new at,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var a=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,a.x,a.y),this._ctx.clip()}this._drawing=!0;for(var r=this._drawFirst;r;r=r.next)t=r.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var a,r,l,u,x=t._parts,C=x.length,D=this._ctx;if(C){for(D.beginPath(),a=0;a<C;a++){for(r=0,l=x[a].length;r<l;r++)u=x[a][r],D[r?"lineTo":"moveTo"](u.x,u.y);e&&D.closePath()}this._fillStroke(D,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var e=t._point,a=this._ctx,r=Math.max(Math.round(t._radius),1),l=(Math.max(Math.round(t._radiusY),1)||r)/r;l!==1&&(a.save(),a.scale(1,l)),a.beginPath(),a.arc(e.x,e.y/l,r,0,Math.PI*2,!1),l!==1&&a.restore(),this._fillStroke(a,t)}},_fillStroke:function(t,e){var a=e.options;a.fill&&(t.globalAlpha=a.fillOpacity,t.fillStyle=a.fillColor||a.color,t.fill(a.fillRule||"evenodd")),a.stroke&&a.weight!==0&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=a.opacity,t.lineWidth=a.weight,t.strokeStyle=a.color,t.lineCap=a.lineCap,t.lineJoin=a.lineJoin,t.stroke())},_onClick:function(t){for(var e=this._map.mouseEventToLayerPoint(t),a,r,l=this._drawFirst;l;l=l.next)a=l.layer,a.options.interactive&&a._containsPoint(e)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(a))&&(r=a);this._fireEvent(r?[r]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(pt(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var a,r,l=this._drawFirst;l;l=l.next)a=l.layer,a.options.interactive&&a._containsPoint(e)&&(r=a);r!==this._hoveredLayer&&(this._handleMouseOut(t),r&&(H(this._container,"leaflet-interactive"),this._fireEvent([r],t,"mouseover"),this._hoveredLayer=r)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(p(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,e,a){this._map._fireDOMEvent(e,a||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var a=e.next,r=e.prev;if(a)a.prev=r;else return;r?r.next=a:a&&(this._drawFirst=a),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t)}},_bringToBack:function(t){var e=t._order;if(e){var a=e.next,r=e.prev;if(r)r.next=a;else return;a?a.prev=r:r&&(this._drawLast=r),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t)}}});function ms(t){return z.canvas?new ds(t):null}var wn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),pd={_initContainer:function(){this._container=J("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ce.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=wn("shape");H(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=wn("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[h(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;ct(e),t.removeInteractiveTarget(e),delete this._layers[h(t)]},_updateStyle:function(t){var e=t._stroke,a=t._fill,r=t.options,l=t._container;l.stroked=!!r.stroke,l.filled=!!r.fill,r.stroke?(e||(e=t._stroke=wn("stroke")),l.appendChild(e),e.weight=r.weight+"px",e.color=r.color,e.opacity=r.opacity,r.dashArray?e.dashStyle=N(r.dashArray)?r.dashArray.join(" "):r.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=r.lineCap.replace("butt","flat"),e.joinstyle=r.lineJoin):e&&(l.removeChild(e),t._stroke=null),r.fill?(a||(a=t._fill=wn("fill")),l.appendChild(a),a.color=r.fillColor||r.color,a.opacity=r.fillOpacity):a&&(l.removeChild(a),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),a=Math.round(t._radius),r=Math.round(t._radiusY||a);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+a+","+r+" 0,"+65535*360)},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){ze(t._container)},_bringToBack:function(t){Ze(t._container)}},no=z.vml?wn:Rn,bn=ce.extend({_initContainer:function(){this._container=no("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=no("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ct(this._container),st(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ce.prototype._update.call(this);var t=this._bounds,e=t.getSize(),a=this._container;(!this._svgSize||!this._svgSize.equals(e))&&(this._svgSize=e,a.setAttribute("width",e.x),a.setAttribute("height",e.y)),ut(a,t.min),a.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=no("path");t.options.className&&H(e,t.options.className),t.options.interactive&&H(e,"leaflet-interactive"),this._updateStyle(t),this._layers[h(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){ct(t._path),t.removeInteractiveTarget(t._path),delete this._layers[h(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,a=t.options;e&&(a.stroke?(e.setAttribute("stroke",a.color),e.setAttribute("stroke-opacity",a.opacity),e.setAttribute("stroke-width",a.weight),e.setAttribute("stroke-linecap",a.lineCap),e.setAttribute("stroke-linejoin",a.lineJoin),a.dashArray?e.setAttribute("stroke-dasharray",a.dashArray):e.removeAttribute("stroke-dasharray"),a.dashOffset?e.setAttribute("stroke-dashoffset",a.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),a.fill?(e.setAttribute("fill",a.fillColor||a.color),e.setAttribute("fill-opacity",a.fillOpacity),e.setAttribute("fill-rule",a.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,Fn(t._parts,e))},_updateCircle:function(t){var e=t._point,a=Math.max(Math.round(t._radius),1),r=Math.max(Math.round(t._radiusY),1)||a,l="a"+a+","+r+" 0 1,0 ",u=t._empty()?"M0 0":"M"+(e.x-a)+","+e.y+l+a*2+",0 "+l+-a*2+",0 ";this._setPath(t,u)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){ze(t._path)},_bringToBack:function(t){Ze(t._path)}});z.vml&&bn.include(pd);function ps(t){return z.svg||z.vml?new bn(t):null}K.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var e=this._paneRenderers[t];return e===void 0&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&ms(t)||ps(t)}});var us=We.extend({initialize:function(t,e){We.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=dt(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function ud(t,e){return new us(t,e)}bn.create=no,bn.pointsToPath=Fn,re.geometryToLayer=Yn,re.coordsToLatLng=ua,re.coordsToLatLngs=Xn,re.latLngToCoords=ha,re.latLngsToCoords=Kn,re.getFeature=Ue,re.asFeature=Qn,K.mergeOptions({boxZoom:!0});var hs=Yt.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){V(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){st(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ct(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),un(),Xo(),this._startPoint=this._map.mouseEventToContainerPoint(t),V(document,{contextmenu:Ae,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=J("div","leaflet-zoom-box",this._container),H(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new at(this._point,this._startPoint),a=e.getSize();ut(this._box,e.min),this._box.style.width=a.x+"px",this._box.style.height=a.y+"px"},_finish:function(){this._moved&&(ct(this._box),pt(this._container,"leaflet-crosshair")),hn(),Ko(),st(document,{contextmenu:Ae,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(p(this._resetState,this),0);var e=new yt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});K.addInitHook("addHandler","boxZoom",hs),K.mergeOptions({doubleClickZoom:!0});var fs=Yt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,a=e.getZoom(),r=e.options.zoomDelta,l=t.originalEvent.shiftKey?a-r:a+r;e.options.doubleClickZoom==="center"?e.setZoom(l):e.setZoomAround(t.containerPoint,l)}});K.addInitHook("addHandler","doubleClickZoom",fs),K.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var gs=Yt.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new fe(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}H(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){pt(this._map._container,"leaflet-grab"),pt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=dt(this._map.options.maxBounds);this._offsetLimit=vt(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,a=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(a),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),a=this._initialWorldOffset,r=this._draggable._newPos.x,l=(r-e+a)%t+e-a,u=(r+e+a)%t-e-a,x=Math.abs(l+a)<Math.abs(u+a)?l:u;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=x},_onDragEnd:function(t){var e=this._map,a=e.options,r=!a.inertia||t.noInertia||this._times.length<2;if(e.fire("dragend",t),r)e.fire("moveend");else{this._prunePositions(+new Date);var l=this._lastPos.subtract(this._positions[0]),u=(this._lastTime-this._times[0])/1e3,x=a.easeLinearity,C=l.multiplyBy(x/u),D=C.distanceTo([0,0]),B=Math.min(a.inertiaMaxSpeed,D),O=C.multiplyBy(B/D),Z=B/(a.inertiaDeceleration*x),$=O.multiplyBy(-Z/2).round();!$.x&&!$.y?e.fire("moveend"):($=e._limitOffset($,e.options.maxBounds),G(function(){e.panBy($,{duration:Z,easeLinearity:x,noMoveStart:!0,animate:!0})}))}}});K.addInitHook("addHandler","dragging",gs),K.mergeOptions({keyboard:!0,keyboardPanDelta:80});var xs=Yt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),V(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),st(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,a=t.scrollTop||e.scrollTop,r=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(r,a)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e=this._panKeys={},a=this.keyCodes,r,l;for(r=0,l=a.left.length;r<l;r++)e[a.left[r]]=[-1*t,0];for(r=0,l=a.right.length;r<l;r++)e[a.right[r]]=[t,0];for(r=0,l=a.down.length;r<l;r++)e[a.down[r]]=[0,t];for(r=0,l=a.up.length;r<l;r++)e[a.up[r]]=[0,-1*t]},_setZoomDelta:function(t){var e=this._zoomKeys={},a=this.keyCodes,r,l;for(r=0,l=a.zoomIn.length;r<l;r++)e[a.zoomIn[r]]=t;for(r=0,l=a.zoomOut.length;r<l;r++)e[a.zoomOut[r]]=-t},_addHooks:function(){V(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){st(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=t.keyCode,a=this._map,r;if(e in this._panKeys){if(!a._panAnim||!a._panAnim._inProgress)if(r=this._panKeys[e],t.shiftKey&&(r=F(r).multiplyBy(3)),a.options.maxBounds&&(r=a._limitOffset(F(r),a.options.maxBounds)),a.options.worldCopyJump){var l=a.wrapLatLng(a.unproject(a.project(a.getCenter()).add(r)));a.panTo(l)}else a.panBy(r)}else if(e in this._zoomKeys)a.setZoom(a.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[e]);else if(e===27&&a._popup&&a._popup.options.closeOnEscapeKey)a.closePopup();else return;Ae(t)}}});K.addInitHook("addHandler","keyboard",xs),K.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var _s=Yt.extend({addHooks:function(){V(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){st(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=Vi(t),a=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var r=Math.max(a-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(p(this._performZoom,this),r),Ae(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),a=this._map.options.zoomSnap||0;t._stop();var r=this._delta/(this._map.options.wheelPxPerZoomLevel*4),l=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,u=a?Math.ceil(l/a)*a:l,x=t._limitZoom(e+(this._delta>0?u:-u))-e;this._delta=0,this._startTime=null,x&&(t.options.scrollWheelZoom==="center"?t.setZoom(e+x):t.setZoomAround(this._lastMousePos,e+x))}});K.addInitHook("addHandler","scrollWheelZoom",_s);var hd=600;K.mergeOptions({tapHold:z.touchNative&&z.safari&&z.mobile,tapTolerance:15});var vs=Yt.extend({addHooks:function(){V(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){st(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var e=t.touches[0];this._startPos=this._newPos=new I(e.clientX,e.clientY),this._holdTimeout=setTimeout(p(function(){this._cancel(),this._isTapValid()&&(V(document,"touchend",_t),V(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",e))},this),hd),V(document,"touchend touchcancel contextmenu",this._cancel,this),V(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){st(document,"touchend",_t),st(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),st(document,"touchend touchcancel contextmenu",this._cancel,this),st(document,"touchmove",this._onMove,this)},_onMove:function(t){var e=t.touches[0];this._newPos=new I(e.clientX,e.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,e){var a=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY});a._simulated=!0,e.target.dispatchEvent(a)}});K.addInitHook("addHandler","tapHold",vs),K.mergeOptions({touchZoom:z.touch,bounceAtZoomLimits:!0});var ys=Yt.extend({addHooks:function(){H(this._map._container,"leaflet-touch-zoom"),V(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){pt(this._map._container,"leaflet-touch-zoom"),st(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(!(!t.touches||t.touches.length!==2||e._animatingZoom||this._zooming)){var a=e.mouseEventToContainerPoint(t.touches[0]),r=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),e.options.touchZoom!=="center"&&(this._pinchStartLatLng=e.containerPointToLatLng(a.add(r)._divideBy(2))),this._startDist=a.distanceTo(r),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),V(document,"touchmove",this._onTouchMove,this),V(document,"touchend touchcancel",this._onTouchEnd,this),_t(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var e=this._map,a=e.mouseEventToContainerPoint(t.touches[0]),r=e.mouseEventToContainerPoint(t.touches[1]),l=a.distanceTo(r)/this._startDist;if(this._zoom=e.getScaleZoom(l,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&l<1||this._zoom>e.getMaxZoom()&&l>1)&&(this._zoom=e._limitZoom(this._zoom)),e.options.touchZoom==="center"){if(this._center=this._startLatLng,l===1)return}else{var u=a._add(r)._divideBy(2)._subtract(this._centerPoint);if(l===1&&u.x===0&&u.y===0)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(u),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),tt(this._animRequest);var x=p(e._move,e,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=G(x,this,!0),_t(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,tt(this._animRequest),st(document,"touchmove",this._onTouchMove,this),st(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});K.addInitHook("addHandler","touchZoom",ys),K.BoxZoom=hs,K.DoubleClickZoom=fs,K.Drag=gs,K.Keyboard=xs,K.ScrollWheelZoom=_s,K.TapHold=vs,K.TouchZoom=ys,i.Bounds=at,i.Browser=z,i.CRS=Et,i.Canvas=ds,i.Circle=pa,i.CircleMarker=qn,i.Class=Y,i.Control=zt,i.DivIcon=rs,i.DivOverlay=Xt,i.DomEvent=Bl,i.DomUtil=Ll,i.Draggable=fe,i.Evented=it,i.FeatureGroup=ie,i.GeoJSON=re,i.GridLayer=yn,i.Handler=Yt,i.Icon=He,i.ImageOverlay=Jn,i.LatLng=nt,i.LatLngBounds=yt,i.Layer=Zt,i.LayerGroup=Ve,i.LineUtil=Ul,i.Map=K,i.Marker=Gn,i.Mixin=Fl,i.Path=ge,i.Point=I,i.PolyUtil=zl,i.Polygon=We,i.Polyline=se,i.Popup=to,i.PosAnimation=Hi,i.Projection=$l,i.Rectangle=us,i.Renderer=ce,i.SVG=bn,i.SVGOverlay=ss,i.TileLayer=$e,i.Tooltip=eo,i.Transformation=je,i.Util=rt,i.VideoOverlay=is,i.bind=p,i.bounds=vt,i.canvas=ms,i.circle=td,i.circleMarker=Jl,i.control=xn,i.divIcon=ld,i.extend=c,i.featureGroup=Xl,i.geoJSON=as,i.geoJson=od,i.gridLayer=dd,i.icon=Kl,i.imageOverlay=ad,i.latLng=q,i.latLngBounds=dt,i.layerGroup=Yl,i.map=kl,i.marker=Ql,i.point=F,i.polygon=nd,i.polyline=ed,i.popup=rd,i.rectangle=ud,i.setOptions=P,i.stamp=h,i.svg=ps,i.svgOverlay=sd,i.tileLayer=cs,i.tooltip=cd,i.transformation=he,i.version=s,i.videoOverlay=id;var fd=window.L;i.noConflict=function(){return window.L=fd,this},window.L=i})})(Aa,Aa.exports);var ke=Aa.exports;const To=tr(ke);function Do(n,o,i){return Object.freeze({instance:n,context:o,container:i})}function So(n,o){return o==null?function(s,c){const m=w.useRef();return m.current||(m.current=n(s,c)),m}:function(s,c){const m=w.useRef();m.current||(m.current=n(s,c));const p=w.useRef(s),{instance:f}=m.current;return w.useEffect(function(){p.current!==s&&(o(f,s,p.current),p.current=s)},[f,s,c]),m}}function fr(n,o){w.useEffect(function(){return(o.layerContainer??o.map).addLayer(n.instance),function(){var m;(m=o.layerContainer)==null||m.removeLayer(n.instance),o.map.removeLayer(n.instance)}},[o,n])}function gr(n){return function(i){const s=Po(),c=n(Co(i,s),s);return dr(s.map,i.attribution),Za(c.current,i.eventHandlers),fr(c.current,s),c}}function Vm(n,o){const i=w.useRef();w.useEffect(function(){if(o.pathOptions!==i.current){const c=o.pathOptions??{};n.instance.setStyle(c),i.current=c}},[n,o])}function Hm(n){return function(i){const s=Po(),c=n(Co(i,s),s);return Za(c.current,i.eventHandlers),fr(c.current,s),Vm(c.current,i),c}}function Wm(n,o){const i=So(n,o),s=gr(i);return hr(s)}function Um(n,o){const i=So(n),s=Zm(i,o);return Fm(s)}function $m(n,o){const i=So(n,o),s=Hm(i);return hr(s)}function Gm(n,o){const i=So(n,o),s=gr(i);return zm(s)}function qm(n,o,i){const{opacity:s,zIndex:c}=o;s!=null&&s!==i.opacity&&n.setOpacity(s),c!=null&&c!==i.zIndex&&n.setZIndex(c)}function Va(){return Po().map}function Ym(n){const o=Va();return w.useEffect(function(){return o.on(n),function(){o.off(n)}},[o,n]),o}function Na(){return Na=Object.assign||function(n){for(var o=1;o<arguments.length;o++){var i=arguments[o];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},Na.apply(this,arguments)}function Xm({bounds:n,boundsOptions:o,center:i,children:s,className:c,id:m,placeholder:p,style:f,whenReady:h,zoom:g,..._},v){const[y]=w.useState({className:c,id:m,style:f}),[b,T]=w.useState(null);w.useImperativeHandle(v,()=>(b==null?void 0:b.map)??null,[b]);const P=w.useCallback(k=>{if(k!==null&&b===null){const S=new ke.Map(k,_);i!=null&&g!=null?S.setView(i,g):n!=null&&S.fitBounds(n,o),h!=null&&S.whenReady(h),T(Rm(S))}},[]);w.useEffect(()=>()=>{b==null||b.map.remove()},[b]);const A=b?Dt.createElement(ur,{value:b},s):p??null;return Dt.createElement("div",Na({},y,{ref:P}),A)}const Km=w.forwardRef(Xm),Ha=Wm(function({position:o,...i},s){const c=new ke.Marker(o,i);return Do(c,mr(s,{overlayContainer:c}))},function(o,i,s){i.position!==s.position&&o.setLatLng(i.position),i.icon!=null&&i.icon!==s.icon&&o.setIcon(i.icon),i.zIndexOffset!=null&&i.zIndexOffset!==s.zIndexOffset&&o.setZIndexOffset(i.zIndexOffset),i.opacity!=null&&i.opacity!==s.opacity&&o.setOpacity(i.opacity),o.dragging!=null&&i.draggable!==s.draggable&&(i.draggable===!0?o.dragging.enable():o.dragging.disable())}),xa=$m(function({positions:o,...i},s){const c=new ke.Polyline(o,i);return Do(c,mr(s,{overlayContainer:c}))},function(o,i,s){i.positions!==s.positions&&o.setLatLngs(i.positions)}),Wa=Um(function(o,i){const s=new ke.Popup(o,i.overlayContainer);return Do(s,i)},function(o,i,{position:s},c){w.useEffect(function(){const{instance:p}=o;function f(g){g.popup===p&&(p.update(),c(!0))}function h(g){g.popup===p&&c(!1)}return i.map.on({popupopen:f,popupclose:h}),i.overlayContainer==null?(s!=null&&p.setLatLng(s),p.openOn(i.map)):i.overlayContainer.bindPopup(p),function(){var _;i.map.off({popupopen:f,popupclose:h}),(_=i.overlayContainer)==null||_.unbindPopup(),i.map.removeLayer(p)}},[o,i,c,s])}),Qm=Gm(function({url:o,...i},s){const c=new ke.TileLayer(o,Co(i,s));return Do(c,s)},function(o,i,s){qm(o,i,s);const{url:c}=i;c!=null&&c!==s.url&&o.setUrl(c)}),Ms=({position:n,onDragEnd:o,icon:i,label:s,draggable:c=!0,isPickup:m=!1})=>{const p=w.useRef(null),[f,h]=w.useState(!1),{toast:g}=St();w.useEffect(()=>{if(p.current){const v=p.current;v.setLatLng(n);const y=m?1e3:999,b=f?y+1:y;v.setZIndexOffset(b)}},[n,f,m]);const _={dragend:v=>{const y=v.target;y&&(o(y.getLatLng()),g({title:"Ubicación actualizada",description:"La ubicación ha sido actualizada correctamente"}))},mouseover:()=>h(!0),mouseout:()=>h(!1),dragstart:()=>h(!0),click:()=>{p.current&&p.current.openPopup()}};return d.jsx(Ha,{"data-component-path":"src\\components\\map\\DraggableMarker.tsx","data-component-name":"Marker","data-component-line":"62","data-component-file":"DraggableMarker.tsx","data-component-content":"%7B%7D",position:n,draggable:c,icon:i,eventHandlers:_,ref:p,children:d.jsx(ye,{"data-component-path":"src\\components\\map\\DraggableMarker.tsx","data-component-name":"AnimatePresence","data-component-line":"69","data-component-file":"DraggableMarker.tsx","data-component-content":"%7B%7D",children:(f||!c)&&d.jsx(Wa,{"data-component-path":"src\\components\\map\\DraggableMarker.tsx","data-component-name":"Popup","data-component-line":"71","data-component-file":"DraggableMarker.tsx","data-component-content":"%7B%22className%22%3A%22custom-popup%22%7D",className:"custom-popup",closeButton:!1,children:d.jsxs(Q.div,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},transition:{duration:.2},className:"font-semibold p-1",children:[s,c&&d.jsx("div",{"data-component-path":"src\\components\\map\\DraggableMarker.tsx","data-component-name":"div","data-component-line":"81","data-component-file":"DraggableMarker.tsx","data-component-content":"%7B%22text%22%3A%22Arrastra%20para%20ajustar%20la%20ubicaci%C3%B3n%22%2C%22className%22%3A%22text-xs%20text-gray-500%20mt-1%22%7D",className:"text-xs text-gray-500 mt-1",children:"Arrastra para ajustar la ubicación"})]})})})})};var xr={exports:{}};(function(n){var o={};function i(m){return Math.floor(Math.abs(m)+.5)*(m>=0?1:-1)}function s(m,p,f){m=i(m*f),p=i(p*f);var h=(m-p)*2;h<0&&(h=-h-1);for(var g="";h>=32;)g+=String.fromCharCode((32|h&31)+63),h/=32;return g+=String.fromCharCode((h|0)+63),g}o.decode=function(m,p){for(var f=0,h=0,g=0,_=[],v=0,y=0,b=null,T,P,A=Math.pow(10,Number.isInteger(p)?p:5);f<m.length;){b=null,v=1,y=0;do b=m.charCodeAt(f++)-63,y+=(b&31)*v,v*=32;while(b>=32);T=y&1?(-y-1)/2:y/2,v=1,y=0;do b=m.charCodeAt(f++)-63,y+=(b&31)*v,v*=32;while(b>=32);P=y&1?(-y-1)/2:y/2,h+=T,g+=P,_.push([h/A,g/A])}return _},o.encode=function(m,p){if(!m.length)return"";for(var f=Math.pow(10,Number.isInteger(p)?p:5),h=s(m[0][0],0,f)+s(m[0][1],0,f),g=1;g<m.length;g++){var _=m[g],v=m[g-1];h+=s(_[0],v[0],f),h+=s(_[1],v[1],f)}return h};function c(m){for(var p=[],f=0;f<m.length;f++){var h=m[f].slice();p.push([h[1],h[0]])}return p}o.fromGeoJSON=function(m,p){if(m&&m.type==="Feature"&&(m=m.geometry),!m||m.type!=="LineString")throw new Error("Input must be a GeoJSON LineString");return o.encode(c(m.coordinates),p)},o.toGeoJSON=function(m,p){var f=o.decode(m,p);return{type:"LineString",coordinates:c(f)}},n.exports&&(n.exports=o)})(xr);var _a=xr.exports;const Jm=1e4,Bs={},tp=n=>{const o=Date.now(),i=Bs[n]||0;return o-i>Jm?(Bs[n]=o,!0):!1},ep=n=>{tp("route")&&Bd({title:"Route Calculated",description:d.jsxs("div",{"data-component-path":"src\\utils\\notificationUtils.tsx","data-component-name":"div","data-component-line":"45","data-component-file":"notificationUtils.tsx","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%22%7D",className:"flex items-center gap-2",children:[d.jsx(za,{"data-component-path":"src\\utils\\notificationUtils.tsx","data-component-name":"Info","data-component-line":"46","data-component-file":"notificationUtils.tsx","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D",className:"h-4 w-4"}),d.jsxs("span",{"data-component-path":"src\\utils\\notificationUtils.tsx","data-component-name":"span","data-component-line":"47","data-component-file":"notificationUtils.tsx","data-component-content":"%7B%22text%22%3A%22Total%20route%20distance%3A%20km%22%7D",children:["Total route distance: ",n.toFixed(2)," km"]})]}),duration:5e3,className:"bg-blue-50 border-blue-200"})},np=["https://router.project-osrm.org/route/v1","http://router.project-osrm.org/route/v1"].map(n=>n.replace(/\/+$/,"")),La=1100,op=3,ap=2;let ks=0,Es=Promise.resolve();const _r=n=>new Promise(o=>setTimeout(o,n)),ip=n=>Math.min(La*Math.pow(ap,n),5e3),sp=async()=>{const o=Date.now()-ks;o<La&&await _r(La-o),ks=Date.now()},rp=(n,o)=>{const s=(o.lat-n.lat)*Math.PI/180,c=(o.lng-n.lng)*Math.PI/180,m=Math.sin(s/2)*Math.sin(s/2)+Math.cos(n.lat*Math.PI/180)*Math.cos(o.lat*Math.PI/180)*Math.sin(c/2)*Math.sin(c/2);return 6371*(2*Math.atan2(Math.sqrt(m),Math.sqrt(1-m)))};async function vr(n,o,i,s=0){const c=[];await sp();for(const m of n)try{const p=`${m}/driving/${o}?overview=full&geometries=polyline`;console.log("Attempting request to:",p);const f=await fetch(p,{...i,mode:"cors",credentials:"omit",headers:{...i.headers,Accept:"application/json",Origin:window.location.origin}});if(f.ok)return f;if(f.status===429){const h=ip(s);if(await _r(h),s<op)return vr(n,o,i,s+1)}c.push(new Error(`Failed response from ${m}: ${f.status}`))}catch(p){console.error("Error making request to",m,":",p),c.push(p instanceof Error?p:new Error(`Unknown error from ${m}`));continue}throw new Error("All routing services failed. Using fallback straight-line calculation.")}async function cp(n,o){const i=`${n.lng},${n.lat};${o.lng},${o.lat}`;try{console.log("Starting route calculation:",{start:n,end:o});const c=await new Promise((m,p)=>{Es=Es.then(()=>vr(np,i,{headers:{Accept:"application/json",Origin:window.location.origin}})).then(f=>f.json()).then(m).catch(p)});if(!c.routes||c.routes.length===0)throw new Error("No route found");return console.log("Route calculation successful:",c.routes[0]),{distance:c.routes[0].distance/1e3,duration:c.routes[0].duration,geometry:c.routes[0].geometry}}catch(s){console.error("OSRM routing failed, falling back to straight-line calculation:",s);const c=rp(n,o),m=c*60;return{distance:c,duration:m,geometry:"_p~iF~ps|U_ulLnnqC_mqNvxq`@"}}}const Is={lat:26.509672,lng:-100.0095504},Ke=async(n,o)=>{try{console.log("Calculating route from:",n,"to:",o);const i=await cp(n,o);return console.log("Route calculation successful:",i),i}catch(i){console.error("Route calculation failed:",i);const s=lp(n,o);return{distance:s,duration:s*60,geometry:"_p~iF~ps|U_ulLnnqC_mqNvxq`@"}}},lp=(n,o)=>{const s=(o.lat-n.lat)*Math.PI/180,c=(o.lng-n.lng)*Math.PI/180,m=Math.sin(s/2)*Math.sin(s/2)+Math.cos(n.lat*Math.PI/180)*Math.cos(o.lat*Math.PI/180)*Math.sin(c/2)*Math.sin(c/2),p=2*Math.atan2(Math.sqrt(m),Math.sqrt(1-m));return Number((6371*p).toFixed(2))},va={A:{name:"Grúa tipo A",capacity:"hasta 2000kg",perKm:18.82,maneuverCharge:1219.55,flagDropFee:528.69,maxWeight:2e3},B:{name:"Grúa tipo B",capacity:"hasta 3000kg",perKm:20.62,maneuverCharge:1336.73,flagDropFee:607.43,maxWeight:3e3},C:{name:"Grúa tipo C",capacity:"hasta 4000kg",perKm:23.47,maneuverCharge:1524.21,flagDropFee:721.79,maxWeight:4e3},D:{name:"Grúa tipo D",capacity:"hasta 8000kg",perKm:32.35,maneuverCharge:2101.65,flagDropFee:885.84,maxWeight:8e3}},dp={Toyota:["RAV4","Highlander","4Runner","Land Cruiser","Sequoia"],Honda:["CR-V","HR-V","Pilot","Passport"],Nissan:["Rogue","Murano","Pathfinder","Armada","Kicks"],Ford:["Explorer","Escape","Edge","Expedition","Bronco"],Chevrolet:["Equinox","Traverse","Tahoe","Suburban","Trax","Blazer"],Hyundai:["Tucson","Santa Fe","Palisade","Venue","Kona"],Kia:["Sportage","Sorento","Telluride","Seltos"],Mazda:["CX-3","CX-30","CX-5","CX-9"]},mp={Ford:["Transit","Transit Connect","F-450","F-550","F-650"],Mercedes:["Sprinter","Metris"],Ram:["ProMaster","ProMaster City"],Chevrolet:["Express","Low Cab Forward"],Isuzu:["NPR","NQR","NRR"],Freightliner:["M2","Sprinter"],International:["CV Series","MV Series"],Hino:["155","195","268","338"]},pp=(n,o)=>{const i=o.toLowerCase(),s=n.toLowerCase();return up(s,i)?"D":hp(s,i)?"C":fp(s,i)?"B":"A"},up=(n,o)=>{const i=Object.entries(mp).some(([m,p])=>n.includes(m.toLowerCase())&&p.some(f=>o.includes(f.toLowerCase()))),c=["2500","3500","4500","heavy duty","hd"].some(m=>o.includes(m));return i||c},hp=(n,o)=>!!(["tahoe","suburban","expedition","sequoia","armada","telluride","palisade"].some(c=>o.includes(c))||["f-150","silverado 1500","ram 1500","tundra","titan"].some(c=>o.includes(c))),fp=(n,o)=>{const i=Object.entries(dp).some(([m,p])=>n.includes(m.toLowerCase())&&p.some(f=>o.includes(f.toLowerCase()))),c=["suv","crossover","pickup","mid-size"].some(m=>o.includes(m));return i||c},gp=(n,o)=>pp(n,o),Qe=n=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN",minimumFractionDigits:2,maximumFractionDigits:2}).format(n),le={lat:26.510272,lng:-100.006323},xp=({pickupLocation:n,dropLocation:o,onRouteCalculated:i})=>{const[s,c]=w.useState([]),[m,p]=w.useState([]),[f,h]=w.useState([]),{updateTowingInfo:g}=yo(),{toast:_}=St();return w.useEffect(()=>{(async()=>{if(n&&o)try{const y=await Ke(le,n);c(_a.decode(y.geometry).map(([A,k])=>[A,k]));const b=await Ke(n,o);p(_a.decode(b.geometry).map(([A,k])=>[A,k]));const T=await Ke(o,le);h(_a.decode(T.geometry).map(([A,k])=>[A,k]));const P=y.distance+b.distance+T.distance;g(P),i==null||i(P),ep(P)}catch(y){console.error("Error calculating routes:",y),_({title:"Error al calcular la ruta",description:y instanceof Error?y.message:"Por favor, intente nuevamente en unos segundos",variant:"destructive"})}})()},[n,o,i,g,_]),d.jsxs(d.Fragment,{children:[s.length>0&&d.jsx(xa,{"data-component-path":"src\\components\\map\\RoutePolyline.tsx","data-component-name":"Polyline","data-component-line":"94","data-component-file":"RoutePolyline.tsx","data-component-content":"%7B%7D",positions:s,color:"blue",weight:3,dashArray:"10, 10",opacity:.7}),m.length>0&&d.jsx(xa,{"data-component-path":"src\\components\\map\\RoutePolyline.tsx","data-component-name":"Polyline","data-component-line":"103","data-component-file":"RoutePolyline.tsx","data-component-content":"%7B%7D",positions:m,color:"green",weight:3,opacity:.9}),f.length>0&&d.jsx(xa,{"data-component-path":"src\\components\\map\\RoutePolyline.tsx","data-component-name":"Polyline","data-component-line":"111","data-component-file":"RoutePolyline.tsx","data-component-content":"%7B%7D",positions:f,color:"red",weight:3,dashArray:"10, 10",opacity:.7})]})},_p=({onLocationSelect:n,selectingPickup:o,selectingDrop:i})=>{const{toast:s}=St();return Ym({click(c){(o||i)&&(n(c.latlng),s({title:`${o?"Punto de Recogida":"Punto de Entrega"} Seleccionado`,description:"Puedes arrastrar el marcador para ajustar la ubicación"}))}}),null},vp=new To.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),yp=new To.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),wp=new To.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),bp=({pickupLocation:n,dropLocation:o,selectingPickup:i,selectingDrop:s,onLocationSelect:c,setPickupLocation:m,setDropLocation:p,onRouteCalculated:f})=>{const{toast:h}=St(),g=y=>{const b={lat:y.lat,lng:y.lng};m(b),c(b),h({title:"Punto de recogida actualizado",description:"La ubicación de recogida ha sido actualizada"})},_=y=>{const b={lat:y.lat,lng:y.lng};p(b),c(b),h({title:"Punto de entrega actualizado",description:"La ubicación de entrega ha sido actualizada"})},v=y=>{c(y)};return d.jsxs(d.Fragment,{children:[d.jsx(_p,{"data-component-path":"src\\components\\map\\MapMarkers.tsx","data-component-name":"MapLocationHandler","data-component-line":"59","data-component-file":"MapMarkers.tsx","data-component-content":"%7B%7D",onLocationSelect:v,selectingPickup:i,selectingDrop:s}),d.jsx(Ha,{"data-component-path":"src\\components\\map\\MapMarkers.tsx","data-component-name":"Marker","data-component-line":"65","data-component-file":"MapMarkers.tsx","data-component-content":"%7B%7D",position:[Is.lat,Is.lng],icon:vp,children:d.jsxs(Wa,{"data-component-path":"src\\components\\map\\MapMarkers.tsx","data-component-name":"Popup","data-component-line":"69","data-component-file":"MapMarkers.tsx","data-component-content":"%7B%22className%22%3A%22rounded-lg%20shadow-lg%22%7D",className:"rounded-lg shadow-lg",children:[d.jsx("div",{"data-component-path":"src\\components\\map\\MapMarkers.tsx","data-component-name":"div","data-component-line":"70","data-component-file":"MapMarkers.tsx","data-component-content":"%7B%22text%22%3A%22Empresa%20de%20Gr%C3%BAas%22%2C%22className%22%3A%22font-semibold%22%7D",className:"font-semibold",children:"Empresa de Grúas"}),d.jsx("div",{"data-component-path":"src\\components\\map\\MapMarkers.tsx","data-component-name":"div","data-component-line":"71","data-component-file":"MapMarkers.tsx","data-component-content":"%7B%22text%22%3A%22Ubicaci%C3%B3n%20Principal%22%2C%22className%22%3A%22text-sm%20text-gray-600%22%7D",className:"text-sm text-gray-600",children:"Ubicación Principal"})]})}),n&&d.jsx(Ms,{"data-component-path":"src\\components\\map\\MapMarkers.tsx","data-component-name":"DraggableMarker","data-component-line":"76","data-component-file":"MapMarkers.tsx","data-component-content":"%7B%7D",position:[n.lat,n.lng],onDragEnd:g,icon:yp,label:"Punto de Recogida",isPickup:!0}),o&&d.jsx(Ms,{"data-component-path":"src\\components\\map\\MapMarkers.tsx","data-component-name":"DraggableMarker","data-component-line":"86","data-component-file":"MapMarkers.tsx","data-component-content":"%7B%7D",position:[o.lat,o.lng],onDragEnd:_,icon:wp,label:"Punto de Entrega",isPickup:!1}),n&&o&&d.jsx(xp,{"data-component-path":"src\\components\\map\\MapMarkers.tsx","data-component-name":"RoutePolyline","data-component-line":"96","data-component-file":"MapMarkers.tsx","data-component-content":"%7B%7D",pickupLocation:n,dropLocation:o,onRouteCalculated:f})]})},Pp=({pickupLocation:n,dropLocation:o})=>{const i=Va(),{toast:s}=St(),c=w.useRef(0);return w.useEffect(()=>{if(!i)return;const m=Date.now(),p=[n,o].filter(Boolean);if(p.length!==0){if(p.length===1)i.setView([p[0].lat,p[0].lng],15);else{const f=new ke.LatLngBounds(p.map(h=>[h.lat,h.lng]));i.fitBounds(f,{padding:[50,50]})}m-c.current>3e3&&(s({title:"Mapa actualizado",description:p.length>1?"Ruta completa visible":"Vista centrada en ubicación"}),c.current=m)}},[i,n,o,s]),null},Cp=["https://corsproxy.io/?","https://api.codetabs.com/v1/proxy?quest=","https://api.allorigins.win/raw?url=","https://proxy.cors.sh/","https://cors-anywhere.herokuapp.com/"],yr="https://nominatim.openstreetmap.org",Tp=3,Dp="MX",Sp=5,Ap=async(n,o={},i=8e3)=>{const s=new AbortController,c=setTimeout(()=>s.abort(),i);try{console.log("Fetching URL:",n);const m=await fetch(n,{...o,signal:s.signal,headers:{Accept:"application/json","User-Agent":"TowingServiceApplication/1.0",origin:window.location.origin,"x-requested-with":"XMLHttpRequest",...o.headers}});if(!m.ok)throw new Error(`HTTP error! status: ${m.status}`);const p=await m.json();return console.log("Fetch successful:",{url:n,status:m.status}),p}catch(m){throw console.error("Fetch failed:",{url:n,error:m}),m}finally{clearTimeout(c)}},Np=n=>{const o=Math.min(1e3*Math.pow(2,n),5e3);return new Promise(i=>setTimeout(i,o))},wr=async(n,o=Tp)=>{let i=null;for(const s of Cp){const c=`${s}${encodeURIComponent(n)}`;console.log("Attempting proxy:",s);for(let m=0;m<o;m++)try{const p=await Ap(c);return console.log("Proxy successful:",s),p}catch(p){console.warn(`Proxy attempt ${m+1} failed for ${s}:`,p),i=p,m<o-1&&await Np(m)}}throw console.error("All proxies failed:",i),new Error("Failed to fetch data from all available proxies")},Lp=async(n,o={})=>{const{fuzzyMatch:i=!0,limit:s=Sp,countryCode:c=Dp,proximity:m}=o,p=new URLSearchParams({q:n,format:"json",limit:s.toString(),countrycodes:c});m&&(p.append("lat",m.lat.toString()),p.append("lon",m.lng.toString())),console.log("Geocoding search params:",Object.fromEntries(p.entries()));const f=`${yr}/search?${p}`;try{const h=await wr(f);if(!Array.isArray(h))return console.error("Invalid geocoding response:",h),[];console.log("Geocoding results:",h);const g=h.map(_=>({address:_.display_name,lat:_.lat,lon:_.lon,display_name:_.display_name,importance:_.importance,place_id:_.place_id}));return i?g:g.filter(_=>_.display_name.toLowerCase().includes(n.toLowerCase()))}catch(h){return console.error("Geocoding search failed:",h),[]}},br=async(n,o)=>{const i=new URLSearchParams({format:"json",lat:n.toString(),lon:o.toString()});try{console.log("Reverse geocoding request:",{lat:n,lon:o});const s=`${yr}/reverse?${i}`,c=await wr(s);return console.log("Reverse geocoding result:",c),(c==null?void 0:c.display_name)||"Address not found"}catch(s){return console.error("Reverse geocoding failed:",s),"Error retrieving address"}},Mp=()=>To.divIcon({className:"relative",html:`
      <div class="relative">
        <div class="absolute -top-4 -left-4 w-8 h-8 bg-blue-500 rounded-full opacity-25 animate-ping"></div>
        <div class="absolute -top-3 -left-3 w-6 h-6 bg-blue-500 rounded-full"></div>
        <div class="absolute -top-2 -left-2 w-4 h-4 bg-white rounded-full flex items-center justify-center">
          <div class="w-2 h-2 bg-blue-500 rounded-full"></div>
        </div>
      </div>
    `,iconSize:[20,20]}),Bp=({visible:n})=>{const[o,i]=w.useState(null),[s,c]=w.useState("");Va();const{toast:m}=St();return w.useEffect(()=>{if(!n)return;const p=navigator.geolocation.watchPosition(async f=>{const h=[f.coords.latitude,f.coords.longitude];i(h);try{const g=await br(h[0],h[1]);c(g)}catch(g){console.error("Error fetching address:",g)}},f=>{m({title:"Location Error",description:"Unable to get your location. Please check your browser permissions.",variant:"destructive"}),console.error("Geolocation error:",f)},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0});return()=>{navigator.geolocation.clearWatch(p)}},[n,m]),!n||!o?null:d.jsx(Ha,{"data-component-path":"src\\components\\map\\UserLocationMarker.tsx","data-component-name":"Marker","data-component-line":"76","data-component-file":"UserLocationMarker.tsx","data-component-content":"%7B%7D",position:o,icon:Mp(),children:d.jsx(Wa,{"data-component-path":"src\\components\\map\\UserLocationMarker.tsx","data-component-name":"Popup","data-component-line":"77","data-component-file":"UserLocationMarker.tsx","data-component-content":"%7B%7D",children:d.jsxs("div",{"data-component-path":"src\\components\\map\\UserLocationMarker.tsx","data-component-name":"div","data-component-line":"78","data-component-file":"UserLocationMarker.tsx","data-component-content":"%7B%22className%22%3A%22p-2%22%7D",className:"p-2",children:[d.jsx("h3",{"data-component-path":"src\\components\\map\\UserLocationMarker.tsx","data-component-name":"h3","data-component-line":"79","data-component-file":"UserLocationMarker.tsx","data-component-content":"%7B%22text%22%3A%22Your%20Location%22%2C%22className%22%3A%22font-semibold%20mb-1%22%7D",className:"font-semibold mb-1",children:"Your Location"}),d.jsx("p",{"data-component-path":"src\\components\\map\\UserLocationMarker.tsx","data-component-name":"p","data-component-line":"80","data-component-file":"UserLocationMarker.tsx","data-component-content":"%7B%22className%22%3A%22text-sm%20text-gray-600%22%7D",className:"text-sm text-gray-600",children:s}),d.jsxs("div",{"data-component-path":"src\\components\\map\\UserLocationMarker.tsx","data-component-name":"div","data-component-line":"81","data-component-file":"UserLocationMarker.tsx","data-component-content":"%7B%22text%22%3A%22%2C%22%2C%22className%22%3A%22text-xs%20text-gray-500%20mt-1%22%7D",className:"text-xs text-gray-500 mt-1",children:[o[0].toFixed(6),", ",o[1].toFixed(6)]})]})})})},kp=({visible:n,onToggle:o})=>d.jsx(we,{"data-component-path":"src\\features\\map\\components\\UserLocationControl.tsx","data-component-name":"Button","data-component-line":"15","data-component-file":"UserLocationControl.tsx","data-component-content":"%7B%7D",variant:"outline",size:"icon",onClick:o,className:bt("h-10 w-10 rounded-full",n&&"bg-blue-50 border-blue-200 text-blue-700 hover:bg-blue-100"),title:n?"Hide your location":"Show your location",children:d.jsx(te,{"data-component-path":"src\\features\\map\\components\\UserLocationControl.tsx","data-component-name":"MapPin","data-component-line":"25","data-component-file":"UserLocationControl.tsx","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D",className:"h-4 w-4"})}),Ep=({pickupLocation:n,dropLocation:o,selectingPickup:i,selectingDrop:s,onLocationSelect:c,setPickupLocation:m,setDropLocation:p,onRouteCalculated:f,isLoading:h=!1,mapRef:g})=>{const[_,v]=w.useState(!1),y=[25.6866,-100.3161];return d.jsx(Q.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},transition:{duration:.5,ease:"easeOut"},className:"w-full h-full rounded-xl overflow-hidden shadow-2xl relative border-2 border-primary/10",children:d.jsxs(Km,{"data-component-path":"src\\components\\map\\MapContainer.tsx","data-component-name":"MapContainer","data-component-line":"46","data-component-file":"MapContainer.tsx","data-component-content":"%7B%22className%22%3A%22w-full%20h-full%22%7D",center:y,zoom:13,className:"w-full h-full",zoomControl:!1,ref:g,children:[d.jsx(Qm,{"data-component-path":"src\\components\\map\\MapContainer.tsx","data-component-name":"TileLayer","data-component-line":"53","data-component-file":"MapContainer.tsx","data-component-content":"%7B%22className%22%3A%22brightness-%5B0.97%5D%20contrast-%5B1.02%5D%22%7D",attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",className:"brightness-[0.97] contrast-[1.02]"}),d.jsx(bp,{"data-component-path":"src\\components\\map\\MapContainer.tsx","data-component-name":"MapMarkers","data-component-line":"59","data-component-file":"MapContainer.tsx","data-component-content":"%7B%7D",pickupLocation:n,dropLocation:o,selectingPickup:i,selectingDrop:s,onLocationSelect:c,setPickupLocation:m,setDropLocation:p,onRouteCalculated:f}),d.jsx(Pp,{"data-component-path":"src\\components\\map\\MapContainer.tsx","data-component-name":"MapUpdater","data-component-line":"70","data-component-file":"MapContainer.tsx","data-component-content":"%7B%7D",pickupLocation:n,dropLocation:o}),d.jsx(Bp,{"data-component-path":"src\\components\\map\\MapContainer.tsx","data-component-name":"UserLocationMarker","data-component-line":"75","data-component-file":"MapContainer.tsx","data-component-content":"%7B%7D",visible:_}),d.jsx("div",{"data-component-path":"src\\components\\map\\MapContainer.tsx","data-component-name":"div","data-component-line":"77","data-component-file":"MapContainer.tsx","data-component-content":"%7B%22className%22%3A%22absolute%20bottom-5%20right-5%20z-%5B1000%5D%22%7D",className:"absolute bottom-5 right-5 z-[1000]",children:d.jsx(kp,{"data-component-path":"src\\components\\map\\MapContainer.tsx","data-component-name":"UserLocationControl","data-component-line":"78","data-component-file":"MapContainer.tsx","data-component-content":"%7B%7D",visible:_,onToggle:()=>v(!_)})})]})})},Ip=({selectingPickup:n,selectingDrop:o,onPickupClick:i,onDropClick:s})=>d.jsxs("div",{"data-component-path":"src\\features\\map\\components\\MapControls.tsx","data-component-name":"div","data-component-line":"19","data-component-file":"MapControls.tsx","data-component-content":"%7B%22className%22%3A%22flex%20flex-col%20sm%3Aflex-row%20gap-3%22%7D",className:"flex flex-col sm:flex-row gap-3",children:[d.jsxs(we,{"data-component-path":"src\\features\\map\\components\\MapControls.tsx","data-component-name":"Button","data-component-line":"20","data-component-file":"MapControls.tsx","data-component-content":"%7B%7D",variant:"outline",size:"lg",onClick:i,className:bt("flex items-center gap-2 transition-all duration-300",n?"bg-green-50 border-green-200 text-green-700":"hover:bg-green-50"),children:[d.jsx(te,{"data-component-path":"src\\features\\map\\components\\MapControls.tsx","data-component-name":"MapPin","data-component-line":"31","data-component-file":"MapControls.tsx","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D",className:"h-4 w-4"}),d.jsx("span",{"data-component-path":"src\\features\\map\\components\\MapControls.tsx","data-component-name":"span","data-component-line":"32","data-component-file":"MapControls.tsx","data-component-content":"%7B%22text%22%3A%22Punto%20de%20Recogida%22%2C%22className%22%3A%22hidden%20sm%3Ainline%22%7D",className:"hidden sm:inline",children:"Punto de Recogida"})]}),d.jsxs(we,{"data-component-path":"src\\features\\map\\components\\MapControls.tsx","data-component-name":"Button","data-component-line":"35","data-component-file":"MapControls.tsx","data-component-content":"%7B%7D",variant:"outline",size:"lg",onClick:s,className:bt("flex items-center gap-2 transition-all duration-300",o?"bg-blue-50 border-blue-200 text-blue-700":"hover:bg-blue-50"),children:[d.jsx(bo,{"data-component-path":"src\\features\\map\\components\\MapControls.tsx","data-component-name":"Navigation","data-component-line":"46","data-component-file":"MapControls.tsx","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D",className:"h-4 w-4"}),d.jsx("span",{"data-component-path":"src\\features\\map\\components\\MapControls.tsx","data-component-name":"span","data-component-line":"47","data-component-file":"MapControls.tsx","data-component-content":"%7B%22text%22%3A%22Punto%20de%20Entrega%22%2C%22className%22%3A%22hidden%20sm%3Ainline%22%7D",className:"hidden sm:inline",children:"Punto de Entrega"})]})]});var Ao={exports:{}},Pr={};function Cr(n){var o,i,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n))for(o=0;o<n.length;o++)n[o]&&(i=Cr(n[o]))&&(s&&(s+=" "),s+=i);else for(o in n)n[o]&&(s&&(s+=" "),s+=o);return s}function js(){for(var n,o,i=0,s="";i<arguments.length;)(n=arguments[i++])&&(o=Cr(n))&&(s&&(s+=" "),s+=o);return s}const jp=Object.freeze(Object.defineProperty({__proto__:null,clsx:js,default:js},Symbol.toStringTag,{value:"Module"})),Op=Ad(jp);var mt={},ee={};Object.defineProperty(ee,"__esModule",{value:!0});ee.dontSetMe=Vp;ee.findInArray=Rp;ee.int=Zp;ee.isFunction=Fp;ee.isNum=zp;function Rp(n,o){for(let i=0,s=n.length;i<s;i++)if(o.apply(o,[n[i],i,n]))return n[i]}function Fp(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Function]"}function zp(n){return typeof n=="number"&&!isNaN(n)}function Zp(n){return parseInt(n,10)}function Vp(n,o,i){if(n[o])return new Error("Invalid prop ".concat(o," passed to ").concat(i," - do not set this, set it on the child."))}var Ee={};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.browserPrefixToKey=Dr;Ee.browserPrefixToStyle=Hp;Ee.default=void 0;Ee.getPrefix=Tr;const ya=["Moz","Webkit","O","ms"];function Tr(){var n;let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const i=(n=window.document)===null||n===void 0||(n=n.documentElement)===null||n===void 0?void 0:n.style;if(!i||o in i)return"";for(let s=0;s<ya.length;s++)if(Dr(o,ya[s])in i)return ya[s];return""}function Dr(n,o){return o?"".concat(o).concat(Wp(n)):n}function Hp(n,o){return o?"-".concat(o.toLowerCase(),"-").concat(n):n}function Wp(n){let o="",i=!0;for(let s=0;s<n.length;s++)i?(o+=n[s].toUpperCase(),i=!1):n[s]==="-"?i=!0:o+=n[s];return o}Ee.default=Tr();Object.defineProperty(mt,"__esModule",{value:!0});mt.addClassName=Nr;mt.addEvent=Gp;mt.addUserSelectStyles=au;mt.createCSSTransform=tu;mt.createSVGTransform=eu;mt.getTouch=nu;mt.getTouchIdentifier=ou;mt.getTranslation=Ua;mt.innerHeight=Kp;mt.innerWidth=Qp;mt.matchesSelector=Ar;mt.matchesSelectorAndParentsTo=$p;mt.offsetXYFromParent=Jp;mt.outerHeight=Yp;mt.outerWidth=Xp;mt.removeClassName=Lr;mt.removeEvent=qp;mt.removeUserSelectStyles=iu;var Bt=ee,Os=Up(Ee);function Sr(n){if(typeof WeakMap!="function")return null;var o=new WeakMap,i=new WeakMap;return(Sr=function(s){return s?i:o})(n)}function Up(n,o){if(n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var i=Sr(o);if(i&&i.has(n))return i.get(n);var s={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in n)if(m!=="default"&&Object.prototype.hasOwnProperty.call(n,m)){var p=c?Object.getOwnPropertyDescriptor(n,m):null;p&&(p.get||p.set)?Object.defineProperty(s,m,p):s[m]=n[m]}return s.default=n,i&&i.set(n,s),s}let ao="";function Ar(n,o){return ao||(ao=(0,Bt.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(i){return(0,Bt.isFunction)(n[i])})),(0,Bt.isFunction)(n[ao])?n[ao](o):!1}function $p(n,o,i){let s=n;do{if(Ar(s,o))return!0;if(s===i)return!1;s=s.parentNode}while(s);return!1}function Gp(n,o,i,s){if(!n)return;const c={capture:!0,...s};n.addEventListener?n.addEventListener(o,i,c):n.attachEvent?n.attachEvent("on"+o,i):n["on"+o]=i}function qp(n,o,i,s){if(!n)return;const c={capture:!0,...s};n.removeEventListener?n.removeEventListener(o,i,c):n.detachEvent?n.detachEvent("on"+o,i):n["on"+o]=null}function Yp(n){let o=n.clientHeight;const i=n.ownerDocument.defaultView.getComputedStyle(n);return o+=(0,Bt.int)(i.borderTopWidth),o+=(0,Bt.int)(i.borderBottomWidth),o}function Xp(n){let o=n.clientWidth;const i=n.ownerDocument.defaultView.getComputedStyle(n);return o+=(0,Bt.int)(i.borderLeftWidth),o+=(0,Bt.int)(i.borderRightWidth),o}function Kp(n){let o=n.clientHeight;const i=n.ownerDocument.defaultView.getComputedStyle(n);return o-=(0,Bt.int)(i.paddingTop),o-=(0,Bt.int)(i.paddingBottom),o}function Qp(n){let o=n.clientWidth;const i=n.ownerDocument.defaultView.getComputedStyle(n);return o-=(0,Bt.int)(i.paddingLeft),o-=(0,Bt.int)(i.paddingRight),o}function Jp(n,o,i){const c=o===o.ownerDocument.body?{left:0,top:0}:o.getBoundingClientRect(),m=(n.clientX+o.scrollLeft-c.left)/i,p=(n.clientY+o.scrollTop-c.top)/i;return{x:m,y:p}}function tu(n,o){const i=Ua(n,o,"px");return{[(0,Os.browserPrefixToKey)("transform",Os.default)]:i}}function eu(n,o){return Ua(n,o,"")}function Ua(n,o,i){let{x:s,y:c}=n,m="translate(".concat(s).concat(i,",").concat(c).concat(i,")");if(o){const p="".concat(typeof o.x=="string"?o.x:o.x+i),f="".concat(typeof o.y=="string"?o.y:o.y+i);m="translate(".concat(p,", ").concat(f,")")+m}return m}function nu(n,o){return n.targetTouches&&(0,Bt.findInArray)(n.targetTouches,i=>o===i.identifier)||n.changedTouches&&(0,Bt.findInArray)(n.changedTouches,i=>o===i.identifier)}function ou(n){if(n.targetTouches&&n.targetTouches[0])return n.targetTouches[0].identifier;if(n.changedTouches&&n.changedTouches[0])return n.changedTouches[0].identifier}function au(n){if(!n)return;let o=n.getElementById("react-draggable-style-el");o||(o=n.createElement("style"),o.type="text/css",o.id="react-draggable-style-el",o.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,o.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,n.getElementsByTagName("head")[0].appendChild(o)),n.body&&Nr(n.body,"react-draggable-transparent-selection")}function iu(n){if(n)try{if(n.body&&Lr(n.body,"react-draggable-transparent-selection"),n.selection)n.selection.empty();else{const o=(n.defaultView||window).getSelection();o&&o.type!=="Caret"&&o.removeAllRanges()}}catch{}}function Nr(n,o){n.classList?n.classList.add(o):n.className.match(new RegExp("(?:^|\\s)".concat(o,"(?!\\S)")))||(n.className+=" ".concat(o))}function Lr(n,o){n.classList?n.classList.remove(o):n.className=n.className.replace(new RegExp("(?:^|\\s)".concat(o,"(?!\\S)"),"g"),"")}var ne={};Object.defineProperty(ne,"__esModule",{value:!0});ne.canDragX=cu;ne.canDragY=lu;ne.createCoreData=mu;ne.createDraggableData=pu;ne.getBoundPosition=su;ne.getControlPosition=du;ne.snapToGrid=ru;var Lt=ee,Ye=mt;function su(n,o,i){if(!n.props.bounds)return[o,i];let{bounds:s}=n.props;s=typeof s=="string"?s:uu(s);const c=$a(n);if(typeof s=="string"){const{ownerDocument:m}=c,p=m.defaultView;let f;if(s==="parent"?f=c.parentNode:f=m.querySelector(s),!(f instanceof p.HTMLElement))throw new Error('Bounds selector "'+s+'" could not find an element.');const h=f,g=p.getComputedStyle(c),_=p.getComputedStyle(h);s={left:-c.offsetLeft+(0,Lt.int)(_.paddingLeft)+(0,Lt.int)(g.marginLeft),top:-c.offsetTop+(0,Lt.int)(_.paddingTop)+(0,Lt.int)(g.marginTop),right:(0,Ye.innerWidth)(h)-(0,Ye.outerWidth)(c)-c.offsetLeft+(0,Lt.int)(_.paddingRight)-(0,Lt.int)(g.marginRight),bottom:(0,Ye.innerHeight)(h)-(0,Ye.outerHeight)(c)-c.offsetTop+(0,Lt.int)(_.paddingBottom)-(0,Lt.int)(g.marginBottom)}}return(0,Lt.isNum)(s.right)&&(o=Math.min(o,s.right)),(0,Lt.isNum)(s.bottom)&&(i=Math.min(i,s.bottom)),(0,Lt.isNum)(s.left)&&(o=Math.max(o,s.left)),(0,Lt.isNum)(s.top)&&(i=Math.max(i,s.top)),[o,i]}function ru(n,o,i){const s=Math.round(o/n[0])*n[0],c=Math.round(i/n[1])*n[1];return[s,c]}function cu(n){return n.props.axis==="both"||n.props.axis==="x"}function lu(n){return n.props.axis==="both"||n.props.axis==="y"}function du(n,o,i){const s=typeof o=="number"?(0,Ye.getTouch)(n,o):null;if(typeof o=="number"&&!s)return null;const c=$a(i),m=i.props.offsetParent||c.offsetParent||c.ownerDocument.body;return(0,Ye.offsetXYFromParent)(s||n,m,i.props.scale)}function mu(n,o,i){const s=!(0,Lt.isNum)(n.lastX),c=$a(n);return s?{node:c,deltaX:0,deltaY:0,lastX:o,lastY:i,x:o,y:i}:{node:c,deltaX:o-n.lastX,deltaY:i-n.lastY,lastX:n.lastX,lastY:n.lastY,x:o,y:i}}function pu(n,o){const i=n.props.scale;return{node:o.node,x:n.state.x+o.deltaX/i,y:n.state.y+o.deltaY/i,deltaX:o.deltaX/i,deltaY:o.deltaY/i,lastX:n.state.x,lastY:n.state.y}}function uu(n){return{left:n.left,top:n.top,right:n.right,bottom:n.bottom}}function $a(n){const o=n.findDOMNode();if(!o)throw new Error("<DraggableCore>: Unmounted during event!");return o}var No={},Lo={};Object.defineProperty(Lo,"__esModule",{value:!0});Lo.default=hu;function hu(){}Object.defineProperty(No,"__esModule",{value:!0});No.default=void 0;var wa=gu(w),Nt=Ga(nr),fu=Ga(_o),wt=mt,_e=ne,ba=ee,Pn=Ga(Lo);function Ga(n){return n&&n.__esModule?n:{default:n}}function Mr(n){if(typeof WeakMap!="function")return null;var o=new WeakMap,i=new WeakMap;return(Mr=function(s){return s?i:o})(n)}function gu(n,o){if(n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var i=Mr(o);if(i&&i.has(n))return i.get(n);var s={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in n)if(m!=="default"&&Object.prototype.hasOwnProperty.call(n,m)){var p=c?Object.getOwnPropertyDescriptor(n,m):null;p&&(p.get||p.set)?Object.defineProperty(s,m,p):s[m]=n[m]}return s.default=n,i&&i.set(n,s),s}function Tt(n,o,i){return o=xu(o),o in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i,n}function xu(n){var o=_u(n,"string");return typeof o=="symbol"?o:String(o)}function _u(n,o){if(typeof n!="object"||n===null)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var s=i.call(n,o||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(n)}const Vt={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let ve=Vt.mouse,Mo=class extends wa.Component{constructor(){super(...arguments),Tt(this,"dragging",!1),Tt(this,"lastX",NaN),Tt(this,"lastY",NaN),Tt(this,"touchIdentifier",null),Tt(this,"mounted",!1),Tt(this,"handleDragStart",o=>{if(this.props.onMouseDown(o),!this.props.allowAnyClick&&typeof o.button=="number"&&o.button!==0)return!1;const i=this.findDOMNode();if(!i||!i.ownerDocument||!i.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:s}=i;if(this.props.disabled||!(o.target instanceof s.defaultView.Node)||this.props.handle&&!(0,wt.matchesSelectorAndParentsTo)(o.target,this.props.handle,i)||this.props.cancel&&(0,wt.matchesSelectorAndParentsTo)(o.target,this.props.cancel,i))return;o.type==="touchstart"&&o.preventDefault();const c=(0,wt.getTouchIdentifier)(o);this.touchIdentifier=c;const m=(0,_e.getControlPosition)(o,c,this);if(m==null)return;const{x:p,y:f}=m,h=(0,_e.createCoreData)(this,p,f);(0,Pn.default)("DraggableCore: handleDragStart: %j",h),(0,Pn.default)("calling",this.props.onStart),!(this.props.onStart(o,h)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,wt.addUserSelectStyles)(s),this.dragging=!0,this.lastX=p,this.lastY=f,(0,wt.addEvent)(s,ve.move,this.handleDrag),(0,wt.addEvent)(s,ve.stop,this.handleDragStop))}),Tt(this,"handleDrag",o=>{const i=(0,_e.getControlPosition)(o,this.touchIdentifier,this);if(i==null)return;let{x:s,y:c}=i;if(Array.isArray(this.props.grid)){let f=s-this.lastX,h=c-this.lastY;if([f,h]=(0,_e.snapToGrid)(this.props.grid,f,h),!f&&!h)return;s=this.lastX+f,c=this.lastY+h}const m=(0,_e.createCoreData)(this,s,c);if((0,Pn.default)("DraggableCore: handleDrag: %j",m),this.props.onDrag(o,m)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const h=document.createEvent("MouseEvents");h.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(h)}return}this.lastX=s,this.lastY=c}),Tt(this,"handleDragStop",o=>{if(!this.dragging)return;const i=(0,_e.getControlPosition)(o,this.touchIdentifier,this);if(i==null)return;let{x:s,y:c}=i;if(Array.isArray(this.props.grid)){let h=s-this.lastX||0,g=c-this.lastY||0;[h,g]=(0,_e.snapToGrid)(this.props.grid,h,g),s=this.lastX+h,c=this.lastY+g}const m=(0,_e.createCoreData)(this,s,c);if(this.props.onStop(o,m)===!1||this.mounted===!1)return!1;const f=this.findDOMNode();f&&this.props.enableUserSelectHack&&(0,wt.removeUserSelectStyles)(f.ownerDocument),(0,Pn.default)("DraggableCore: handleDragStop: %j",m),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,f&&((0,Pn.default)("DraggableCore: Removing handlers"),(0,wt.removeEvent)(f.ownerDocument,ve.move,this.handleDrag),(0,wt.removeEvent)(f.ownerDocument,ve.stop,this.handleDragStop))}),Tt(this,"onMouseDown",o=>(ve=Vt.mouse,this.handleDragStart(o))),Tt(this,"onMouseUp",o=>(ve=Vt.mouse,this.handleDragStop(o))),Tt(this,"onTouchStart",o=>(ve=Vt.touch,this.handleDragStart(o))),Tt(this,"onTouchEnd",o=>(ve=Vt.touch,this.handleDragStop(o)))}componentDidMount(){this.mounted=!0;const o=this.findDOMNode();o&&(0,wt.addEvent)(o,Vt.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const o=this.findDOMNode();if(o){const{ownerDocument:i}=o;(0,wt.removeEvent)(i,Vt.mouse.move,this.handleDrag),(0,wt.removeEvent)(i,Vt.touch.move,this.handleDrag),(0,wt.removeEvent)(i,Vt.mouse.stop,this.handleDragStop),(0,wt.removeEvent)(i,Vt.touch.stop,this.handleDragStop),(0,wt.removeEvent)(o,Vt.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,wt.removeUserSelectStyles)(i)}}findDOMNode(){var o,i;return(o=this.props)!==null&&o!==void 0&&o.nodeRef?(i=this.props)===null||i===void 0||(i=i.nodeRef)===null||i===void 0?void 0:i.current:fu.default.findDOMNode(this)}render(){return wa.cloneElement(wa.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};No.default=Mo;Tt(Mo,"displayName","DraggableCore");Tt(Mo,"propTypes",{allowAnyClick:Nt.default.bool,children:Nt.default.node.isRequired,disabled:Nt.default.bool,enableUserSelectHack:Nt.default.bool,offsetParent:function(n,o){if(n[o]&&n[o].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Nt.default.arrayOf(Nt.default.number),handle:Nt.default.string,cancel:Nt.default.string,nodeRef:Nt.default.object,onStart:Nt.default.func,onDrag:Nt.default.func,onStop:Nt.default.func,onMouseDown:Nt.default.func,scale:Nt.default.number,className:ba.dontSetMe,style:ba.dontSetMe,transform:ba.dontSetMe});Tt(Mo,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"DraggableCore",{enumerable:!0,get:function(){return h.default}}),n.default=void 0;var o=y(w),i=_(nr),s=_(_o),c=_(Op),m=mt,p=ne,f=ee,h=_(No),g=_(Lo);function _(S){return S&&S.__esModule?S:{default:S}}function v(S){if(typeof WeakMap!="function")return null;var N=new WeakMap,M=new WeakMap;return(v=function(E){return E?M:N})(S)}function y(S,N){if(S&&S.__esModule)return S;if(S===null||typeof S!="object"&&typeof S!="function")return{default:S};var M=v(N);if(M&&M.has(S))return M.get(S);var E={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var j in S)if(j!=="default"&&Object.prototype.hasOwnProperty.call(S,j)){var W=R?Object.getOwnPropertyDescriptor(S,j):null;W&&(W.get||W.set)?Object.defineProperty(E,j,W):E[j]=S[j]}return E.default=S,M&&M.set(S,E),E}function b(){return b=Object.assign?Object.assign.bind():function(S){for(var N=1;N<arguments.length;N++){var M=arguments[N];for(var E in M)Object.prototype.hasOwnProperty.call(M,E)&&(S[E]=M[E])}return S},b.apply(this,arguments)}function T(S,N,M){return N=P(N),N in S?Object.defineProperty(S,N,{value:M,enumerable:!0,configurable:!0,writable:!0}):S[N]=M,S}function P(S){var N=A(S,"string");return typeof N=="symbol"?N:String(N)}function A(S,N){if(typeof S!="object"||S===null)return S;var M=S[Symbol.toPrimitive];if(M!==void 0){var E=M.call(S,N||"default");if(typeof E!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return(N==="string"?String:Number)(S)}class k extends o.Component{static getDerivedStateFromProps(N,M){let{position:E}=N,{prevPropsPosition:R}=M;return E&&(!R||E.x!==R.x||E.y!==R.y)?((0,g.default)("Draggable: getDerivedStateFromProps %j",{position:E,prevPropsPosition:R}),{x:E.x,y:E.y,prevPropsPosition:{...E}}):null}constructor(N){super(N),T(this,"onDragStart",(M,E)=>{if((0,g.default)("Draggable: onDragStart: %j",E),this.props.onStart(M,(0,p.createDraggableData)(this,E))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),T(this,"onDrag",(M,E)=>{if(!this.state.dragging)return!1;(0,g.default)("Draggable: onDrag: %j",E);const R=(0,p.createDraggableData)(this,E),j={x:R.x,y:R.y,slackX:0,slackY:0};if(this.props.bounds){const{x:et,y:U}=j;j.x+=this.state.slackX,j.y+=this.state.slackY;const[G,tt]=(0,p.getBoundPosition)(this,j.x,j.y);j.x=G,j.y=tt,j.slackX=this.state.slackX+(et-j.x),j.slackY=this.state.slackY+(U-j.y),R.x=j.x,R.y=j.y,R.deltaX=j.x-this.state.x,R.deltaY=j.y-this.state.y}if(this.props.onDrag(M,R)===!1)return!1;this.setState(j)}),T(this,"onDragStop",(M,E)=>{if(!this.state.dragging||this.props.onStop(M,(0,p.createDraggableData)(this,E))===!1)return!1;(0,g.default)("Draggable: onDragStop: %j",E);const j={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:et,y:U}=this.props.position;j.x=et,j.y=U}this.setState(j)}),this.state={dragging:!1,dragged:!1,x:N.position?N.position.x:N.defaultPosition.x,y:N.position?N.position.y:N.defaultPosition.y,prevPropsPosition:{...N.position},slackX:0,slackY:0,isElementSVG:!1},N.position&&!(N.onDrag||N.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var N,M;return(N=(M=this.props)===null||M===void 0||(M=M.nodeRef)===null||M===void 0?void 0:M.current)!==null&&N!==void 0?N:s.default.findDOMNode(this)}render(){const{axis:N,bounds:M,children:E,defaultPosition:R,defaultClassName:j,defaultClassNameDragging:W,defaultClassNameDragged:et,position:U,positionOffset:G,scale:tt,...rt}=this.props;let Y={},xt=null;const it=!!!U||this.state.dragging,I=U||R,lt={x:(0,p.canDragX)(this)&&it?this.state.x:I.x,y:(0,p.canDragY)(this)&&it?this.state.y:I.y};this.state.isElementSVG?xt=(0,m.createSVGTransform)(lt,G):Y=(0,m.createCSSTransform)(lt,G);const F=(0,c.default)(E.props.className||"",j,{[W]:this.state.dragging,[et]:this.state.dragged});return o.createElement(h.default,b({},rt,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),o.cloneElement(o.Children.only(E),{className:F,style:{...E.props.style,...Y},transform:xt}))}}n.default=k,T(k,"displayName","Draggable"),T(k,"propTypes",{...h.default.propTypes,axis:i.default.oneOf(["both","x","y","none"]),bounds:i.default.oneOfType([i.default.shape({left:i.default.number,right:i.default.number,top:i.default.number,bottom:i.default.number}),i.default.string,i.default.oneOf([!1])]),defaultClassName:i.default.string,defaultClassNameDragging:i.default.string,defaultClassNameDragged:i.default.string,defaultPosition:i.default.shape({x:i.default.number,y:i.default.number}),positionOffset:i.default.shape({x:i.default.oneOfType([i.default.number,i.default.string]),y:i.default.oneOfType([i.default.number,i.default.string])}),position:i.default.shape({x:i.default.number,y:i.default.number}),className:f.dontSetMe,style:f.dontSetMe,transform:f.dontSetMe}),T(k,"defaultProps",{...h.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(Pr);const{default:Br,DraggableCore:vu}=Pr;Ao.exports=Br;Ao.exports.default=Br;Ao.exports.DraggableCore=vu;var yu=Ao.exports;const wu=tr(yu),bu=({pickupLocation:n,dropLocation:o,pickupAddress:i,dropAddress:s,isLoading:c=!1})=>{const m=w.useRef(null);return!n&&!o?null:d.jsx(wu,{"data-component-path":"src\\features\\map\\components\\RouteStreetInfo.tsx","data-component-name":"Draggable","data-component-line":"26","data-component-file":"RouteStreetInfo.tsx","data-component-content":"%7B%7D",handle:".drag-handle",bounds:"parent",nodeRef:m,children:d.jsx("div",{"data-component-path":"src\\features\\map\\components\\RouteStreetInfo.tsx","data-component-name":"div","data-component-line":"27","data-component-file":"RouteStreetInfo.tsx","data-component-content":"%7B%22className%22%3A%22absolute%20z-%5B1000%5D%20max-w-md%22%7D",ref:m,className:"absolute z-[1000] max-w-md",children:d.jsxs(Ht,{"data-component-path":"src\\features\\map\\components\\RouteStreetInfo.tsx","data-component-name":"Card","data-component-line":"28","data-component-file":"RouteStreetInfo.tsx","data-component-content":"%7B%22className%22%3A%22p-4%20space-y-3%20bg-white%2F90%20backdrop-blur-xl%20shadow-xl%20transition-all%20duration-300%20hover%3Ashadow-2xl%20border-2%20border-primary%2F20%20hover%3Aborder-primary%2F30%20ring-4%20ring-primary%2F5%22%7D",className:"p-4 space-y-3 bg-white/90 backdrop-blur-xl shadow-xl transition-all duration-300 hover:shadow-2xl border-2 border-primary/20 hover:border-primary/30 ring-4 ring-primary/5",children:[d.jsxs("div",{"data-component-path":"src\\features\\map\\components\\RouteStreetInfo.tsx","data-component-name":"div","data-component-line":"29","data-component-file":"RouteStreetInfo.tsx","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20border-b%20pb-2%20mb-2%20drag-handle%20cursor-move%20bg-primary%2F5%20rounded-lg%20p-2%22%7D",className:"flex items-center justify-between border-b pb-2 mb-2 drag-handle cursor-move bg-primary/5 rounded-lg p-2",children:[d.jsx("div",{"data-component-path":"src\\features\\map\\components\\RouteStreetInfo.tsx","data-component-name":"div","data-component-line":"30","data-component-file":"RouteStreetInfo.tsx","data-component-content":"%7B%22text%22%3A%22Detalles%20de%20Ubicaci%C3%B3n%22%2C%22className%22%3A%22font-semibold%20text-sm%20text-primary%2F90%20drop-shadow-sm%22%7D",className:"font-semibold text-sm text-primary/90 drop-shadow-sm",children:"Detalles de Ubicación"}),c&&d.jsx(wo,{"data-component-path":"src\\features\\map\\components\\RouteStreetInfo.tsx","data-component-name":"Loader2","data-component-line":"34","data-component-file":"RouteStreetInfo.tsx","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20animate-spin%20text-primary%22%7D",className:"w-4 h-4 animate-spin text-primary"})]}),n&&d.jsxs("div",{"data-component-path":"src\\features\\map\\components\\RouteStreetInfo.tsx","data-component-name":"div","data-component-line":"39","data-component-file":"RouteStreetInfo.tsx","data-component-content":"%7B%22className%22%3A%22flex%20items-start%20gap-2%20bg-green-50%2F50%20p-3%20rounded-lg%22%7D",className:"flex items-start gap-2 bg-green-50/50 p-3 rounded-lg",children:[d.jsx(te,{"data-component-path":"src\\features\\map\\components\\RouteStreetInfo.tsx","data-component-name":"MapPin","data-component-line":"40","data-component-file":"RouteStreetInfo.tsx","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20mt-1%20text-green-500%20flex-shrink-0%20drop-shadow%22%7D",className:"w-5 h-5 mt-1 text-green-500 flex-shrink-0 drop-shadow"}),d.jsxs("div",{"data-component-path":"src\\features\\map\\components\\RouteStreetInfo.tsx","data-component-name":"div","data-component-line":"41","data-component-file":"RouteStreetInfo.tsx","data-component-content":"%7B%22className%22%3A%22flex-1%22%7D",className:"flex-1",children:[d.jsx("div",{"data-component-path":"src\\features\\map\\components\\RouteStreetInfo.tsx","data-component-name":"div","data-component-line":"42","data-component-file":"RouteStreetInfo.tsx","data-component-content":"%7B%22text%22%3A%22Punto%20de%20Recogida%22%2C%22className%22%3A%22font-semibold%20text-sm%20text-green-700%20drop-shadow-sm%22%7D",className:"font-semibold text-sm text-green-700 drop-shadow-sm",children:"Punto de Recogida"}),d.jsx("div",{"data-component-path":"src\\features\\map\\components\\RouteStreetInfo.tsx","data-component-name":"div","data-component-line":"43","data-component-file":"RouteStreetInfo.tsx","data-component-content":"%7B%22className%22%3A%22text-sm%20text-gray-600%20break-words%20bg-white%2F50%20p-2%20rounded-md%22%7D",className:"text-sm text-gray-600 break-words bg-white/50 p-2 rounded-md",children:i||"Cargando dirección..."}),d.jsxs("div",{"data-component-path":"src\\features\\map\\components\\RouteStreetInfo.tsx","data-component-name":"div","data-component-line":"46","data-component-file":"RouteStreetInfo.tsx","data-component-content":"%7B%22text%22%3A%22Coordenadas%3A%20%2C%22%2C%22className%22%3A%22text-xs%20text-gray-500%20mt-1%22%7D",className:"text-xs text-gray-500 mt-1",children:["Coordenadas: ",n.lat.toFixed(6),","," ",n.lng.toFixed(6)]})]})]}),o&&d.jsxs("div",{"data-component-path":"src\\features\\map\\components\\RouteStreetInfo.tsx","data-component-name":"div","data-component-line":"55","data-component-file":"RouteStreetInfo.tsx","data-component-content":"%7B%22className%22%3A%22flex%20items-start%20gap-2%20bg-blue-50%2F50%20p-3%20rounded-lg%22%7D",className:"flex items-start gap-2 bg-blue-50/50 p-3 rounded-lg",children:[d.jsx(bo,{"data-component-path":"src\\features\\map\\components\\RouteStreetInfo.tsx","data-component-name":"Navigation","data-component-line":"56","data-component-file":"RouteStreetInfo.tsx","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20mt-1%20text-blue-500%20flex-shrink-0%20drop-shadow%22%7D",className:"w-5 h-5 mt-1 text-blue-500 flex-shrink-0 drop-shadow"}),d.jsxs("div",{"data-component-path":"src\\features\\map\\components\\RouteStreetInfo.tsx","data-component-name":"div","data-component-line":"57","data-component-file":"RouteStreetInfo.tsx","data-component-content":"%7B%22className%22%3A%22flex-1%22%7D",className:"flex-1",children:[d.jsx("div",{"data-component-path":"src\\features\\map\\components\\RouteStreetInfo.tsx","data-component-name":"div","data-component-line":"58","data-component-file":"RouteStreetInfo.tsx","data-component-content":"%7B%22text%22%3A%22Punto%20de%20Entrega%22%2C%22className%22%3A%22font-semibold%20text-sm%20text-blue-700%20drop-shadow-sm%22%7D",className:"font-semibold text-sm text-blue-700 drop-shadow-sm",children:"Punto de Entrega"}),d.jsx("div",{"data-component-path":"src\\features\\map\\components\\RouteStreetInfo.tsx","data-component-name":"div","data-component-line":"59","data-component-file":"RouteStreetInfo.tsx","data-component-content":"%7B%22className%22%3A%22text-sm%20text-gray-600%20break-words%20bg-white%2F50%20p-2%20rounded-md%22%7D",className:"text-sm text-gray-600 break-words bg-white/50 p-2 rounded-md",children:s||"Cargando dirección..."}),d.jsxs("div",{"data-component-path":"src\\features\\map\\components\\RouteStreetInfo.tsx","data-component-name":"div","data-component-line":"62","data-component-file":"RouteStreetInfo.tsx","data-component-content":"%7B%22text%22%3A%22Coordenadas%3A%20%2C%22%2C%22className%22%3A%22text-xs%20text-gray-500%20mt-1%22%7D",className:"text-xs text-gray-500 mt-1",children:["Coordenadas: ",o.lat.toFixed(6),","," ",o.lng.toFixed(6)]})]})]})]})})})},Pu=3e3,Rs={},Cu=()=>{const{toast:n}=St(),o=m=>{const p=Date.now(),f=Rs[m]||0;return p-f>Pu?(Rs[m]=p,!0):!1};return{showLocationSelectionNotification:m=>{o(`location_${m}`)&&n({title:m==="pickup"?"Seleccionando punto de recogida":"Seleccionando punto de entrega",description:`Haz clic en el mapa para seleccionar el punto de ${m==="pickup"?"recogida":"entrega"}`,className:m==="pickup"?"bg-green-50 border-green-200":"bg-blue-50 border-blue-200"})},showRouteCalculationError:m=>{o("route_error")&&n({title:"Error al calcular la ruta",description:m,variant:"destructive"})},showLocationUpdateSuccess:(m,p)=>{o(`location_update_${m}`)&&n({title:`${m==="pickup"?"Punto de recogida":"Punto de entrega"} actualizado`,description:p,className:m==="pickup"?"bg-green-50 border-green-200":"bg-blue-50 border-blue-200"})}}},Tu=({selectingPickup:n,selectingDrop:o,setSelectingPickup:i,setSelectingDrop:s,pickupLocation:c,dropLocation:m,pickupAddress:p,dropAddress:f,isLoading:h=!1})=>{St();const{showLocationSelectionNotification:g}=Cu(),_=()=>{i(!0),s(!1),g("pickup")},v=()=>{s(!0),i(!1),g("drop")};return d.jsxs("div",{"data-component-path":"src\\features\\map\\components\\MapControlPanel.tsx","data-component-name":"div","data-component-line":"49","data-component-file":"MapControlPanel.tsx","data-component-content":"%7B%22className%22%3A%22fixed%20top-16%20left-1%2F2%20transform%20-translate-x-1%2F2%20z-50%20w-full%20max-w-2xl%20px-3%20sm%3Apx-4%22%7D",className:"fixed top-16 left-1/2 transform -translate-x-1/2 z-50 w-full max-w-2xl px-3 sm:px-4",children:[d.jsx(Q.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"w-full",children:d.jsxs(Ht,{"data-component-path":"src\\features\\map\\components\\MapControlPanel.tsx","data-component-name":"Card","data-component-line":"56","data-component-file":"MapControlPanel.tsx","data-component-content":"%7B%22className%22%3A%22relative%20w-full%20bg-white%2F90%20backdrop-blur-xl%20shadow-lg%20rounded-lg%20p-4%20border-2%20border-primary%2F20%20hover%3Aborder-primary%2F30%20transition-all%20duration-300%20ring-4%20ring-primary%2F5%22%7D",className:"relative w-full bg-white/90 backdrop-blur-xl shadow-lg rounded-lg p-4 border-2 border-primary/20 hover:border-primary/30 transition-all duration-300 ring-4 ring-primary/5",children:[h&&d.jsx(Q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-white/70 backdrop-blur-sm flex items-center justify-center z-50 rounded-lg",children:d.jsx(wo,{"data-component-path":"src\\features\\map\\components\\MapControlPanel.tsx","data-component-name":"Loader2","data-component-line":"64","data-component-file":"MapControlPanel.tsx","data-component-content":"%7B%22className%22%3A%22w-6%20h-6%20animate-spin%20text-primary%22%7D",className:"w-6 h-6 animate-spin text-primary"})}),d.jsx(Ip,{"data-component-path":"src\\features\\map\\components\\MapControlPanel.tsx","data-component-name":"MapControls","data-component-line":"67","data-component-file":"MapControlPanel.tsx","data-component-content":"%7B%7D",selectingPickup:n,selectingDrop:o,onPickupClick:_,onDropClick:v})]})}),d.jsx(ye,{"data-component-path":"src\\features\\map\\components\\MapControlPanel.tsx","data-component-name":"AnimatePresence","data-component-line":"76","data-component-file":"MapControlPanel.tsx","data-component-content":"%7B%7D",children:(c||m)&&d.jsx(Q.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"mt-3 w-full",children:d.jsx(bu,{"data-component-path":"src\\features\\map\\components\\MapControlPanel.tsx","data-component-name":"RouteStreetInfo","data-component-line":"85","data-component-file":"MapControlPanel.tsx","data-component-content":"%7B%7D",pickupLocation:c,dropLocation:m,pickupAddress:p,dropAddress:f,isLoading:h})})})]})},Du=[{name:"Monterrey - Nuevo Laredo",location:"Monterrey - Nuevo Laredo",lat:25.8941,lng:-100.1824,cost:418,description:"Cuota principal hacia Nuevo Laredo",type:"highway",operatingHours:"24/7",acceptedPayments:["cash","card","tag"],vehicleTypes:["car","truck","motorcycle"],lastUpdated:"2024-03-20",status:"active",route:"Monterrey - Nuevo Laredo",distance:123.1},{name:"Agualeguas",location:"Agualeguas",lat:26.3167,lng:-99.5333,cost:171,description:"Caseta Agualeguas",type:"highway",operatingHours:"24/7",acceptedPayments:["cash","card","tag"],vehicleTypes:["car","truck","motorcycle"],lastUpdated:"2024-03-20",status:"active",kilometer:"79+600",route:"Monterrey - Agualeguas",distance:56.9}],Su=[{name:"Monterrey - La Gloria",location:"Monterrey - La Gloria",lat:25.7833,lng:-100.5667,cost:418,description:"Peaje entre Monterrey y La Gloria",type:"highway",operatingHours:"24/7",acceptedPayments:["cash","card","tag"],vehicleTypes:["car","truck","motorcycle"],lastUpdated:"2024-03-20",status:"active",kilometer:"100+000",route:"Monterrey - La Gloria",distance:45.8},{name:"Monterrey - Sabinas",location:"Monterrey - Sabinas",lat:25.4506,lng:-100.9447,cost:231,description:"Peaje entre Monterrey y Sabinas",type:"highway",operatingHours:"24/7",acceptedPayments:["cash","card","tag"],vehicleTypes:["car","truck","motorcycle"],lastUpdated:"2024-03-20",status:"active",kilometer:"99+300",route:"Monterrey - Sabinas",distance:77.3}],Au=[{name:"Zacatecas - Monclova",location:"Zacatecas - Monclova",lat:23.9999,lng:-102,cost:133,description:"Peaje entre Zacatecas y Monclova",type:"highway",operatingHours:"24/7",acceptedPayments:["cash","card","tag"],vehicleTypes:["car","truck","motorcycle"],lastUpdated:"2024-03-20",status:"active"},{name:"Zacatecas - Torreón",location:"Zacatecas - Torreón",lat:25.8667,lng:-100.7833,cost:91,description:"Peaje entre Zacatecas y Torreón",type:"highway",operatingHours:"24/7",acceptedPayments:["cash","card","tag"],vehicleTypes:["car","truck","motorcycle"],lastUpdated:"2024-03-20",status:"active"}],Nu=[{name:"Monclova - Ojo Caliente 1",location:"Monclova - Ojo Caliente 1",lat:25.8667,lng:-100.7833,cost:57,description:"Peaje entre Monclova y Ojo Caliente 1",type:"highway",operatingHours:"24/7",acceptedPayments:["cash","card","tag"],vehicleTypes:["car","truck","motorcycle"],lastUpdated:"2024-03-20",status:"active"},{name:"Monclova - Ojo Caliente 2",location:"Monclova - Ojo Caliente 2",lat:25.8667,lng:-100.7833,cost:102,description:"Peaje entre Monclova y Ojo Caliente 2",type:"highway",operatingHours:"24/7",acceptedPayments:["cash","card","tag"],vehicleTypes:["car","truck","motorcycle"],lastUpdated:"2024-03-20",status:"active"}],Lu=[{name:"Monterrey - Cadereyta",location:"Monterrey - Cadereyta",lat:25.5833,lng:-100.0167,cost:89,description:"Cuota principal hacia Cadereyta",type:"highway",operatingHours:"24/7",acceptedPayments:["cash","card","tag"],vehicleTypes:["car","truck","motorcycle"],lastUpdated:"2024-03-20",status:"active",route:"Monterrey - Cadereyta",distance:36.5},{name:"Monterrey - Colombia",location:"Monterrey - Colombia",lat:25.8941,lng:-100.1824,cost:156,description:"Cuota hacia Puente Colombia",type:"highway",operatingHours:"24/7",acceptedPayments:["cash","card","tag"],vehicleTypes:["car","truck","motorcycle"],lastUpdated:"2024-03-20",status:"active",route:"Monterrey - Colombia",distance:72.3},{name:"Monterrey - Linares",location:"Monterrey - Linares",lat:24.8667,lng:-99.5667,cost:245,description:"Cuota hacia Linares",type:"highway",operatingHours:"24/7",acceptedPayments:["cash","card","tag"],vehicleTypes:["car","truck","motorcycle"],lastUpdated:"2024-03-20",status:"active",route:"Monterrey - Linares",distance:135}],Mu=[...Du,...Su,...Au,...Nu,...Lu],so=(n,o)=>{const s=(o.lat-n.lat)*Math.PI/180,c=(o.lng-n.lng)*Math.PI/180,m=Math.sin(s/2)*Math.sin(s/2)+Math.cos(n.lat*Math.PI/180)*Math.cos(o.lat*Math.PI/180)*Math.sin(c/2)*Math.sin(c/2);return 6371*(2*Math.atan2(Math.sqrt(m),Math.sqrt(1-m)))},Fs=2,Bu=.5,ku=async(n,o)=>{try{const i=await Eu(n,o),s=Iu(i),c=zs(n,o,s,"outbound"),m=zs(o,le,s,"return"),p=[...c,...m],f=Pa(p);return{tolls:p,totalTollCost:f,routeDetails:i,outboundTollCost:Pa(c),returnTollCost:Pa(m)}}catch(i){return console.warn("Error detecting tolls:",i),{tolls:[],totalTollCost:0,routeDetails:null,outboundTollCost:0,returnTollCost:0}}},Eu=async(n,o)=>{await Ke(le,n);const i=await Ke(n,o),s=await Ke(o,le);return{outbound:i,return:s}},Iu=n=>{var i,s;const o=[];return(i=n.outbound)!=null&&i.geometry&&o.push(...Zs(n.outbound.geometry)),(s=n.return)!=null&&s.geometry&&o.push(...Zs(n.return.geometry)),o},zs=(n,o,i,s)=>Mu.filter(c=>{const m=so(n,c)<=Fs,p=so(o,c)<=Fs,f=i.some(h=>so({lat:h[0],lng:h[1]},c)<=Bu);return m||p||f}).map(c=>({...c,direction:s})),Pa=n=>n.reduce((o,i)=>o+i.cost,0),Zs=(n,o=5)=>{let i=0,s=0,c=0,m=[];const p=Math.pow(10,o);for(;i<n.length;){let f=0,h=0,g;do g=n.charCodeAt(i++)-63,f|=(g&31)<<h,h+=5;while(g>=32);const _=f&1?~(f>>1):f>>1;f=0,h=0;do g=n.charCodeAt(i++)-63,f|=(g&31)<<h,h+=5;while(g>=32);const v=f&1?~(f>>1):f>>1;s+=_,c+=v,m.push([s/p,c/p])}return m},ju=({title:n,children:o,position:i="left",className:s=""})=>{const c={left:"left-4",right:"right-4"};return d.jsxs("div",{"data-component-path":"src\\components\\form\\FloatingPanel.tsx","data-component-name":"div","data-component-line":"22","data-component-file":"FloatingPanel.tsx","data-component-content":"%7B%7D",className:`fixed ${c[i]} bottom-4 p-4 rounded-lg ${s}`,children:[d.jsx("div",{"data-component-path":"src\\components\\form\\FloatingPanel.tsx","data-component-name":"div","data-component-line":"25","data-component-file":"FloatingPanel.tsx","data-component-content":"%7B%22className%22%3A%22font-semibold%20mb-4%22%7D",className:"font-semibold mb-4",children:n}),o]})},Ca=n=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN",minimumFractionDigits:2,maximumFractionDigits:2}).format(n),Ou=w.createContext(null),Ru=()=>{const n=w.useContext(Ou);if(n===null)throw new Error("useTowing must be used within a TowingProvider");return n},Fu=({subtotal:n,tax:o,requiresInvoice:i,finalTotal:s})=>d.jsxs("div",{"data-component-path":"src\\components\\payment\\PaymentAmount.tsx","data-component-name":"div","data-component-line":"12","data-component-file":"PaymentAmount.tsx","data-component-content":"%7B%22className%22%3A%22space-y-2%22%7D",className:"space-y-2",children:[d.jsxs("div",{"data-component-path":"src\\components\\payment\\PaymentAmount.tsx","data-component-name":"div","data-component-line":"13","data-component-file":"PaymentAmount.tsx","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20items-center%20text-sm%22%7D",className:"flex justify-between items-center text-sm",children:[d.jsx("span",{"data-component-path":"src\\components\\payment\\PaymentAmount.tsx","data-component-name":"span","data-component-line":"14","data-component-file":"PaymentAmount.tsx","data-component-content":"%7B%22text%22%3A%22Subtotal%3A%22%7D",children:"Subtotal:"}),d.jsx("span",{"data-component-path":"src\\components\\payment\\PaymentAmount.tsx","data-component-name":"span","data-component-line":"15","data-component-file":"PaymentAmount.tsx","data-component-content":"%7B%7D",children:Qe(n)})]}),i&&d.jsxs("div",{"data-component-path":"src\\components\\payment\\PaymentAmount.tsx","data-component-name":"div","data-component-line":"18","data-component-file":"PaymentAmount.tsx","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20items-center%20text-sm%20text-gray-600%22%7D",className:"flex justify-between items-center text-sm text-gray-600",children:[d.jsx("span",{"data-component-path":"src\\components\\payment\\PaymentAmount.tsx","data-component-name":"span","data-component-line":"19","data-component-file":"PaymentAmount.tsx","data-component-content":"%7B%22text%22%3A%22IVA%20(16%25)%3A%22%7D",children:"IVA (16%):"}),d.jsx("span",{"data-component-path":"src\\components\\payment\\PaymentAmount.tsx","data-component-name":"span","data-component-line":"20","data-component-file":"PaymentAmount.tsx","data-component-content":"%7B%7D",children:Qe(o)})]}),d.jsxs("div",{"data-component-path":"src\\components\\payment\\PaymentAmount.tsx","data-component-name":"div","data-component-line":"23","data-component-file":"PaymentAmount.tsx","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20items-center%20text-lg%20font-bold%20pt-2%20border-t%22%7D",className:"flex justify-between items-center text-lg font-bold pt-2 border-t",children:[d.jsx("span",{"data-component-path":"src\\components\\payment\\PaymentAmount.tsx","data-component-name":"span","data-component-line":"24","data-component-file":"PaymentAmount.tsx","data-component-content":"%7B%22text%22%3A%22Total%20a%20Pagar%3A%22%7D",children:"Total a Pagar:"}),d.jsx("span",{"data-component-path":"src\\components\\payment\\PaymentAmount.tsx","data-component-name":"span","data-component-line":"25","data-component-file":"PaymentAmount.tsx","data-component-content":"%7B%22className%22%3A%22text-primary%22%7D",className:"text-primary",children:Qe(s)})]})]}),zu=({subtotal:n,tax:o,requiresInvoice:i,onCardChange:s,finalTotal:c,requestId:m=""})=>{const[p,f]=w.useState(!1);return d.jsxs("div",{"data-component-path":"src\\components\\payment\\PaymentForm.tsx","data-component-name":"div","data-component-line":"26","data-component-file":"PaymentForm.tsx","data-component-content":"%7B%22className%22%3A%22space-y-6%22%7D",className:"space-y-6",children:[d.jsx(Fu,{"data-component-path":"src\\components\\payment\\PaymentForm.tsx","data-component-name":"PaymentAmount","data-component-line":"27","data-component-file":"PaymentForm.tsx","data-component-content":"%7B%7D",subtotal:n,tax:o,requiresInvoice:i,finalTotal:c}),d.jsx("div",{"data-component-path":"src\\components\\payment\\PaymentForm.tsx","data-component-name":"div","data-component-line":"34","data-component-file":"PaymentForm.tsx","data-component-content":"%7B%22className%22%3A%22p-4%20border%20rounded-lg%22%7D",className:"p-4 border rounded-lg",children:d.jsx(kd,{"data-component-path":"src\\components\\payment\\PaymentForm.tsx","data-component-name":"CardElement","data-component-line":"35","data-component-file":"PaymentForm.tsx","data-component-content":"%7B%7D",onChange:h=>s(h.complete),options:{style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}}})}),d.jsx(we,{"data-component-path":"src\\components\\payment\\PaymentForm.tsx","data-component-name":"Button","data-component-line":"54","data-component-file":"PaymentForm.tsx","data-component-content":"%7B%22className%22%3A%22w-full%22%7D",type:"submit",disabled:p,className:"w-full",children:p?"Procesando...":`Pagar ${c.toLocaleString("es-MX",{style:"currency",currency:"MXN"})}`})]})},Zu=({isOpen:n,onClose:o,subtotal:i,tax:s,requiresInvoice:c,onPaymentSubmit:m,finalTotal:p})=>{const[f,h]=w.useState(!1),[g,_]=w.useState(!1),v=async y=>{y.preventDefault(),_(!0);try{await m()}finally{_(!1)}};return d.jsx(Ed,{"data-component-path":"src\\components\\payment\\PaymentWindow.tsx","data-component-name":"Dialog","data-component-line":"42","data-component-file":"PaymentWindow.tsx","data-component-content":"%7B%7D",open:n,onOpenChange:o,children:d.jsxs(Id,{"data-component-path":"src\\components\\payment\\PaymentWindow.tsx","data-component-name":"DialogContent","data-component-line":"43","data-component-file":"PaymentWindow.tsx","data-component-content":"%7B%22className%22%3A%22sm%3Amax-w-%5B600px%5D%22%7D",className:"sm:max-w-[600px]",children:[d.jsx(jd,{"data-component-path":"src\\components\\payment\\PaymentWindow.tsx","data-component-name":"DialogHeader","data-component-line":"44","data-component-file":"PaymentWindow.tsx","data-component-content":"%7B%7D",children:d.jsxs(Od,{"data-component-path":"src\\components\\payment\\PaymentWindow.tsx","data-component-name":"DialogTitle","data-component-line":"45","data-component-file":"PaymentWindow.tsx","data-component-content":"%7B%22text%22%3A%22Pago%20Seguro%22%2C%22className%22%3A%22flex%20items-center%20gap-2%20text-xl%22%7D",className:"flex items-center gap-2 text-xl",children:[d.jsx(cm,{"data-component-path":"src\\components\\payment\\PaymentWindow.tsx","data-component-name":"Lock","data-component-line":"46","data-component-file":"PaymentWindow.tsx","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-primary%22%7D",className:"w-5 h-5 text-primary"}),"Pago Seguro"]})}),d.jsxs("div",{"data-component-path":"src\\components\\payment\\PaymentWindow.tsx","data-component-name":"div","data-component-line":"51","data-component-file":"PaymentWindow.tsx","data-component-content":"%7B%22className%22%3A%22mt-4%22%7D",className:"mt-4",children:[d.jsxs("div",{"data-component-path":"src\\components\\payment\\PaymentWindow.tsx","data-component-name":"div","data-component-line":"52","data-component-file":"PaymentWindow.tsx","data-component-content":"%7B%22className%22%3A%22bg-green-50%20border%20border-green-100%20rounded-lg%20p-3%20mb-6%22%7D",className:"bg-green-50 border border-green-100 rounded-lg p-3 mb-6",children:[d.jsxs("div",{"data-component-path":"src\\components\\payment\\PaymentWindow.tsx","data-component-name":"div","data-component-line":"53","data-component-file":"PaymentWindow.tsx","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%20text-green-700%22%7D",className:"flex items-center gap-2 text-green-700",children:[d.jsx(lm,{"data-component-path":"src\\components\\payment\\PaymentWindow.tsx","data-component-name":"ShieldCheck","data-component-line":"54","data-component-file":"PaymentWindow.tsx","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%22%7D",className:"w-5 h-5"}),d.jsx("span",{"data-component-path":"src\\components\\payment\\PaymentWindow.tsx","data-component-name":"span","data-component-line":"55","data-component-file":"PaymentWindow.tsx","data-component-content":"%7B%22text%22%3A%22Encriptaci%C3%B3n%20SSL%20Segura%22%2C%22className%22%3A%22text-sm%20font-medium%22%7D",className:"text-sm font-medium",children:"Encriptación SSL Segura"})]}),d.jsx("p",{"data-component-path":"src\\components\\payment\\PaymentWindow.tsx","data-component-name":"p","data-component-line":"59","data-component-file":"PaymentWindow.tsx","data-component-content":"%7B%22text%22%3A%22Tus%20datos%20de%20pago%20est%C3%A1n%20protegidos%22%2C%22className%22%3A%22text-xs%20text-green-600%20mt-1%22%7D",className:"text-xs text-green-600 mt-1",children:"Tus datos de pago están protegidos"})]}),d.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[d.jsx("div",{"data-component-path":"src\\components\\payment\\PaymentWindow.tsx","data-component-name":"div","data-component-line":"69","data-component-file":"PaymentWindow.tsx","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20items-center%20text-sm%20text-gray-500%22%7D",className:"flex justify-between items-center text-sm text-gray-500",children:d.jsx("span",{"data-component-path":"src\\components\\payment\\PaymentWindow.tsx","data-component-name":"span","data-component-line":"70","data-component-file":"PaymentWindow.tsx","data-component-content":"%7B%7D",children:Im(new Date,"dd/MM/yyyy")})}),d.jsx(zu,{"data-component-path":"src\\components\\payment\\PaymentWindow.tsx","data-component-name":"PaymentForm","data-component-line":"73","data-component-file":"PaymentWindow.tsx","data-component-content":"%7B%7D",subtotal:i,tax:s,requiresInvoice:c,onCardChange:y=>h(y),finalTotal:p}),d.jsxs("div",{"data-component-path":"src\\components\\payment\\PaymentWindow.tsx","data-component-name":"div","data-component-line":"81","data-component-file":"PaymentWindow.tsx","data-component-content":"%7B%22className%22%3A%22flex%20justify-end%20gap-3%20mt-6%22%7D",className:"flex justify-end gap-3 mt-6",children:[d.jsx("button",{"data-component-path":"src\\components\\payment\\PaymentWindow.tsx","data-component-name":"button","data-component-line":"82","data-component-file":"PaymentWindow.tsx","data-component-content":"%7B%22text%22%3A%22Cancelar%22%2C%22className%22%3A%22px-4%20py-2%20text-sm%20font-medium%20text-gray-700%20hover%3Atext-gray-800%20focus%3Aoutline-none%22%7D",type:"button",onClick:o,disabled:g,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-800 focus:outline-none",children:"Cancelar"}),d.jsx("button",{"data-component-path":"src\\components\\payment\\PaymentWindow.tsx","data-component-name":"button","data-component-line":"90","data-component-file":"PaymentWindow.tsx","data-component-content":"%7B%7D",type:"submit",disabled:!f||g,onClick:v,className:`
                  px-4 py-2 rounded-md text-sm font-medium text-white
                  ${!f||g?"bg-gray-400 cursor-not-allowed":"bg-primary hover:bg-primary/90"}
                  transition-colors duration-200
                `,children:g?d.jsxs("span",{"data-component-path":"src\\components\\payment\\PaymentWindow.tsx","data-component-name":"span","data-component-line":"105","data-component-file":"PaymentWindow.tsx","data-component-content":"%7B%22text%22%3A%22Procesando...%22%2C%22className%22%3A%22flex%20items-center%20gap-2%22%7D",className:"flex items-center gap-2",children:[d.jsx("div",{"data-component-path":"src\\components\\payment\\PaymentWindow.tsx","data-component-name":"div","data-component-line":"106","data-component-file":"PaymentWindow.tsx","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20border-2%20border-white%20border-t-transparent%20rounded-full%20animate-spin%22%7D",className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Procesando..."]}):`Pagar ${Qe(p)}`})]})]})]})]})})},Vu=({count:n,className:o})=>d.jsxs("div",{"data-component-path":"src\\components\\notifications\\NotificationBadge.tsx","data-component-name":"div","data-component-line":"11","data-component-file":"NotificationBadge.tsx","data-component-content":"%7B%7D",className:bt("relative inline-flex",o),children:[d.jsx(Rd,{"data-component-path":"src\\components\\notifications\\NotificationBadge.tsx","data-component-name":"Bell","data-component-line":"12","data-component-file":"NotificationBadge.tsx","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-primary%22%7D",className:"w-5 h-5 text-primary"}),n&&n>0&&d.jsx("div",{"data-component-path":"src\\components\\notifications\\NotificationBadge.tsx","data-component-name":"div","data-component-line":"14","data-component-file":"NotificationBadge.tsx","data-component-content":"%7B%22className%22%3A%22absolute%20-top-1%20-right-1%20w-4%20h-4%20bg-red-500%20rounded-full%20flex%20items-center%20justify-center%22%7D",className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full flex items-center justify-center",children:d.jsx("span",{"data-component-path":"src\\components\\notifications\\NotificationBadge.tsx","data-component-name":"span","data-component-line":"15","data-component-file":"NotificationBadge.tsx","data-component-content":"%7B%22className%22%3A%22text-xs%20text-white%20font-bold%22%7D",className:"text-xs text-white font-bold",children:n})})]}),Hu=(n,o,i,s,c)=>{const m={A:18.82,B:20.62,C:23.47,D:32.35}[o]||18.82,p={A:1219.55,B:1336.73,C:1524.21,D:2101.65},f={A:528.69,B:607.43,C:721.79,D:885.84},h=n*m,g=i?p[o]:0,_=f[o],v=h+g+_+s,y=c?v*.16:0,b=v+y;return{baseCost:h,maneuverCost:g,flagDropFee:_,tollCost:s,subtotal:v,tax:y,finalTotal:b}},kr=({currentStep:n,steps:o})=>d.jsx("div",{"data-component-path":"src\\components\\payment\\PaymentSteps.tsx","data-component-name":"div","data-component-line":"15","data-component-file":"PaymentSteps.tsx","data-component-content":"%7B%22className%22%3A%22space-y-4%20mb-6%22%7D",className:"space-y-4 mb-6",children:o.map((i,s)=>d.jsx(Q.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:s*.1},className:`p-4 rounded-lg border ${n===s?"bg-primary/5 border-primary":"bg-white/50 border-gray-200"}`,children:d.jsxs("div",{"data-component-path":"src\\components\\payment\\PaymentSteps.tsx","data-component-name":"div","data-component-line":"28","data-component-file":"PaymentSteps.tsx","data-component-content":"%7B%22className%22%3A%22flex%20items-start%20gap-3%22%7D",className:"flex items-start gap-3",children:[d.jsx("div",{"data-component-path":"src\\components\\payment\\PaymentSteps.tsx","data-component-name":"div","data-component-line":"29","data-component-file":"PaymentSteps.tsx","data-component-content":"%7B%7D",className:`w-6 h-6 rounded-full flex items-center justify-center text-sm ${n>=s?"bg-primary text-white":"bg-gray-200"}`,children:s+1}),d.jsxs("div",{"data-component-path":"src\\components\\payment\\PaymentSteps.tsx","data-component-name":"div","data-component-line":"36","data-component-file":"PaymentSteps.tsx","data-component-content":"%7B%7D",children:[d.jsx("h3",{"data-component-path":"src\\components\\payment\\PaymentSteps.tsx","data-component-name":"h3","data-component-line":"37","data-component-file":"PaymentSteps.tsx","data-component-content":"%7B%22className%22%3A%22font-medium%20text-shadow-sm%22%7D",className:"font-medium text-shadow-sm",children:i.title}),d.jsx("p",{"data-component-path":"src\\components\\payment\\PaymentSteps.tsx","data-component-name":"p","data-component-line":"38","data-component-file":"PaymentSteps.tsx","data-component-content":"%7B%22className%22%3A%22text-sm%20text-gray-600%20mt-1%22%7D",className:"text-sm text-gray-600 mt-1",children:i.description})]})]})},s))}),Wu=({searchQuery:n,isSearching:o,error:i,onSearchChange:s,onSearchClick:c,placeholder:m="Buscar dirección...",icon:p=d.jsx(te,{"data-component-path":"src\\components\\form\\location-search\\LocationSearchInput.tsx","data-component-name":"MapPin","data-component-line":"23","data-component-file":"LocationSearchInput.tsx","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%20text-primary%22%7D",className:"h-4 w-4 text-primary"})})=>d.jsxs(Q.div,{className:"relative",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[d.jsxs("div",{"data-component-path":"src\\components\\form\\location-search\\LocationSearchInput.tsx","data-component-name":"div","data-component-line":"32","data-component-file":"LocationSearchInput.tsx","data-component-content":"%7B%22className%22%3A%22relative%20flex%20items-center%20group%22%7D",className:"relative flex items-center group",children:[d.jsx("div",{"data-component-path":"src\\components\\form\\location-search\\LocationSearchInput.tsx","data-component-name":"div","data-component-line":"33","data-component-file":"LocationSearchInput.tsx","data-component-content":"%7B%22className%22%3A%22absolute%20left-3%20top-1%2F2%20-translate-y-1%2F2%20text-gray-400%20transition-colors%20group-hover%3Atext-primary%2F70%22%7D",className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 transition-colors group-hover:text-primary/70",children:p}),d.jsx(Me,{"data-component-path":"src\\components\\form\\location-search\\LocationSearchInput.tsx","data-component-name":"Input","data-component-line":"36","data-component-file":"LocationSearchInput.tsx","data-component-content":"%7B%7D",value:n,onChange:f=>s(f.target.value),placeholder:m,className:`
            pl-10 pr-10 h-12 bg-white/95 backdrop-blur-sm 
            border-gray-200 hover:border-primary/50 focus:border-primary
            focus:ring-2 focus:ring-primary/20 
            placeholder:text-gray-400 transition-all duration-200
            ${i?"border-red-300 focus:border-red-400 focus:ring-red-200":""}
            ${o?"pr-16":""}
          `,onKeyDown:f=>{f.key==="Enter"&&(f.preventDefault(),c())}}),d.jsx(ye,{"data-component-path":"src\\components\\form\\location-search\\LocationSearchInput.tsx","data-component-name":"AnimatePresence","data-component-line":"55","data-component-file":"LocationSearchInput.tsx","data-component-content":"%7B%7D",children:o?d.jsx(Q.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"absolute right-3 top-1/2 -translate-y-1/2",children:d.jsx(wo,{"data-component-path":"src\\components\\form\\location-search\\LocationSearchInput.tsx","data-component-name":"Loader2","data-component-line":"63","data-component-file":"LocationSearchInput.tsx","data-component-content":"%7B%22className%22%3A%22h-5%20w-5%20animate-spin%20text-primary%22%7D",className:"h-5 w-5 animate-spin text-primary"})}):d.jsx(we,{"data-component-path":"src\\components\\form\\location-search\\LocationSearchInput.tsx","data-component-name":"Button","data-component-line":"66","data-component-file":"LocationSearchInput.tsx","data-component-content":"%7B%22className%22%3A%22absolute%20right-1%20top-1%2F2%20-translate-y-1%2F2%20h-8%20hover%3Abg-primary%2F10%20transition-colors%22%7D",type:"button",variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-8 hover:bg-primary/10 transition-colors",onClick:c,disabled:o||n.length<3,children:d.jsx(Fd,{"data-component-path":"src\\components\\form\\location-search\\LocationSearchInput.tsx","data-component-name":"Search","data-component-line":"74","data-component-file":"LocationSearchInput.tsx","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%20text-primary%22%7D",className:"h-4 w-4 text-primary"})})})]}),d.jsx(ye,{"data-component-path":"src\\components\\form\\location-search\\LocationSearchInput.tsx","data-component-name":"AnimatePresence","data-component-line":"79","data-component-file":"LocationSearchInput.tsx","data-component-content":"%7B%7D",children:i&&d.jsx(Q.p,{className:"text-sm text-red-500 mt-1 ml-1",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:i})})]}),Uu=zd("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Er=w.forwardRef(({className:n,variant:o,...i},s)=>d.jsx("div",{"data-component-path":"src\\components\\ui\\alert.tsx","data-component-name":"div","data-component-line":"26","data-component-file":"alert.tsx","data-component-content":"%7B%7D",ref:s,role:"alert",className:bt(Uu({variant:o}),n),...i}));Er.displayName="Alert";const $u=w.forwardRef(({className:n,...o},i)=>d.jsx("h5",{"data-component-path":"src\\components\\ui\\alert.tsx","data-component-name":"h5","data-component-line":"39","data-component-file":"alert.tsx","data-component-content":"%7B%7D",ref:i,className:bt("mb-1 font-medium leading-none tracking-tight",n),...o}));$u.displayName="AlertTitle";const Ir=w.forwardRef(({className:n,...o},i)=>d.jsx("div",{"data-component-path":"src\\components\\ui\\alert.tsx","data-component-name":"div","data-component-line":"51","data-component-file":"alert.tsx","data-component-content":"%7B%7D",ref:i,className:bt("text-sm [&_p]:leading-relaxed",n),...o}));Ir.displayName="AlertDescription";const Gu=({suggestions:n,error:o,isMarking:i,onSuggestionSelect:s})=>d.jsxs(ye,{"data-component-path":"src\\components\\form\\location-search\\LocationSuggestions.tsx","data-component-name":"AnimatePresence","data-component-line":"27","data-component-file":"LocationSuggestions.tsx","data-component-content":"%7B%7D",children:[o&&d.jsx(Q.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mt-2",children:d.jsxs(Er,{"data-component-path":"src\\components\\form\\location-search\\LocationSuggestions.tsx","data-component-name":"Alert","data-component-line":"35","data-component-file":"LocationSuggestions.tsx","data-component-content":"%7B%7D",variant:"destructive",children:[d.jsx(im,{"data-component-path":"src\\components\\form\\location-search\\LocationSuggestions.tsx","data-component-name":"AlertCircle","data-component-line":"36","data-component-file":"LocationSuggestions.tsx","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D",className:"h-4 w-4"}),d.jsx(Ir,{"data-component-path":"src\\components\\form\\location-search\\LocationSuggestions.tsx","data-component-name":"AlertDescription","data-component-line":"37","data-component-file":"LocationSuggestions.tsx","data-component-content":"%7B%7D",children:o})]})}),n.length>0&&d.jsx(Q.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`absolute z-50 w-full mt-1 max-h-60 overflow-auto bg-white/95 backdrop-blur-sm \r
                    border border-gray-200 rounded-md shadow-lg divide-y divide-gray-100`,children:n.map((c,m)=>d.jsxs(Q.button,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:m*.05},className:`w-full px-4 py-3 text-left hover:bg-primary/5 flex items-center gap-3 \r
                       transition-colors group relative`,onClick:()=>s(c),disabled:i,children:[i?d.jsx(dm,{"data-component-path":"src\\components\\form\\location-search\\LocationSuggestions.tsx","data-component-name":"Target","data-component-line":"62","data-component-file":"LocationSuggestions.tsx","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%20text-primary%20animate-pulse%20flex-shrink-0%22%7D",className:"h-4 w-4 text-primary animate-pulse flex-shrink-0"}):d.jsx(te,{"data-component-path":"src\\components\\form\\location-search\\LocationSuggestions.tsx","data-component-name":"MapPin","data-component-line":"64","data-component-file":"LocationSuggestions.tsx","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%20text-primary%2F70%20group-hover%3Atext-primary%20flex-shrink-0%22%7D",className:"h-4 w-4 text-primary/70 group-hover:text-primary flex-shrink-0"}),d.jsxs("div",{"data-component-path":"src\\components\\form\\location-search\\LocationSuggestions.tsx","data-component-name":"div","data-component-line":"66","data-component-file":"LocationSuggestions.tsx","data-component-content":"%7B%22className%22%3A%22flex%20flex-col%20flex-1%22%7D",className:"flex flex-col flex-1",children:[d.jsx("span",{"data-component-path":"src\\components\\form\\location-search\\LocationSuggestions.tsx","data-component-name":"span","data-component-line":"67","data-component-file":"LocationSuggestions.tsx","data-component-content":"%7B%22className%22%3A%22text-sm%20text-gray-700%20group-hover%3Atext-gray-900%20line-clamp-2%22%7D",className:"text-sm text-gray-700 group-hover:text-gray-900 line-clamp-2",children:c.address}),d.jsxs("span",{"data-component-path":"src\\components\\form\\location-search\\LocationSuggestions.tsx","data-component-name":"span","data-component-line":"70","data-component-file":"LocationSuggestions.tsx","data-component-content":"%7B%22text%22%3A%22km%20de%20Nuevo%20Le%C3%B3n%22%2C%22className%22%3A%22text-xs%20text-gray-500%22%7D",className:"text-xs text-gray-500",children:[c.distance.toFixed(1),"km de Nuevo León"]})]}),i&&d.jsx(Q.div,{initial:{scale:0},animate:{scale:1},className:"absolute inset-0 bg-primary/5 flex items-center justify-center",children:d.jsx(wo,{"data-component-path":"src\\components\\form\\location-search\\LocationSuggestions.tsx","data-component-name":"Loader2","data-component-line":"80","data-component-file":"LocationSuggestions.tsx","data-component-content":"%7B%22className%22%3A%22h-6%20w-6%20animate-spin%20text-primary%22%7D",className:"h-6 w-6 animate-spin text-primary"})})]},m))})]}),qu=({type:n,requiresInvoice:o,onInvoiceChange:i})=>d.jsxs("div",{"data-component-path":"src\\components\\form\\location-search\\InvoiceCheckbox.tsx","data-component-name":"div","data-component-line":"13","data-component-file":"InvoiceCheckbox.tsx","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%20mt-2%22%7D",className:"flex items-center gap-2 mt-2",children:[d.jsx("input",{"data-component-path":"src\\components\\form\\location-search\\InvoiceCheckbox.tsx","data-component-name":"input","data-component-line":"14","data-component-file":"InvoiceCheckbox.tsx","data-component-content":"%7B%22className%22%3A%22rounded%20border-gray-300%20text-primary%20focus%3Aring-primary%22%7D",type:"checkbox",id:`requires-invoice-${n}`,checked:o,onChange:s=>i(s.target.checked),className:"rounded border-gray-300 text-primary focus:ring-primary"}),d.jsx("label",{"data-component-path":"src\\components\\form\\location-search\\InvoiceCheckbox.tsx","data-component-name":"label","data-component-line":"21","data-component-file":"InvoiceCheckbox.tsx","data-component-content":"%7B%22text%22%3A%22Requiere%20factura%20(IVA)%22%2C%22className%22%3A%22text-sm%20text-gray-600%22%7D",htmlFor:`requires-invoice-${n}`,className:"text-sm text-gray-600",children:"Requiere factura (IVA)"})]}),Vs=({onLocationSelect:n,onSelectingLocation:o,currentAddress:i,currentLocation:s,placeholder:c,type:m="pickup",className:p="",icon:f,requiresInvoice:h=!1,onInvoiceChange:g})=>{const[_,v]=w.useState(i||""),[y,b]=w.useState([]),[T,P]=w.useState(!1),[A,k]=w.useState(null),[S,N]=w.useState(!1),{toast:M}=St(),E=w.useCallback(Zd(async j=>{if(!j.trim()){b([]);return}P(!0),k(null);try{console.log("Searching for:",j);const W=await Lp(j,{proximity:{lat:(s==null?void 0:s.lat)||le.lat,lng:(s==null?void 0:s.lng)||le.lng}});console.log("Search results:",W);const et=W.map(U=>({address:U.display_name,lat:parseFloat(U.lat),lon:parseFloat(U.lon),distance:so({lat:le.lat,lng:le.lng},{lat:parseFloat(U.lat),lng:parseFloat(U.lon)})})).sort((U,G)=>U.distance-G.distance);b(et)}catch(W){console.error("Search error:",W),k("Error al buscar ubicaciones"),M({title:"Error de búsqueda",description:"No se pudieron obtener las ubicaciones",variant:"destructive"})}finally{P(!1)}},500),[s,M]),R=async j=>{N(!0);try{v(j.address),b([]),n({lat:j.lat,lng:j.lon,address:j.address}),M({title:`Ubicación ${m==="pickup"?"de recogida":"de entrega"} seleccionada`,description:j.address,className:m==="pickup"?"bg-green-50 border-green-200":"bg-blue-50 border-blue-200"})}catch(W){console.error("Error selecting location:",W),M({title:"Error",description:"No se pudo seleccionar la ubicación",variant:"destructive"})}finally{N(!1)}};return d.jsxs(Q.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`space-y-2 ${p}`,children:[d.jsx("div",{"data-component-path":"src\\components\\form\\location-search\\LocationSearchContainer.tsx","data-component-name":"div","data-component-line":"114","data-component-file":"LocationSearchContainer.tsx","data-component-content":"%7B%22className%22%3A%22flex%20gap-2%22%7D",className:"flex gap-2",children:d.jsx("div",{"data-component-path":"src\\components\\form\\location-search\\LocationSearchContainer.tsx","data-component-name":"div","data-component-line":"115","data-component-file":"LocationSearchContainer.tsx","data-component-content":"%7B%22className%22%3A%22relative%20flex-1%22%7D",className:"relative flex-1",children:d.jsx(Wu,{"data-component-path":"src\\components\\form\\location-search\\LocationSearchContainer.tsx","data-component-name":"LocationSearchInput","data-component-line":"116","data-component-file":"LocationSearchContainer.tsx","data-component-content":"%7B%7D",searchQuery:_,isSearching:T,error:A,onSearchChange:v,onSearchClick:()=>E(_),placeholder:c,icon:f})})}),d.jsx(ye,{"data-component-path":"src\\components\\form\\location-search\\LocationSearchContainer.tsx","data-component-name":"AnimatePresence","data-component-line":"128","data-component-file":"LocationSearchContainer.tsx","data-component-content":"%7B%7D",children:d.jsx(Gu,{"data-component-path":"src\\components\\form\\location-search\\LocationSearchContainer.tsx","data-component-name":"LocationSuggestions","data-component-line":"129","data-component-file":"LocationSearchContainer.tsx","data-component-content":"%7B%7D",suggestions:y,error:A,isMarking:S,onSuggestionSelect:R})}),g&&d.jsx(qu,{"data-component-path":"src\\components\\form\\location-search\\LocationSearchContainer.tsx","data-component-name":"InvoiceCheckbox","data-component-line":"138","data-component-file":"LocationSearchContainer.tsx","data-component-content":"%7B%7D",type:m,requiresInvoice:h,onInvoiceChange:g})]})},Yu=({form:n,pickupLocation:o,dropLocation:i,pickupAddress:s,dropAddress:c,onPickupSelect:m,onDropSelect:p,onSelectingPickup:f,onSelectingDrop:h})=>{const{toast:g}=St();w.useEffect(()=>{s&&n.setValue("pickupLocation",{lat:(o==null?void 0:o.lat)||0,lng:(o==null?void 0:o.lng)||0,address:s})},[s,o,n]),w.useEffect(()=>{c&&n.setValue("dropoffLocation",{lat:(i==null?void 0:i.lat)||0,lng:(i==null?void 0:i.lng)||0,address:c})},[c,i,n]);const _=async(v,y)=>{y==="pickup"?(n.setValue("pickupLocation",v),m==null||m(v),f==null||f(!1)):(n.setValue("dropoffLocation",v),p==null||p(v),h==null||h(!1)),g({title:y==="pickup"?"Ubicación de recogida actualizada":"Ubicación de entrega actualizada",description:v.address})};return d.jsxs("div",{"data-component-path":"src\\components\\form\\LocationSelector.tsx","data-component-name":"div","data-component-line":"91","data-component-file":"LocationSelector.tsx","data-component-content":"%7B%22className%22%3A%22space-y-6%22%7D",className:"space-y-6",children:[d.jsx(Nn,{"data-component-path":"src\\components\\form\\LocationSelector.tsx","data-component-name":"FormField","data-component-line":"92","data-component-file":"LocationSelector.tsx","data-component-content":"%7B%7D",control:n.control,name:"pickupLocation",render:({field:v})=>d.jsxs(Ln,{"data-component-path":"src\\components\\form\\LocationSelector.tsx","data-component-name":"FormItem","data-component-line":"96","data-component-file":"LocationSelector.tsx","data-component-content":"%7B%7D",children:[d.jsx(Mn,{"data-component-path":"src\\components\\form\\LocationSelector.tsx","data-component-name":"FormLabel","data-component-line":"97","data-component-file":"LocationSelector.tsx","data-component-content":"%7B%22text%22%3A%22Ubicaci%C3%B3n%20de%20Recogida%22%2C%22className%22%3A%22text-lg%20font-semibold%22%7D",className:"text-lg font-semibold",children:"Ubicación de Recogida"}),d.jsx(Bn,{"data-component-path":"src\\components\\form\\LocationSelector.tsx","data-component-name":"FormControl","data-component-line":"100","data-component-file":"LocationSelector.tsx","data-component-content":"%7B%7D",children:d.jsx(Vs,{"data-component-path":"src\\components\\form\\LocationSelector.tsx","data-component-name":"LocationSearch","data-component-line":"101","data-component-file":"LocationSelector.tsx","data-component-content":"%7B%22placeholder%22%3A%22Ingrese%20direcci%C3%B3n%20de%20recogida...%22%7D",placeholder:"Ingrese dirección de recogida...",icon:d.jsx(te,{"data-component-path":"src\\components\\form\\LocationSelector.tsx","data-component-name":"MapPin","data-component-line":"103","data-component-file":"LocationSelector.tsx","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%20text-primary%22%7D",className:"h-4 w-4 text-primary"}),currentAddress:s,currentLocation:o,onLocationSelect:y=>_(y,"pickup"),onSelectingLocation:()=>f==null?void 0:f(!0),type:"pickup"})})]})}),d.jsx(Nn,{"data-component-path":"src\\components\\form\\LocationSelector.tsx","data-component-name":"FormField","data-component-line":"117","data-component-file":"LocationSelector.tsx","data-component-content":"%7B%7D",control:n.control,name:"dropoffLocation",render:({field:v})=>d.jsxs(Ln,{"data-component-path":"src\\components\\form\\LocationSelector.tsx","data-component-name":"FormItem","data-component-line":"121","data-component-file":"LocationSelector.tsx","data-component-content":"%7B%7D",children:[d.jsx(Mn,{"data-component-path":"src\\components\\form\\LocationSelector.tsx","data-component-name":"FormLabel","data-component-line":"122","data-component-file":"LocationSelector.tsx","data-component-content":"%7B%22text%22%3A%22Ubicaci%C3%B3n%20de%20Entrega%22%2C%22className%22%3A%22text-lg%20font-semibold%22%7D",className:"text-lg font-semibold",children:"Ubicación de Entrega"}),d.jsx(Bn,{"data-component-path":"src\\components\\form\\LocationSelector.tsx","data-component-name":"FormControl","data-component-line":"125","data-component-file":"LocationSelector.tsx","data-component-content":"%7B%7D",children:d.jsx(Vs,{"data-component-path":"src\\components\\form\\LocationSelector.tsx","data-component-name":"LocationSearch","data-component-line":"126","data-component-file":"LocationSelector.tsx","data-component-content":"%7B%22placeholder%22%3A%22Ingrese%20direcci%C3%B3n%20de%20entrega...%22%7D",placeholder:"Ingrese dirección de entrega...",icon:d.jsx(bo,{"data-component-path":"src\\components\\form\\LocationSelector.tsx","data-component-name":"Navigation","data-component-line":"128","data-component-file":"LocationSelector.tsx","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%20text-primary%22%7D",className:"h-4 w-4 text-primary"}),currentAddress:c,currentLocation:i,onLocationSelect:y=>_(y,"drop"),onSelectingLocation:()=>h==null?void 0:h(!0),type:"drop"})})]})})]})},Xu=({onBrandChange:n,onModelChange:o,onYearChange:i,onColorChange:s})=>d.jsxs("div",{"data-component-path":"src\\components\\form\\VehicleDetails.tsx","data-component-name":"div","data-component-line":"25","data-component-file":"VehicleDetails.tsx","data-component-content":"%7B%22className%22%3A%22space-y-4%22%7D",className:"space-y-4",children:[d.jsxs("div",{"data-component-path":"src\\components\\form\\VehicleDetails.tsx","data-component-name":"div","data-component-line":"26","data-component-file":"VehicleDetails.tsx","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20sm%3Agrid-cols-2%20gap-4%22%7D",className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{"data-component-path":"src\\components\\form\\VehicleDetails.tsx","data-component-name":"div","data-component-line":"27","data-component-file":"VehicleDetails.tsx","data-component-content":"%7B%7D",children:[d.jsx("label",{"data-component-path":"src\\components\\form\\VehicleDetails.tsx","data-component-name":"label","data-component-line":"28","data-component-file":"VehicleDetails.tsx","data-component-content":"%7B%22text%22%3A%22Marca%20del%20Veh%C3%ADculo%22%2C%22className%22%3A%22text-sm%20font-medium%22%7D",className:"text-sm font-medium",children:"Marca del Vehículo"}),d.jsx(Me,{"data-component-path":"src\\components\\form\\VehicleDetails.tsx","data-component-name":"Input","data-component-line":"29","data-component-file":"VehicleDetails.tsx","data-component-content":"%7B%22placeholder%22%3A%22Ej%3A%20Toyota%22%2C%22className%22%3A%22mt-1%22%7D",placeholder:"Ej: Toyota",onChange:c=>n(c.target.value),className:"mt-1"})]}),d.jsxs("div",{"data-component-path":"src\\components\\form\\VehicleDetails.tsx","data-component-name":"div","data-component-line":"35","data-component-file":"VehicleDetails.tsx","data-component-content":"%7B%7D",children:[d.jsx("label",{"data-component-path":"src\\components\\form\\VehicleDetails.tsx","data-component-name":"label","data-component-line":"36","data-component-file":"VehicleDetails.tsx","data-component-content":"%7B%22text%22%3A%22Modelo%22%2C%22className%22%3A%22text-sm%20font-medium%22%7D",className:"text-sm font-medium",children:"Modelo"}),d.jsx(Me,{"data-component-path":"src\\components\\form\\VehicleDetails.tsx","data-component-name":"Input","data-component-line":"37","data-component-file":"VehicleDetails.tsx","data-component-content":"%7B%22placeholder%22%3A%22Ej%3A%20Corolla%22%2C%22className%22%3A%22mt-1%22%7D",placeholder:"Ej: Corolla",onChange:c=>o(c.target.value),className:"mt-1"})]})]}),d.jsxs("div",{"data-component-path":"src\\components\\form\\VehicleDetails.tsx","data-component-name":"div","data-component-line":"44","data-component-file":"VehicleDetails.tsx","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20sm%3Agrid-cols-2%20gap-4%22%7D",className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{"data-component-path":"src\\components\\form\\VehicleDetails.tsx","data-component-name":"div","data-component-line":"45","data-component-file":"VehicleDetails.tsx","data-component-content":"%7B%7D",children:[d.jsx("label",{"data-component-path":"src\\components\\form\\VehicleDetails.tsx","data-component-name":"label","data-component-line":"46","data-component-file":"VehicleDetails.tsx","data-component-content":"%7B%22text%22%3A%22A%C3%B1o%22%2C%22className%22%3A%22text-sm%20font-medium%22%7D",className:"text-sm font-medium",children:"Año"}),d.jsx(Me,{"data-component-path":"src\\components\\form\\VehicleDetails.tsx","data-component-name":"Input","data-component-line":"47","data-component-file":"VehicleDetails.tsx","data-component-content":"%7B%22placeholder%22%3A%22Ej%3A%202020%22%2C%22className%22%3A%22mt-1%22%7D",placeholder:"Ej: 2020",onChange:c=>i(c.target.value),className:"mt-1"})]}),d.jsxs("div",{"data-component-path":"src\\components\\form\\VehicleDetails.tsx","data-component-name":"div","data-component-line":"53","data-component-file":"VehicleDetails.tsx","data-component-content":"%7B%7D",children:[d.jsx("label",{"data-component-path":"src\\components\\form\\VehicleDetails.tsx","data-component-name":"label","data-component-line":"54","data-component-file":"VehicleDetails.tsx","data-component-content":"%7B%22text%22%3A%22Color%22%2C%22className%22%3A%22text-sm%20font-medium%22%7D",className:"text-sm font-medium",children:"Color"}),d.jsx(Me,{"data-component-path":"src\\components\\form\\VehicleDetails.tsx","data-component-name":"Input","data-component-line":"55","data-component-file":"VehicleDetails.tsx","data-component-content":"%7B%22placeholder%22%3A%22Ej%3A%20Rojo%22%2C%22className%22%3A%22mt-1%22%7D",placeholder:"Ej: Rojo",onChange:c=>s(c.target.value),className:"mt-1"})]})]})]}),Ku=({form:n,onVehicleModelChange:o})=>d.jsx("div",{"data-component-path":"src\\components\\form\\VehicleBasicFields.tsx","data-component-name":"div","data-component-line":"22","data-component-file":"VehicleBasicFields.tsx","data-component-content":"%7B%22className%22%3A%22space-y-6%22%7D",className:"space-y-6",children:d.jsx(Xu,{"data-component-path":"src\\components\\form\\VehicleBasicFields.tsx","data-component-name":"VehicleDetails","data-component-line":"23","data-component-file":"VehicleBasicFields.tsx","data-component-content":"%7B%7D",onBrandChange:i=>{n.setValue("vehicleMake",i)},onModelChange:i=>{n.setValue("vehicleModel",i),o(i)},onYearChange:i=>{n.setValue("vehicleYear",i)},onColorChange:i=>{n.setValue("vehicleColor",i)}})}),Qu=({form:n})=>d.jsxs("div",{"data-component-path":"src\\components\\form\\UserInfoFields.tsx","data-component-name":"div","data-component-line":"17","data-component-file":"UserInfoFields.tsx","data-component-content":"%7B%22className%22%3A%22space-y-6%22%7D",className:"space-y-6",children:[d.jsx(Nn,{"data-component-path":"src\\components\\form\\UserInfoFields.tsx","data-component-name":"FormField","data-component-line":"18","data-component-file":"UserInfoFields.tsx","data-component-content":"%7B%7D",control:n.control,name:"userName",render:({field:o})=>d.jsxs(Ln,{"data-component-path":"src\\components\\form\\UserInfoFields.tsx","data-component-name":"FormItem","data-component-line":"22","data-component-file":"UserInfoFields.tsx","data-component-content":"%7B%7D",children:[d.jsx(Mn,{"data-component-path":"src\\components\\form\\UserInfoFields.tsx","data-component-name":"FormLabel","data-component-line":"23","data-component-file":"UserInfoFields.tsx","data-component-content":"%7B%22text%22%3A%22User%20Name%22%7D",children:"User Name"}),d.jsx(Bn,{"data-component-path":"src\\components\\form\\UserInfoFields.tsx","data-component-name":"FormControl","data-component-line":"24","data-component-file":"UserInfoFields.tsx","data-component-content":"%7B%7D",children:d.jsx(Me,{"data-component-path":"src\\components\\form\\UserInfoFields.tsx","data-component-name":"Input","data-component-line":"25","data-component-file":"UserInfoFields.tsx","data-component-content":"%7B%22placeholder%22%3A%22Enter%20your%20name%22%7D",...o,placeholder:"Enter your name"})})]})}),d.jsx(Nn,{"data-component-path":"src\\components\\form\\UserInfoFields.tsx","data-component-name":"FormField","data-component-line":"31","data-component-file":"UserInfoFields.tsx","data-component-content":"%7B%7D",control:n.control,name:"phone",render:({field:o})=>d.jsxs(Ln,{"data-component-path":"src\\components\\form\\UserInfoFields.tsx","data-component-name":"FormItem","data-component-line":"35","data-component-file":"UserInfoFields.tsx","data-component-content":"%7B%7D",children:[d.jsx(Mn,{"data-component-path":"src\\components\\form\\UserInfoFields.tsx","data-component-name":"FormLabel","data-component-line":"36","data-component-file":"UserInfoFields.tsx","data-component-content":"%7B%22text%22%3A%22Phone%20Number%22%7D",children:"Phone Number"}),d.jsx(Bn,{"data-component-path":"src\\components\\form\\UserInfoFields.tsx","data-component-name":"FormControl","data-component-line":"37","data-component-file":"UserInfoFields.tsx","data-component-content":"%7B%7D",children:d.jsx(Me,{"data-component-path":"src\\components\\form\\UserInfoFields.tsx","data-component-name":"Input","data-component-line":"38","data-component-file":"UserInfoFields.tsx","data-component-content":"%7B%22placeholder%22%3A%22Enter%20your%20phone%20number%22%7D",...o,type:"tel",placeholder:"Enter your phone number"})})]})})]});function qa(n){const[o,i]=w.useState(void 0);return lo(()=>{if(n){i({width:n.offsetWidth,height:n.offsetHeight});const s=new ResizeObserver(c=>{if(!Array.isArray(c)||!c.length)return;const m=c[0];let p,f;if("borderBoxSize"in m){const h=m.borderBoxSize,g=Array.isArray(h)?h[0]:h;p=g.inlineSize,f=g.blockSize}else p=n.offsetWidth,f=n.offsetHeight;i({width:p,height:f})});return s.observe(n,{box:"border-box"}),()=>s.unobserve(n)}else i(void 0)},[n]),o}var Ya="Radio",[Ju,jr]=on(Ya),[th,eh]=Ju(Ya),Or=w.forwardRef((n,o)=>{const{__scopeRadio:i,name:s,checked:c=!1,required:m,disabled:p,value:f="on",onCheck:h,form:g,..._}=n,[v,y]=w.useState(null),b=pe(o,A=>y(A)),T=w.useRef(!1),P=v?g||!!v.closest("form"):!0;return d.jsxs(th,{scope:i,checked:c,disabled:p,children:[d.jsx(Pt.button,{type:"button",role:"radio","aria-checked":c,"data-state":zr(c),"data-disabled":p?"":void 0,disabled:p,value:f,..._,ref:b,onClick:Rt(n.onClick,A=>{c||h==null||h(),P&&(T.current=A.isPropagationStopped(),T.current||A.stopPropagation())})}),P&&d.jsx(nh,{control:v,bubbles:!T.current,name:s,value:f,checked:c,required:m,disabled:p,form:g,style:{transform:"translateX(-100%)"}})]})});Or.displayName=Ya;var Rr="RadioIndicator",Fr=w.forwardRef((n,o)=>{const{__scopeRadio:i,forceMount:s,...c}=n,m=eh(Rr,i);return d.jsx(Oa,{present:s||m.checked,children:d.jsx(Pt.span,{"data-state":zr(m.checked),"data-disabled":m.disabled?"":void 0,...c,ref:o})})});Fr.displayName=Rr;var nh=n=>{const{control:o,checked:i,bubbles:s=!0,...c}=n,m=w.useRef(null),p=or(i),f=qa(o);return w.useEffect(()=>{const h=m.current,g=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(g,"checked").set;if(p!==i&&v){const y=new Event("click",{bubbles:s});v.call(h,i),h.dispatchEvent(y)}},[p,i,s]),d.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:i,...c,tabIndex:-1,ref:m,style:{...n.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function zr(n){return n?"checked":"unchecked"}var oh=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Xa="RadioGroup",[ah,R2]=on(Xa,[ar,jr]),Zr=ar(),Vr=jr(),[ih,sh]=ah(Xa),Hr=w.forwardRef((n,o)=>{const{__scopeRadioGroup:i,name:s,defaultValue:c,value:m,required:p=!1,disabled:f=!1,orientation:h,dir:g,loop:_=!0,onValueChange:v,...y}=n,b=Zr(i),T=ir(g),[P,A]=an({prop:m,defaultProp:c,onChange:v});return d.jsx(ih,{scope:i,name:s,required:p,disabled:f,value:P,onValueChange:A,children:d.jsx(Vd,{asChild:!0,...b,orientation:h,dir:T,loop:_,children:d.jsx(Pt.div,{role:"radiogroup","aria-required":p,"aria-orientation":h,"data-disabled":f?"":void 0,dir:T,...y,ref:o})})})});Hr.displayName=Xa;var Wr="RadioGroupItem",Ur=w.forwardRef((n,o)=>{const{__scopeRadioGroup:i,disabled:s,...c}=n,m=sh(Wr,i),p=m.disabled||s,f=Zr(i),h=Vr(i),g=w.useRef(null),_=pe(o,g),v=m.value===c.value,y=w.useRef(!1);return w.useEffect(()=>{const b=P=>{oh.includes(P.key)&&(y.current=!0)},T=()=>y.current=!1;return document.addEventListener("keydown",b),document.addEventListener("keyup",T),()=>{document.removeEventListener("keydown",b),document.removeEventListener("keyup",T)}},[]),d.jsx(Hd,{asChild:!0,...f,focusable:!p,active:v,children:d.jsx(Or,{disabled:p,required:m.required,checked:v,...h,...c,name:m.name,ref:_,onCheck:()=>m.onValueChange(c.value),onKeyDown:Rt(b=>{b.key==="Enter"&&b.preventDefault()}),onFocus:Rt(c.onFocus,()=>{var b;y.current&&((b=g.current)==null||b.click())})})})});Ur.displayName=Wr;var rh="RadioGroupIndicator",$r=w.forwardRef((n,o)=>{const{__scopeRadioGroup:i,...s}=n,c=Vr(i);return d.jsx(Fr,{...c,...s,ref:o})});$r.displayName=rh;var Gr=Hr,qr=Ur,ch=$r;const Yr=w.forwardRef(({className:n,...o},i)=>d.jsx(Gr,{className:bt("grid gap-2",n),...o,ref:i}));Yr.displayName=Gr.displayName;const Xr=w.forwardRef(({className:n,...o},i)=>d.jsx(qr,{ref:i,className:bt("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),...o,children:d.jsx(ch,{className:"flex items-center justify-center",children:d.jsx(sm,{"data-component-path":"src\\components\\ui\\radio-group.tsx","data-component-name":"Circle","data-component-line":"35","data-component-file":"radio-group.tsx","data-component-content":"%7B%22className%22%3A%22h-2.5%20w-2.5%20fill-current%20text-current%22%7D",className:"h-2.5 w-2.5 fill-current text-current"})})}));Xr.displayName=qr.displayName;const lh=({form:n,onTruckTypeChange:o,selectedModel:i})=>{const{updateTruckType:s}=yo(),{toast:c}=St(),m=n.watch("vehicleMake");return w.useEffect(()=>{if(m&&i){const p=gp(m,i);n.setValue("truckType",p),o==null||o(p),s(p);const f=va[p];c({title:"Tipo de grúa recomendado",description:`Se ha seleccionado ${f.name} para ${m} ${i} (capacidad: ${f.maxWeight.toLocaleString()} kg)`,duration:5e3})}},[m,i,n,o,s]),d.jsx(Q.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-4",children:d.jsx(Nn,{"data-component-path":"src\\components\\form\\TowTruckSelector.tsx","data-component-name":"FormField","data-component-line":"56","data-component-file":"TowTruckSelector.tsx","data-component-content":"%7B%7D",control:n.control,name:"truckType",render:({field:p})=>d.jsxs(Ln,{"data-component-path":"src\\components\\form\\TowTruckSelector.tsx","data-component-name":"FormItem","data-component-line":"60","data-component-file":"TowTruckSelector.tsx","data-component-content":"%7B%7D",children:[d.jsxs(Mn,{"data-component-path":"src\\components\\form\\TowTruckSelector.tsx","data-component-name":"FormLabel","data-component-line":"61","data-component-file":"TowTruckSelector.tsx","data-component-content":"%7B%22text%22%3A%22Tipo%20de%20Gr%C3%BAa%22%2C%22className%22%3A%22text-lg%20font-semibold%20flex%20items-center%20gap-2%22%7D",className:"text-lg font-semibold flex items-center gap-2",children:[d.jsx(Sa,{"data-component-path":"src\\components\\form\\TowTruckSelector.tsx","data-component-name":"Truck","data-component-line":"62","data-component-file":"TowTruckSelector.tsx","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-primary%22%7D",className:"w-5 h-5 text-primary"}),"Tipo de Grúa"]}),d.jsx(Bn,{"data-component-path":"src\\components\\form\\TowTruckSelector.tsx","data-component-name":"FormControl","data-component-line":"65","data-component-file":"TowTruckSelector.tsx","data-component-content":"%7B%7D",children:d.jsx(Yr,{"data-component-path":"src\\components\\form\\TowTruckSelector.tsx","data-component-name":"RadioGroup","data-component-line":"66","data-component-file":"TowTruckSelector.tsx","data-component-content":"%7B%22className%22%3A%22flex%20flex-col%20space-y-3%22%7D",onValueChange:f=>{const h=f;p.onChange(h),o==null||o(h),s(h);const g=va[h];c({title:`${g.name} seleccionada`,description:`Capacidad máxima: ${g.maxWeight.toLocaleString()} kg - Tarifa: ${g.perKm.toFixed(2)} MXN/km`})},value:p.value,className:"flex flex-col space-y-3",children:Object.entries(va).map(([f,h])=>d.jsxs(Q.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.2,delay:Number(f.charCodeAt(0)-65)*.1},className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-primary/5 transition-colors",children:[d.jsx(Xr,{"data-component-path":"src\\components\\form\\TowTruckSelector.tsx","data-component-name":"RadioGroupItem","data-component-line":"93","data-component-file":"TowTruckSelector.tsx","data-component-content":"%7B%22className%22%3A%22border-primary%22%7D",value:f,id:f,className:"border-primary"}),d.jsxs("div",{"data-component-path":"src\\components\\form\\TowTruckSelector.tsx","data-component-name":"div","data-component-line":"98","data-component-file":"TowTruckSelector.tsx","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%22%7D",className:"flex items-center gap-2",children:[d.jsx(Sa,{"data-component-path":"src\\components\\form\\TowTruckSelector.tsx","data-component-name":"Truck","data-component-line":"99","data-component-file":"TowTruckSelector.tsx","data-component-content":"%7B%7D",className:`w-5 h-5 ${f==="D"?"text-orange-500":"text-primary"}`}),d.jsxs("span",{"data-component-path":"src\\components\\form\\TowTruckSelector.tsx","data-component-name":"span","data-component-line":"102","data-component-file":"TowTruckSelector.tsx","data-component-content":"%7B%22text%22%3A%22(hasta%20kg)%22%2C%22className%22%3A%22font-medium%22%7D",className:"font-medium",children:[h.name," (hasta ",h.maxWeight.toLocaleString(),"kg)"]})]})]},f))})})]})})})},dh=gt.object({userName:gt.string().min(1,"Username is required"),phone:gt.string().min(1,"Phone number is required"),vehicleMake:gt.string().min(1,"Vehicle make is required"),vehicleModel:gt.string().min(1,"Vehicle model is required"),vehicleYear:gt.string().min(1,"Vehicle year is required"),vehicleColor:gt.string().min(1,"Vehicle color is required"),truckType:gt.enum(["A","B","C","D"]),requiresManeuver:gt.boolean().default(!1),issueDescription:gt.string().optional(),pickupLocation:gt.object({lat:gt.number(),lng:gt.number(),address:gt.string()}).optional(),dropoffLocation:gt.object({lat:gt.number(),lng:gt.number(),address:gt.string()}).optional()});var Ka="Collapsible",[mh,Kr]=on(Ka),[ph,Qa]=mh(Ka),Qr=w.forwardRef((n,o)=>{const{__scopeCollapsible:i,open:s,defaultOpen:c,disabled:m,onOpenChange:p,...f}=n,[h=!1,g]=an({prop:s,defaultProp:c,onChange:p});return d.jsx(ph,{scope:i,disabled:m,contentId:Ra(),open:h,onOpenToggle:w.useCallback(()=>g(_=>!_),[g]),children:d.jsx(Pt.div,{"data-state":ti(h),"data-disabled":m?"":void 0,...f,ref:o})})});Qr.displayName=Ka;var Jr="CollapsibleTrigger",tc=w.forwardRef((n,o)=>{const{__scopeCollapsible:i,...s}=n,c=Qa(Jr,i);return d.jsx(Pt.button,{type:"button","aria-controls":c.contentId,"aria-expanded":c.open||!1,"data-state":ti(c.open),"data-disabled":c.disabled?"":void 0,disabled:c.disabled,...s,ref:o,onClick:Rt(n.onClick,c.onOpenToggle)})});tc.displayName=Jr;var Ja="CollapsibleContent",ec=w.forwardRef((n,o)=>{const{forceMount:i,...s}=n,c=Qa(Ja,n.__scopeCollapsible);return d.jsx(Oa,{present:i||c.open,children:({present:m})=>d.jsx(uh,{...s,ref:o,present:m})})});ec.displayName=Ja;var uh=w.forwardRef((n,o)=>{const{__scopeCollapsible:i,present:s,children:c,...m}=n,p=Qa(Ja,i),[f,h]=w.useState(s),g=w.useRef(null),_=pe(o,g),v=w.useRef(0),y=v.current,b=w.useRef(0),T=b.current,P=p.open||f,A=w.useRef(P),k=w.useRef();return w.useEffect(()=>{const S=requestAnimationFrame(()=>A.current=!1);return()=>cancelAnimationFrame(S)},[]),lo(()=>{const S=g.current;if(S){k.current=k.current||{transitionDuration:S.style.transitionDuration,animationName:S.style.animationName},S.style.transitionDuration="0s",S.style.animationName="none";const N=S.getBoundingClientRect();v.current=N.height,b.current=N.width,A.current||(S.style.transitionDuration=k.current.transitionDuration,S.style.animationName=k.current.animationName),h(s)}},[p.open,s]),d.jsx(Pt.div,{"data-state":ti(p.open),"data-disabled":p.disabled?"":void 0,id:p.contentId,hidden:!P,...m,ref:_,style:{"--radix-collapsible-content-height":y?`${y}px`:void 0,"--radix-collapsible-content-width":T?`${T}px`:void 0,...n.style},children:P&&c})});function ti(n){return n?"open":"closed"}var hh=Qr,fh=tc,gh=ec,ue="Accordion",xh=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[ei,_h,vh]=Wd(ue),[Bo,F2]=on(ue,[vh,Kr]),ni=Kr(),nc=Dt.forwardRef((n,o)=>{const{type:i,...s}=n,c=s,m=s;return d.jsx(ei.Provider,{scope:n.__scopeAccordion,children:i==="multiple"?d.jsx(Ph,{...m,ref:o}):d.jsx(bh,{...c,ref:o})})});nc.displayName=ue;var[oc,yh]=Bo(ue),[ac,wh]=Bo(ue,{collapsible:!1}),bh=Dt.forwardRef((n,o)=>{const{value:i,defaultValue:s,onValueChange:c=()=>{},collapsible:m=!1,...p}=n,[f,h]=an({prop:i,defaultProp:s,onChange:c});return d.jsx(oc,{scope:n.__scopeAccordion,value:f?[f]:[],onItemOpen:h,onItemClose:Dt.useCallback(()=>m&&h(""),[m,h]),children:d.jsx(ac,{scope:n.__scopeAccordion,collapsible:m,children:d.jsx(ic,{...p,ref:o})})})}),Ph=Dt.forwardRef((n,o)=>{const{value:i,defaultValue:s,onValueChange:c=()=>{},...m}=n,[p=[],f]=an({prop:i,defaultProp:s,onChange:c}),h=Dt.useCallback(_=>f((v=[])=>[...v,_]),[f]),g=Dt.useCallback(_=>f((v=[])=>v.filter(y=>y!==_)),[f]);return d.jsx(oc,{scope:n.__scopeAccordion,value:p,onItemOpen:h,onItemClose:g,children:d.jsx(ac,{scope:n.__scopeAccordion,collapsible:!0,children:d.jsx(ic,{...m,ref:o})})})}),[Ch,ko]=Bo(ue),ic=Dt.forwardRef((n,o)=>{const{__scopeAccordion:i,disabled:s,dir:c,orientation:m="vertical",...p}=n,f=Dt.useRef(null),h=pe(f,o),g=_h(i),v=ir(c)==="ltr",y=Rt(n.onKeyDown,b=>{var W;if(!xh.includes(b.key))return;const T=b.target,P=g().filter(et=>{var U;return!((U=et.ref.current)!=null&&U.disabled)}),A=P.findIndex(et=>et.ref.current===T),k=P.length;if(A===-1)return;b.preventDefault();let S=A;const N=0,M=k-1,E=()=>{S=A+1,S>M&&(S=N)},R=()=>{S=A-1,S<N&&(S=M)};switch(b.key){case"Home":S=N;break;case"End":S=M;break;case"ArrowRight":m==="horizontal"&&(v?E():R());break;case"ArrowDown":m==="vertical"&&E();break;case"ArrowLeft":m==="horizontal"&&(v?R():E());break;case"ArrowUp":m==="vertical"&&R();break}const j=S%k;(W=P[j].ref.current)==null||W.focus()});return d.jsx(Ch,{scope:i,disabled:s,direction:c,orientation:m,children:d.jsx(ei.Slot,{scope:i,children:d.jsx(Pt.div,{...p,"data-orientation":m,ref:h,onKeyDown:s?void 0:y})})})}),po="AccordionItem",[Th,oi]=Bo(po),sc=Dt.forwardRef((n,o)=>{const{__scopeAccordion:i,value:s,...c}=n,m=ko(po,i),p=yh(po,i),f=ni(i),h=Ra(),g=s&&p.value.includes(s)||!1,_=m.disabled||n.disabled;return d.jsx(Th,{scope:i,open:g,disabled:_,triggerId:h,children:d.jsx(hh,{"data-orientation":m.orientation,"data-state":pc(g),...f,...c,ref:o,disabled:_,open:g,onOpenChange:v=>{v?p.onItemOpen(s):p.onItemClose(s)}})})});sc.displayName=po;var rc="AccordionHeader",cc=Dt.forwardRef((n,o)=>{const{__scopeAccordion:i,...s}=n,c=ko(ue,i),m=oi(rc,i);return d.jsx(Pt.h3,{"data-orientation":c.orientation,"data-state":pc(m.open),"data-disabled":m.disabled?"":void 0,...s,ref:o})});cc.displayName=rc;var Ma="AccordionTrigger",lc=Dt.forwardRef((n,o)=>{const{__scopeAccordion:i,...s}=n,c=ko(ue,i),m=oi(Ma,i),p=wh(Ma,i),f=ni(i);return d.jsx(ei.ItemSlot,{scope:i,children:d.jsx(fh,{"aria-disabled":m.open&&!p.collapsible||void 0,"data-orientation":c.orientation,id:m.triggerId,...f,...s,ref:o})})});lc.displayName=Ma;var dc="AccordionContent",mc=Dt.forwardRef((n,o)=>{const{__scopeAccordion:i,...s}=n,c=ko(ue,i),m=oi(dc,i),p=ni(i);return d.jsx(gh,{role:"region","aria-labelledby":m.triggerId,"data-orientation":c.orientation,...p,...s,ref:o,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...n.style}})});mc.displayName=dc;function pc(n){return n?"open":"closed"}var Dh=nc,Sh=sc,Ah=cc,uc=lc,hc=mc;const Nh=Dh,Cn=w.forwardRef(({className:n,...o},i)=>d.jsx(Sh,{ref:i,className:bt("border-b",n),...o}));Cn.displayName="AccordionItem";const Tn=w.forwardRef(({className:n,children:o,...i},s)=>d.jsx(Ah,{className:"flex",children:d.jsxs(uc,{ref:s,className:bt("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",n),...i,children:[o,d.jsx(Ud,{"data-component-path":"src\\components\\ui\\accordion.tsx","data-component-name":"ChevronDown","data-component-line":"35","data-component-file":"accordion.tsx","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%20shrink-0%20transition-transform%20duration-200%22%7D",className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Tn.displayName=uc.displayName;const Dn=w.forwardRef(({className:n,children:o,...i},s)=>d.jsx(hc,{ref:s,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...i,children:d.jsx("div",{"data-component-path":"src\\components\\ui\\accordion.tsx","data-component-name":"div","data-component-line":"50","data-component-file":"accordion.tsx","data-component-content":"%7B%7D",className:bt("pb-4 pt-0",n),children:o})}));Dn.displayName=hc.displayName;function Lh(n,o=[]){let i=[];function s(m,p){const f=w.createContext(p),h=i.length;i=[...i,p];function g(v){const{scope:y,children:b,...T}=v,P=(y==null?void 0:y[n][h])||f,A=w.useMemo(()=>T,Object.values(T));return d.jsx(P.Provider,{value:A,children:b})}function _(v,y){const b=(y==null?void 0:y[n][h])||f,T=w.useContext(b);if(T)return T;if(p!==void 0)return p;throw new Error(`\`${v}\` must be used within \`${m}\``)}return g.displayName=m+"Provider",[g,_]}const c=()=>{const m=i.map(p=>w.createContext(p));return function(f){const h=(f==null?void 0:f[n])||m;return w.useMemo(()=>({[`__scope${n}`]:{...f,[n]:h}}),[f,h])}};return c.scopeName=n,[s,Mh(c,...o)]}function Mh(...n){const o=n[0];if(n.length===1)return o;const i=()=>{const s=n.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(m){const p=s.reduce((f,{useScope:h,scopeName:g})=>{const v=h(m)[`__scope${g}`];return{...f,...v}},{});return w.useMemo(()=>({[`__scope${o.scopeName}`]:p}),[p])}};return i.scopeName=o.scopeName,i}var ai="Progress",ii=100,[Bh,z2]=Lh(ai),[kh,Eh]=Bh(ai),fc=w.forwardRef((n,o)=>{const{__scopeProgress:i,value:s=null,max:c,getValueLabel:m=Ih,...p}=n;(c||c===0)&&!Hs(c)&&console.error(jh(`${c}`,"Progress"));const f=Hs(c)?c:ii;s!==null&&!Ws(s,f)&&console.error(Oh(`${s}`,"Progress"));const h=Ws(s,f)?s:null,g=uo(h)?m(h,f):void 0;return d.jsx(kh,{scope:i,value:h,max:f,children:d.jsx(Pt.div,{"aria-valuemax":f,"aria-valuemin":0,"aria-valuenow":uo(h)?h:void 0,"aria-valuetext":g,role:"progressbar","data-state":_c(h,f),"data-value":h??void 0,"data-max":f,...p,ref:o})})});fc.displayName=ai;var gc="ProgressIndicator",xc=w.forwardRef((n,o)=>{const{__scopeProgress:i,...s}=n,c=Eh(gc,i);return d.jsx(Pt.div,{"data-state":_c(c.value,c.max),"data-value":c.value??void 0,"data-max":c.max,...s,ref:o})});xc.displayName=gc;function Ih(n,o){return`${Math.round(n/o*100)}%`}function _c(n,o){return n==null?"indeterminate":n===o?"complete":"loading"}function uo(n){return typeof n=="number"}function Hs(n){return uo(n)&&!isNaN(n)&&n>0}function Ws(n,o){return uo(n)&&!isNaN(n)&&n<=o&&n>=0}function jh(n,o){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${o}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${ii}\`.`}function Oh(n,o){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${o}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${ii} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var vc=fc,Rh=xc;const yc=w.forwardRef(({className:n,value:o,...i},s)=>d.jsx(vc,{ref:s,className:bt("relative h-4 w-full overflow-hidden rounded-full bg-secondary",n),...i,children:d.jsx(Rh,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(o||0)}%)`}})}));yc.displayName=vc.displayName;const Fh=({pickupLocation:n,dropLocation:o,pickupAddress:i,dropAddress:s,onPickupSelect:c,onDropSelect:m,onSelectingPickup:p,onSelectingDrop:f})=>{const{toast:h}=St(),[g,_]=w.useState(!1),{updateTruckType:v}=yo(),[y,b]=w.useState("location"),[T,P]=w.useState(25),A=$d({resolver:Gd(dh),defaultValues:{userName:"",phone:"",vehicleMake:"",vehicleModel:"",vehicleYear:"",vehicleColor:"",truckType:"A",issueDescription:""}}),k=M=>{A.setValue("vehicleModel",M)},S=A.handleSubmit(async M=>{_(!0);try{h({title:"Procesando solicitud",description:"Tu solicitud está siendo procesada..."})}catch(E){console.error("Error submitting form:",E)}finally{_(!1)}}),N=M=>{switch(b(M),M){case"location":P(25);break;case"user":P(50);break;case"vehicle":P(75);break;case"truck":P(100);break}};return d.jsx(qd,{"data-component-path":"src\\components\\VehicleForm.tsx","data-component-name":"FormProvider","data-component-line":"102","data-component-file":"VehicleForm.tsx","data-component-content":"%7B%7D",...A,children:d.jsx(Yd,{"data-component-path":"src\\components\\VehicleForm.tsx","data-component-name":"Form","data-component-line":"103","data-component-file":"VehicleForm.tsx","data-component-content":"%7B%7D",...A,children:d.jsxs("form",{"data-component-path":"src\\components\\VehicleForm.tsx","data-component-name":"form","data-component-line":"104","data-component-file":"VehicleForm.tsx","data-component-content":"%7B%22className%22%3A%22space-y-8%20w-full%20max-w-4xl%20mx-auto%22%7D",onSubmit:S,className:"space-y-8 w-full max-w-4xl mx-auto",children:[d.jsx(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:d.jsx(yc,{"data-component-path":"src\\components\\VehicleForm.tsx","data-component-name":"Progress","data-component-line":"110","data-component-file":"VehicleForm.tsx","data-component-content":"%7B%22className%22%3A%22h-2%20bg-primary%2F20%22%7D",value:T,className:"h-2 bg-primary/20"})}),d.jsxs(Nh,{"data-component-path":"src\\components\\VehicleForm.tsx","data-component-name":"Accordion","data-component-line":"113","data-component-file":"VehicleForm.tsx","data-component-content":"%7B%22className%22%3A%22space-y-4%22%7D",type:"single",collapsible:!0,value:y,onValueChange:N,className:"space-y-4",children:[d.jsxs(Cn,{"data-component-path":"src\\components\\VehicleForm.tsx","data-component-name":"AccordionItem","data-component-line":"120","data-component-file":"VehicleForm.tsx","data-component-content":"%7B%7D",value:"location",children:[d.jsx(Tn,{"data-component-path":"src\\components\\VehicleForm.tsx","data-component-name":"AccordionTrigger","data-component-line":"121","data-component-file":"VehicleForm.tsx","data-component-content":"%7B%22className%22%3A%22hover%3Ano-underline%22%7D",className:"hover:no-underline",children:d.jsxs("div",{"data-component-path":"src\\components\\VehicleForm.tsx","data-component-name":"div","data-component-line":"122","data-component-file":"VehicleForm.tsx","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%20text-lg%20font-semibold%22%7D",className:"flex items-center gap-2 text-lg font-semibold",children:[d.jsx(te,{"data-component-path":"src\\components\\VehicleForm.tsx","data-component-name":"MapPin","data-component-line":"123","data-component-file":"VehicleForm.tsx","data-component-content":"%7B%22className%22%3A%22h-5%20w-5%20text-primary%22%7D",className:"h-5 w-5 text-primary"}),d.jsx("span",{"data-component-path":"src\\components\\VehicleForm.tsx","data-component-name":"span","data-component-line":"124","data-component-file":"VehicleForm.tsx","data-component-content":"%7B%22text%22%3A%22Ubicaci%C3%B3n%22%7D",children:"Ubicación"})]})}),d.jsx(Dn,{"data-component-path":"src\\components\\VehicleForm.tsx","data-component-name":"AccordionContent","data-component-line":"127","data-component-file":"VehicleForm.tsx","data-component-content":"%7B%7D",children:d.jsx(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:d.jsx(Ht,{"data-component-path":"src\\components\\VehicleForm.tsx","data-component-name":"Card","data-component-line":"133","data-component-file":"VehicleForm.tsx","data-component-content":"%7B%22className%22%3A%22p-6%20bg-gradient-to-br%20from-white%2F95%20to-blue-50%2F30%20shadow-lg%20hover%3Ashadow-xl%20transition-all%20duration-300%20backdrop-blur-sm%20border%20border-primary%2F10%22%7D",className:"p-6 bg-gradient-to-br from-white/95 to-blue-50/30 shadow-lg hover:shadow-xl transition-all duration-300 backdrop-blur-sm border border-primary/10",children:d.jsx(Yu,{"data-component-path":"src\\components\\VehicleForm.tsx","data-component-name":"LocationSelector","data-component-line":"134","data-component-file":"VehicleForm.tsx","data-component-content":"%7B%7D",form:A,pickupLocation:n,dropLocation:o,pickupAddress:i,dropAddress:s,onPickupSelect:c,onDropSelect:m,onSelectingPickup:p,onSelectingDrop:f})})})})]}),d.jsxs(Cn,{"data-component-path":"src\\components\\VehicleForm.tsx","data-component-name":"AccordionItem","data-component-line":"150","data-component-file":"VehicleForm.tsx","data-component-content":"%7B%7D",value:"user",children:[d.jsx(Tn,{"data-component-path":"src\\components\\VehicleForm.tsx","data-component-name":"AccordionTrigger","data-component-line":"151","data-component-file":"VehicleForm.tsx","data-component-content":"%7B%22className%22%3A%22hover%3Ano-underline%22%7D",className:"hover:no-underline",children:d.jsxs("div",{"data-component-path":"src\\components\\VehicleForm.tsx","data-component-name":"div","data-component-line":"152","data-component-file":"VehicleForm.tsx","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%20text-lg%20font-semibold%22%7D",className:"flex items-center gap-2 text-lg font-semibold",children:[d.jsx(Xd,{"data-component-path":"src\\components\\VehicleForm.tsx","data-component-name":"User","data-component-line":"153","data-component-file":"VehicleForm.tsx","data-component-content":"%7B%22className%22%3A%22h-5%20w-5%20text-primary%22%7D",className:"h-5 w-5 text-primary"}),d.jsx("span",{"data-component-path":"src\\components\\VehicleForm.tsx","data-component-name":"span","data-component-line":"154","data-component-file":"VehicleForm.tsx","data-component-content":"%7B%22text%22%3A%22Informaci%C3%B3n%20Personal%22%7D",children:"Información Personal"})]})}),d.jsx(Dn,{"data-component-path":"src\\components\\VehicleForm.tsx","data-component-name":"AccordionContent","data-component-line":"157","data-component-file":"VehicleForm.tsx","data-component-content":"%7B%7D",children:d.jsx(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:d.jsx(Ht,{"data-component-path":"src\\components\\VehicleForm.tsx","data-component-name":"Card","data-component-line":"163","data-component-file":"VehicleForm.tsx","data-component-content":"%7B%22className%22%3A%22p-6%20bg-gradient-to-br%20from-white%2F95%20to-blue-50%2F30%20shadow-lg%20hover%3Ashadow-xl%20transition-all%20duration-300%20backdrop-blur-sm%20border%20border-primary%2F10%22%7D",className:"p-6 bg-gradient-to-br from-white/95 to-blue-50/30 shadow-lg hover:shadow-xl transition-all duration-300 backdrop-blur-sm border border-primary/10",children:d.jsx(Qu,{"data-component-path":"src\\components\\VehicleForm.tsx","data-component-name":"UserInfoFields","data-component-line":"164","data-component-file":"VehicleForm.tsx","data-component-content":"%7B%7D",form:A})})})})]}),d.jsxs(Cn,{"data-component-path":"src\\components\\VehicleForm.tsx","data-component-name":"AccordionItem","data-component-line":"170","data-component-file":"VehicleForm.tsx","data-component-content":"%7B%7D",value:"vehicle",children:[d.jsx(Tn,{"data-component-path":"src\\components\\VehicleForm.tsx","data-component-name":"AccordionTrigger","data-component-line":"171","data-component-file":"VehicleForm.tsx","data-component-content":"%7B%22className%22%3A%22hover%3Ano-underline%22%7D",className:"hover:no-underline",children:d.jsxs("div",{"data-component-path":"src\\components\\VehicleForm.tsx","data-component-name":"div","data-component-line":"172","data-component-file":"VehicleForm.tsx","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%20text-lg%20font-semibold%22%7D",className:"flex items-center gap-2 text-lg font-semibold",children:[d.jsx(am,{"data-component-path":"src\\components\\VehicleForm.tsx","data-component-name":"Car","data-component-line":"173","data-component-file":"VehicleForm.tsx","data-component-content":"%7B%22className%22%3A%22h-5%20w-5%20text-primary%22%7D",className:"h-5 w-5 text-primary"}),d.jsx("span",{"data-component-path":"src\\components\\VehicleForm.tsx","data-component-name":"span","data-component-line":"174","data-component-file":"VehicleForm.tsx","data-component-content":"%7B%22text%22%3A%22Detalles%20del%20Veh%C3%ADculo%22%7D",children:"Detalles del Vehículo"})]})}),d.jsx(Dn,{"data-component-path":"src\\components\\VehicleForm.tsx","data-component-name":"AccordionContent","data-component-line":"177","data-component-file":"VehicleForm.tsx","data-component-content":"%7B%7D",children:d.jsx(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:d.jsx(Ht,{"data-component-path":"src\\components\\VehicleForm.tsx","data-component-name":"Card","data-component-line":"183","data-component-file":"VehicleForm.tsx","data-component-content":"%7B%22className%22%3A%22p-6%20bg-gradient-to-br%20from-white%2F95%20to-blue-50%2F30%20shadow-lg%20hover%3Ashadow-xl%20transition-all%20duration-300%20backdrop-blur-sm%20border%20border-primary%2F10%22%7D",className:"p-6 bg-gradient-to-br from-white/95 to-blue-50/30 shadow-lg hover:shadow-xl transition-all duration-300 backdrop-blur-sm border border-primary/10",children:d.jsx(Ku,{"data-component-path":"src\\components\\VehicleForm.tsx","data-component-name":"VehicleBasicFields","data-component-line":"184","data-component-file":"VehicleForm.tsx","data-component-content":"%7B%7D",form:A,onVehicleModelChange:k})})})})]}),d.jsxs(Cn,{"data-component-path":"src\\components\\VehicleForm.tsx","data-component-name":"AccordionItem","data-component-line":"193","data-component-file":"VehicleForm.tsx","data-component-content":"%7B%7D",value:"truck",children:[d.jsx(Tn,{"data-component-path":"src\\components\\VehicleForm.tsx","data-component-name":"AccordionTrigger","data-component-line":"194","data-component-file":"VehicleForm.tsx","data-component-content":"%7B%22className%22%3A%22hover%3Ano-underline%22%7D",className:"hover:no-underline",children:d.jsxs("div",{"data-component-path":"src\\components\\VehicleForm.tsx","data-component-name":"div","data-component-line":"195","data-component-file":"VehicleForm.tsx","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%20text-lg%20font-semibold%22%7D",className:"flex items-center gap-2 text-lg font-semibold",children:[d.jsx(Sa,{"data-component-path":"src\\components\\VehicleForm.tsx","data-component-name":"Truck","data-component-line":"196","data-component-file":"VehicleForm.tsx","data-component-content":"%7B%22className%22%3A%22h-5%20w-5%20text-primary%22%7D",className:"h-5 w-5 text-primary"}),d.jsx("span",{"data-component-path":"src\\components\\VehicleForm.tsx","data-component-name":"span","data-component-line":"197","data-component-file":"VehicleForm.tsx","data-component-content":"%7B%22text%22%3A%22Selecci%C3%B3n%20de%20Gr%C3%BAa%22%7D",children:"Selección de Grúa"})]})}),d.jsx(Dn,{"data-component-path":"src\\components\\VehicleForm.tsx","data-component-name":"AccordionContent","data-component-line":"200","data-component-file":"VehicleForm.tsx","data-component-content":"%7B%7D",children:d.jsx(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:d.jsx(Ht,{"data-component-path":"src\\components\\VehicleForm.tsx","data-component-name":"Card","data-component-line":"206","data-component-file":"VehicleForm.tsx","data-component-content":"%7B%22className%22%3A%22p-6%20bg-gradient-to-br%20from-white%2F95%20to-blue-50%2F30%20shadow-lg%20hover%3Ashadow-xl%20transition-all%20duration-300%20backdrop-blur-sm%20border%20border-primary%2F10%22%7D",className:"p-6 bg-gradient-to-br from-white/95 to-blue-50/30 shadow-lg hover:shadow-xl transition-all duration-300 backdrop-blur-sm border border-primary/10",children:d.jsx(lh,{"data-component-path":"src\\components\\VehicleForm.tsx","data-component-name":"TowTruckSelector","data-component-line":"207","data-component-file":"VehicleForm.tsx","data-component-content":"%7B%7D",form:A,onTruckTypeChange:v,selectedModel:A.watch("vehicleModel")})})})})]})]})]})})})},zh=({pickupLocation:n,dropLocation:o,pickupAddress:i,dropAddress:s})=>!n&&!o?null:d.jsxs(Ht,{"data-component-path":"src\\components\\panels\\LocationDetailsPanel.tsx","data-component-name":"Card","data-component-line":"21","data-component-file":"LocationDetailsPanel.tsx","data-component-content":"%7B%22className%22%3A%22bg-white%2F95%20backdrop-blur-sm%20p-4%20shadow-lg%20border-blue-100%2F50%20max-w-sm%20mx-auto%22%7D",className:"bg-white/95 backdrop-blur-sm p-4 shadow-lg border-blue-100/50 max-w-sm mx-auto",children:[n&&d.jsxs("div",{"data-component-path":"src\\components\\panels\\LocationDetailsPanel.tsx","data-component-name":"div","data-component-line":"23","data-component-file":"LocationDetailsPanel.tsx","data-component-content":"%7B%22className%22%3A%22flex%20items-start%20gap-2%20mb-4%22%7D",className:"flex items-start gap-2 mb-4",children:[d.jsx(te,{"data-component-path":"src\\components\\panels\\LocationDetailsPanel.tsx","data-component-name":"MapPin","data-component-line":"24","data-component-file":"LocationDetailsPanel.tsx","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20mt-1%20text-green-500%20flex-shrink-0%22%7D",className:"w-5 h-5 mt-1 text-green-500 flex-shrink-0"}),d.jsxs("div",{"data-component-path":"src\\components\\panels\\LocationDetailsPanel.tsx","data-component-name":"div","data-component-line":"25","data-component-file":"LocationDetailsPanel.tsx","data-component-content":"%7B%7D",children:[d.jsx("div",{"data-component-path":"src\\components\\panels\\LocationDetailsPanel.tsx","data-component-name":"div","data-component-line":"26","data-component-file":"LocationDetailsPanel.tsx","data-component-content":"%7B%22text%22%3A%22Punto%20de%20Recogida%22%2C%22className%22%3A%22font-semibold%20text-shadow-sm%22%7D",className:"font-semibold text-shadow-sm",children:"Punto de Recogida"}),d.jsx("div",{"data-component-path":"src\\components\\panels\\LocationDetailsPanel.tsx","data-component-name":"div","data-component-line":"27","data-component-file":"LocationDetailsPanel.tsx","data-component-content":"%7B%22className%22%3A%22text-sm%20text-gray-600%20break-words%20text-shadow-sm%22%7D",className:"text-sm text-gray-600 break-words text-shadow-sm",children:i}),d.jsxs("div",{"data-component-path":"src\\components\\panels\\LocationDetailsPanel.tsx","data-component-name":"div","data-component-line":"30","data-component-file":"LocationDetailsPanel.tsx","data-component-content":"%7B%22text%22%3A%22%2C%22%2C%22className%22%3A%22text-xs%20text-gray-500%20mt-1%22%7D",className:"text-xs text-gray-500 mt-1",children:[n.lat.toFixed(6),", ",n.lng.toFixed(6)]})]})]}),o&&d.jsxs("div",{"data-component-path":"src\\components\\panels\\LocationDetailsPanel.tsx","data-component-name":"div","data-component-line":"38","data-component-file":"LocationDetailsPanel.tsx","data-component-content":"%7B%22className%22%3A%22flex%20items-start%20gap-2%22%7D",className:"flex items-start gap-2",children:[d.jsx(bo,{"data-component-path":"src\\components\\panels\\LocationDetailsPanel.tsx","data-component-name":"Navigation","data-component-line":"39","data-component-file":"LocationDetailsPanel.tsx","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20mt-1%20text-red-500%20flex-shrink-0%22%7D",className:"w-5 h-5 mt-1 text-red-500 flex-shrink-0"}),d.jsxs("div",{"data-component-path":"src\\components\\panels\\LocationDetailsPanel.tsx","data-component-name":"div","data-component-line":"40","data-component-file":"LocationDetailsPanel.tsx","data-component-content":"%7B%7D",children:[d.jsx("div",{"data-component-path":"src\\components\\panels\\LocationDetailsPanel.tsx","data-component-name":"div","data-component-line":"41","data-component-file":"LocationDetailsPanel.tsx","data-component-content":"%7B%22text%22%3A%22Punto%20de%20Entrega%22%2C%22className%22%3A%22font-semibold%20text-shadow-sm%22%7D",className:"font-semibold text-shadow-sm",children:"Punto de Entrega"}),d.jsx("div",{"data-component-path":"src\\components\\panels\\LocationDetailsPanel.tsx","data-component-name":"div","data-component-line":"42","data-component-file":"LocationDetailsPanel.tsx","data-component-content":"%7B%22className%22%3A%22text-sm%20text-gray-600%20break-words%20text-shadow-sm%22%7D",className:"text-sm text-gray-600 break-words text-shadow-sm",children:s}),d.jsxs("div",{"data-component-path":"src\\components\\panels\\LocationDetailsPanel.tsx","data-component-name":"div","data-component-line":"45","data-component-file":"LocationDetailsPanel.tsx","data-component-content":"%7B%22text%22%3A%22%2C%22%2C%22className%22%3A%22text-xs%20text-gray-500%20mt-1%22%7D",className:"text-xs text-gray-500 mt-1",children:[o.lat.toFixed(6),", ",o.lng.toFixed(6)]})]})]})]}),Zh=({pickupLocation:n,dropLocation:o,pickupAddress:i,dropAddress:s,onPickupSelect:c,onDropSelect:m,onSelectingPickup:p,onSelectingDrop:f,steps:h})=>d.jsxs(d.Fragment,{children:[d.jsx(kr,{"data-component-path":"src\\components\\panels\\ServiceDetailsPanel.tsx","data-component-name":"PaymentSteps","data-component-line":"31","data-component-file":"ServiceDetailsPanel.tsx","data-component-content":"%7B%7D",currentStep:0,steps:h}),d.jsx(Fh,{"data-component-path":"src\\components\\panels\\ServiceDetailsPanel.tsx","data-component-name":"VehicleForm","data-component-line":"32","data-component-file":"ServiceDetailsPanel.tsx","data-component-content":"%7B%7D",pickupLocation:n,dropLocation:o,pickupAddress:i,dropAddress:s,onPickupSelect:c,onDropSelect:m,onSelectingPickup:p,onSelectingDrop:f}),d.jsx(zh,{"data-component-path":"src\\components\\panels\\ServiceDetailsPanel.tsx","data-component-name":"LocationDetailsPanel","data-component-line":"42","data-component-file":"ServiceDetailsPanel.tsx","data-component-content":"%7B%7D",pickupLocation:n,dropLocation:o,pickupAddress:i,dropAddress:s})]}),Vh=({onShowPayment:n,subtotal:o,tax:i,finalTotal:s})=>d.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[d.jsxs("div",{"data-component-path":"src\\components\\CostEstimation.tsx","data-component-name":"div","data-component-line":"24","data-component-file":"CostEstimation.tsx","data-component-content":"%7B%22className%22%3A%22space-y-2%22%7D",className:"space-y-2",children:[d.jsxs("div",{"data-component-path":"src\\components\\CostEstimation.tsx","data-component-name":"div","data-component-line":"25","data-component-file":"CostEstimation.tsx","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20text-sm%22%7D",className:"flex justify-between text-sm",children:[d.jsx("span",{"data-component-path":"src\\components\\CostEstimation.tsx","data-component-name":"span","data-component-line":"26","data-component-file":"CostEstimation.tsx","data-component-content":"%7B%22text%22%3A%22Subtotal%3A%22%7D",children:"Subtotal:"}),d.jsx("span",{"data-component-path":"src\\components\\CostEstimation.tsx","data-component-name":"span","data-component-line":"27","data-component-file":"CostEstimation.tsx","data-component-content":"%7B%7D",children:Ca(o)})]}),d.jsxs("div",{"data-component-path":"src\\components\\CostEstimation.tsx","data-component-name":"div","data-component-line":"29","data-component-file":"CostEstimation.tsx","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20text-sm%20text-gray-600%22%7D",className:"flex justify-between text-sm text-gray-600",children:[d.jsx("span",{"data-component-path":"src\\components\\CostEstimation.tsx","data-component-name":"span","data-component-line":"30","data-component-file":"CostEstimation.tsx","data-component-content":"%7B%22text%22%3A%22IVA%20(16%25)%3A%22%7D",children:"IVA (16%):"}),d.jsx("span",{"data-component-path":"src\\components\\CostEstimation.tsx","data-component-name":"span","data-component-line":"31","data-component-file":"CostEstimation.tsx","data-component-content":"%7B%7D",children:Ca(i)})]}),d.jsxs("div",{"data-component-path":"src\\components\\CostEstimation.tsx","data-component-name":"div","data-component-line":"33","data-component-file":"CostEstimation.tsx","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20text-lg%20font-bold%20pt-2%20border-t%22%7D",className:"flex justify-between text-lg font-bold pt-2 border-t",children:[d.jsx("span",{"data-component-path":"src\\components\\CostEstimation.tsx","data-component-name":"span","data-component-line":"34","data-component-file":"CostEstimation.tsx","data-component-content":"%7B%22text%22%3A%22Total%3A%22%7D",children:"Total:"}),d.jsx("span",{"data-component-path":"src\\components\\CostEstimation.tsx","data-component-name":"span","data-component-line":"35","data-component-file":"CostEstimation.tsx","data-component-content":"%7B%22className%22%3A%22text-primary%22%7D",className:"text-primary",children:Ca(s)})]})]}),d.jsx(we,{"data-component-path":"src\\components\\CostEstimation.tsx","data-component-name":"Button","data-component-line":"39","data-component-file":"CostEstimation.tsx","data-component-content":"%7B%22text%22%3A%22Proceder%20al%20pago%22%2C%22className%22%3A%22w-full%20bg-primary%20hover%3Abg-primary%2F90%22%7D",onClick:n,className:"w-full bg-primary hover:bg-primary/90",children:"Proceder al pago"})]}),ro=({label:n,amount:o,icon:i,indent:s=!1,description:c,className:m=""})=>d.jsxs(Q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:`flex flex-col gap-1 ${s?"pl-4":""} ${m}`,children:[d.jsxs("div",{"data-component-path":"src\\components\\cost\\CostItemDisplay.tsx","data-component-name":"div","data-component-line":"28","data-component-file":"CostItemDisplay.tsx","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20items-center%20text-sm%20text-gray-600%22%7D",className:"flex justify-between items-center text-sm text-gray-600",children:[d.jsxs("div",{"data-component-path":"src\\components\\cost\\CostItemDisplay.tsx","data-component-name":"div","data-component-line":"29","data-component-file":"CostItemDisplay.tsx","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%22%7D",className:"flex items-center gap-2",children:[i,d.jsx("span",{"data-component-path":"src\\components\\cost\\CostItemDisplay.tsx","data-component-name":"span","data-component-line":"31","data-component-file":"CostItemDisplay.tsx","data-component-content":"%7B%7D",children:n})]}),d.jsx("span",{"data-component-path":"src\\components\\cost\\CostItemDisplay.tsx","data-component-name":"span","data-component-line":"33","data-component-file":"CostItemDisplay.tsx","data-component-content":"%7B%22className%22%3A%22font-medium%22%7D",className:"font-medium",children:Qe(o)})]}),c&&d.jsx("p",{"data-component-path":"src\\components\\cost\\CostItemDisplay.tsx","data-component-name":"p","data-component-line":"36","data-component-file":"CostItemDisplay.tsx","data-component-content":"%7B%22className%22%3A%22text-xs%20text-gray-500%20italic%22%7D",className:"text-xs text-gray-500 italic",children:c})]}),Hh=n=>n.reduce((o,i)=>o+i.cost,0),Wh=["top","right","bottom","left"],be=Math.min,Mt=Math.max,ho=Math.round,io=Math.floor,Kt=n=>({x:n,y:n}),Uh={left:"right",right:"left",bottom:"top",top:"bottom"},$h={start:"end",end:"start"};function Ba(n,o,i){return Mt(n,be(o,i))}function de(n,o){return typeof n=="function"?n(o):n}function me(n){return n.split("-")[0]}function sn(n){return n.split("-")[1]}function si(n){return n==="x"?"y":"x"}function ri(n){return n==="y"?"height":"width"}function Pe(n){return["top","bottom"].includes(me(n))?"y":"x"}function ci(n){return si(Pe(n))}function Gh(n,o,i){i===void 0&&(i=!1);const s=sn(n),c=ci(n),m=ri(c);let p=c==="x"?s===(i?"end":"start")?"right":"left":s==="start"?"bottom":"top";return o.reference[m]>o.floating[m]&&(p=fo(p)),[p,fo(p)]}function qh(n){const o=fo(n);return[ka(n),o,ka(o)]}function ka(n){return n.replace(/start|end/g,o=>$h[o])}function Yh(n,o,i){const s=["left","right"],c=["right","left"],m=["top","bottom"],p=["bottom","top"];switch(n){case"top":case"bottom":return i?o?c:s:o?s:c;case"left":case"right":return o?m:p;default:return[]}}function Xh(n,o,i,s){const c=sn(n);let m=Yh(me(n),i==="start",s);return c&&(m=m.map(p=>p+"-"+c),o&&(m=m.concat(m.map(ka)))),m}function fo(n){return n.replace(/left|right|bottom|top/g,o=>Uh[o])}function Kh(n){return{top:0,right:0,bottom:0,left:0,...n}}function wc(n){return typeof n!="number"?Kh(n):{top:n,right:n,bottom:n,left:n}}function go(n){const{x:o,y:i,width:s,height:c}=n;return{width:s,height:c,top:i,left:o,right:o+s,bottom:i+c,x:o,y:i}}function Us(n,o,i){let{reference:s,floating:c}=n;const m=Pe(o),p=ci(o),f=ri(p),h=me(o),g=m==="y",_=s.x+s.width/2-c.width/2,v=s.y+s.height/2-c.height/2,y=s[f]/2-c[f]/2;let b;switch(h){case"top":b={x:_,y:s.y-c.height};break;case"bottom":b={x:_,y:s.y+s.height};break;case"right":b={x:s.x+s.width,y:v};break;case"left":b={x:s.x-c.width,y:v};break;default:b={x:s.x,y:s.y}}switch(sn(o)){case"start":b[p]-=y*(i&&g?-1:1);break;case"end":b[p]+=y*(i&&g?-1:1);break}return b}const Qh=async(n,o,i)=>{const{placement:s="bottom",strategy:c="absolute",middleware:m=[],platform:p}=i,f=m.filter(Boolean),h=await(p.isRTL==null?void 0:p.isRTL(o));let g=await p.getElementRects({reference:n,floating:o,strategy:c}),{x:_,y:v}=Us(g,s,h),y=s,b={},T=0;for(let P=0;P<f.length;P++){const{name:A,fn:k}=f[P],{x:S,y:N,data:M,reset:E}=await k({x:_,y:v,initialPlacement:s,placement:y,strategy:c,middlewareData:b,rects:g,platform:p,elements:{reference:n,floating:o}});_=S??_,v=N??v,b={...b,[A]:{...b[A],...M}},E&&T<=50&&(T++,typeof E=="object"&&(E.placement&&(y=E.placement),E.rects&&(g=E.rects===!0?await p.getElementRects({reference:n,floating:o,strategy:c}):E.rects),{x:_,y:v}=Us(g,y,h)),P=-1)}return{x:_,y:v,placement:y,strategy:c,middlewareData:b}};async function En(n,o){var i;o===void 0&&(o={});const{x:s,y:c,platform:m,rects:p,elements:f,strategy:h}=n,{boundary:g="clippingAncestors",rootBoundary:_="viewport",elementContext:v="floating",altBoundary:y=!1,padding:b=0}=de(o,n),T=wc(b),A=f[y?v==="floating"?"reference":"floating":v],k=go(await m.getClippingRect({element:(i=await(m.isElement==null?void 0:m.isElement(A)))==null||i?A:A.contextElement||await(m.getDocumentElement==null?void 0:m.getDocumentElement(f.floating)),boundary:g,rootBoundary:_,strategy:h})),S=v==="floating"?{x:s,y:c,width:p.floating.width,height:p.floating.height}:p.reference,N=await(m.getOffsetParent==null?void 0:m.getOffsetParent(f.floating)),M=await(m.isElement==null?void 0:m.isElement(N))?await(m.getScale==null?void 0:m.getScale(N))||{x:1,y:1}:{x:1,y:1},E=go(m.convertOffsetParentRelativeRectToViewportRelativeRect?await m.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:S,offsetParent:N,strategy:h}):S);return{top:(k.top-E.top+T.top)/M.y,bottom:(E.bottom-k.bottom+T.bottom)/M.y,left:(k.left-E.left+T.left)/M.x,right:(E.right-k.right+T.right)/M.x}}const Jh=n=>({name:"arrow",options:n,async fn(o){const{x:i,y:s,placement:c,rects:m,platform:p,elements:f,middlewareData:h}=o,{element:g,padding:_=0}=de(n,o)||{};if(g==null)return{};const v=wc(_),y={x:i,y:s},b=ci(c),T=ri(b),P=await p.getDimensions(g),A=b==="y",k=A?"top":"left",S=A?"bottom":"right",N=A?"clientHeight":"clientWidth",M=m.reference[T]+m.reference[b]-y[b]-m.floating[T],E=y[b]-m.reference[b],R=await(p.getOffsetParent==null?void 0:p.getOffsetParent(g));let j=R?R[N]:0;(!j||!await(p.isElement==null?void 0:p.isElement(R)))&&(j=f.floating[N]||m.floating[T]);const W=M/2-E/2,et=j/2-P[T]/2-1,U=be(v[k],et),G=be(v[S],et),tt=U,rt=j-P[T]-G,Y=j/2-P[T]/2+W,xt=Ba(tt,Y,rt),X=!h.arrow&&sn(c)!=null&&Y!==xt&&m.reference[T]/2-(Y<tt?U:G)-P[T]/2<0,it=X?Y<tt?Y-tt:Y-rt:0;return{[b]:y[b]+it,data:{[b]:xt,centerOffset:Y-xt-it,...X&&{alignmentOffset:it}},reset:X}}}),tf=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(o){var i,s;const{placement:c,middlewareData:m,rects:p,initialPlacement:f,platform:h,elements:g}=o,{mainAxis:_=!0,crossAxis:v=!0,fallbackPlacements:y,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:P=!0,...A}=de(n,o);if((i=m.arrow)!=null&&i.alignmentOffset)return{};const k=me(c),S=Pe(f),N=me(f)===f,M=await(h.isRTL==null?void 0:h.isRTL(g.floating)),E=y||(N||!P?[fo(f)]:qh(f)),R=T!=="none";!y&&R&&E.push(...Xh(f,P,T,M));const j=[f,...E],W=await En(o,A),et=[];let U=((s=m.flip)==null?void 0:s.overflows)||[];if(_&&et.push(W[k]),v){const Y=Gh(c,p,M);et.push(W[Y[0]],W[Y[1]])}if(U=[...U,{placement:c,overflows:et}],!et.every(Y=>Y<=0)){var G,tt;const Y=(((G=m.flip)==null?void 0:G.index)||0)+1,xt=j[Y];if(xt)return{data:{index:Y,overflows:U},reset:{placement:xt}};let X=(tt=U.filter(it=>it.overflows[0]<=0).sort((it,I)=>it.overflows[1]-I.overflows[1])[0])==null?void 0:tt.placement;if(!X)switch(b){case"bestFit":{var rt;const it=(rt=U.filter(I=>{if(R){const lt=Pe(I.placement);return lt===S||lt==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(lt=>lt>0).reduce((lt,F)=>lt+F,0)]).sort((I,lt)=>I[1]-lt[1])[0])==null?void 0:rt[0];it&&(X=it);break}case"initialPlacement":X=f;break}if(c!==X)return{reset:{placement:X}}}return{}}}};function $s(n,o){return{top:n.top-o.height,right:n.right-o.width,bottom:n.bottom-o.height,left:n.left-o.width}}function Gs(n){return Wh.some(o=>n[o]>=0)}const ef=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(o){const{rects:i}=o,{strategy:s="referenceHidden",...c}=de(n,o);switch(s){case"referenceHidden":{const m=await En(o,{...c,elementContext:"reference"}),p=$s(m,i.reference);return{data:{referenceHiddenOffsets:p,referenceHidden:Gs(p)}}}case"escaped":{const m=await En(o,{...c,altBoundary:!0}),p=$s(m,i.floating);return{data:{escapedOffsets:p,escaped:Gs(p)}}}default:return{}}}}};async function nf(n,o){const{placement:i,platform:s,elements:c}=n,m=await(s.isRTL==null?void 0:s.isRTL(c.floating)),p=me(i),f=sn(i),h=Pe(i)==="y",g=["left","top"].includes(p)?-1:1,_=m&&h?-1:1,v=de(o,n);let{mainAxis:y,crossAxis:b,alignmentAxis:T}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return f&&typeof T=="number"&&(b=f==="end"?T*-1:T),h?{x:b*_,y:y*g}:{x:y*g,y:b*_}}const of=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(o){var i,s;const{x:c,y:m,placement:p,middlewareData:f}=o,h=await nf(o,n);return p===((i=f.offset)==null?void 0:i.placement)&&(s=f.arrow)!=null&&s.alignmentOffset?{}:{x:c+h.x,y:m+h.y,data:{...h,placement:p}}}}},af=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(o){const{x:i,y:s,placement:c}=o,{mainAxis:m=!0,crossAxis:p=!1,limiter:f={fn:A=>{let{x:k,y:S}=A;return{x:k,y:S}}},...h}=de(n,o),g={x:i,y:s},_=await En(o,h),v=Pe(me(c)),y=si(v);let b=g[y],T=g[v];if(m){const A=y==="y"?"top":"left",k=y==="y"?"bottom":"right",S=b+_[A],N=b-_[k];b=Ba(S,b,N)}if(p){const A=v==="y"?"top":"left",k=v==="y"?"bottom":"right",S=T+_[A],N=T-_[k];T=Ba(S,T,N)}const P=f.fn({...o,[y]:b,[v]:T});return{...P,data:{x:P.x-i,y:P.y-s,enabled:{[y]:m,[v]:p}}}}}},sf=function(n){return n===void 0&&(n={}),{options:n,fn(o){const{x:i,y:s,placement:c,rects:m,middlewareData:p}=o,{offset:f=0,mainAxis:h=!0,crossAxis:g=!0}=de(n,o),_={x:i,y:s},v=Pe(c),y=si(v);let b=_[y],T=_[v];const P=de(f,o),A=typeof P=="number"?{mainAxis:P,crossAxis:0}:{mainAxis:0,crossAxis:0,...P};if(h){const N=y==="y"?"height":"width",M=m.reference[y]-m.floating[N]+A.mainAxis,E=m.reference[y]+m.reference[N]-A.mainAxis;b<M?b=M:b>E&&(b=E)}if(g){var k,S;const N=y==="y"?"width":"height",M=["top","left"].includes(me(c)),E=m.reference[v]-m.floating[N]+(M&&((k=p.offset)==null?void 0:k[v])||0)+(M?0:A.crossAxis),R=m.reference[v]+m.reference[N]+(M?0:((S=p.offset)==null?void 0:S[v])||0)-(M?A.crossAxis:0);T<E?T=E:T>R&&(T=R)}return{[y]:b,[v]:T}}}},rf=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(o){var i,s;const{placement:c,rects:m,platform:p,elements:f}=o,{apply:h=()=>{},...g}=de(n,o),_=await En(o,g),v=me(c),y=sn(c),b=Pe(c)==="y",{width:T,height:P}=m.floating;let A,k;v==="top"||v==="bottom"?(A=v,k=y===(await(p.isRTL==null?void 0:p.isRTL(f.floating))?"start":"end")?"left":"right"):(k=v,A=y==="end"?"top":"bottom");const S=P-_.top-_.bottom,N=T-_.left-_.right,M=be(P-_[A],S),E=be(T-_[k],N),R=!o.middlewareData.shift;let j=M,W=E;if((i=o.middlewareData.shift)!=null&&i.enabled.x&&(W=N),(s=o.middlewareData.shift)!=null&&s.enabled.y&&(j=S),R&&!y){const U=Mt(_.left,0),G=Mt(_.right,0),tt=Mt(_.top,0),rt=Mt(_.bottom,0);b?W=T-2*(U!==0||G!==0?U+G:Mt(_.left,_.right)):j=P-2*(tt!==0||rt!==0?tt+rt:Mt(_.top,_.bottom))}await h({...o,availableWidth:W,availableHeight:j});const et=await p.getDimensions(f.floating);return T!==et.width||P!==et.height?{reset:{rects:!0}}:{}}}};function Eo(){return typeof window<"u"}function rn(n){return bc(n)?(n.nodeName||"").toLowerCase():"#document"}function kt(n){var o;return(n==null||(o=n.ownerDocument)==null?void 0:o.defaultView)||window}function oe(n){var o;return(o=(bc(n)?n.ownerDocument:n.document)||window.document)==null?void 0:o.documentElement}function bc(n){return Eo()?n instanceof Node||n instanceof kt(n).Node:!1}function Wt(n){return Eo()?n instanceof Element||n instanceof kt(n).Element:!1}function Qt(n){return Eo()?n instanceof HTMLElement||n instanceof kt(n).HTMLElement:!1}function qs(n){return!Eo()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof kt(n).ShadowRoot}function jn(n){const{overflow:o,overflowX:i,overflowY:s,display:c}=Ut(n);return/auto|scroll|overlay|hidden|clip/.test(o+s+i)&&!["inline","contents"].includes(c)}function cf(n){return["table","td","th"].includes(rn(n))}function Io(n){return[":popover-open",":modal"].some(o=>{try{return n.matches(o)}catch{return!1}})}function li(n){const o=di(),i=Wt(n)?Ut(n):n;return i.transform!=="none"||i.perspective!=="none"||(i.containerType?i.containerType!=="normal":!1)||!o&&(i.backdropFilter?i.backdropFilter!=="none":!1)||!o&&(i.filter?i.filter!=="none":!1)||["transform","perspective","filter"].some(s=>(i.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(i.contain||"").includes(s))}function lf(n){let o=Ce(n);for(;Qt(o)&&!en(o);){if(li(o))return o;if(Io(o))return null;o=Ce(o)}return null}function di(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function en(n){return["html","body","#document"].includes(rn(n))}function Ut(n){return kt(n).getComputedStyle(n)}function jo(n){return Wt(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Ce(n){if(rn(n)==="html")return n;const o=n.assignedSlot||n.parentNode||qs(n)&&n.host||oe(n);return qs(o)?o.host:o}function Pc(n){const o=Ce(n);return en(o)?n.ownerDocument?n.ownerDocument.body:n.body:Qt(o)&&jn(o)?o:Pc(o)}function In(n,o,i){var s;o===void 0&&(o=[]),i===void 0&&(i=!0);const c=Pc(n),m=c===((s=n.ownerDocument)==null?void 0:s.body),p=kt(c);if(m){const f=Ea(p);return o.concat(p,p.visualViewport||[],jn(c)?c:[],f&&i?In(f):[])}return o.concat(c,In(c,[],i))}function Ea(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function Cc(n){const o=Ut(n);let i=parseFloat(o.width)||0,s=parseFloat(o.height)||0;const c=Qt(n),m=c?n.offsetWidth:i,p=c?n.offsetHeight:s,f=ho(i)!==m||ho(s)!==p;return f&&(i=m,s=p),{width:i,height:s,$:f}}function mi(n){return Wt(n)?n:n.contextElement}function Je(n){const o=mi(n);if(!Qt(o))return Kt(1);const i=o.getBoundingClientRect(),{width:s,height:c,$:m}=Cc(o);let p=(m?ho(i.width):i.width)/s,f=(m?ho(i.height):i.height)/c;return(!p||!Number.isFinite(p))&&(p=1),(!f||!Number.isFinite(f))&&(f=1),{x:p,y:f}}const df=Kt(0);function Tc(n){const o=kt(n);return!di()||!o.visualViewport?df:{x:o.visualViewport.offsetLeft,y:o.visualViewport.offsetTop}}function mf(n,o,i){return o===void 0&&(o=!1),!i||o&&i!==kt(n)?!1:o}function Be(n,o,i,s){o===void 0&&(o=!1),i===void 0&&(i=!1);const c=n.getBoundingClientRect(),m=mi(n);let p=Kt(1);o&&(s?Wt(s)&&(p=Je(s)):p=Je(n));const f=mf(m,i,s)?Tc(m):Kt(0);let h=(c.left+f.x)/p.x,g=(c.top+f.y)/p.y,_=c.width/p.x,v=c.height/p.y;if(m){const y=kt(m),b=s&&Wt(s)?kt(s):s;let T=y,P=Ea(T);for(;P&&s&&b!==T;){const A=Je(P),k=P.getBoundingClientRect(),S=Ut(P),N=k.left+(P.clientLeft+parseFloat(S.paddingLeft))*A.x,M=k.top+(P.clientTop+parseFloat(S.paddingTop))*A.y;h*=A.x,g*=A.y,_*=A.x,v*=A.y,h+=N,g+=M,T=kt(P),P=Ea(T)}}return go({width:_,height:v,x:h,y:g})}function pi(n,o){const i=jo(n).scrollLeft;return o?o.left+i:Be(oe(n)).left+i}function Dc(n,o,i){i===void 0&&(i=!1);const s=n.getBoundingClientRect(),c=s.left+o.scrollLeft-(i?0:pi(n,s)),m=s.top+o.scrollTop;return{x:c,y:m}}function pf(n){let{elements:o,rect:i,offsetParent:s,strategy:c}=n;const m=c==="fixed",p=oe(s),f=o?Io(o.floating):!1;if(s===p||f&&m)return i;let h={scrollLeft:0,scrollTop:0},g=Kt(1);const _=Kt(0),v=Qt(s);if((v||!v&&!m)&&((rn(s)!=="body"||jn(p))&&(h=jo(s)),Qt(s))){const b=Be(s);g=Je(s),_.x=b.x+s.clientLeft,_.y=b.y+s.clientTop}const y=p&&!v&&!m?Dc(p,h,!0):Kt(0);return{width:i.width*g.x,height:i.height*g.y,x:i.x*g.x-h.scrollLeft*g.x+_.x+y.x,y:i.y*g.y-h.scrollTop*g.y+_.y+y.y}}function uf(n){return Array.from(n.getClientRects())}function hf(n){const o=oe(n),i=jo(n),s=n.ownerDocument.body,c=Mt(o.scrollWidth,o.clientWidth,s.scrollWidth,s.clientWidth),m=Mt(o.scrollHeight,o.clientHeight,s.scrollHeight,s.clientHeight);let p=-i.scrollLeft+pi(n);const f=-i.scrollTop;return Ut(s).direction==="rtl"&&(p+=Mt(o.clientWidth,s.clientWidth)-c),{width:c,height:m,x:p,y:f}}function ff(n,o){const i=kt(n),s=oe(n),c=i.visualViewport;let m=s.clientWidth,p=s.clientHeight,f=0,h=0;if(c){m=c.width,p=c.height;const g=di();(!g||g&&o==="fixed")&&(f=c.offsetLeft,h=c.offsetTop)}return{width:m,height:p,x:f,y:h}}function gf(n,o){const i=Be(n,!0,o==="fixed"),s=i.top+n.clientTop,c=i.left+n.clientLeft,m=Qt(n)?Je(n):Kt(1),p=n.clientWidth*m.x,f=n.clientHeight*m.y,h=c*m.x,g=s*m.y;return{width:p,height:f,x:h,y:g}}function Ys(n,o,i){let s;if(o==="viewport")s=ff(n,i);else if(o==="document")s=hf(oe(n));else if(Wt(o))s=gf(o,i);else{const c=Tc(n);s={x:o.x-c.x,y:o.y-c.y,width:o.width,height:o.height}}return go(s)}function Sc(n,o){const i=Ce(n);return i===o||!Wt(i)||en(i)?!1:Ut(i).position==="fixed"||Sc(i,o)}function xf(n,o){const i=o.get(n);if(i)return i;let s=In(n,[],!1).filter(f=>Wt(f)&&rn(f)!=="body"),c=null;const m=Ut(n).position==="fixed";let p=m?Ce(n):n;for(;Wt(p)&&!en(p);){const f=Ut(p),h=li(p);!h&&f.position==="fixed"&&(c=null),(m?!h&&!c:!h&&f.position==="static"&&!!c&&["absolute","fixed"].includes(c.position)||jn(p)&&!h&&Sc(n,p))?s=s.filter(_=>_!==p):c=f,p=Ce(p)}return o.set(n,s),s}function _f(n){let{element:o,boundary:i,rootBoundary:s,strategy:c}=n;const p=[...i==="clippingAncestors"?Io(o)?[]:xf(o,this._c):[].concat(i),s],f=p[0],h=p.reduce((g,_)=>{const v=Ys(o,_,c);return g.top=Mt(v.top,g.top),g.right=be(v.right,g.right),g.bottom=be(v.bottom,g.bottom),g.left=Mt(v.left,g.left),g},Ys(o,f,c));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function vf(n){const{width:o,height:i}=Cc(n);return{width:o,height:i}}function yf(n,o,i){const s=Qt(o),c=oe(o),m=i==="fixed",p=Be(n,!0,m,o);let f={scrollLeft:0,scrollTop:0};const h=Kt(0);if(s||!s&&!m)if((rn(o)!=="body"||jn(c))&&(f=jo(o)),s){const y=Be(o,!0,m,o);h.x=y.x+o.clientLeft,h.y=y.y+o.clientTop}else c&&(h.x=pi(c));const g=c&&!s&&!m?Dc(c,f):Kt(0),_=p.left+f.scrollLeft-h.x-g.x,v=p.top+f.scrollTop-h.y-g.y;return{x:_,y:v,width:p.width,height:p.height}}function Ta(n){return Ut(n).position==="static"}function Xs(n,o){if(!Qt(n)||Ut(n).position==="fixed")return null;if(o)return o(n);let i=n.offsetParent;return oe(n)===i&&(i=i.ownerDocument.body),i}function Ac(n,o){const i=kt(n);if(Io(n))return i;if(!Qt(n)){let c=Ce(n);for(;c&&!en(c);){if(Wt(c)&&!Ta(c))return c;c=Ce(c)}return i}let s=Xs(n,o);for(;s&&cf(s)&&Ta(s);)s=Xs(s,o);return s&&en(s)&&Ta(s)&&!li(s)?i:s||lf(n)||i}const wf=async function(n){const o=this.getOffsetParent||Ac,i=this.getDimensions,s=await i(n.floating);return{reference:yf(n.reference,await o(n.floating),n.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function bf(n){return Ut(n).direction==="rtl"}const Pf={convertOffsetParentRelativeRectToViewportRelativeRect:pf,getDocumentElement:oe,getClippingRect:_f,getOffsetParent:Ac,getElementRects:wf,getClientRects:uf,getDimensions:vf,getScale:Je,isElement:Wt,isRTL:bf};function Cf(n,o){let i=null,s;const c=oe(n);function m(){var f;clearTimeout(s),(f=i)==null||f.disconnect(),i=null}function p(f,h){f===void 0&&(f=!1),h===void 0&&(h=1),m();const{left:g,top:_,width:v,height:y}=n.getBoundingClientRect();if(f||o(),!v||!y)return;const b=io(_),T=io(c.clientWidth-(g+v)),P=io(c.clientHeight-(_+y)),A=io(g),S={rootMargin:-b+"px "+-T+"px "+-P+"px "+-A+"px",threshold:Mt(0,be(1,h))||1};let N=!0;function M(E){const R=E[0].intersectionRatio;if(R!==h){if(!N)return p();R?p(!1,R):s=setTimeout(()=>{p(!1,1e-7)},1e3)}N=!1}try{i=new IntersectionObserver(M,{...S,root:c.ownerDocument})}catch{i=new IntersectionObserver(M,S)}i.observe(n)}return p(!0),m}function Tf(n,o,i,s){s===void 0&&(s={});const{ancestorScroll:c=!0,ancestorResize:m=!0,elementResize:p=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:h=!1}=s,g=mi(n),_=c||m?[...g?In(g):[],...In(o)]:[];_.forEach(k=>{c&&k.addEventListener("scroll",i,{passive:!0}),m&&k.addEventListener("resize",i)});const v=g&&f?Cf(g,i):null;let y=-1,b=null;p&&(b=new ResizeObserver(k=>{let[S]=k;S&&S.target===g&&b&&(b.unobserve(o),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var N;(N=b)==null||N.observe(o)})),i()}),g&&!h&&b.observe(g),b.observe(o));let T,P=h?Be(n):null;h&&A();function A(){const k=Be(n);P&&(k.x!==P.x||k.y!==P.y||k.width!==P.width||k.height!==P.height)&&i(),P=k,T=requestAnimationFrame(A)}return i(),()=>{var k;_.forEach(S=>{c&&S.removeEventListener("scroll",i),m&&S.removeEventListener("resize",i)}),v==null||v(),(k=b)==null||k.disconnect(),b=null,h&&cancelAnimationFrame(T)}}const Df=of,Sf=af,Af=tf,Nf=rf,Lf=ef,Ks=Jh,Mf=sf,Bf=(n,o,i)=>{const s=new Map,c={platform:Pf,...i},m={...c.platform,_c:s};return Qh(n,o,{...c,platform:m})};var co=typeof document<"u"?w.useLayoutEffect:w.useEffect;function xo(n,o){if(n===o)return!0;if(typeof n!=typeof o)return!1;if(typeof n=="function"&&n.toString()===o.toString())return!0;let i,s,c;if(n&&o&&typeof n=="object"){if(Array.isArray(n)){if(i=n.length,i!==o.length)return!1;for(s=i;s--!==0;)if(!xo(n[s],o[s]))return!1;return!0}if(c=Object.keys(n),i=c.length,i!==Object.keys(o).length)return!1;for(s=i;s--!==0;)if(!{}.hasOwnProperty.call(o,c[s]))return!1;for(s=i;s--!==0;){const m=c[s];if(!(m==="_owner"&&n.$$typeof)&&!xo(n[m],o[m]))return!1}return!0}return n!==n&&o!==o}function Nc(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Qs(n,o){const i=Nc(n);return Math.round(o*i)/i}function Da(n){const o=w.useRef(n);return co(()=>{o.current=n}),o}function kf(n){n===void 0&&(n={});const{placement:o="bottom",strategy:i="absolute",middleware:s=[],platform:c,elements:{reference:m,floating:p}={},transform:f=!0,whileElementsMounted:h,open:g}=n,[_,v]=w.useState({x:0,y:0,strategy:i,placement:o,middlewareData:{},isPositioned:!1}),[y,b]=w.useState(s);xo(y,s)||b(s);const[T,P]=w.useState(null),[A,k]=w.useState(null),S=w.useCallback(I=>{I!==R.current&&(R.current=I,P(I))},[]),N=w.useCallback(I=>{I!==j.current&&(j.current=I,k(I))},[]),M=m||T,E=p||A,R=w.useRef(null),j=w.useRef(null),W=w.useRef(_),et=h!=null,U=Da(h),G=Da(c),tt=Da(g),rt=w.useCallback(()=>{if(!R.current||!j.current)return;const I={placement:o,strategy:i,middleware:y};G.current&&(I.platform=G.current),Bf(R.current,j.current,I).then(lt=>{const F={...lt,isPositioned:tt.current!==!1};Y.current&&!xo(W.current,F)&&(W.current=F,_o.flushSync(()=>{v(F)}))})},[y,o,i,G,tt]);co(()=>{g===!1&&W.current.isPositioned&&(W.current.isPositioned=!1,v(I=>({...I,isPositioned:!1})))},[g]);const Y=w.useRef(!1);co(()=>(Y.current=!0,()=>{Y.current=!1}),[]),co(()=>{if(M&&(R.current=M),E&&(j.current=E),M&&E){if(U.current)return U.current(M,E,rt);rt()}},[M,E,rt,U,et]);const xt=w.useMemo(()=>({reference:R,floating:j,setReference:S,setFloating:N}),[S,N]),X=w.useMemo(()=>({reference:M,floating:E}),[M,E]),it=w.useMemo(()=>{const I={position:i,left:0,top:0};if(!X.floating)return I;const lt=Qs(X.floating,_.x),F=Qs(X.floating,_.y);return f?{...I,transform:"translate("+lt+"px, "+F+"px)",...Nc(X.floating)>=1.5&&{willChange:"transform"}}:{position:i,left:lt,top:F}},[i,f,X.floating,_.x,_.y]);return w.useMemo(()=>({..._,update:rt,refs:xt,elements:X,floatingStyles:it}),[_,rt,xt,X,it])}const Ef=n=>{function o(i){return{}.hasOwnProperty.call(i,"current")}return{name:"arrow",options:n,fn(i){const{element:s,padding:c}=typeof n=="function"?n(i):n;return s&&o(s)?s.current!=null?Ks({element:s.current,padding:c}).fn(i):{}:s?Ks({element:s,padding:c}).fn(i):{}}}},If=(n,o)=>({...Df(n),options:[n,o]}),jf=(n,o)=>({...Sf(n),options:[n,o]}),Of=(n,o)=>({...Mf(n),options:[n,o]}),Rf=(n,o)=>({...Af(n),options:[n,o]}),Ff=(n,o)=>({...Nf(n),options:[n,o]}),zf=(n,o)=>({...Lf(n),options:[n,o]}),Zf=(n,o)=>({...Ef(n),options:[n,o]});var Vf="Arrow",Lc=w.forwardRef((n,o)=>{const{children:i,width:s=10,height:c=5,...m}=n;return d.jsx(Pt.svg,{...m,ref:o,width:s,height:c,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?i:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});Lc.displayName=Vf;var Hf=Lc;function Wf(n,o=[]){let i=[];function s(m,p){const f=w.createContext(p),h=i.length;i=[...i,p];function g(v){const{scope:y,children:b,...T}=v,P=(y==null?void 0:y[n][h])||f,A=w.useMemo(()=>T,Object.values(T));return d.jsx(P.Provider,{value:A,children:b})}function _(v,y){const b=(y==null?void 0:y[n][h])||f,T=w.useContext(b);if(T)return T;if(p!==void 0)return p;throw new Error(`\`${v}\` must be used within \`${m}\``)}return g.displayName=m+"Provider",[g,_]}const c=()=>{const m=i.map(p=>w.createContext(p));return function(f){const h=(f==null?void 0:f[n])||m;return w.useMemo(()=>({[`__scope${n}`]:{...f,[n]:h}}),[f,h])}};return c.scopeName=n,[s,Uf(c,...o)]}function Uf(...n){const o=n[0];if(n.length===1)return o;const i=()=>{const s=n.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(m){const p=s.reduce((f,{useScope:h,scopeName:g})=>{const v=h(m)[`__scope${g}`];return{...f,...v}},{});return w.useMemo(()=>({[`__scope${o.scopeName}`]:p}),[p])}};return i.scopeName=o.scopeName,i}var ui="Popper",[Mc,Bc]=Wf(ui),[$f,kc]=Mc(ui),Ec=n=>{const{__scopePopper:o,children:i}=n,[s,c]=w.useState(null);return d.jsx($f,{scope:o,anchor:s,onAnchorChange:c,children:i})};Ec.displayName=ui;var Ic="PopperAnchor",jc=w.forwardRef((n,o)=>{const{__scopePopper:i,virtualRef:s,...c}=n,m=kc(Ic,i),p=w.useRef(null),f=pe(o,p);return w.useEffect(()=>{m.onAnchorChange((s==null?void 0:s.current)||p.current)}),s?null:d.jsx(Pt.div,{...c,ref:f})});jc.displayName=Ic;var hi="PopperContent",[Gf,qf]=Mc(hi),Oc=w.forwardRef((n,o)=>{var Et,Ft,cn,Ie,je,he;const{__scopePopper:i,side:s="bottom",sideOffset:c=0,align:m="center",alignOffset:p=0,arrowPadding:f=0,avoidCollisions:h=!0,collisionBoundary:g=[],collisionPadding:_=0,sticky:v="partial",hideWhenDetached:y=!1,updatePositionStrategy:b="optimized",onPlaced:T,...P}=n,A=kc(hi,i),[k,S]=w.useState(null),N=pe(o,ae=>S(ae)),[M,E]=w.useState(null),R=qa(M),j=(R==null?void 0:R.width)??0,W=(R==null?void 0:R.height)??0,et=s+(m!=="center"?"-"+m:""),U=typeof _=="number"?_:{top:0,right:0,bottom:0,left:0,..._},G=Array.isArray(g)?g:[g],tt=G.length>0,rt={padding:U,boundary:G.filter(Xf),altBoundary:tt},{refs:Y,floatingStyles:xt,placement:X,isPositioned:it,middlewareData:I}=kf({strategy:"fixed",placement:et,whileElementsMounted:(...ae)=>Tf(...ae,{animationFrame:b==="always"}),elements:{reference:A.anchor},middleware:[If({mainAxis:c+W,alignmentAxis:p}),h&&jf({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?Of():void 0,...rt}),h&&Rf({...rt}),Ff({...rt,apply:({elements:ae,rects:On,availableWidth:Rn,availableHeight:Fn})=>{const{width:ln,height:Oe}=On.reference,Re=ae.floating.style;Re.setProperty("--radix-popper-available-width",`${Rn}px`),Re.setProperty("--radix-popper-available-height",`${Fn}px`),Re.setProperty("--radix-popper-anchor-width",`${ln}px`),Re.setProperty("--radix-popper-anchor-height",`${Oe}px`)}}),M&&Zf({element:M,padding:f}),Kf({arrowWidth:j,arrowHeight:W}),y&&zf({strategy:"referenceHidden",...rt})]}),[lt,F]=zc(X),at=Cd(T);lo(()=>{it&&(at==null||at())},[it,at]);const vt=(Et=I.arrow)==null?void 0:Et.x,yt=(Ft=I.arrow)==null?void 0:Ft.y,dt=((cn=I.arrow)==null?void 0:cn.centerOffset)!==0,[nt,q]=w.useState();return lo(()=>{k&&q(window.getComputedStyle(k).zIndex)},[k]),d.jsx("div",{ref:Y.setFloating,"data-radix-popper-content-wrapper":"",style:{...xt,transform:it?xt.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:nt,"--radix-popper-transform-origin":[(Ie=I.transformOrigin)==null?void 0:Ie.x,(je=I.transformOrigin)==null?void 0:je.y].join(" "),...((he=I.hide)==null?void 0:he.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:d.jsx(Gf,{scope:i,placedSide:lt,onArrowChange:E,arrowX:vt,arrowY:yt,shouldHideArrow:dt,children:d.jsx(Pt.div,{"data-side":lt,"data-align":F,...P,ref:N,style:{...P.style,animation:it?void 0:"none"}})})})});Oc.displayName=hi;var Rc="PopperArrow",Yf={top:"bottom",right:"left",bottom:"top",left:"right"},Fc=w.forwardRef(function(o,i){const{__scopePopper:s,...c}=o,m=qf(Rc,s),p=Yf[m.placedSide];return d.jsx("span",{ref:m.onArrowChange,style:{position:"absolute",left:m.arrowX,top:m.arrowY,[p]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[m.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[m.placedSide],visibility:m.shouldHideArrow?"hidden":void 0},children:d.jsx(Hf,{...c,ref:i,style:{...c.style,display:"block"}})})});Fc.displayName=Rc;function Xf(n){return n!==null}var Kf=n=>({name:"transformOrigin",options:n,fn(o){var A,k,S;const{placement:i,rects:s,middlewareData:c}=o,p=((A=c.arrow)==null?void 0:A.centerOffset)!==0,f=p?0:n.arrowWidth,h=p?0:n.arrowHeight,[g,_]=zc(i),v={start:"0%",center:"50%",end:"100%"}[_],y=(((k=c.arrow)==null?void 0:k.x)??0)+f/2,b=(((S=c.arrow)==null?void 0:S.y)??0)+h/2;let T="",P="";return g==="bottom"?(T=p?v:`${y}px`,P=`${-h}px`):g==="top"?(T=p?v:`${y}px`,P=`${s.floating.height+h}px`):g==="right"?(T=`${-h}px`,P=p?v:`${b}px`):g==="left"&&(T=`${s.floating.width+h}px`,P=p?v:`${b}px`),{data:{x:T,y:P}}}});function zc(n){const[o,i="center"]=n.split("-");return[o,i]}var Qf=Ec,Jf=jc,t2=Oc,e2=Fc,[Oo,Z2]=on("Tooltip",[Bc]),Ro=Bc(),Zc="TooltipProvider",n2=700,Ia="tooltip.open",[o2,fi]=Oo(Zc),Vc=n=>{const{__scopeTooltip:o,delayDuration:i=n2,skipDelayDuration:s=300,disableHoverableContent:c=!1,children:m}=n,[p,f]=w.useState(!0),h=w.useRef(!1),g=w.useRef(0);return w.useEffect(()=>{const _=g.current;return()=>window.clearTimeout(_)},[]),d.jsx(o2,{scope:o,isOpenDelayed:p,delayDuration:i,onOpen:w.useCallback(()=>{window.clearTimeout(g.current),f(!1)},[]),onClose:w.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>f(!0),s)},[s]),isPointerInTransitRef:h,onPointerInTransitChange:w.useCallback(_=>{h.current=_},[]),disableHoverableContent:c,children:m})};Vc.displayName=Zc;var Fo="Tooltip",[a2,zo]=Oo(Fo),Hc=n=>{const{__scopeTooltip:o,children:i,open:s,defaultOpen:c=!1,onOpenChange:m,disableHoverableContent:p,delayDuration:f}=n,h=fi(Fo,n.__scopeTooltip),g=Ro(o),[_,v]=w.useState(null),y=Ra(),b=w.useRef(0),T=p??h.disableHoverableContent,P=f??h.delayDuration,A=w.useRef(!1),[k=!1,S]=an({prop:s,defaultProp:c,onChange:j=>{j?(h.onOpen(),document.dispatchEvent(new CustomEvent(Ia))):h.onClose(),m==null||m(j)}}),N=w.useMemo(()=>k?A.current?"delayed-open":"instant-open":"closed",[k]),M=w.useCallback(()=>{window.clearTimeout(b.current),b.current=0,A.current=!1,S(!0)},[S]),E=w.useCallback(()=>{window.clearTimeout(b.current),b.current=0,S(!1)},[S]),R=w.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{A.current=!0,S(!0),b.current=0},P)},[P,S]);return w.useEffect(()=>()=>{b.current&&(window.clearTimeout(b.current),b.current=0)},[]),d.jsx(Qf,{...g,children:d.jsx(a2,{scope:o,contentId:y,open:k,stateAttribute:N,trigger:_,onTriggerChange:v,onTriggerEnter:w.useCallback(()=>{h.isOpenDelayed?R():M()},[h.isOpenDelayed,R,M]),onTriggerLeave:w.useCallback(()=>{T?E():(window.clearTimeout(b.current),b.current=0)},[E,T]),onOpen:M,onClose:E,disableHoverableContent:T,children:i})})};Hc.displayName=Fo;var ja="TooltipTrigger",Wc=w.forwardRef((n,o)=>{const{__scopeTooltip:i,...s}=n,c=zo(ja,i),m=fi(ja,i),p=Ro(i),f=w.useRef(null),h=pe(o,f,c.onTriggerChange),g=w.useRef(!1),_=w.useRef(!1),v=w.useCallback(()=>g.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),d.jsx(Jf,{asChild:!0,...p,children:d.jsx(Pt.button,{"aria-describedby":c.open?c.contentId:void 0,"data-state":c.stateAttribute,...s,ref:h,onPointerMove:Rt(n.onPointerMove,y=>{y.pointerType!=="touch"&&!_.current&&!m.isPointerInTransitRef.current&&(c.onTriggerEnter(),_.current=!0)}),onPointerLeave:Rt(n.onPointerLeave,()=>{c.onTriggerLeave(),_.current=!1}),onPointerDown:Rt(n.onPointerDown,()=>{g.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:Rt(n.onFocus,()=>{g.current||c.onOpen()}),onBlur:Rt(n.onBlur,c.onClose),onClick:Rt(n.onClick,c.onClose)})})});Wc.displayName=ja;var i2="TooltipPortal",[V2,s2]=Oo(i2,{forceMount:void 0}),nn="TooltipContent",Uc=w.forwardRef((n,o)=>{const i=s2(nn,n.__scopeTooltip),{forceMount:s=i.forceMount,side:c="top",...m}=n,p=zo(nn,n.__scopeTooltip);return d.jsx(Oa,{present:s||p.open,children:p.disableHoverableContent?d.jsx($c,{side:c,...m,ref:o}):d.jsx(r2,{side:c,...m,ref:o})})}),r2=w.forwardRef((n,o)=>{const i=zo(nn,n.__scopeTooltip),s=fi(nn,n.__scopeTooltip),c=w.useRef(null),m=pe(o,c),[p,f]=w.useState(null),{trigger:h,onClose:g}=i,_=c.current,{onPointerInTransitChange:v}=s,y=w.useCallback(()=>{f(null),v(!1)},[v]),b=w.useCallback((T,P)=>{const A=T.currentTarget,k={x:T.clientX,y:T.clientY},S=m2(k,A.getBoundingClientRect()),N=p2(k,S),M=u2(P.getBoundingClientRect()),E=f2([...N,...M]);f(E),v(!0)},[v]);return w.useEffect(()=>()=>y(),[y]),w.useEffect(()=>{if(h&&_){const T=A=>b(A,_),P=A=>b(A,h);return h.addEventListener("pointerleave",T),_.addEventListener("pointerleave",P),()=>{h.removeEventListener("pointerleave",T),_.removeEventListener("pointerleave",P)}}},[h,_,b,y]),w.useEffect(()=>{if(p){const T=P=>{const A=P.target,k={x:P.clientX,y:P.clientY},S=(h==null?void 0:h.contains(A))||(_==null?void 0:_.contains(A)),N=!h2(k,p);S?y():N&&(y(),g())};return document.addEventListener("pointermove",T),()=>document.removeEventListener("pointermove",T)}},[h,_,p,g,y]),d.jsx($c,{...n,ref:m})}),[c2,l2]=Oo(Fo,{isInside:!1}),$c=w.forwardRef((n,o)=>{const{__scopeTooltip:i,children:s,"aria-label":c,onEscapeKeyDown:m,onPointerDownOutside:p,...f}=n,h=zo(nn,i),g=Ro(i),{onClose:_}=h;return w.useEffect(()=>(document.addEventListener(Ia,_),()=>document.removeEventListener(Ia,_)),[_]),w.useEffect(()=>{if(h.trigger){const v=y=>{const b=y.target;b!=null&&b.contains(h.trigger)&&_()};return window.addEventListener("scroll",v,{capture:!0}),()=>window.removeEventListener("scroll",v,{capture:!0})}},[h.trigger,_]),d.jsx(Td,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:m,onPointerDownOutside:p,onFocusOutside:v=>v.preventDefault(),onDismiss:_,children:d.jsxs(t2,{"data-state":h.stateAttribute,...g,...f,ref:o,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(Dd,{children:s}),d.jsx(c2,{scope:i,isInside:!0,children:d.jsx(Kd,{id:h.contentId,role:"tooltip",children:c||s})})]})})});Uc.displayName=nn;var Gc="TooltipArrow",d2=w.forwardRef((n,o)=>{const{__scopeTooltip:i,...s}=n,c=Ro(i);return l2(Gc,i).isInside?null:d.jsx(e2,{...c,...s,ref:o})});d2.displayName=Gc;function m2(n,o){const i=Math.abs(o.top-n.y),s=Math.abs(o.bottom-n.y),c=Math.abs(o.right-n.x),m=Math.abs(o.left-n.x);switch(Math.min(i,s,c,m)){case m:return"left";case c:return"right";case i:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function p2(n,o,i=5){const s=[];switch(o){case"top":s.push({x:n.x-i,y:n.y+i},{x:n.x+i,y:n.y+i});break;case"bottom":s.push({x:n.x-i,y:n.y-i},{x:n.x+i,y:n.y-i});break;case"left":s.push({x:n.x+i,y:n.y-i},{x:n.x+i,y:n.y+i});break;case"right":s.push({x:n.x-i,y:n.y-i},{x:n.x-i,y:n.y+i});break}return s}function u2(n){const{top:o,right:i,bottom:s,left:c}=n;return[{x:c,y:o},{x:i,y:o},{x:i,y:s},{x:c,y:s}]}function h2(n,o){const{x:i,y:s}=n;let c=!1;for(let m=0,p=o.length-1;m<o.length;p=m++){const f=o[m].x,h=o[m].y,g=o[p].x,_=o[p].y;h>s!=_>s&&i<(g-f)*(s-h)/(_-h)+f&&(c=!c)}return c}function f2(n){const o=n.slice();return o.sort((i,s)=>i.x<s.x?-1:i.x>s.x?1:i.y<s.y?-1:i.y>s.y?1:0),g2(o)}function g2(n){if(n.length<=1)return n.slice();const o=[];for(let s=0;s<n.length;s++){const c=n[s];for(;o.length>=2;){const m=o[o.length-1],p=o[o.length-2];if((m.x-p.x)*(c.y-p.y)>=(m.y-p.y)*(c.x-p.x))o.pop();else break}o.push(c)}o.pop();const i=[];for(let s=n.length-1;s>=0;s--){const c=n[s];for(;i.length>=2;){const m=i[i.length-1],p=i[i.length-2];if((m.x-p.x)*(c.y-p.y)>=(m.y-p.y)*(c.x-p.x))i.pop();else break}i.push(c)}return i.pop(),o.length===1&&i.length===1&&o[0].x===i[0].x&&o[0].y===i[0].y?o:o.concat(i)}var x2=Vc,_2=Hc,v2=Wc,qc=Uc;const Yc=x2,Sn=_2,An=v2,Xe=w.forwardRef(({className:n,sideOffset:o=4,...i},s)=>d.jsx(qc,{ref:s,sideOffset:o,className:bt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...i}));Xe.displayName=qc.displayName;const Js=({tolls:n,direction:o})=>{if(n.length===0)return null;const i=o==="outbound",s=i?d.jsx(Qd,{"data-component-path":"src\\components\\cost\\TollBreakdownSection.tsx","data-component-name":"ArrowRight","data-component-line":"28","data-component-file":"TollBreakdownSection.tsx","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D",className:"w-4 h-4"}):d.jsx(Jd,{"data-component-path":"src\\components\\cost\\TollBreakdownSection.tsx","data-component-name":"ArrowLeft","data-component-line":"30","data-component-file":"TollBreakdownSection.tsx","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D",className:"w-4 h-4"}),c=i?"Peajes de ida:":"Peajes de regreso:",m=Hh(n);return d.jsxs(Q.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-2",children:[d.jsxs("div",{"data-component-path":"src\\components\\cost\\TollBreakdownSection.tsx","data-component-name":"div","data-component-line":"41","data-component-file":"TollBreakdownSection.tsx","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%20text-sm%20text-blue-600%22%7D",className:"flex items-center gap-2 text-sm text-blue-600",children:[s,d.jsx("span",{"data-component-path":"src\\components\\cost\\TollBreakdownSection.tsx","data-component-name":"span","data-component-line":"43","data-component-file":"TollBreakdownSection.tsx","data-component-content":"%7B%7D",children:c})]}),n.map((p,f)=>d.jsx(Q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:f*.1},children:d.jsx(Ht,{"data-component-path":"src\\components\\cost\\TollBreakdownSection.tsx","data-component-name":"Card","data-component-line":"52","data-component-file":"TollBreakdownSection.tsx","data-component-content":"%7B%22className%22%3A%22p-3%20bg-white%2F50%20hover%3Abg-white%2F80%20transition-colors%20duration-200%22%7D",className:"p-3 bg-white/50 hover:bg-white/80 transition-colors duration-200",children:d.jsxs(Yc,{"data-component-path":"src\\components\\cost\\TollBreakdownSection.tsx","data-component-name":"TooltipProvider","data-component-line":"53","data-component-file":"TollBreakdownSection.tsx","data-component-content":"%7B%7D",children:[d.jsxs("div",{"data-component-path":"src\\components\\cost\\TollBreakdownSection.tsx","data-component-name":"div","data-component-line":"54","data-component-file":"TollBreakdownSection.tsx","data-component-content":"%7B%22className%22%3A%22space-y-2%22%7D",className:"space-y-2",children:[d.jsxs("div",{"data-component-path":"src\\components\\cost\\TollBreakdownSection.tsx","data-component-name":"div","data-component-line":"55","data-component-file":"TollBreakdownSection.tsx","data-component-content":"%7B%22className%22%3A%22flex%20items-start%20justify-between%22%7D",className:"flex items-start justify-between",children:[d.jsxs("div",{"data-component-path":"src\\components\\cost\\TollBreakdownSection.tsx","data-component-name":"div","data-component-line":"56","data-component-file":"TollBreakdownSection.tsx","data-component-content":"%7B%22className%22%3A%22flex%20items-start%20gap-2%22%7D",className:"flex items-start gap-2",children:[d.jsx(te,{"data-component-path":"src\\components\\cost\\TollBreakdownSection.tsx","data-component-name":"MapPin","data-component-line":"57","data-component-file":"TollBreakdownSection.tsx","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20mt-1%20text-primary%2F60%22%7D",className:"w-4 h-4 mt-1 text-primary/60"}),d.jsxs("div",{"data-component-path":"src\\components\\cost\\TollBreakdownSection.tsx","data-component-name":"div","data-component-line":"58","data-component-file":"TollBreakdownSection.tsx","data-component-content":"%7B%7D",children:[d.jsx("div",{"data-component-path":"src\\components\\cost\\TollBreakdownSection.tsx","data-component-name":"div","data-component-line":"59","data-component-file":"TollBreakdownSection.tsx","data-component-content":"%7B%22className%22%3A%22font-medium%20text-sm%22%7D",className:"font-medium text-sm",children:p.name}),p.description&&d.jsx("div",{"data-component-path":"src\\components\\cost\\TollBreakdownSection.tsx","data-component-name":"div","data-component-line":"61","data-component-file":"TollBreakdownSection.tsx","data-component-content":"%7B%22className%22%3A%22text-xs%20text-gray-500%22%7D",className:"text-xs text-gray-500",children:p.description})]})]}),d.jsx("span",{"data-component-path":"src\\components\\cost\\TollBreakdownSection.tsx","data-component-name":"span","data-component-line":"67","data-component-file":"TollBreakdownSection.tsx","data-component-content":"%7B%22className%22%3A%22font-medium%20text-primary%22%7D",className:"font-medium text-primary",children:Qe(p.cost)})]}),d.jsxs("div",{"data-component-path":"src\\components\\cost\\TollBreakdownSection.tsx","data-component-name":"div","data-component-line":"72","data-component-file":"TollBreakdownSection.tsx","data-component-content":"%7B%22className%22%3A%22pl-6%20space-y-1%22%7D",className:"pl-6 space-y-1",children:[p.kilometer&&d.jsxs("div",{"data-component-path":"src\\components\\cost\\TollBreakdownSection.tsx","data-component-name":"div","data-component-line":"74","data-component-file":"TollBreakdownSection.tsx","data-component-content":"%7B%22text%22%3A%22Kil%C3%B3metro%3A%22%2C%22className%22%3A%22text-xs%20text-gray-500%22%7D",className:"text-xs text-gray-500",children:["Kilómetro: ",p.kilometer]}),p.route&&d.jsxs("div",{"data-component-path":"src\\components\\cost\\TollBreakdownSection.tsx","data-component-name":"div","data-component-line":"79","data-component-file":"TollBreakdownSection.tsx","data-component-content":"%7B%22text%22%3A%22Ruta%3A%22%2C%22className%22%3A%22text-xs%20text-gray-500%22%7D",className:"text-xs text-gray-500",children:["Ruta: ",p.route]}),d.jsxs("div",{"data-component-path":"src\\components\\cost\\TollBreakdownSection.tsx","data-component-name":"div","data-component-line":"83","data-component-file":"TollBreakdownSection.tsx","data-component-content":"%7B%22text%22%3A%22Horario%3A%22%2C%22className%22%3A%22text-xs%20text-gray-500%22%7D",className:"text-xs text-gray-500",children:["Horario: ",p.operatingHours]}),d.jsxs("div",{"data-component-path":"src\\components\\cost\\TollBreakdownSection.tsx","data-component-name":"div","data-component-line":"86","data-component-file":"TollBreakdownSection.tsx","data-component-content":"%7B%22text%22%3A%22Pagos%20aceptados%3A%22%2C%22className%22%3A%22text-xs%20text-gray-500%22%7D",className:"text-xs text-gray-500",children:["Pagos aceptados: ",p.acceptedPayments.join(", ")]})]})]}),d.jsxs(Sn,{"data-component-path":"src\\components\\cost\\TollBreakdownSection.tsx","data-component-name":"Tooltip","data-component-line":"92","data-component-file":"TollBreakdownSection.tsx","data-component-content":"%7B%7D",children:[d.jsx(An,{"data-component-path":"src\\components\\cost\\TollBreakdownSection.tsx","data-component-name":"TooltipTrigger","data-component-line":"93","data-component-file":"TollBreakdownSection.tsx","data-component-content":"%7B%22className%22%3A%22absolute%20top-3%20right-3%22%7D",className:"absolute top-3 right-3",children:d.jsx(za,{"data-component-path":"src\\components\\cost\\TollBreakdownSection.tsx","data-component-name":"Info","data-component-line":"94","data-component-file":"TollBreakdownSection.tsx","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20text-primary%2F60%20hover%3Atext-primary%22%7D",className:"w-4 h-4 text-primary/60 hover:text-primary"})}),d.jsx(Xe,{"data-component-path":"src\\components\\cost\\TollBreakdownSection.tsx","data-component-name":"TooltipContent","data-component-line":"96","data-component-file":"TollBreakdownSection.tsx","data-component-content":"%7B%7D",children:d.jsxs("div",{"data-component-path":"src\\components\\cost\\TollBreakdownSection.tsx","data-component-name":"div","data-component-line":"97","data-component-file":"TollBreakdownSection.tsx","data-component-content":"%7B%22className%22%3A%22space-y-1%20text-sm%22%7D",className:"space-y-1 text-sm",children:[d.jsxs("p",{"data-component-path":"src\\components\\cost\\TollBreakdownSection.tsx","data-component-name":"p","data-component-line":"98","data-component-file":"TollBreakdownSection.tsx","data-component-content":"%7B%22text%22%3A%22Estado%3A%22%7D",children:["Estado: ",p.status]}),p.distance&&d.jsxs("p",{"data-component-path":"src\\components\\cost\\TollBreakdownSection.tsx","data-component-name":"p","data-component-line":"99","data-component-file":"TollBreakdownSection.tsx","data-component-content":"%7B%22text%22%3A%22Distancia%3A%20km%22%7D",children:["Distancia: ",p.distance,"km"]}),d.jsxs("p",{"data-component-path":"src\\components\\cost\\TollBreakdownSection.tsx","data-component-name":"p","data-component-line":"100","data-component-file":"TollBreakdownSection.tsx","data-component-content":"%7B%22text%22%3A%22%C3%9Altima%20actualizaci%C3%B3n%3A%22%7D",children:["Última actualización: ",p.lastUpdated]})]})})]})]})})},`${o}-toll-${f}`)),d.jsx(Q.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:d.jsx(ro,{"data-component-path":"src\\components\\cost\\TollBreakdownSection.tsx","data-component-name":"CostItemDisplay","data-component-line":"113","data-component-file":"TollBreakdownSection.tsx","data-component-content":"%7B%22className%22%3A%22font-medium%20text-primary%22%7D",label:`Total peajes ${i?"ida":"regreso"}`,amount:m,className:"font-medium text-primary"})})]})},y2=({detectedTolls:n,totalTollCost:o})=>{if(n.length===0)return null;const i=n.filter(c=>c.direction==="outbound"),s=n.filter(c=>c.direction==="return");return d.jsx(Ht,{"data-component-path":"src\\components\\panels\\TollBreakdownPanel.tsx","data-component-name":"Card","data-component-line":"22","data-component-file":"TollBreakdownPanel.tsx","data-component-content":"%7B%22className%22%3A%22bg-white%2F95%20backdrop-blur-sm%20p-4%20shadow-lg%20border-blue-100%2F50%22%7D",className:"bg-white/95 backdrop-blur-sm p-4 shadow-lg border-blue-100/50",children:d.jsxs("div",{"data-component-path":"src\\components\\panels\\TollBreakdownPanel.tsx","data-component-name":"div","data-component-line":"23","data-component-file":"TollBreakdownPanel.tsx","data-component-content":"%7B%22className%22%3A%22space-y-4%22%7D",className:"space-y-4",children:[d.jsxs("div",{"data-component-path":"src\\components\\panels\\TollBreakdownPanel.tsx","data-component-name":"div","data-component-line":"24","data-component-file":"TollBreakdownPanel.tsx","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%22%7D",className:"flex items-center gap-2",children:[d.jsx(sr,{"data-component-path":"src\\components\\panels\\TollBreakdownPanel.tsx","data-component-name":"Receipt","data-component-line":"25","data-component-file":"TollBreakdownPanel.tsx","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20text-blue-500%22%7D",className:"w-4 h-4 text-blue-500"}),d.jsxs("h3",{"data-component-path":"src\\components\\panels\\TollBreakdownPanel.tsx","data-component-name":"h3","data-component-line":"26","data-component-file":"TollBreakdownPanel.tsx","data-component-content":"%7B%22text%22%3A%22Costos%20de%20Peaje%20(Total%3A%20%24%20)%22%2C%22className%22%3A%22font-medium%20text-gray-900%20text-shadow-sm%22%7D",className:"font-medium text-gray-900 text-shadow-sm",children:["Costos de Peaje (Total: $",o,")"]})]}),i.length>0&&d.jsxs(d.Fragment,{children:[d.jsx(Js,{"data-component-path":"src\\components\\panels\\TollBreakdownPanel.tsx","data-component-name":"TollBreakdownSection","data-component-line":"33","data-component-file":"TollBreakdownPanel.tsx","data-component-content":"%7B%7D",tolls:i,direction:"outbound"}),d.jsx(Fa,{"data-component-path":"src\\components\\panels\\TollBreakdownPanel.tsx","data-component-name":"Separator","data-component-line":"34","data-component-file":"TollBreakdownPanel.tsx","data-component-content":"%7B%7D"})]}),s.length>0&&d.jsx(Js,{"data-component-path":"src\\components\\panels\\TollBreakdownPanel.tsx","data-component-name":"TollBreakdownSection","data-component-line":"39","data-component-file":"TollBreakdownPanel.tsx","data-component-content":"%7B%7D",tolls:s,direction:"return"})]})})},w2=({tolls:n,totalCost:o})=>n.length===0?null:d.jsx(Yc,{"data-component-path":"src\\components\\TollInfoDisplay.tsx","data-component-name":"TooltipProvider","data-component-line":"23","data-component-file":"TollInfoDisplay.tsx","data-component-content":"%7B%7D",children:d.jsx(Ht,{"data-component-path":"src\\components\\TollInfoDisplay.tsx","data-component-name":"Card","data-component-line":"24","data-component-file":"TollInfoDisplay.tsx","data-component-content":"%7B%22className%22%3A%22p-6%20bg-gradient-to-br%20from-white%2F95%20via-yellow-50%2F30%20to-white%2F80%20backdrop-blur-sm%20border%20border-yellow-200%2F50%20shadow-lg%20hover%3Ashadow-xl%20transition-all%20duration-300%22%7D",className:"p-6 bg-gradient-to-br from-white/95 via-yellow-50/30 to-white/80 backdrop-blur-sm border border-yellow-200/50 shadow-lg hover:shadow-xl transition-all duration-300",children:d.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-4",children:[d.jsxs("div",{"data-component-path":"src\\components\\TollInfoDisplay.tsx","data-component-name":"div","data-component-line":"31","data-component-file":"TollInfoDisplay.tsx","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%22%7D",className:"flex items-center justify-between",children:[d.jsxs("div",{"data-component-path":"src\\components\\TollInfoDisplay.tsx","data-component-name":"div","data-component-line":"32","data-component-file":"TollInfoDisplay.tsx","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-3%22%7D",className:"flex items-center gap-3",children:[d.jsx("div",{"data-component-path":"src\\components\\TollInfoDisplay.tsx","data-component-name":"div","data-component-line":"33","data-component-file":"TollInfoDisplay.tsx","data-component-content":"%7B%22className%22%3A%22p-2%20bg-yellow-100%20rounded-full%22%7D",className:"p-2 bg-yellow-100 rounded-full",children:d.jsx(mm,{"data-component-path":"src\\components\\TollInfoDisplay.tsx","data-component-name":"Ticket","data-component-line":"34","data-component-file":"TollInfoDisplay.tsx","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-yellow-700%22%7D",className:"w-5 h-5 text-yellow-700"})}),d.jsxs("div",{"data-component-path":"src\\components\\TollInfoDisplay.tsx","data-component-name":"div","data-component-line":"36","data-component-file":"TollInfoDisplay.tsx","data-component-content":"%7B%22className%22%3A%22space-y-1%22%7D",className:"space-y-1",children:[d.jsx("h3",{"data-component-path":"src\\components\\TollInfoDisplay.tsx","data-component-name":"h3","data-component-line":"37","data-component-file":"TollInfoDisplay.tsx","data-component-content":"%7B%22text%22%3A%22Peajes%20en%20la%20Ruta%22%2C%22className%22%3A%22font-heading%20font-semibold%20text-lg%20text-yellow-800%22%7D",className:"font-heading font-semibold text-lg text-yellow-800",children:"Peajes en la Ruta"}),d.jsxs(Ts,{"data-component-path":"src\\components\\TollInfoDisplay.tsx","data-component-name":"Badge","data-component-line":"40","data-component-file":"TollInfoDisplay.tsx","data-component-content":"%7B%22text%22%3A%22detectados%22%2C%22className%22%3A%22bg-yellow-100%2F50%22%7D",variant:"secondary",className:"bg-yellow-100/50",children:[n.length," ",n.length===1?"peaje":"peajes"," detectados"]})]})]}),d.jsxs(Sn,{"data-component-path":"src\\components\\TollInfoDisplay.tsx","data-component-name":"Tooltip","data-component-line":"45","data-component-file":"TollInfoDisplay.tsx","data-component-content":"%7B%7D",children:[d.jsx(An,{"data-component-path":"src\\components\\TollInfoDisplay.tsx","data-component-name":"TooltipTrigger","data-component-line":"46","data-component-file":"TollInfoDisplay.tsx","data-component-content":"%7B%7D",asChild:!0,children:d.jsxs(Q.div,{whileHover:{scale:1.05},className:"text-sm font-semibold text-yellow-700 bg-gradient-to-r from-yellow-100 to-yellow-50 px-4 py-2 rounded-full shadow-sm flex items-center gap-2 cursor-help",children:[d.jsxs("span",{"data-component-path":"src\\components\\TollInfoDisplay.tsx","data-component-name":"span","data-component-line":"51","data-component-file":"TollInfoDisplay.tsx","data-component-content":"%7B%22text%22%3A%22Total%3A%20%24%22%7D",children:["Total: $",o.toFixed(2)]}),d.jsx(za,{"data-component-path":"src\\components\\TollInfoDisplay.tsx","data-component-name":"Info","data-component-line":"52","data-component-file":"TollInfoDisplay.tsx","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20text-yellow-600%22%7D",className:"w-4 h-4 text-yellow-600"})]})}),d.jsx(Xe,{"data-component-path":"src\\components\\TollInfoDisplay.tsx","data-component-name":"TooltipContent","data-component-line":"55","data-component-file":"TollInfoDisplay.tsx","data-component-content":"%7B%22className%22%3A%22max-w-xs%22%7D",className:"max-w-xs",children:d.jsx("p",{"data-component-path":"src\\components\\TollInfoDisplay.tsx","data-component-name":"p","data-component-line":"56","data-component-file":"TollInfoDisplay.tsx","data-component-content":"%7B%22text%22%3A%22Costo%20total%20de%20peajes%20en%20ambas%20direcciones%22%7D",children:"Costo total de peajes en ambas direcciones"})})]})]}),d.jsx(Fa,{"data-component-path":"src\\components\\TollInfoDisplay.tsx","data-component-name":"Separator","data-component-line":"61","data-component-file":"TollInfoDisplay.tsx","data-component-content":"%7B%22className%22%3A%22bg-yellow-200%2F30%22%7D",className:"bg-yellow-200/30"}),d.jsx("div",{"data-component-path":"src\\components\\TollInfoDisplay.tsx","data-component-name":"div","data-component-line":"63","data-component-file":"TollInfoDisplay.tsx","data-component-content":"%7B%22className%22%3A%22space-y-3%22%7D",className:"space-y-3",children:n.map((i,s)=>d.jsx(Q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:s*.1},children:d.jsxs(Ht,{"data-component-path":"src\\components\\TollInfoDisplay.tsx","data-component-name":"Card","data-component-line":"71","data-component-file":"TollInfoDisplay.tsx","data-component-content":"%7B%22className%22%3A%22bg-gradient-to-br%20from-white%2F80%20to-yellow-50%2F30%20backdrop-blur-sm%20p-4%20space-y-3%20hover%3Ashadow-md%20transition-all%20duration-300%22%7D",className:"bg-gradient-to-br from-white/80 to-yellow-50/30 backdrop-blur-sm p-4 space-y-3 hover:shadow-md transition-all duration-300",children:[d.jsxs("div",{"data-component-path":"src\\components\\TollInfoDisplay.tsx","data-component-name":"div","data-component-line":"72","data-component-file":"TollInfoDisplay.tsx","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20items-start%22%7D",className:"flex justify-between items-start",children:[d.jsxs("div",{"data-component-path":"src\\components\\TollInfoDisplay.tsx","data-component-name":"div","data-component-line":"73","data-component-file":"TollInfoDisplay.tsx","data-component-content":"%7B%22className%22%3A%22space-y-1%22%7D",className:"space-y-1",children:[d.jsxs("div",{"data-component-path":"src\\components\\TollInfoDisplay.tsx","data-component-name":"div","data-component-line":"74","data-component-file":"TollInfoDisplay.tsx","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%22%7D",className:"flex items-center gap-2",children:[d.jsx(te,{"data-component-path":"src\\components\\TollInfoDisplay.tsx","data-component-name":"MapPin","data-component-line":"75","data-component-file":"TollInfoDisplay.tsx","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20text-yellow-600%22%7D",className:"w-4 h-4 text-yellow-600"}),d.jsx("span",{"data-component-path":"src\\components\\TollInfoDisplay.tsx","data-component-name":"span","data-component-line":"76","data-component-file":"TollInfoDisplay.tsx","data-component-content":"%7B%22className%22%3A%22font-medium%20text-yellow-900%22%7D",className:"font-medium text-yellow-900",children:i.name})]}),i.description&&d.jsx("p",{"data-component-path":"src\\components\\TollInfoDisplay.tsx","data-component-name":"p","data-component-line":"81","data-component-file":"TollInfoDisplay.tsx","data-component-content":"%7B%22className%22%3A%22text-sm%20text-yellow-700%2F80%20pl-6%22%7D",className:"text-sm text-yellow-700/80 pl-6",children:i.description})]}),d.jsxs(Sn,{"data-component-path":"src\\components\\TollInfoDisplay.tsx","data-component-name":"Tooltip","data-component-line":"86","data-component-file":"TollInfoDisplay.tsx","data-component-content":"%7B%7D",children:[d.jsx(An,{"data-component-path":"src\\components\\TollInfoDisplay.tsx","data-component-name":"TooltipTrigger","data-component-line":"87","data-component-file":"TollInfoDisplay.tsx","data-component-content":"%7B%7D",asChild:!0,children:d.jsxs("span",{"data-component-path":"src\\components\\TollInfoDisplay.tsx","data-component-name":"span","data-component-line":"88","data-component-file":"TollInfoDisplay.tsx","data-component-content":"%7B%22text%22%3A%22%24%22%2C%22className%22%3A%22text-sm%20font-semibold%20text-yellow-700%20bg-yellow-100%20px-3%20py-1%20rounded-full%20cursor-help%22%7D",className:"text-sm font-semibold text-yellow-700 bg-yellow-100 px-3 py-1 rounded-full cursor-help",children:["$",i.cost.toFixed(2)]})}),d.jsx(Xe,{"data-component-path":"src\\components\\TollInfoDisplay.tsx","data-component-name":"TooltipContent","data-component-line":"92","data-component-file":"TollInfoDisplay.tsx","data-component-content":"%7B%7D",children:d.jsx("p",{"data-component-path":"src\\components\\TollInfoDisplay.tsx","data-component-name":"p","data-component-line":"93","data-component-file":"TollInfoDisplay.tsx","data-component-content":"%7B%22text%22%3A%22Tarifa%20actual%20del%20peaje%22%7D",children:"Tarifa actual del peaje"})})]})]}),d.jsxs("div",{"data-component-path":"src\\components\\TollInfoDisplay.tsx","data-component-name":"div","data-component-line":"97","data-component-file":"TollInfoDisplay.tsx","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-6%20text-sm%20text-gray-600%22%7D",className:"flex items-center gap-6 text-sm text-gray-600",children:[d.jsxs(Sn,{"data-component-path":"src\\components\\TollInfoDisplay.tsx","data-component-name":"Tooltip","data-component-line":"98","data-component-file":"TollInfoDisplay.tsx","data-component-content":"%7B%7D",children:[d.jsxs(An,{"data-component-path":"src\\components\\TollInfoDisplay.tsx","data-component-name":"TooltipTrigger","data-component-line":"99","data-component-file":"TollInfoDisplay.tsx","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%22%7D",className:"flex items-center gap-2",children:[d.jsx(tm,{"data-component-path":"src\\components\\TollInfoDisplay.tsx","data-component-name":"Clock","data-component-line":"100","data-component-file":"TollInfoDisplay.tsx","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20text-yellow-600%22%7D",className:"w-4 h-4 text-yellow-600"}),d.jsx("span",{"data-component-path":"src\\components\\TollInfoDisplay.tsx","data-component-name":"span","data-component-line":"101","data-component-file":"TollInfoDisplay.tsx","data-component-content":"%7B%7D",children:i.operatingHours})]}),d.jsx(Xe,{"data-component-path":"src\\components\\TollInfoDisplay.tsx","data-component-name":"TooltipContent","data-component-line":"103","data-component-file":"TollInfoDisplay.tsx","data-component-content":"%7B%7D",children:d.jsx("p",{"data-component-path":"src\\components\\TollInfoDisplay.tsx","data-component-name":"p","data-component-line":"104","data-component-file":"TollInfoDisplay.tsx","data-component-content":"%7B%22text%22%3A%22Horario%20de%20operaci%C3%B3n%20del%20peaje%22%7D",children:"Horario de operación del peaje"})})]}),d.jsxs(Sn,{"data-component-path":"src\\components\\TollInfoDisplay.tsx","data-component-name":"Tooltip","data-component-line":"107","data-component-file":"TollInfoDisplay.tsx","data-component-content":"%7B%7D",children:[d.jsxs(An,{"data-component-path":"src\\components\\TollInfoDisplay.tsx","data-component-name":"TooltipTrigger","data-component-line":"108","data-component-file":"TollInfoDisplay.tsx","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%22%7D",className:"flex items-center gap-2",children:[d.jsx(rm,{"data-component-path":"src\\components\\TollInfoDisplay.tsx","data-component-name":"CreditCard","data-component-line":"109","data-component-file":"TollInfoDisplay.tsx","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20text-yellow-600%22%7D",className:"w-4 h-4 text-yellow-600"}),d.jsx("span",{"data-component-path":"src\\components\\TollInfoDisplay.tsx","data-component-name":"span","data-component-line":"110","data-component-file":"TollInfoDisplay.tsx","data-component-content":"%7B%7D",children:i.acceptedPayments.join(", ")})]}),d.jsx(Xe,{"data-component-path":"src\\components\\TollInfoDisplay.tsx","data-component-name":"TooltipContent","data-component-line":"112","data-component-file":"TollInfoDisplay.tsx","data-component-content":"%7B%7D",children:d.jsx("p",{"data-component-path":"src\\components\\TollInfoDisplay.tsx","data-component-name":"p","data-component-line":"113","data-component-file":"TollInfoDisplay.tsx","data-component-content":"%7B%22text%22%3A%22M%C3%A9todos%20de%20pago%20aceptados%22%7D",children:"Métodos de pago aceptados"})})]})]}),i.direction&&d.jsx(Ts,{"data-component-path":"src\\components\\TollInfoDisplay.tsx","data-component-name":"Badge","data-component-line":"118","data-component-file":"TollInfoDisplay.tsx","data-component-content":"%7B%7D",variant:"secondary",className:`mt-2 ${i.direction==="outbound"?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:i.direction==="outbound"?"Ida":"Regreso"})]})},s))})]})})}),b2=({subtotal:n,tax:o,finalTotal:i,detectedTolls:s,totalTollCost:c,requiresInvoice:m})=>d.jsxs("div",{"data-component-path":"src\\components\\cost\\CostSummary.tsx","data-component-name":"div","data-component-line":"25","data-component-file":"CostSummary.tsx","data-component-content":"%7B%22className%22%3A%22space-y-4%22%7D",className:"space-y-4",children:[s.length>0&&d.jsxs(d.Fragment,{children:[d.jsx(Fa,{"data-component-path":"src\\components\\cost\\CostSummary.tsx","data-component-name":"Separator","data-component-line":"28","data-component-file":"CostSummary.tsx","data-component-content":"%7B%22className%22%3A%22my-4%22%7D",className:"my-4"}),d.jsxs("div",{"data-component-path":"src\\components\\cost\\CostSummary.tsx","data-component-name":"div","data-component-line":"29","data-component-file":"CostSummary.tsx","data-component-content":"%7B%22className%22%3A%22space-y-2%22%7D",className:"space-y-2",children:[d.jsxs("h3",{"data-component-path":"src\\components\\cost\\CostSummary.tsx","data-component-name":"h3","data-component-line":"30","data-component-file":"CostSummary.tsx","data-component-content":"%7B%22text%22%3A%22Costos%20de%20Peaje%22%2C%22className%22%3A%22font-medium%20text-gray-900%20flex%20items-center%20gap-2%20text-shadow-sm%22%7D",className:"font-medium text-gray-900 flex items-center gap-2 text-shadow-sm",children:[d.jsx(sr,{"data-component-path":"src\\components\\cost\\CostSummary.tsx","data-component-name":"Receipt","data-component-line":"31","data-component-file":"CostSummary.tsx","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20text-blue-500%22%7D",className:"w-4 h-4 text-blue-500"}),"Costos de Peaje"]}),d.jsx(w2,{"data-component-path":"src\\components\\cost\\CostSummary.tsx","data-component-name":"TollInfoDisplay","data-component-line":"34","data-component-file":"CostSummary.tsx","data-component-content":"%7B%7D",tolls:s,totalCost:c})]})]}),d.jsxs("div",{"data-component-path":"src\\components\\cost\\CostSummary.tsx","data-component-name":"div","data-component-line":"42","data-component-file":"CostSummary.tsx","data-component-content":"%7B%22className%22%3A%22mt-6%20space-y-2%20border-t%20pt-4%22%7D",className:"mt-6 space-y-2 border-t pt-4",children:[d.jsx(ro,{"data-component-path":"src\\components\\cost\\CostSummary.tsx","data-component-name":"CostItemDisplay","data-component-line":"43","data-component-file":"CostSummary.tsx","data-component-content":"%7B%7D",label:"Subtotal (incluyendo peajes)",amount:n,description:"Suma de todos los cargos incluyendo peajes"}),m&&d.jsx(ro,{"data-component-path":"src\\components\\cost\\CostSummary.tsx","data-component-name":"CostItemDisplay","data-component-line":"49","data-component-file":"CostSummary.tsx","data-component-content":"%7B%7D",label:"IVA (16%)",amount:o,description:"Impuesto al Valor Agregado"}),d.jsx("div",{"data-component-path":"src\\components\\cost\\CostSummary.tsx","data-component-name":"div","data-component-line":"55","data-component-file":"CostSummary.tsx","data-component-content":"%7B%22className%22%3A%22pt-2%20border-t%22%7D",className:"pt-2 border-t",children:d.jsx(ro,{"data-component-path":"src\\components\\cost\\CostSummary.tsx","data-component-name":"CostItemDisplay","data-component-line":"56","data-component-file":"CostSummary.tsx","data-component-content":"%7B%22className%22%3A%22font-bold%20text-lg%20text-shadow%22%7D",label:"Total Final",amount:i,className:"font-bold text-lg text-shadow"})})]})]});var gi="Switch",[P2,H2]=on(gi),[C2,T2]=P2(gi),Xc=w.forwardRef((n,o)=>{const{__scopeSwitch:i,name:s,checked:c,defaultChecked:m,required:p,disabled:f,value:h="on",onCheckedChange:g,form:_,...v}=n,[y,b]=w.useState(null),T=pe(o,N=>b(N)),P=w.useRef(!1),A=y?_||!!y.closest("form"):!0,[k=!1,S]=an({prop:c,defaultProp:m,onChange:g});return d.jsxs(C2,{scope:i,checked:k,disabled:f,children:[d.jsx(Pt.button,{type:"button",role:"switch","aria-checked":k,"aria-required":p,"data-state":Jc(k),"data-disabled":f?"":void 0,disabled:f,value:h,...v,ref:T,onClick:Rt(n.onClick,N=>{S(M=>!M),A&&(P.current=N.isPropagationStopped(),P.current||N.stopPropagation())})}),A&&d.jsx(D2,{control:y,bubbles:!P.current,name:s,value:h,checked:k,required:p,disabled:f,form:_,style:{transform:"translateX(-100%)"}})]})});Xc.displayName=gi;var Kc="SwitchThumb",Qc=w.forwardRef((n,o)=>{const{__scopeSwitch:i,...s}=n,c=T2(Kc,i);return d.jsx(Pt.span,{"data-state":Jc(c.checked),"data-disabled":c.disabled?"":void 0,...s,ref:o})});Qc.displayName=Kc;var D2=n=>{const{control:o,checked:i,bubbles:s=!0,...c}=n,m=w.useRef(null),p=or(i),f=qa(o);return w.useEffect(()=>{const h=m.current,g=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(g,"checked").set;if(p!==i&&v){const y=new Event("click",{bubbles:s});v.call(h,i),h.dispatchEvent(y)}},[p,i,s]),d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i,...c,tabIndex:-1,ref:m,style:{...n.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Jc(n){return n?"checked":"unchecked"}var tl=Xc,S2=Qc;const el=w.forwardRef(({className:n,...o},i)=>d.jsx(tl,{className:bt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",n),...o,ref:i,children:d.jsx(S2,{className:bt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));el.displayName=tl.displayName;const A2=({steps:n,requiresInvoice:o,setRequiresInvoice:i,subtotal:s,tax:c,finalTotal:m,detectedTolls:p,totalTollCost:f,onShowPayment:h})=>{const{toast:g}=St();return d.jsxs("div",{"data-component-path":"src\\components\\panels\\CostDetailsPanel.tsx","data-component-name":"div","data-component-line":"36","data-component-file":"CostDetailsPanel.tsx","data-component-content":"%7B%22className%22%3A%22space-y-6%22%7D",className:"space-y-6",children:[d.jsx(kr,{"data-component-path":"src\\components\\panels\\CostDetailsPanel.tsx","data-component-name":"PaymentSteps","data-component-line":"37","data-component-file":"CostDetailsPanel.tsx","data-component-content":"%7B%7D",currentStep:1,steps:n}),d.jsxs("div",{"data-component-path":"src\\components\\panels\\CostDetailsPanel.tsx","data-component-name":"div","data-component-line":"38","data-component-file":"CostDetailsPanel.tsx","data-component-content":"%7B%22className%22%3A%22space-y-4%22%7D",className:"space-y-4",children:[d.jsxs("div",{"data-component-path":"src\\components\\panels\\CostDetailsPanel.tsx","data-component-name":"div","data-component-line":"39","data-component-file":"CostDetailsPanel.tsx","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-2%20p-4%20bg-white%2F50%20rounded-lg%20border%20border-primary%2F10%22%7D",className:"flex items-center space-x-2 p-4 bg-white/50 rounded-lg border border-primary/10",children:[d.jsx(em,{"data-component-path":"src\\components\\panels\\CostDetailsPanel.tsx","data-component-name":"Label","data-component-line":"40","data-component-file":"CostDetailsPanel.tsx","data-component-content":"%7B%22text%22%3A%22Requiere%20factura%20(IVA%2016%25)%22%2C%22className%22%3A%22text-sm%20text-shadow-sm%22%7D",htmlFor:"invoice",className:"text-sm text-shadow-sm",children:"Requiere factura (IVA 16%)"}),d.jsx(el,{"data-component-path":"src\\components\\panels\\CostDetailsPanel.tsx","data-component-name":"Switch","data-component-line":"43","data-component-file":"CostDetailsPanel.tsx","data-component-content":"%7B%7D",id:"invoice",checked:o,onCheckedChange:i})]}),d.jsx(Vh,{"data-component-path":"src\\components\\panels\\CostDetailsPanel.tsx","data-component-name":"CostEstimation","data-component-line":"50","data-component-file":"CostDetailsPanel.tsx","data-component-content":"%7B%7D",onShowPayment:()=>{h(),g({title:"Preparando pago",description:"Redirigiendo al formulario de pago...",className:"text-shadow-sm"})},subtotal:s,tax:c,finalTotal:m}),d.jsx(y2,{"data-component-path":"src\\components\\panels\\CostDetailsPanel.tsx","data-component-name":"TollBreakdownPanel","data-component-line":"64","data-component-file":"CostDetailsPanel.tsx","data-component-content":"%7B%7D",detectedTolls:p,totalTollCost:f}),d.jsx(b2,{"data-component-path":"src\\components\\panels\\CostDetailsPanel.tsx","data-component-name":"CostSummary","data-component-line":"69","data-component-file":"CostDetailsPanel.tsx","data-component-content":"%7B%7D",subtotal:s,tax:c,finalTotal:m,detectedTolls:p,totalTollCost:f,requiresInvoice:o})]})]})},N2=({currentPage:n,pickupLocation:o,dropLocation:i,pickupAddress:s,dropAddress:c,onPickupSelect:m,onDropSelect:p,onSelectingPickup:f,onSelectingDrop:h,requiresInvoice:g,setRequiresInvoice:_,subtotal:v,tax:y,finalTotal:b,detectedTolls:T,totalTollCost:P,onShowPayment:A,paymentSteps:k})=>{const S=[{id:1,title:"Detalles del Servicio",content:d.jsx(Zh,{"data-component-path":"src\\components\\panels\\FloatingQuestionsPanelContent.tsx","data-component-name":"ServiceDetailsPanel","data-component-line":"53","data-component-file":"FloatingQuestionsPanelContent.tsx","data-component-content":"%7B%7D",pickupLocation:o,dropLocation:i,pickupAddress:s,dropAddress:c,onPickupSelect:m,onDropSelect:p,onSelectingPickup:f,onSelectingDrop:h,steps:k})},{id:2,title:"Costos y Ruta",content:d.jsx(A2,{"data-component-path":"src\\components\\panels\\FloatingQuestionsPanelContent.tsx","data-component-name":"CostDetailsPanel","data-component-line":"70","data-component-file":"FloatingQuestionsPanelContent.tsx","data-component-content":"%7B%7D",steps:k,requiresInvoice:g,setRequiresInvoice:_,subtotal:v,tax:y,finalTotal:b,detectedTolls:T,totalTollCost:P,onShowPayment:A})}];return d.jsx(ye,{"data-component-path":"src\\components\\panels\\FloatingQuestionsPanelContent.tsx","data-component-name":"AnimatePresence","data-component-line":"86","data-component-file":"FloatingQuestionsPanelContent.tsx","data-component-content":"%7B%7D",mode:"wait",children:d.jsx(Q.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"min-h-[400px]",children:S[n].content},n)})},L2=({pickupLocation:n,dropLocation:o,pickupAddress:i,dropAddress:s,onPickupSelect:c,onDropSelect:m,onSelectingPickup:p,onSelectingDrop:f})=>{const[h,g]=w.useState(0),[_,v]=w.useState(!1),[y,b]=w.useState(!1),{totalDistance:T,truckType:P,requiresManeuver:A,totalTollCost:k,detectedTolls:S}=Ru(),{toast:N}=St(),M=Hu(T,P,A,k,y),E=async()=>{N({title:"Procesando pago",description:"Por favor espere mientras procesamos su pago...",className:"bg-primary text-white text-shadow-sm"}),v(!1)},R=[{title:"Detalles del Servicio",description:"Información del vehículo y ubicaciones"},{title:"Revisión de Costos",description:"Desglose de tarifas y peajes"}];return d.jsxs(d.Fragment,{children:[d.jsx(ju,{"data-component-path":"src\\components\\FloatingQuestionsPanel.tsx","data-component-name":"FloatingPanel","data-component-line":"70","data-component-file":"FloatingQuestionsPanel.tsx","data-component-content":"%7B%22className%22%3A%22w-full%20max-w-md%20mx-auto%20bg-white%2F95%20backdrop-blur-sm%20shadow-lg%22%7D",title:d.jsxs("div",{"data-component-path":"src\\components\\FloatingQuestionsPanel.tsx","data-component-name":"div","data-component-line":"72","data-component-file":"FloatingQuestionsPanel.tsx","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%22%7D",className:"flex items-center justify-between",children:[d.jsx("span",{"data-component-path":"src\\components\\FloatingQuestionsPanel.tsx","data-component-name":"span","data-component-line":"73","data-component-file":"FloatingQuestionsPanel.tsx","data-component-content":"%7B%22className%22%3A%22text-shadow-sm%22%7D",className:"text-shadow-sm",children:h===0?"Detalles del Servicio":"Costos y Ruta"}),d.jsx(Vu,{"data-component-path":"src\\components\\FloatingQuestionsPanel.tsx","data-component-name":"NotificationBadge","data-component-line":"74","data-component-file":"FloatingQuestionsPanel.tsx","data-component-content":"%7B%7D",count:S.length})]}),position:"right",className:"w-full max-w-md mx-auto bg-white/95 backdrop-blur-sm shadow-lg",children:d.jsxs("div",{"data-component-path":"src\\components\\FloatingQuestionsPanel.tsx","data-component-name":"div","data-component-line":"80","data-component-file":"FloatingQuestionsPanel.tsx","data-component-content":"%7B%22className%22%3A%22space-y-6%20p-6%22%7D",className:"space-y-6 p-6",children:[d.jsx(N2,{"data-component-path":"src\\components\\FloatingQuestionsPanel.tsx","data-component-name":"FloatingQuestionsPanelContent","data-component-line":"81","data-component-file":"FloatingQuestionsPanel.tsx","data-component-content":"%7B%7D",currentPage:h,pickupLocation:n,dropLocation:o,pickupAddress:i,dropAddress:s,onPickupSelect:c,onDropSelect:m,onSelectingPickup:p,onSelectingDrop:f,requiresInvoice:y,setRequiresInvoice:b,subtotal:M.subtotal,tax:M.tax,finalTotal:M.finalTotal,detectedTolls:S,totalTollCost:k,onShowPayment:()=>v(!0),paymentSteps:R}),d.jsxs("div",{"data-component-path":"src\\components\\FloatingQuestionsPanel.tsx","data-component-name":"div","data-component-line":"102","data-component-file":"FloatingQuestionsPanel.tsx","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20mt-4%20pt-4%20border-t%20border-gray-200%22%7D",className:"flex justify-between mt-4 pt-4 border-t border-gray-200",children:[d.jsxs(we,{"data-component-path":"src\\components\\FloatingQuestionsPanel.tsx","data-component-name":"Button","data-component-line":"103","data-component-file":"FloatingQuestionsPanel.tsx","data-component-content":"%7B%22text%22%3A%22Anterior%22%2C%22className%22%3A%22w-24%20bg-white%2F80%20hover%3Abg-white%2F95%20transition-all%20text-shadow-sm%22%7D",variant:"outline",onClick:()=>{g(j=>Math.max(0,j-1)),N({title:"Volviendo atrás",description:"Puede modificar los detalles del servicio",className:"text-shadow-sm"})},disabled:h===0,className:"w-24 bg-white/80 hover:bg-white/95 transition-all text-shadow-sm",children:[d.jsx(nm,{"data-component-path":"src\\components\\FloatingQuestionsPanel.tsx","data-component-name":"ChevronLeft","data-component-line":"116","data-component-file":"FloatingQuestionsPanel.tsx","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20mr-2%22%7D",className:"w-4 h-4 mr-2"}),"Anterior"]}),d.jsxs(we,{"data-component-path":"src\\components\\FloatingQuestionsPanel.tsx","data-component-name":"Button","data-component-line":"119","data-component-file":"FloatingQuestionsPanel.tsx","data-component-content":"%7B%22text%22%3A%22Siguiente%22%2C%22className%22%3A%22w-24%20bg-white%2F80%20hover%3Abg-white%2F95%20transition-all%20text-shadow-sm%22%7D",variant:"outline",onClick:()=>{g(j=>Math.min(1,j+1)),N({title:"Siguiente paso",description:"Revisando costos y ruta",className:"text-shadow-sm"})},disabled:h===1,className:"w-24 bg-white/80 hover:bg-white/95 transition-all text-shadow-sm",children:["Siguiente",d.jsx(om,{"data-component-path":"src\\components\\FloatingQuestionsPanel.tsx","data-component-name":"ChevronRight","data-component-line":"133","data-component-file":"FloatingQuestionsPanel.tsx","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20ml-2%22%7D",className:"w-4 h-4 ml-2"})]})]})]})}),d.jsx(Zu,{"data-component-path":"src\\components\\FloatingQuestionsPanel.tsx","data-component-name":"PaymentWindow","data-component-line":"139","data-component-file":"FloatingQuestionsPanel.tsx","data-component-content":"%7B%7D",isOpen:_,onClose:()=>v(!1),subtotal:M.subtotal,tax:M.tax,requiresInvoice:y,onPaymentSubmit:E,finalTotal:M.finalTotal})]})},M2=()=>{const[n,o]=w.useState(null),[i,s]=w.useState(null),[c,m]=w.useState(""),[p,f]=w.useState(""),[h,g]=w.useState(!1),[_,v]=w.useState(!1),[y,b]=w.useState(!1);return{pickupLocation:n,dropLocation:i,pickupAddress:c,dropAddress:p,selectingPickup:h,selectingDrop:_,isLoading:y,setSelectingPickup:g,setSelectingDrop:v,handleLocationSelect:(A,k)=>{k==="pickup"?(o(A),m(A.address||"")):(s(A),f(A.address||""))},resetLocations:()=>{o(null),s(null),m(""),f(""),g(!1),v(!1)}}},B2=({isVisible:n})=>n?d.jsx(Q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-white/50 backdrop-blur-sm z-50 flex items-center justify-center",children:d.jsxs("div",{"data-component-path":"src\\features\\map\\components\\MapLoadingOverlay.tsx","data-component-name":"div","data-component-line":"18","data-component-file":"MapLoadingOverlay.tsx","data-component-content":"%7B%22className%22%3A%22bg-white%2F90%20p-6%20rounded-lg%20shadow-lg%22%7D",className:"bg-white/90 p-6 rounded-lg shadow-lg",children:[d.jsx("div",{"data-component-path":"src\\features\\map\\components\\MapLoadingOverlay.tsx","data-component-name":"div","data-component-line":"19","data-component-file":"MapLoadingOverlay.tsx","data-component-content":"%7B%22className%22%3A%22animate-spin%20w-8%20h-8%20border-4%20border-primary%20border-t-transparent%20rounded-full%22%7D",className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"}),d.jsx("p",{"data-component-path":"src\\features\\map\\components\\MapLoadingOverlay.tsx","data-component-name":"p","data-component-line":"20","data-component-file":"MapLoadingOverlay.tsx","data-component-content":"%7B%22text%22%3A%22Cargando...%22%2C%22className%22%3A%22mt-4%20text-primary%2F80%20font-medium%22%7D",className:"mt-4 text-primary/80 font-medium",children:"Cargando..."})]})}):null,k2=({isSelectingPickup:n,isSelectingDrop:o})=>!n&&!o?null:d.jsx(Q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 pointer-events-none bg-gradient-to-b from-primary/5 via-transparent to-transparent",children:d.jsx("div",{"data-component-path":"src\\features\\map\\components\\LocationSelectionHint.tsx","data-component-name":"div","data-component-line":"21","data-component-file":"LocationSelectionHint.tsx","data-component-content":"%7B%22className%22%3A%22absolute%20top-4%20left-1%2F2%20transform%20-translate-x-1%2F2%20bg-white%2F95%20backdrop-blur-sm%20px-6%20py-3%20rounded-full%20shadow-lg%20border%20border-primary%2F10%22%7D",className:"absolute top-4 left-1/2 transform -translate-x-1/2 bg-white/95 backdrop-blur-sm px-6 py-3 rounded-full shadow-lg border border-primary/10",children:d.jsx("p",{"data-component-path":"src\\features\\map\\components\\LocationSelectionHint.tsx","data-component-name":"p","data-component-line":"22","data-component-file":"LocationSelectionHint.tsx","data-component-content":"%7B%22className%22%3A%22text-sm%20text-primary%2F80%20font-medium%22%7D",className:"text-sm text-primary/80 font-medium",children:n?"Haz clic en el mapa para seleccionar el punto de recogida":"Haz clic en el mapa para seleccionar el punto de entrega"})})}),W2=()=>{const n=w.useRef(null),{toast:o}=St(),{updateTollInfo:i}=yo(),{pickupLocation:s,dropLocation:c,pickupAddress:m,dropAddress:p,selectingPickup:f,selectingDrop:h,isLoading:g,setSelectingPickup:_,setSelectingDrop:v,handleLocationSelect:y}=M2(),b=async()=>{if(s&&c)try{const P=await ku(s,c);i(P.tolls,P.totalTollCost),P.tolls.length>0&&o({title:"Peajes Detectados",description:`Se detectaron ${P.tolls.length} peajes en la ruta con un costo total de $${P.totalTollCost}`,className:"bg-blue-50 border-blue-200 text-blue-800"})}catch(P){console.error("Error detecting tolls:",P),o({title:"Error",description:"No se pudieron detectar los peajes en la ruta",variant:"destructive"})}},T=async P=>{try{const A=await br(P.lat,P.lng);f?(y({...P,address:A},"pickup"),_(!1),o({title:"Punto de Recogida Actualizado",description:A,className:"bg-green-50 border-green-200 text-green-800"})):h&&(y({...P,address:A},"drop"),v(!1),o({title:"Punto de Entrega Actualizado",description:A,className:"bg-blue-50 border-blue-200 text-blue-800"}))}catch(A){console.error("Error getting address:",A),o({title:"Error",description:"No se pudo obtener la dirección",variant:"destructive"})}};return d.jsxs(Q.div,{className:"relative h-screen w-full bg-gradient-to-br from-blue-50/50 via-white to-blue-50/50",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[d.jsx(ye,{"data-component-path":"src\\features\\map\\TowMap.tsx","data-component-name":"AnimatePresence","data-component-line":"96","data-component-file":"TowMap.tsx","data-component-content":"%7B%7D",children:d.jsx(B2,{"data-component-path":"src\\features\\map\\TowMap.tsx","data-component-name":"MapLoadingOverlay","data-component-line":"97","data-component-file":"TowMap.tsx","data-component-content":"%7B%7D",isVisible:g})}),d.jsx("div",{"data-component-path":"src\\features\\map\\TowMap.tsx","data-component-name":"div","data-component-line":"100","data-component-file":"TowMap.tsx","data-component-content":"%7B%22className%22%3A%22absolute%20inset-0%20z-0%22%7D",className:"absolute inset-0 z-0",children:d.jsx(Ep,{"data-component-path":"src\\features\\map\\TowMap.tsx","data-component-name":"MapContainerComponent","data-component-line":"101","data-component-file":"TowMap.tsx","data-component-content":"%7B%7D",pickupLocation:s,dropLocation:c,selectingPickup:f,selectingDrop:h,onLocationSelect:T,setPickupLocation:P=>P&&T(P),setDropLocation:P=>P&&T(P),isLoading:g,mapRef:n,onRouteCalculated:b})}),d.jsx(Tu,{"data-component-path":"src\\features\\map\\TowMap.tsx","data-component-name":"MapControlPanel","data-component-line":"119","data-component-file":"TowMap.tsx","data-component-content":"%7B%7D",selectingPickup:f,selectingDrop:h,setSelectingPickup:_,setSelectingDrop:v,pickupLocation:s,dropLocation:c,pickupAddress:m,dropAddress:p,isLoading:g}),d.jsx(L2,{"data-component-path":"src\\features\\map\\TowMap.tsx","data-component-name":"FloatingQuestionsPanel","data-component-line":"131","data-component-file":"TowMap.tsx","data-component-content":"%7B%7D",pickupLocation:s,dropLocation:c,pickupAddress:m,dropAddress:p,onPickupSelect:P=>T(P),onDropSelect:P=>T(P),onSelectingPickup:()=>_(!0),onSelectingDrop:()=>v(!0)}),d.jsx(k2,{"data-component-path":"src\\features\\map\\TowMap.tsx","data-component-name":"LocationSelectionHint","data-component-line":"142","data-component-file":"TowMap.tsx","data-component-content":"%7B%7D",isSelectingPickup:f,isSelectingDrop:h})]})};export{W2 as default};
//# sourceMappingURL=TowMap-SFcZvpFI.js.map



// C:\Users\israe\Documents\GitHub\recentmap\dist\assets\ui-Dn2T8l1V.js


// C:\Users\israe\Documents\GitHub\recentmap\dist\assets\vendor-BJaCQb1B.js
function Ja(e,n){for(var t=0;t<n.length;t++){const r=n[t];if(typeof r!="string"&&!Array.isArray(r)){for(const l in r)if(l!=="default"&&!(l in e)){const u=Object.getOwnPropertyDescriptor(r,l);u&&Object.defineProperty(e,l,u.get?u:{enumerable:!0,get:()=>r[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var kd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Sd(e){if(e.__esModule)return e;var n=e.default;if(typeof n=="function"){var t=function r(){return this instanceof r?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};t.prototype=n.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var l=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,l.get?l:{enumerable:!0,get:function(){return e[r]}})}),t}var Ai={exports:{}},T={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kt=Symbol.for("react.element"),qa=Symbol.for("react.portal"),ba=Symbol.for("react.fragment"),ec=Symbol.for("react.strict_mode"),nc=Symbol.for("react.profiler"),tc=Symbol.for("react.provider"),rc=Symbol.for("react.context"),lc=Symbol.for("react.forward_ref"),uc=Symbol.for("react.suspense"),oc=Symbol.for("react.memo"),ic=Symbol.for("react.lazy"),Ro=Symbol.iterator;function sc(e){return e===null||typeof e!="object"?null:(e=Ro&&e[Ro]||e["@@iterator"],typeof e=="function"?e:null)}var Vi={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bi=Object.assign,Hi={};function rt(e,n,t){this.props=e,this.context=n,this.refs=Hi,this.updater=t||Vi}rt.prototype.isReactComponent={};rt.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};rt.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Wi(){}Wi.prototype=rt.prototype;function Du(e,n,t){this.props=e,this.context=n,this.refs=Hi,this.updater=t||Vi}var Iu=Du.prototype=new Wi;Iu.constructor=Du;Bi(Iu,rt.prototype);Iu.isPureReactComponent=!0;var Oo=Array.isArray,Qi=Object.prototype.hasOwnProperty,Fu={current:null},Ki={key:!0,ref:!0,__self:!0,__source:!0};function Yi(e,n,t){var r,l={},u=null,o=null;if(n!=null)for(r in n.ref!==void 0&&(o=n.ref),n.key!==void 0&&(u=""+n.key),n)Qi.call(n,r)&&!Ki.hasOwnProperty(r)&&(l[r]=n[r]);var i=arguments.length-2;if(i===1)l.children=t;else if(1<i){for(var s=Array(i),c=0;c<i;c++)s[c]=arguments[c+2];l.children=s}if(e&&e.defaultProps)for(r in i=e.defaultProps,i)l[r]===void 0&&(l[r]=i[r]);return{$$typeof:Kt,type:e,key:u,ref:o,props:l,_owner:Fu.current}}function ac(e,n){return{$$typeof:Kt,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function ju(e){return typeof e=="object"&&e!==null&&e.$$typeof===Kt}function cc(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(t){return n[t]})}var Mo=/\/+/g;function hl(e,n){return typeof e=="object"&&e!==null&&e.key!=null?cc(""+e.key):n.toString(36)}function hr(e,n,t,r,l){var u=typeof e;(u==="undefined"||u==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(u){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Kt:case qa:o=!0}}if(o)return o=e,l=l(o),e=r===""?"."+hl(o,0):r,Oo(l)?(t="",e!=null&&(t=e.replace(Mo,"$&/")+"/"),hr(l,n,t,"",function(c){return c})):l!=null&&(ju(l)&&(l=ac(l,t+(!l.key||o&&o.key===l.key?"":(""+l.key).replace(Mo,"$&/")+"/")+e)),n.push(l)),1;if(o=0,r=r===""?".":r+":",Oo(e))for(var i=0;i<e.length;i++){u=e[i];var s=r+hl(u,i);o+=hr(u,n,t,s,l)}else if(s=sc(e),typeof s=="function")for(e=s.call(e),i=0;!(u=e.next()).done;)u=u.value,s=r+hl(u,i++),o+=hr(u,n,t,s,l);else if(u==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return o}function bt(e,n,t){if(e==null)return e;var r=[],l=0;return hr(e,r,"","",function(u){return n.call(t,u,l++)}),r}function fc(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var oe={current:null},yr={transition:null},dc={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:yr,ReactCurrentOwner:Fu};function Xi(){throw Error("act(...) is not supported in production builds of React.")}T.Children={map:bt,forEach:function(e,n,t){bt(e,function(){n.apply(this,arguments)},t)},count:function(e){var n=0;return bt(e,function(){n++}),n},toArray:function(e){return bt(e,function(n){return n})||[]},only:function(e){if(!ju(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};T.Component=rt;T.Fragment=ba;T.Profiler=nc;T.PureComponent=Du;T.StrictMode=ec;T.Suspense=uc;T.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dc;T.act=Xi;T.cloneElement=function(e,n,t){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Bi({},e.props),l=e.key,u=e.ref,o=e._owner;if(n!=null){if(n.ref!==void 0&&(u=n.ref,o=Fu.current),n.key!==void 0&&(l=""+n.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(s in n)Qi.call(n,s)&&!Ki.hasOwnProperty(s)&&(r[s]=n[s]===void 0&&i!==void 0?i[s]:n[s])}var s=arguments.length-2;if(s===1)r.children=t;else if(1<s){i=Array(s);for(var c=0;c<s;c++)i[c]=arguments[c+2];r.children=i}return{$$typeof:Kt,type:e.type,key:l,ref:u,props:r,_owner:o}};T.createContext=function(e){return e={$$typeof:rc,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:tc,_context:e},e.Consumer=e};T.createElement=Yi;T.createFactory=function(e){var n=Yi.bind(null,e);return n.type=e,n};T.createRef=function(){return{current:null}};T.forwardRef=function(e){return{$$typeof:lc,render:e}};T.isValidElement=ju;T.lazy=function(e){return{$$typeof:ic,_payload:{_status:-1,_result:e},_init:fc}};T.memo=function(e,n){return{$$typeof:oc,type:e,compare:n===void 0?null:n}};T.startTransition=function(e){var n=yr.transition;yr.transition={};try{e()}finally{yr.transition=n}};T.unstable_act=Xi;T.useCallback=function(e,n){return oe.current.useCallback(e,n)};T.useContext=function(e){return oe.current.useContext(e)};T.useDebugValue=function(){};T.useDeferredValue=function(e){return oe.current.useDeferredValue(e)};T.useEffect=function(e,n){return oe.current.useEffect(e,n)};T.useId=function(){return oe.current.useId()};T.useImperativeHandle=function(e,n,t){return oe.current.useImperativeHandle(e,n,t)};T.useInsertionEffect=function(e,n){return oe.current.useInsertionEffect(e,n)};T.useLayoutEffect=function(e,n){return oe.current.useLayoutEffect(e,n)};T.useMemo=function(e,n){return oe.current.useMemo(e,n)};T.useReducer=function(e,n,t){return oe.current.useReducer(e,n,t)};T.useRef=function(e){return oe.current.useRef(e)};T.useState=function(e){return oe.current.useState(e)};T.useSyncExternalStore=function(e,n,t){return oe.current.useSyncExternalStore(e,n,t)};T.useTransition=function(){return oe.current.useTransition()};T.version="18.3.1";Ai.exports=T;var Uu=Ai.exports;const pc=$i(Uu),Ed=Ja({__proto__:null,default:pc},[Uu]);var Gi={exports:{}},ye={},Zi={exports:{}},Ji={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function n(C,N){var z=C.length;C.push(N);e:for(;0<z;){var H=z-1>>>1,X=C[H];if(0<l(X,N))C[H]=N,C[z]=X,z=H;else break e}}function t(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var N=C[0],z=C.pop();if(z!==N){C[0]=z;e:for(var H=0,X=C.length,Jt=X>>>1;H<Jt;){var vn=2*(H+1)-1,vl=C[vn],hn=vn+1,qt=C[hn];if(0>l(vl,z))hn<X&&0>l(qt,vl)?(C[H]=qt,C[hn]=z,H=hn):(C[H]=vl,C[vn]=z,H=vn);else if(hn<X&&0>l(qt,z))C[H]=qt,C[hn]=z,H=hn;else break e}}return N}function l(C,N){var z=C.sortIndex-N.sortIndex;return z!==0?z:C.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var o=Date,i=o.now();e.unstable_now=function(){return o.now()-i}}var s=[],c=[],v=1,m=null,p=3,g=!1,w=!1,k=!1,F=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,a=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function d(C){for(var N=t(c);N!==null;){if(N.callback===null)r(c);else if(N.startTime<=C)r(c),N.sortIndex=N.expirationTime,n(s,N);else break;N=t(c)}}function h(C){if(k=!1,d(C),!w)if(t(s)!==null)w=!0,pl(E);else{var N=t(c);N!==null&&ml(h,N.startTime-C)}}function E(C,N){w=!1,k&&(k=!1,f(P),P=-1),g=!0;var z=p;try{for(d(N),m=t(s);m!==null&&(!(m.expirationTime>N)||C&&!xe());){var H=m.callback;if(typeof H=="function"){m.callback=null,p=m.priorityLevel;var X=H(m.expirationTime<=N);N=e.unstable_now(),typeof X=="function"?m.callback=X:m===t(s)&&r(s),d(N)}else r(s);m=t(s)}if(m!==null)var Jt=!0;else{var vn=t(c);vn!==null&&ml(h,vn.startTime-N),Jt=!1}return Jt}finally{m=null,p=z,g=!1}}var _=!1,x=null,P=-1,B=5,L=-1;function xe(){return!(e.unstable_now()-L<B)}function ot(){if(x!==null){var C=e.unstable_now();L=C;var N=!0;try{N=x(!0,C)}finally{N?it():(_=!1,x=null)}}else _=!1}var it;if(typeof a=="function")it=function(){a(ot)};else if(typeof MessageChannel<"u"){var Lo=new MessageChannel,Za=Lo.port2;Lo.port1.onmessage=ot,it=function(){Za.postMessage(null)}}else it=function(){F(ot,0)};function pl(C){x=C,_||(_=!0,it())}function ml(C,N){P=F(function(){C(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){w||g||(w=!0,pl(E))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return t(s)},e.unstable_next=function(C){switch(p){case 1:case 2:case 3:var N=3;break;default:N=p}var z=p;p=N;try{return C()}finally{p=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,N){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var z=p;p=C;try{return N()}finally{p=z}},e.unstable_scheduleCallback=function(C,N,z){var H=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?H+z:H):z=H,C){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=z+X,C={id:v++,callback:N,priorityLevel:C,startTime:z,expirationTime:X,sortIndex:-1},z>H?(C.sortIndex=z,n(c,C),t(s)===null&&C===t(c)&&(k?(f(P),P=-1):k=!0,ml(h,z-H))):(C.sortIndex=X,n(s,C),w||g||(w=!0,pl(E))),C},e.unstable_shouldYield=xe,e.unstable_wrapCallback=function(C){var N=p;return function(){var z=p;p=N;try{return C.apply(this,arguments)}finally{p=z}}}})(Ji);Zi.exports=Ji;var mc=Zi.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vc=Uu,he=mc;function y(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qi=new Set,Tt={};function Tn(e,n){Zn(e,n),Zn(e+"Capture",n)}function Zn(e,n){for(Tt[e]=n,e=0;e<n.length;e++)qi.add(n[e])}var He=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bl=Object.prototype.hasOwnProperty,hc=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Do={},Io={};function yc(e){return Bl.call(Io,e)?!0:Bl.call(Do,e)?!1:hc.test(e)?Io[e]=!0:(Do[e]=!0,!1)}function gc(e,n,t,r){if(t!==null&&t.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function wc(e,n,t,r){if(n===null||typeof n>"u"||gc(e,n,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function ie(e,n,t,r,l,u,o){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=t,this.propertyName=e,this.type=n,this.sanitizeURL=u,this.removeEmptyString=o}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){b[e]=new ie(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];b[n]=new ie(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){b[e]=new ie(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){b[e]=new ie(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){b[e]=new ie(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){b[e]=new ie(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){b[e]=new ie(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){b[e]=new ie(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){b[e]=new ie(e,5,!1,e.toLowerCase(),null,!1,!1)});var $u=/[\-:]([a-z])/g;function Au(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace($u,Au);b[n]=new ie(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace($u,Au);b[n]=new ie(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace($u,Au);b[n]=new ie(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){b[e]=new ie(e,1,!1,e.toLowerCase(),null,!1,!1)});b.xlinkHref=new ie("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){b[e]=new ie(e,1,!1,e.toLowerCase(),null,!0,!0)});function Vu(e,n,t,r){var l=b.hasOwnProperty(n)?b[n]:null;(l!==null?l.type!==0:r||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(wc(n,t,l,r)&&(t=null),r||l===null?yc(n)&&(t===null?e.removeAttribute(n):e.setAttribute(n,""+t)):l.mustUseProperty?e[l.propertyName]=t===null?l.type===3?!1:"":t:(n=l.attributeName,r=l.attributeNamespace,t===null?e.removeAttribute(n):(l=l.type,t=l===3||l===4&&t===!0?"":""+t,r?e.setAttributeNS(r,n,t):e.setAttribute(n,t))))}var Ye=vc.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,er=Symbol.for("react.element"),On=Symbol.for("react.portal"),Mn=Symbol.for("react.fragment"),Bu=Symbol.for("react.strict_mode"),Hl=Symbol.for("react.profiler"),bi=Symbol.for("react.provider"),es=Symbol.for("react.context"),Hu=Symbol.for("react.forward_ref"),Wl=Symbol.for("react.suspense"),Ql=Symbol.for("react.suspense_list"),Wu=Symbol.for("react.memo"),Ge=Symbol.for("react.lazy"),ns=Symbol.for("react.offscreen"),Fo=Symbol.iterator;function st(e){return e===null||typeof e!="object"?null:(e=Fo&&e[Fo]||e["@@iterator"],typeof e=="function"?e:null)}var A=Object.assign,yl;function ht(e){if(yl===void 0)try{throw Error()}catch(t){var n=t.stack.trim().match(/\n( *(at )?)/);yl=n&&n[1]||""}return`
`+yl+e}var gl=!1;function wl(e,n){if(!e||gl)return"";gl=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(c){var r=c}Reflect.construct(e,[],n)}else{try{n.call()}catch(c){r=c}e.call(n.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var l=c.stack.split(`
`),u=r.stack.split(`
`),o=l.length-1,i=u.length-1;1<=o&&0<=i&&l[o]!==u[i];)i--;for(;1<=o&&0<=i;o--,i--)if(l[o]!==u[i]){if(o!==1||i!==1)do if(o--,i--,0>i||l[o]!==u[i]){var s=`
`+l[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}while(1<=o&&0<=i);break}}}finally{gl=!1,Error.prepareStackTrace=t}return(e=e?e.displayName||e.name:"")?ht(e):""}function kc(e){switch(e.tag){case 5:return ht(e.type);case 16:return ht("Lazy");case 13:return ht("Suspense");case 19:return ht("SuspenseList");case 0:case 2:case 15:return e=wl(e.type,!1),e;case 11:return e=wl(e.type.render,!1),e;case 1:return e=wl(e.type,!0),e;default:return""}}function Kl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Mn:return"Fragment";case On:return"Portal";case Hl:return"Profiler";case Bu:return"StrictMode";case Wl:return"Suspense";case Ql:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case es:return(e.displayName||"Context")+".Consumer";case bi:return(e._context.displayName||"Context")+".Provider";case Hu:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Wu:return n=e.displayName||null,n!==null?n:Kl(e.type)||"Memo";case Ge:n=e._payload,e=e._init;try{return Kl(e(n))}catch{}}return null}function Sc(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kl(n);case 8:return n===Bu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function cn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ts(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ec(e){var n=ts(e)?"checked":"value",t=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),r=""+e[n];if(!e.hasOwnProperty(n)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var l=t.get,u=t.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return l.call(this)},set:function(o){r=""+o,u.call(this,o)}}),Object.defineProperty(e,n,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function nr(e){e._valueTracker||(e._valueTracker=Ec(e))}function rs(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var t=n.getValue(),r="";return e&&(r=ts(e)?e.checked?"true":"false":e.value),e=r,e!==t?(n.setValue(e),!0):!1}function zr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Yl(e,n){var t=n.checked;return A({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??e._wrapperState.initialChecked})}function jo(e,n){var t=n.defaultValue==null?"":n.defaultValue,r=n.checked!=null?n.checked:n.defaultChecked;t=cn(n.value!=null?n.value:t),e._wrapperState={initialChecked:r,initialValue:t,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function ls(e,n){n=n.checked,n!=null&&Vu(e,"checked",n,!1)}function Xl(e,n){ls(e,n);var t=cn(n.value),r=n.type;if(t!=null)r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+t):e.value!==""+t&&(e.value=""+t);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Gl(e,n.type,t):n.hasOwnProperty("defaultValue")&&Gl(e,n.type,cn(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Uo(e,n,t){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var r=n.type;if(!(r!=="submit"&&r!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,t||n===e.value||(e.value=n),e.defaultValue=n}t=e.name,t!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,t!==""&&(e.name=t)}function Gl(e,n,t){(n!=="number"||zr(e.ownerDocument)!==e)&&(t==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+t&&(e.defaultValue=""+t))}var yt=Array.isArray;function Wn(e,n,t,r){if(e=e.options,n){n={};for(var l=0;l<t.length;l++)n["$"+t[l]]=!0;for(t=0;t<e.length;t++)l=n.hasOwnProperty("$"+e[t].value),e[t].selected!==l&&(e[t].selected=l),l&&r&&(e[t].defaultSelected=!0)}else{for(t=""+cn(t),n=null,l=0;l<e.length;l++){if(e[l].value===t){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}n!==null||e[l].disabled||(n=e[l])}n!==null&&(n.selected=!0)}}function Zl(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(y(91));return A({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $o(e,n){var t=n.value;if(t==null){if(t=n.children,n=n.defaultValue,t!=null){if(n!=null)throw Error(y(92));if(yt(t)){if(1<t.length)throw Error(y(93));t=t[0]}n=t}n==null&&(n=""),t=n}e._wrapperState={initialValue:cn(t)}}function us(e,n){var t=cn(n.value),r=cn(n.defaultValue);t!=null&&(t=""+t,t!==e.value&&(e.value=t),n.defaultValue==null&&e.defaultValue!==t&&(e.defaultValue=t)),r!=null&&(e.defaultValue=""+r)}function Ao(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function os(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jl(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?os(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var tr,is=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,t,r,l){MSApp.execUnsafeLocalFunction(function(){return e(n,t,r,l)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(tr=tr||document.createElement("div"),tr.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=tr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Lt(e,n){if(n){var t=e.firstChild;if(t&&t===e.lastChild&&t.nodeType===3){t.nodeValue=n;return}}e.textContent=n}var kt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Cc=["Webkit","ms","Moz","O"];Object.keys(kt).forEach(function(e){Cc.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),kt[n]=kt[e]})});function ss(e,n,t){return n==null||typeof n=="boolean"||n===""?"":t||typeof n!="number"||n===0||kt.hasOwnProperty(e)&&kt[e]?(""+n).trim():n+"px"}function as(e,n){e=e.style;for(var t in n)if(n.hasOwnProperty(t)){var r=t.indexOf("--")===0,l=ss(t,n[t],r);t==="float"&&(t="cssFloat"),r?e.setProperty(t,l):e[t]=l}}var _c=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ql(e,n){if(n){if(_c[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(y(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(y(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(y(61))}if(n.style!=null&&typeof n.style!="object")throw Error(y(62))}}function bl(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eu=null;function Qu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var nu=null,Qn=null,Kn=null;function Vo(e){if(e=Gt(e)){if(typeof nu!="function")throw Error(y(280));var n=e.stateNode;n&&(n=tl(n),nu(e.stateNode,e.type,n))}}function cs(e){Qn?Kn?Kn.push(e):Kn=[e]:Qn=e}function fs(){if(Qn){var e=Qn,n=Kn;if(Kn=Qn=null,Vo(e),n)for(e=0;e<n.length;e++)Vo(n[e])}}function ds(e,n){return e(n)}function ps(){}var kl=!1;function ms(e,n,t){if(kl)return e(n,t);kl=!0;try{return ds(e,n,t)}finally{kl=!1,(Qn!==null||Kn!==null)&&(ps(),fs())}}function Rt(e,n){var t=e.stateNode;if(t===null)return null;var r=tl(t);if(r===null)return null;t=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(t&&typeof t!="function")throw Error(y(231,n,typeof t));return t}var tu=!1;if(He)try{var at={};Object.defineProperty(at,"passive",{get:function(){tu=!0}}),window.addEventListener("test",at,at),window.removeEventListener("test",at,at)}catch{tu=!1}function xc(e,n,t,r,l,u,o,i,s){var c=Array.prototype.slice.call(arguments,3);try{n.apply(t,c)}catch(v){this.onError(v)}}var St=!1,Tr=null,Lr=!1,ru=null,Pc={onError:function(e){St=!0,Tr=e}};function Nc(e,n,t,r,l,u,o,i,s){St=!1,Tr=null,xc.apply(Pc,arguments)}function zc(e,n,t,r,l,u,o,i,s){if(Nc.apply(this,arguments),St){if(St){var c=Tr;St=!1,Tr=null}else throw Error(y(198));Lr||(Lr=!0,ru=c)}}function Ln(e){var n=e,t=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(t=n.return),e=n.return;while(e)}return n.tag===3?t:null}function vs(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Bo(e){if(Ln(e)!==e)throw Error(y(188))}function Tc(e){var n=e.alternate;if(!n){if(n=Ln(e),n===null)throw Error(y(188));return n!==e?null:e}for(var t=e,r=n;;){var l=t.return;if(l===null)break;var u=l.alternate;if(u===null){if(r=l.return,r!==null){t=r;continue}break}if(l.child===u.child){for(u=l.child;u;){if(u===t)return Bo(l),e;if(u===r)return Bo(l),n;u=u.sibling}throw Error(y(188))}if(t.return!==r.return)t=l,r=u;else{for(var o=!1,i=l.child;i;){if(i===t){o=!0,t=l,r=u;break}if(i===r){o=!0,r=l,t=u;break}i=i.sibling}if(!o){for(i=u.child;i;){if(i===t){o=!0,t=u,r=l;break}if(i===r){o=!0,r=u,t=l;break}i=i.sibling}if(!o)throw Error(y(189))}}if(t.alternate!==r)throw Error(y(190))}if(t.tag!==3)throw Error(y(188));return t.stateNode.current===t?e:n}function hs(e){return e=Tc(e),e!==null?ys(e):null}function ys(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=ys(e);if(n!==null)return n;e=e.sibling}return null}var gs=he.unstable_scheduleCallback,Ho=he.unstable_cancelCallback,Lc=he.unstable_shouldYield,Rc=he.unstable_requestPaint,W=he.unstable_now,Oc=he.unstable_getCurrentPriorityLevel,Ku=he.unstable_ImmediatePriority,ws=he.unstable_UserBlockingPriority,Rr=he.unstable_NormalPriority,Mc=he.unstable_LowPriority,ks=he.unstable_IdlePriority,qr=null,Fe=null;function Dc(e){if(Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(qr,e,void 0,(e.current.flags&128)===128)}catch{}}var Le=Math.clz32?Math.clz32:jc,Ic=Math.log,Fc=Math.LN2;function jc(e){return e>>>=0,e===0?32:31-(Ic(e)/Fc|0)|0}var rr=64,lr=4194304;function gt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Or(e,n){var t=e.pendingLanes;if(t===0)return 0;var r=0,l=e.suspendedLanes,u=e.pingedLanes,o=t&268435455;if(o!==0){var i=o&~l;i!==0?r=gt(i):(u&=o,u!==0&&(r=gt(u)))}else o=t&~l,o!==0?r=gt(o):u!==0&&(r=gt(u));if(r===0)return 0;if(n!==0&&n!==r&&!(n&l)&&(l=r&-r,u=n&-n,l>=u||l===16&&(u&4194240)!==0))return n;if(r&4&&(r|=t&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=r;0<n;)t=31-Le(n),l=1<<t,r|=e[t],n&=~l;return r}function Uc(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $c(e,n){for(var t=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,u=e.pendingLanes;0<u;){var o=31-Le(u),i=1<<o,s=l[o];s===-1?(!(i&t)||i&r)&&(l[o]=Uc(i,n)):s<=n&&(e.expiredLanes|=i),u&=~i}}function lu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ss(){var e=rr;return rr<<=1,!(rr&4194240)&&(rr=64),e}function Sl(e){for(var n=[],t=0;31>t;t++)n.push(e);return n}function Yt(e,n,t){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Le(n),e[n]=t}function Ac(e,n){var t=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<t;){var l=31-Le(t),u=1<<l;n[l]=0,r[l]=-1,e[l]=-1,t&=~u}}function Yu(e,n){var t=e.entangledLanes|=n;for(e=e.entanglements;t;){var r=31-Le(t),l=1<<r;l&n|e[r]&n&&(e[r]|=n),t&=~l}}var O=0;function Es(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Cs,Xu,_s,xs,Ps,uu=!1,ur=[],nn=null,tn=null,rn=null,Ot=new Map,Mt=new Map,Je=[],Vc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wo(e,n){switch(e){case"focusin":case"focusout":nn=null;break;case"dragenter":case"dragleave":tn=null;break;case"mouseover":case"mouseout":rn=null;break;case"pointerover":case"pointerout":Ot.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mt.delete(n.pointerId)}}function ct(e,n,t,r,l,u){return e===null||e.nativeEvent!==u?(e={blockedOn:n,domEventName:t,eventSystemFlags:r,nativeEvent:u,targetContainers:[l]},n!==null&&(n=Gt(n),n!==null&&Xu(n)),e):(e.eventSystemFlags|=r,n=e.targetContainers,l!==null&&n.indexOf(l)===-1&&n.push(l),e)}function Bc(e,n,t,r,l){switch(n){case"focusin":return nn=ct(nn,e,n,t,r,l),!0;case"dragenter":return tn=ct(tn,e,n,t,r,l),!0;case"mouseover":return rn=ct(rn,e,n,t,r,l),!0;case"pointerover":var u=l.pointerId;return Ot.set(u,ct(Ot.get(u)||null,e,n,t,r,l)),!0;case"gotpointercapture":return u=l.pointerId,Mt.set(u,ct(Mt.get(u)||null,e,n,t,r,l)),!0}return!1}function Ns(e){var n=wn(e.target);if(n!==null){var t=Ln(n);if(t!==null){if(n=t.tag,n===13){if(n=vs(t),n!==null){e.blockedOn=n,Ps(e.priority,function(){_s(t)});return}}else if(n===3&&t.stateNode.current.memoizedState.isDehydrated){e.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gr(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var t=ou(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(t===null){t=e.nativeEvent;var r=new t.constructor(t.type,t);eu=r,t.target.dispatchEvent(r),eu=null}else return n=Gt(t),n!==null&&Xu(n),e.blockedOn=t,!1;n.shift()}return!0}function Qo(e,n,t){gr(e)&&t.delete(n)}function Hc(){uu=!1,nn!==null&&gr(nn)&&(nn=null),tn!==null&&gr(tn)&&(tn=null),rn!==null&&gr(rn)&&(rn=null),Ot.forEach(Qo),Mt.forEach(Qo)}function ft(e,n){e.blockedOn===n&&(e.blockedOn=null,uu||(uu=!0,he.unstable_scheduleCallback(he.unstable_NormalPriority,Hc)))}function Dt(e){function n(l){return ft(l,e)}if(0<ur.length){ft(ur[0],e);for(var t=1;t<ur.length;t++){var r=ur[t];r.blockedOn===e&&(r.blockedOn=null)}}for(nn!==null&&ft(nn,e),tn!==null&&ft(tn,e),rn!==null&&ft(rn,e),Ot.forEach(n),Mt.forEach(n),t=0;t<Je.length;t++)r=Je[t],r.blockedOn===e&&(r.blockedOn=null);for(;0<Je.length&&(t=Je[0],t.blockedOn===null);)Ns(t),t.blockedOn===null&&Je.shift()}var Yn=Ye.ReactCurrentBatchConfig,Mr=!0;function Wc(e,n,t,r){var l=O,u=Yn.transition;Yn.transition=null;try{O=1,Gu(e,n,t,r)}finally{O=l,Yn.transition=u}}function Qc(e,n,t,r){var l=O,u=Yn.transition;Yn.transition=null;try{O=4,Gu(e,n,t,r)}finally{O=l,Yn.transition=u}}function Gu(e,n,t,r){if(Mr){var l=ou(e,n,t,r);if(l===null)Rl(e,n,r,Dr,t),Wo(e,r);else if(Bc(l,e,n,t,r))r.stopPropagation();else if(Wo(e,r),n&4&&-1<Vc.indexOf(e)){for(;l!==null;){var u=Gt(l);if(u!==null&&Cs(u),u=ou(e,n,t,r),u===null&&Rl(e,n,r,Dr,t),u===l)break;l=u}l!==null&&r.stopPropagation()}else Rl(e,n,r,null,t)}}var Dr=null;function ou(e,n,t,r){if(Dr=null,e=Qu(r),e=wn(e),e!==null)if(n=Ln(e),n===null)e=null;else if(t=n.tag,t===13){if(e=vs(n),e!==null)return e;e=null}else if(t===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Dr=e,null}function zs(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Oc()){case Ku:return 1;case ws:return 4;case Rr:case Mc:return 16;case ks:return 536870912;default:return 16}default:return 16}}var be=null,Zu=null,wr=null;function Ts(){if(wr)return wr;var e,n=Zu,t=n.length,r,l="value"in be?be.value:be.textContent,u=l.length;for(e=0;e<t&&n[e]===l[e];e++);var o=t-e;for(r=1;r<=o&&n[t-r]===l[u-r];r++);return wr=l.slice(e,1<r?1-r:void 0)}function kr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function or(){return!0}function Ko(){return!1}function ge(e){function n(t,r,l,u,o){this._reactName=t,this._targetInst=l,this.type=r,this.nativeEvent=u,this.target=o,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(u):u[i]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?or:Ko,this.isPropagationStopped=Ko,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),n}var lt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ju=ge(lt),Xt=A({},lt,{view:0,detail:0}),Kc=ge(Xt),El,Cl,dt,br=A({},Xt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dt&&(dt&&e.type==="mousemove"?(El=e.screenX-dt.screenX,Cl=e.screenY-dt.screenY):Cl=El=0,dt=e),El)},movementY:function(e){return"movementY"in e?e.movementY:Cl}}),Yo=ge(br),Yc=A({},br,{dataTransfer:0}),Xc=ge(Yc),Gc=A({},Xt,{relatedTarget:0}),_l=ge(Gc),Zc=A({},lt,{animationName:0,elapsedTime:0,pseudoElement:0}),Jc=ge(Zc),qc=A({},lt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bc=ge(qc),ef=A({},lt,{data:0}),Xo=ge(ef),nf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lf(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=rf[e])?!!n[e]:!1}function qu(){return lf}var uf=A({},Xt,{key:function(e){if(e.key){var n=nf[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=kr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qu,charCode:function(e){return e.type==="keypress"?kr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?kr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),of=ge(uf),sf=A({},br,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Go=ge(sf),af=A({},Xt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qu}),cf=ge(af),ff=A({},lt,{propertyName:0,elapsedTime:0,pseudoElement:0}),df=ge(ff),pf=A({},br,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mf=ge(pf),vf=[9,13,27,32],bu=He&&"CompositionEvent"in window,Et=null;He&&"documentMode"in document&&(Et=document.documentMode);var hf=He&&"TextEvent"in window&&!Et,Ls=He&&(!bu||Et&&8<Et&&11>=Et),Zo=" ",Jo=!1;function Rs(e,n){switch(e){case"keyup":return vf.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Os(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dn=!1;function yf(e,n){switch(e){case"compositionend":return Os(n);case"keypress":return n.which!==32?null:(Jo=!0,Zo);case"textInput":return e=n.data,e===Zo&&Jo?null:e;default:return null}}function gf(e,n){if(Dn)return e==="compositionend"||!bu&&Rs(e,n)?(e=Ts(),wr=Zu=be=null,Dn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ls&&n.locale!=="ko"?null:n.data;default:return null}}var wf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qo(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!wf[e.type]:n==="textarea"}function Ms(e,n,t,r){cs(r),n=Ir(n,"onChange"),0<n.length&&(t=new Ju("onChange","change",null,t,r),e.push({event:t,listeners:n}))}var Ct=null,It=null;function kf(e){Ws(e,0)}function el(e){var n=jn(e);if(rs(n))return e}function Sf(e,n){if(e==="change")return n}var Ds=!1;if(He){var xl;if(He){var Pl="oninput"in document;if(!Pl){var bo=document.createElement("div");bo.setAttribute("oninput","return;"),Pl=typeof bo.oninput=="function"}xl=Pl}else xl=!1;Ds=xl&&(!document.documentMode||9<document.documentMode)}function ei(){Ct&&(Ct.detachEvent("onpropertychange",Is),It=Ct=null)}function Is(e){if(e.propertyName==="value"&&el(It)){var n=[];Ms(n,It,e,Qu(e)),ms(kf,n)}}function Ef(e,n,t){e==="focusin"?(ei(),Ct=n,It=t,Ct.attachEvent("onpropertychange",Is)):e==="focusout"&&ei()}function Cf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return el(It)}function _f(e,n){if(e==="click")return el(n)}function xf(e,n){if(e==="input"||e==="change")return el(n)}function Pf(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Oe=typeof Object.is=="function"?Object.is:Pf;function Ft(e,n){if(Oe(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var l=t[r];if(!Bl.call(n,l)||!Oe(e[l],n[l]))return!1}return!0}function ni(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ti(e,n){var t=ni(e);e=0;for(var r;t;){if(t.nodeType===3){if(r=e+t.textContent.length,e<=n&&r>=n)return{node:t,offset:n-e};e=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=ni(t)}}function Fs(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Fs(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function js(){for(var e=window,n=zr();n instanceof e.HTMLIFrameElement;){try{var t=typeof n.contentWindow.location.href=="string"}catch{t=!1}if(t)e=n.contentWindow;else break;n=zr(e.document)}return n}function eo(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Nf(e){var n=js(),t=e.focusedElem,r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&Fs(t.ownerDocument.documentElement,t)){if(r!==null&&eo(t)){if(n=r.start,e=r.end,e===void 0&&(e=n),"selectionStart"in t)t.selectionStart=n,t.selectionEnd=Math.min(e,t.value.length);else if(e=(n=t.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var l=t.textContent.length,u=Math.min(r.start,l);r=r.end===void 0?u:Math.min(r.end,l),!e.extend&&u>r&&(l=r,r=u,u=l),l=ti(t,u);var o=ti(t,r);l&&o&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(n=n.createRange(),n.setStart(l.node,l.offset),e.removeAllRanges(),u>r?(e.addRange(n),e.extend(o.node,o.offset)):(n.setEnd(o.node,o.offset),e.addRange(n)))}}for(n=[],e=t;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<n.length;t++)e=n[t],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var zf=He&&"documentMode"in document&&11>=document.documentMode,In=null,iu=null,_t=null,su=!1;function ri(e,n,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;su||In==null||In!==zr(r)||(r=In,"selectionStart"in r&&eo(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_t&&Ft(_t,r)||(_t=r,r=Ir(iu,"onSelect"),0<r.length&&(n=new Ju("onSelect","select",null,n,t),e.push({event:n,listeners:r}),n.target=In)))}function ir(e,n){var t={};return t[e.toLowerCase()]=n.toLowerCase(),t["Webkit"+e]="webkit"+n,t["Moz"+e]="moz"+n,t}var Fn={animationend:ir("Animation","AnimationEnd"),animationiteration:ir("Animation","AnimationIteration"),animationstart:ir("Animation","AnimationStart"),transitionend:ir("Transition","TransitionEnd")},Nl={},Us={};He&&(Us=document.createElement("div").style,"AnimationEvent"in window||(delete Fn.animationend.animation,delete Fn.animationiteration.animation,delete Fn.animationstart.animation),"TransitionEvent"in window||delete Fn.transitionend.transition);function nl(e){if(Nl[e])return Nl[e];if(!Fn[e])return e;var n=Fn[e],t;for(t in n)if(n.hasOwnProperty(t)&&t in Us)return Nl[e]=n[t];return e}var $s=nl("animationend"),As=nl("animationiteration"),Vs=nl("animationstart"),Bs=nl("transitionend"),Hs=new Map,li="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dn(e,n){Hs.set(e,n),Tn(n,[e])}for(var zl=0;zl<li.length;zl++){var Tl=li[zl],Tf=Tl.toLowerCase(),Lf=Tl[0].toUpperCase()+Tl.slice(1);dn(Tf,"on"+Lf)}dn($s,"onAnimationEnd");dn(As,"onAnimationIteration");dn(Vs,"onAnimationStart");dn("dblclick","onDoubleClick");dn("focusin","onFocus");dn("focusout","onBlur");dn(Bs,"onTransitionEnd");Zn("onMouseEnter",["mouseout","mouseover"]);Zn("onMouseLeave",["mouseout","mouseover"]);Zn("onPointerEnter",["pointerout","pointerover"]);Zn("onPointerLeave",["pointerout","pointerover"]);Tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rf=new Set("cancel close invalid load scroll toggle".split(" ").concat(wt));function ui(e,n,t){var r=e.type||"unknown-event";e.currentTarget=t,zc(r,n,void 0,e),e.currentTarget=null}function Ws(e,n){n=(n&4)!==0;for(var t=0;t<e.length;t++){var r=e[t],l=r.event;r=r.listeners;e:{var u=void 0;if(n)for(var o=r.length-1;0<=o;o--){var i=r[o],s=i.instance,c=i.currentTarget;if(i=i.listener,s!==u&&l.isPropagationStopped())break e;ui(l,i,c),u=s}else for(o=0;o<r.length;o++){if(i=r[o],s=i.instance,c=i.currentTarget,i=i.listener,s!==u&&l.isPropagationStopped())break e;ui(l,i,c),u=s}}}if(Lr)throw e=ru,Lr=!1,ru=null,e}function D(e,n){var t=n[pu];t===void 0&&(t=n[pu]=new Set);var r=e+"__bubble";t.has(r)||(Qs(n,e,2,!1),t.add(r))}function Ll(e,n,t){var r=0;n&&(r|=4),Qs(t,e,r,n)}var sr="_reactListening"+Math.random().toString(36).slice(2);function jt(e){if(!e[sr]){e[sr]=!0,qi.forEach(function(t){t!=="selectionchange"&&(Rf.has(t)||Ll(t,!1,e),Ll(t,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[sr]||(n[sr]=!0,Ll("selectionchange",!1,n))}}function Qs(e,n,t,r){switch(zs(n)){case 1:var l=Wc;break;case 4:l=Qc;break;default:l=Gu}t=l.bind(null,n,t,e),l=void 0,!tu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(n,t,{capture:!0,passive:l}):e.addEventListener(n,t,!0):l!==void 0?e.addEventListener(n,t,{passive:l}):e.addEventListener(n,t,!1)}function Rl(e,n,t,r,l){var u=r;if(!(n&1)&&!(n&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var i=r.stateNode.containerInfo;if(i===l||i.nodeType===8&&i.parentNode===l)break;if(o===4)for(o=r.return;o!==null;){var s=o.tag;if((s===3||s===4)&&(s=o.stateNode.containerInfo,s===l||s.nodeType===8&&s.parentNode===l))return;o=o.return}for(;i!==null;){if(o=wn(i),o===null)return;if(s=o.tag,s===5||s===6){r=u=o;continue e}i=i.parentNode}}r=r.return}ms(function(){var c=u,v=Qu(t),m=[];e:{var p=Hs.get(e);if(p!==void 0){var g=Ju,w=e;switch(e){case"keypress":if(kr(t)===0)break e;case"keydown":case"keyup":g=of;break;case"focusin":w="focus",g=_l;break;case"focusout":w="blur",g=_l;break;case"beforeblur":case"afterblur":g=_l;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Yo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Xc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=cf;break;case $s:case As:case Vs:g=Jc;break;case Bs:g=df;break;case"scroll":g=Kc;break;case"wheel":g=mf;break;case"copy":case"cut":case"paste":g=bc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Go}var k=(n&4)!==0,F=!k&&e==="scroll",f=k?p!==null?p+"Capture":null:p;k=[];for(var a=c,d;a!==null;){d=a;var h=d.stateNode;if(d.tag===5&&h!==null&&(d=h,f!==null&&(h=Rt(a,f),h!=null&&k.push(Ut(a,h,d)))),F)break;a=a.return}0<k.length&&(p=new g(p,w,null,t,v),m.push({event:p,listeners:k}))}}if(!(n&7)){e:{if(p=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",p&&t!==eu&&(w=t.relatedTarget||t.fromElement)&&(wn(w)||w[We]))break e;if((g||p)&&(p=v.window===v?v:(p=v.ownerDocument)?p.defaultView||p.parentWindow:window,g?(w=t.relatedTarget||t.toElement,g=c,w=w?wn(w):null,w!==null&&(F=Ln(w),w!==F||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=c),g!==w)){if(k=Yo,h="onMouseLeave",f="onMouseEnter",a="mouse",(e==="pointerout"||e==="pointerover")&&(k=Go,h="onPointerLeave",f="onPointerEnter",a="pointer"),F=g==null?p:jn(g),d=w==null?p:jn(w),p=new k(h,a+"leave",g,t,v),p.target=F,p.relatedTarget=d,h=null,wn(v)===c&&(k=new k(f,a+"enter",w,t,v),k.target=d,k.relatedTarget=F,h=k),F=h,g&&w)n:{for(k=g,f=w,a=0,d=k;d;d=Rn(d))a++;for(d=0,h=f;h;h=Rn(h))d++;for(;0<a-d;)k=Rn(k),a--;for(;0<d-a;)f=Rn(f),d--;for(;a--;){if(k===f||f!==null&&k===f.alternate)break n;k=Rn(k),f=Rn(f)}k=null}else k=null;g!==null&&oi(m,p,g,k,!1),w!==null&&F!==null&&oi(m,F,w,k,!0)}}e:{if(p=c?jn(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var E=Sf;else if(qo(p))if(Ds)E=xf;else{E=Cf;var _=Ef}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(E=_f);if(E&&(E=E(e,c))){Ms(m,E,t,v);break e}_&&_(e,p,c),e==="focusout"&&(_=p._wrapperState)&&_.controlled&&p.type==="number"&&Gl(p,"number",p.value)}switch(_=c?jn(c):window,e){case"focusin":(qo(_)||_.contentEditable==="true")&&(In=_,iu=c,_t=null);break;case"focusout":_t=iu=In=null;break;case"mousedown":su=!0;break;case"contextmenu":case"mouseup":case"dragend":su=!1,ri(m,t,v);break;case"selectionchange":if(zf)break;case"keydown":case"keyup":ri(m,t,v)}var x;if(bu)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Dn?Rs(e,t)&&(P="onCompositionEnd"):e==="keydown"&&t.keyCode===229&&(P="onCompositionStart");P&&(Ls&&t.locale!=="ko"&&(Dn||P!=="onCompositionStart"?P==="onCompositionEnd"&&Dn&&(x=Ts()):(be=v,Zu="value"in be?be.value:be.textContent,Dn=!0)),_=Ir(c,P),0<_.length&&(P=new Xo(P,e,null,t,v),m.push({event:P,listeners:_}),x?P.data=x:(x=Os(t),x!==null&&(P.data=x)))),(x=hf?yf(e,t):gf(e,t))&&(c=Ir(c,"onBeforeInput"),0<c.length&&(v=new Xo("onBeforeInput","beforeinput",null,t,v),m.push({event:v,listeners:c}),v.data=x))}Ws(m,n)})}function Ut(e,n,t){return{instance:e,listener:n,currentTarget:t}}function Ir(e,n){for(var t=n+"Capture",r=[];e!==null;){var l=e,u=l.stateNode;l.tag===5&&u!==null&&(l=u,u=Rt(e,t),u!=null&&r.unshift(Ut(e,u,l)),u=Rt(e,n),u!=null&&r.push(Ut(e,u,l))),e=e.return}return r}function Rn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function oi(e,n,t,r,l){for(var u=n._reactName,o=[];t!==null&&t!==r;){var i=t,s=i.alternate,c=i.stateNode;if(s!==null&&s===r)break;i.tag===5&&c!==null&&(i=c,l?(s=Rt(t,u),s!=null&&o.unshift(Ut(t,s,i))):l||(s=Rt(t,u),s!=null&&o.push(Ut(t,s,i)))),t=t.return}o.length!==0&&e.push({event:n,listeners:o})}var Of=/\r\n?/g,Mf=/\u0000|\uFFFD/g;function ii(e){return(typeof e=="string"?e:""+e).replace(Of,`
`).replace(Mf,"")}function ar(e,n,t){if(n=ii(n),ii(e)!==n&&t)throw Error(y(425))}function Fr(){}var au=null,cu=null;function fu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var du=typeof setTimeout=="function"?setTimeout:void 0,Df=typeof clearTimeout=="function"?clearTimeout:void 0,si=typeof Promise=="function"?Promise:void 0,If=typeof queueMicrotask=="function"?queueMicrotask:typeof si<"u"?function(e){return si.resolve(null).then(e).catch(Ff)}:du;function Ff(e){setTimeout(function(){throw e})}function Ol(e,n){var t=n,r=0;do{var l=t.nextSibling;if(e.removeChild(t),l&&l.nodeType===8)if(t=l.data,t==="/$"){if(r===0){e.removeChild(l),Dt(n);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=l}while(t);Dt(n)}function ln(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function ai(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var t=e.data;if(t==="$"||t==="$!"||t==="$?"){if(n===0)return e;n--}else t==="/$"&&n++}e=e.previousSibling}return null}var ut=Math.random().toString(36).slice(2),Ie="__reactFiber$"+ut,$t="__reactProps$"+ut,We="__reactContainer$"+ut,pu="__reactEvents$"+ut,jf="__reactListeners$"+ut,Uf="__reactHandles$"+ut;function wn(e){var n=e[Ie];if(n)return n;for(var t=e.parentNode;t;){if(n=t[We]||t[Ie]){if(t=n.alternate,n.child!==null||t!==null&&t.child!==null)for(e=ai(e);e!==null;){if(t=e[Ie])return t;e=ai(e)}return n}e=t,t=e.parentNode}return null}function Gt(e){return e=e[Ie]||e[We],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function jn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(y(33))}function tl(e){return e[$t]||null}var mu=[],Un=-1;function pn(e){return{current:e}}function I(e){0>Un||(e.current=mu[Un],mu[Un]=null,Un--)}function M(e,n){Un++,mu[Un]=e.current,e.current=n}var fn={},re=pn(fn),ce=pn(!1),_n=fn;function Jn(e,n){var t=e.type.contextTypes;if(!t)return fn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===n)return r.__reactInternalMemoizedMaskedChildContext;var l={},u;for(u in t)l[u]=n[u];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=l),l}function fe(e){return e=e.childContextTypes,e!=null}function jr(){I(ce),I(re)}function ci(e,n,t){if(re.current!==fn)throw Error(y(168));M(re,n),M(ce,t)}function Ks(e,n,t){var r=e.stateNode;if(n=n.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var l in r)if(!(l in n))throw Error(y(108,Sc(e)||"Unknown",l));return A({},t,r)}function Ur(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fn,_n=re.current,M(re,e),M(ce,ce.current),!0}function fi(e,n,t){var r=e.stateNode;if(!r)throw Error(y(169));t?(e=Ks(e,n,_n),r.__reactInternalMemoizedMergedChildContext=e,I(ce),I(re),M(re,e)):I(ce),M(ce,t)}var $e=null,rl=!1,Ml=!1;function Ys(e){$e===null?$e=[e]:$e.push(e)}function $f(e){rl=!0,Ys(e)}function mn(){if(!Ml&&$e!==null){Ml=!0;var e=0,n=O;try{var t=$e;for(O=1;e<t.length;e++){var r=t[e];do r=r(!0);while(r!==null)}$e=null,rl=!1}catch(l){throw $e!==null&&($e=$e.slice(e+1)),gs(Ku,mn),l}finally{O=n,Ml=!1}}return null}var $n=[],An=0,$r=null,Ar=0,we=[],ke=0,xn=null,Ae=1,Ve="";function yn(e,n){$n[An++]=Ar,$n[An++]=$r,$r=e,Ar=n}function Xs(e,n,t){we[ke++]=Ae,we[ke++]=Ve,we[ke++]=xn,xn=e;var r=Ae;e=Ve;var l=32-Le(r)-1;r&=~(1<<l),t+=1;var u=32-Le(n)+l;if(30<u){var o=l-l%5;u=(r&(1<<o)-1).toString(32),r>>=o,l-=o,Ae=1<<32-Le(n)+l|t<<l|r,Ve=u+e}else Ae=1<<u|t<<l|r,Ve=e}function no(e){e.return!==null&&(yn(e,1),Xs(e,1,0))}function to(e){for(;e===$r;)$r=$n[--An],$n[An]=null,Ar=$n[--An],$n[An]=null;for(;e===xn;)xn=we[--ke],we[ke]=null,Ve=we[--ke],we[ke]=null,Ae=we[--ke],we[ke]=null}var ve=null,me=null,j=!1,Te=null;function Gs(e,n){var t=Se(5,null,null,0);t.elementType="DELETED",t.stateNode=n,t.return=e,n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)}function di(e,n){switch(e.tag){case 5:var t=e.type;return n=n.nodeType!==1||t.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,ve=e,me=ln(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,ve=e,me=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(t=xn!==null?{id:Ae,overflow:Ve}:null,e.memoizedState={dehydrated:n,treeContext:t,retryLane:1073741824},t=Se(18,null,null,0),t.stateNode=n,t.return=e,e.child=t,ve=e,me=null,!0):!1;default:return!1}}function vu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function hu(e){if(j){var n=me;if(n){var t=n;if(!di(e,n)){if(vu(e))throw Error(y(418));n=ln(t.nextSibling);var r=ve;n&&di(e,n)?Gs(r,t):(e.flags=e.flags&-4097|2,j=!1,ve=e)}}else{if(vu(e))throw Error(y(418));e.flags=e.flags&-4097|2,j=!1,ve=e}}}function pi(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ve=e}function cr(e){if(e!==ve)return!1;if(!j)return pi(e),j=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!fu(e.type,e.memoizedProps)),n&&(n=me)){if(vu(e))throw Zs(),Error(y(418));for(;n;)Gs(e,n),n=ln(n.nextSibling)}if(pi(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(y(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var t=e.data;if(t==="/$"){if(n===0){me=ln(e.nextSibling);break e}n--}else t!=="$"&&t!=="$!"&&t!=="$?"||n++}e=e.nextSibling}me=null}}else me=ve?ln(e.stateNode.nextSibling):null;return!0}function Zs(){for(var e=me;e;)e=ln(e.nextSibling)}function qn(){me=ve=null,j=!1}function ro(e){Te===null?Te=[e]:Te.push(e)}var Af=Ye.ReactCurrentBatchConfig;function pt(e,n,t){if(e=t.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(y(309));var r=t.stateNode}if(!r)throw Error(y(147,e));var l=r,u=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===u?n.ref:(n=function(o){var i=l.refs;o===null?delete i[u]:i[u]=o},n._stringRef=u,n)}if(typeof e!="string")throw Error(y(284));if(!t._owner)throw Error(y(290,e))}return e}function fr(e,n){throw e=Object.prototype.toString.call(n),Error(y(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function mi(e){var n=e._init;return n(e._payload)}function Js(e){function n(f,a){if(e){var d=f.deletions;d===null?(f.deletions=[a],f.flags|=16):d.push(a)}}function t(f,a){if(!e)return null;for(;a!==null;)n(f,a),a=a.sibling;return null}function r(f,a){for(f=new Map;a!==null;)a.key!==null?f.set(a.key,a):f.set(a.index,a),a=a.sibling;return f}function l(f,a){return f=an(f,a),f.index=0,f.sibling=null,f}function u(f,a,d){return f.index=d,e?(d=f.alternate,d!==null?(d=d.index,d<a?(f.flags|=2,a):d):(f.flags|=2,a)):(f.flags|=1048576,a)}function o(f){return e&&f.alternate===null&&(f.flags|=2),f}function i(f,a,d,h){return a===null||a.tag!==6?(a=Al(d,f.mode,h),a.return=f,a):(a=l(a,d),a.return=f,a)}function s(f,a,d,h){var E=d.type;return E===Mn?v(f,a,d.props.children,h,d.key):a!==null&&(a.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ge&&mi(E)===a.type)?(h=l(a,d.props),h.ref=pt(f,a,d),h.return=f,h):(h=Nr(d.type,d.key,d.props,null,f.mode,h),h.ref=pt(f,a,d),h.return=f,h)}function c(f,a,d,h){return a===null||a.tag!==4||a.stateNode.containerInfo!==d.containerInfo||a.stateNode.implementation!==d.implementation?(a=Vl(d,f.mode,h),a.return=f,a):(a=l(a,d.children||[]),a.return=f,a)}function v(f,a,d,h,E){return a===null||a.tag!==7?(a=Cn(d,f.mode,h,E),a.return=f,a):(a=l(a,d),a.return=f,a)}function m(f,a,d){if(typeof a=="string"&&a!==""||typeof a=="number")return a=Al(""+a,f.mode,d),a.return=f,a;if(typeof a=="object"&&a!==null){switch(a.$$typeof){case er:return d=Nr(a.type,a.key,a.props,null,f.mode,d),d.ref=pt(f,null,a),d.return=f,d;case On:return a=Vl(a,f.mode,d),a.return=f,a;case Ge:var h=a._init;return m(f,h(a._payload),d)}if(yt(a)||st(a))return a=Cn(a,f.mode,d,null),a.return=f,a;fr(f,a)}return null}function p(f,a,d,h){var E=a!==null?a.key:null;if(typeof d=="string"&&d!==""||typeof d=="number")return E!==null?null:i(f,a,""+d,h);if(typeof d=="object"&&d!==null){switch(d.$$typeof){case er:return d.key===E?s(f,a,d,h):null;case On:return d.key===E?c(f,a,d,h):null;case Ge:return E=d._init,p(f,a,E(d._payload),h)}if(yt(d)||st(d))return E!==null?null:v(f,a,d,h,null);fr(f,d)}return null}function g(f,a,d,h,E){if(typeof h=="string"&&h!==""||typeof h=="number")return f=f.get(d)||null,i(a,f,""+h,E);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case er:return f=f.get(h.key===null?d:h.key)||null,s(a,f,h,E);case On:return f=f.get(h.key===null?d:h.key)||null,c(a,f,h,E);case Ge:var _=h._init;return g(f,a,d,_(h._payload),E)}if(yt(h)||st(h))return f=f.get(d)||null,v(a,f,h,E,null);fr(a,h)}return null}function w(f,a,d,h){for(var E=null,_=null,x=a,P=a=0,B=null;x!==null&&P<d.length;P++){x.index>P?(B=x,x=null):B=x.sibling;var L=p(f,x,d[P],h);if(L===null){x===null&&(x=B);break}e&&x&&L.alternate===null&&n(f,x),a=u(L,a,P),_===null?E=L:_.sibling=L,_=L,x=B}if(P===d.length)return t(f,x),j&&yn(f,P),E;if(x===null){for(;P<d.length;P++)x=m(f,d[P],h),x!==null&&(a=u(x,a,P),_===null?E=x:_.sibling=x,_=x);return j&&yn(f,P),E}for(x=r(f,x);P<d.length;P++)B=g(x,f,P,d[P],h),B!==null&&(e&&B.alternate!==null&&x.delete(B.key===null?P:B.key),a=u(B,a,P),_===null?E=B:_.sibling=B,_=B);return e&&x.forEach(function(xe){return n(f,xe)}),j&&yn(f,P),E}function k(f,a,d,h){var E=st(d);if(typeof E!="function")throw Error(y(150));if(d=E.call(d),d==null)throw Error(y(151));for(var _=E=null,x=a,P=a=0,B=null,L=d.next();x!==null&&!L.done;P++,L=d.next()){x.index>P?(B=x,x=null):B=x.sibling;var xe=p(f,x,L.value,h);if(xe===null){x===null&&(x=B);break}e&&x&&xe.alternate===null&&n(f,x),a=u(xe,a,P),_===null?E=xe:_.sibling=xe,_=xe,x=B}if(L.done)return t(f,x),j&&yn(f,P),E;if(x===null){for(;!L.done;P++,L=d.next())L=m(f,L.value,h),L!==null&&(a=u(L,a,P),_===null?E=L:_.sibling=L,_=L);return j&&yn(f,P),E}for(x=r(f,x);!L.done;P++,L=d.next())L=g(x,f,P,L.value,h),L!==null&&(e&&L.alternate!==null&&x.delete(L.key===null?P:L.key),a=u(L,a,P),_===null?E=L:_.sibling=L,_=L);return e&&x.forEach(function(ot){return n(f,ot)}),j&&yn(f,P),E}function F(f,a,d,h){if(typeof d=="object"&&d!==null&&d.type===Mn&&d.key===null&&(d=d.props.children),typeof d=="object"&&d!==null){switch(d.$$typeof){case er:e:{for(var E=d.key,_=a;_!==null;){if(_.key===E){if(E=d.type,E===Mn){if(_.tag===7){t(f,_.sibling),a=l(_,d.props.children),a.return=f,f=a;break e}}else if(_.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ge&&mi(E)===_.type){t(f,_.sibling),a=l(_,d.props),a.ref=pt(f,_,d),a.return=f,f=a;break e}t(f,_);break}else n(f,_);_=_.sibling}d.type===Mn?(a=Cn(d.props.children,f.mode,h,d.key),a.return=f,f=a):(h=Nr(d.type,d.key,d.props,null,f.mode,h),h.ref=pt(f,a,d),h.return=f,f=h)}return o(f);case On:e:{for(_=d.key;a!==null;){if(a.key===_)if(a.tag===4&&a.stateNode.containerInfo===d.containerInfo&&a.stateNode.implementation===d.implementation){t(f,a.sibling),a=l(a,d.children||[]),a.return=f,f=a;break e}else{t(f,a);break}else n(f,a);a=a.sibling}a=Vl(d,f.mode,h),a.return=f,f=a}return o(f);case Ge:return _=d._init,F(f,a,_(d._payload),h)}if(yt(d))return w(f,a,d,h);if(st(d))return k(f,a,d,h);fr(f,d)}return typeof d=="string"&&d!==""||typeof d=="number"?(d=""+d,a!==null&&a.tag===6?(t(f,a.sibling),a=l(a,d),a.return=f,f=a):(t(f,a),a=Al(d,f.mode,h),a.return=f,f=a),o(f)):t(f,a)}return F}var bn=Js(!0),qs=Js(!1),Vr=pn(null),Br=null,Vn=null,lo=null;function uo(){lo=Vn=Br=null}function oo(e){var n=Vr.current;I(Vr),e._currentValue=n}function yu(e,n,t){for(;e!==null;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,r!==null&&(r.childLanes|=n)):r!==null&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===t)break;e=e.return}}function Xn(e,n){Br=e,lo=Vn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(ae=!0),e.firstContext=null)}function Ce(e){var n=e._currentValue;if(lo!==e)if(e={context:e,memoizedValue:n,next:null},Vn===null){if(Br===null)throw Error(y(308));Vn=e,Br.dependencies={lanes:0,firstContext:e}}else Vn=Vn.next=e;return n}var kn=null;function io(e){kn===null?kn=[e]:kn.push(e)}function bs(e,n,t,r){var l=n.interleaved;return l===null?(t.next=t,io(n)):(t.next=l.next,l.next=t),n.interleaved=t,Qe(e,r)}function Qe(e,n){e.lanes|=n;var t=e.alternate;for(t!==null&&(t.lanes|=n),t=e,e=e.return;e!==null;)e.childLanes|=n,t=e.alternate,t!==null&&(t.childLanes|=n),t=e,e=e.return;return t.tag===3?t.stateNode:null}var Ze=!1;function so(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ea(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Be(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function un(e,n,t){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,R&2){var l=r.pending;return l===null?n.next=n:(n.next=l.next,l.next=n),r.pending=n,Qe(e,t)}return l=r.interleaved,l===null?(n.next=n,io(r)):(n.next=l.next,l.next=n),r.interleaved=n,Qe(e,t)}function Sr(e,n,t){if(n=n.updateQueue,n!==null&&(n=n.shared,(t&4194240)!==0)){var r=n.lanes;r&=e.pendingLanes,t|=r,n.lanes=t,Yu(e,t)}}function vi(e,n){var t=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var l=null,u=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};u===null?l=u=o:u=u.next=o,t=t.next}while(t!==null);u===null?l=u=n:u=u.next=n}else l=u=n;t={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:u,shared:r.shared,effects:r.effects},e.updateQueue=t;return}e=t.lastBaseUpdate,e===null?t.firstBaseUpdate=n:e.next=n,t.lastBaseUpdate=n}function Hr(e,n,t,r){var l=e.updateQueue;Ze=!1;var u=l.firstBaseUpdate,o=l.lastBaseUpdate,i=l.shared.pending;if(i!==null){l.shared.pending=null;var s=i,c=s.next;s.next=null,o===null?u=c:o.next=c,o=s;var v=e.alternate;v!==null&&(v=v.updateQueue,i=v.lastBaseUpdate,i!==o&&(i===null?v.firstBaseUpdate=c:i.next=c,v.lastBaseUpdate=s))}if(u!==null){var m=l.baseState;o=0,v=c=s=null,i=u;do{var p=i.lane,g=i.eventTime;if((r&p)===p){v!==null&&(v=v.next={eventTime:g,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var w=e,k=i;switch(p=n,g=t,k.tag){case 1:if(w=k.payload,typeof w=="function"){m=w.call(g,m,p);break e}m=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=k.payload,p=typeof w=="function"?w.call(g,m,p):w,p==null)break e;m=A({},m,p);break e;case 2:Ze=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,p=l.effects,p===null?l.effects=[i]:p.push(i))}else g={eventTime:g,lane:p,tag:i.tag,payload:i.payload,callback:i.callback,next:null},v===null?(c=v=g,s=m):v=v.next=g,o|=p;if(i=i.next,i===null){if(i=l.shared.pending,i===null)break;p=i,i=p.next,p.next=null,l.lastBaseUpdate=p,l.shared.pending=null}}while(!0);if(v===null&&(s=m),l.baseState=s,l.firstBaseUpdate=c,l.lastBaseUpdate=v,n=l.shared.interleaved,n!==null){l=n;do o|=l.lane,l=l.next;while(l!==n)}else u===null&&(l.shared.lanes=0);Nn|=o,e.lanes=o,e.memoizedState=m}}function hi(e,n,t){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var r=e[n],l=r.callback;if(l!==null){if(r.callback=null,r=t,typeof l!="function")throw Error(y(191,l));l.call(r)}}}var Zt={},je=pn(Zt),At=pn(Zt),Vt=pn(Zt);function Sn(e){if(e===Zt)throw Error(y(174));return e}function ao(e,n){switch(M(Vt,n),M(At,e),M(je,Zt),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Jl(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Jl(n,e)}I(je),M(je,n)}function et(){I(je),I(At),I(Vt)}function na(e){Sn(Vt.current);var n=Sn(je.current),t=Jl(n,e.type);n!==t&&(M(At,e),M(je,t))}function co(e){At.current===e&&(I(je),I(At))}var U=pn(0);function Wr(e){for(var n=e;n!==null;){if(n.tag===13){var t=n.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Dl=[];function fo(){for(var e=0;e<Dl.length;e++)Dl[e]._workInProgressVersionPrimary=null;Dl.length=0}var Er=Ye.ReactCurrentDispatcher,Il=Ye.ReactCurrentBatchConfig,Pn=0,$=null,K=null,G=null,Qr=!1,xt=!1,Bt=0,Vf=0;function ee(){throw Error(y(321))}function po(e,n){if(n===null)return!1;for(var t=0;t<n.length&&t<e.length;t++)if(!Oe(e[t],n[t]))return!1;return!0}function mo(e,n,t,r,l,u){if(Pn=u,$=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Er.current=e===null||e.memoizedState===null?Qf:Kf,e=t(r,l),xt){u=0;do{if(xt=!1,Bt=0,25<=u)throw Error(y(301));u+=1,G=K=null,n.updateQueue=null,Er.current=Yf,e=t(r,l)}while(xt)}if(Er.current=Kr,n=K!==null&&K.next!==null,Pn=0,G=K=$=null,Qr=!1,n)throw Error(y(300));return e}function vo(){var e=Bt!==0;return Bt=0,e}function De(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return G===null?$.memoizedState=G=e:G=G.next=e,G}function _e(){if(K===null){var e=$.alternate;e=e!==null?e.memoizedState:null}else e=K.next;var n=G===null?$.memoizedState:G.next;if(n!==null)G=n,K=e;else{if(e===null)throw Error(y(310));K=e,e={memoizedState:K.memoizedState,baseState:K.baseState,baseQueue:K.baseQueue,queue:K.queue,next:null},G===null?$.memoizedState=G=e:G=G.next=e}return G}function Ht(e,n){return typeof n=="function"?n(e):n}function Fl(e){var n=_e(),t=n.queue;if(t===null)throw Error(y(311));t.lastRenderedReducer=e;var r=K,l=r.baseQueue,u=t.pending;if(u!==null){if(l!==null){var o=l.next;l.next=u.next,u.next=o}r.baseQueue=l=u,t.pending=null}if(l!==null){u=l.next,r=r.baseState;var i=o=null,s=null,c=u;do{var v=c.lane;if((Pn&v)===v)s!==null&&(s=s.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var m={lane:v,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};s===null?(i=s=m,o=r):s=s.next=m,$.lanes|=v,Nn|=v}c=c.next}while(c!==null&&c!==u);s===null?o=r:s.next=i,Oe(r,n.memoizedState)||(ae=!0),n.memoizedState=r,n.baseState=o,n.baseQueue=s,t.lastRenderedState=r}if(e=t.interleaved,e!==null){l=e;do u=l.lane,$.lanes|=u,Nn|=u,l=l.next;while(l!==e)}else l===null&&(t.lanes=0);return[n.memoizedState,t.dispatch]}function jl(e){var n=_e(),t=n.queue;if(t===null)throw Error(y(311));t.lastRenderedReducer=e;var r=t.dispatch,l=t.pending,u=n.memoizedState;if(l!==null){t.pending=null;var o=l=l.next;do u=e(u,o.action),o=o.next;while(o!==l);Oe(u,n.memoizedState)||(ae=!0),n.memoizedState=u,n.baseQueue===null&&(n.baseState=u),t.lastRenderedState=u}return[u,r]}function ta(){}function ra(e,n){var t=$,r=_e(),l=n(),u=!Oe(r.memoizedState,l);if(u&&(r.memoizedState=l,ae=!0),r=r.queue,ho(oa.bind(null,t,r,e),[e]),r.getSnapshot!==n||u||G!==null&&G.memoizedState.tag&1){if(t.flags|=2048,Wt(9,ua.bind(null,t,r,l,n),void 0,null),Z===null)throw Error(y(349));Pn&30||la(t,n,l)}return l}function la(e,n,t){e.flags|=16384,e={getSnapshot:n,value:t},n=$.updateQueue,n===null?(n={lastEffect:null,stores:null},$.updateQueue=n,n.stores=[e]):(t=n.stores,t===null?n.stores=[e]:t.push(e))}function ua(e,n,t,r){n.value=t,n.getSnapshot=r,ia(n)&&sa(e)}function oa(e,n,t){return t(function(){ia(n)&&sa(e)})}function ia(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!Oe(e,t)}catch{return!0}}function sa(e){var n=Qe(e,1);n!==null&&Re(n,e,1,-1)}function yi(e){var n=De();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ht,lastRenderedState:e},n.queue=e,e=e.dispatch=Wf.bind(null,$,e),[n.memoizedState,e]}function Wt(e,n,t,r){return e={tag:e,create:n,destroy:t,deps:r,next:null},n=$.updateQueue,n===null?(n={lastEffect:null,stores:null},$.updateQueue=n,n.lastEffect=e.next=e):(t=n.lastEffect,t===null?n.lastEffect=e.next=e:(r=t.next,t.next=e,e.next=r,n.lastEffect=e)),e}function aa(){return _e().memoizedState}function Cr(e,n,t,r){var l=De();$.flags|=e,l.memoizedState=Wt(1|n,t,void 0,r===void 0?null:r)}function ll(e,n,t,r){var l=_e();r=r===void 0?null:r;var u=void 0;if(K!==null){var o=K.memoizedState;if(u=o.destroy,r!==null&&po(r,o.deps)){l.memoizedState=Wt(n,t,u,r);return}}$.flags|=e,l.memoizedState=Wt(1|n,t,u,r)}function gi(e,n){return Cr(8390656,8,e,n)}function ho(e,n){return ll(2048,8,e,n)}function ca(e,n){return ll(4,2,e,n)}function fa(e,n){return ll(4,4,e,n)}function da(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function pa(e,n,t){return t=t!=null?t.concat([e]):null,ll(4,4,da.bind(null,n,e),t)}function yo(){}function ma(e,n){var t=_e();n=n===void 0?null:n;var r=t.memoizedState;return r!==null&&n!==null&&po(n,r[1])?r[0]:(t.memoizedState=[e,n],e)}function va(e,n){var t=_e();n=n===void 0?null:n;var r=t.memoizedState;return r!==null&&n!==null&&po(n,r[1])?r[0]:(e=e(),t.memoizedState=[e,n],e)}function ha(e,n,t){return Pn&21?(Oe(t,n)||(t=Ss(),$.lanes|=t,Nn|=t,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,ae=!0),e.memoizedState=t)}function Bf(e,n){var t=O;O=t!==0&&4>t?t:4,e(!0);var r=Il.transition;Il.transition={};try{e(!1),n()}finally{O=t,Il.transition=r}}function ya(){return _e().memoizedState}function Hf(e,n,t){var r=sn(e);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},ga(e))wa(n,t);else if(t=bs(e,n,t,r),t!==null){var l=ue();Re(t,e,r,l),ka(t,n,r)}}function Wf(e,n,t){var r=sn(e),l={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(ga(e))wa(n,l);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=n.lastRenderedReducer,u!==null))try{var o=n.lastRenderedState,i=u(o,t);if(l.hasEagerState=!0,l.eagerState=i,Oe(i,o)){var s=n.interleaved;s===null?(l.next=l,io(n)):(l.next=s.next,s.next=l),n.interleaved=l;return}}catch{}finally{}t=bs(e,n,l,r),t!==null&&(l=ue(),Re(t,e,r,l),ka(t,n,r))}}function ga(e){var n=e.alternate;return e===$||n!==null&&n===$}function wa(e,n){xt=Qr=!0;var t=e.pending;t===null?n.next=n:(n.next=t.next,t.next=n),e.pending=n}function ka(e,n,t){if(t&4194240){var r=n.lanes;r&=e.pendingLanes,t|=r,n.lanes=t,Yu(e,t)}}var Kr={readContext:Ce,useCallback:ee,useContext:ee,useEffect:ee,useImperativeHandle:ee,useInsertionEffect:ee,useLayoutEffect:ee,useMemo:ee,useReducer:ee,useRef:ee,useState:ee,useDebugValue:ee,useDeferredValue:ee,useTransition:ee,useMutableSource:ee,useSyncExternalStore:ee,useId:ee,unstable_isNewReconciler:!1},Qf={readContext:Ce,useCallback:function(e,n){return De().memoizedState=[e,n===void 0?null:n],e},useContext:Ce,useEffect:gi,useImperativeHandle:function(e,n,t){return t=t!=null?t.concat([e]):null,Cr(4194308,4,da.bind(null,n,e),t)},useLayoutEffect:function(e,n){return Cr(4194308,4,e,n)},useInsertionEffect:function(e,n){return Cr(4,2,e,n)},useMemo:function(e,n){var t=De();return n=n===void 0?null:n,e=e(),t.memoizedState=[e,n],e},useReducer:function(e,n,t){var r=De();return n=t!==void 0?t(n):n,r.memoizedState=r.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},r.queue=e,e=e.dispatch=Hf.bind(null,$,e),[r.memoizedState,e]},useRef:function(e){var n=De();return e={current:e},n.memoizedState=e},useState:yi,useDebugValue:yo,useDeferredValue:function(e){return De().memoizedState=e},useTransition:function(){var e=yi(!1),n=e[0];return e=Bf.bind(null,e[1]),De().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,t){var r=$,l=De();if(j){if(t===void 0)throw Error(y(407));t=t()}else{if(t=n(),Z===null)throw Error(y(349));Pn&30||la(r,n,t)}l.memoizedState=t;var u={value:t,getSnapshot:n};return l.queue=u,gi(oa.bind(null,r,u,e),[e]),r.flags|=2048,Wt(9,ua.bind(null,r,u,t,n),void 0,null),t},useId:function(){var e=De(),n=Z.identifierPrefix;if(j){var t=Ve,r=Ae;t=(r&~(1<<32-Le(r)-1)).toString(32)+t,n=":"+n+"R"+t,t=Bt++,0<t&&(n+="H"+t.toString(32)),n+=":"}else t=Vf++,n=":"+n+"r"+t.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Kf={readContext:Ce,useCallback:ma,useContext:Ce,useEffect:ho,useImperativeHandle:pa,useInsertionEffect:ca,useLayoutEffect:fa,useMemo:va,useReducer:Fl,useRef:aa,useState:function(){return Fl(Ht)},useDebugValue:yo,useDeferredValue:function(e){var n=_e();return ha(n,K.memoizedState,e)},useTransition:function(){var e=Fl(Ht)[0],n=_e().memoizedState;return[e,n]},useMutableSource:ta,useSyncExternalStore:ra,useId:ya,unstable_isNewReconciler:!1},Yf={readContext:Ce,useCallback:ma,useContext:Ce,useEffect:ho,useImperativeHandle:pa,useInsertionEffect:ca,useLayoutEffect:fa,useMemo:va,useReducer:jl,useRef:aa,useState:function(){return jl(Ht)},useDebugValue:yo,useDeferredValue:function(e){var n=_e();return K===null?n.memoizedState=e:ha(n,K.memoizedState,e)},useTransition:function(){var e=jl(Ht)[0],n=_e().memoizedState;return[e,n]},useMutableSource:ta,useSyncExternalStore:ra,useId:ya,unstable_isNewReconciler:!1};function Ne(e,n){if(e&&e.defaultProps){n=A({},n),e=e.defaultProps;for(var t in e)n[t]===void 0&&(n[t]=e[t]);return n}return n}function gu(e,n,t,r){n=e.memoizedState,t=t(r,n),t=t==null?n:A({},n,t),e.memoizedState=t,e.lanes===0&&(e.updateQueue.baseState=t)}var ul={isMounted:function(e){return(e=e._reactInternals)?Ln(e)===e:!1},enqueueSetState:function(e,n,t){e=e._reactInternals;var r=ue(),l=sn(e),u=Be(r,l);u.payload=n,t!=null&&(u.callback=t),n=un(e,u,l),n!==null&&(Re(n,e,l,r),Sr(n,e,l))},enqueueReplaceState:function(e,n,t){e=e._reactInternals;var r=ue(),l=sn(e),u=Be(r,l);u.tag=1,u.payload=n,t!=null&&(u.callback=t),n=un(e,u,l),n!==null&&(Re(n,e,l,r),Sr(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var t=ue(),r=sn(e),l=Be(t,r);l.tag=2,n!=null&&(l.callback=n),n=un(e,l,r),n!==null&&(Re(n,e,r,t),Sr(n,e,r))}};function wi(e,n,t,r,l,u,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,u,o):n.prototype&&n.prototype.isPureReactComponent?!Ft(t,r)||!Ft(l,u):!0}function Sa(e,n,t){var r=!1,l=fn,u=n.contextType;return typeof u=="object"&&u!==null?u=Ce(u):(l=fe(n)?_n:re.current,r=n.contextTypes,u=(r=r!=null)?Jn(e,l):fn),n=new n(t,u),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=ul,e.stateNode=n,n._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=u),n}function ki(e,n,t,r){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(t,r),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(t,r),n.state!==e&&ul.enqueueReplaceState(n,n.state,null)}function wu(e,n,t,r){var l=e.stateNode;l.props=t,l.state=e.memoizedState,l.refs={},so(e);var u=n.contextType;typeof u=="object"&&u!==null?l.context=Ce(u):(u=fe(n)?_n:re.current,l.context=Jn(e,u)),l.state=e.memoizedState,u=n.getDerivedStateFromProps,typeof u=="function"&&(gu(e,n,u,t),l.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(n=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),n!==l.state&&ul.enqueueReplaceState(l,l.state,null),Hr(e,t,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function nt(e,n){try{var t="",r=n;do t+=kc(r),r=r.return;while(r);var l=t}catch(u){l=`
Error generating stack: `+u.message+`
`+u.stack}return{value:e,source:n,stack:l,digest:null}}function Ul(e,n,t){return{value:e,source:null,stack:t??null,digest:n??null}}function ku(e,n){try{console.error(n.value)}catch(t){setTimeout(function(){throw t})}}var Xf=typeof WeakMap=="function"?WeakMap:Map;function Ea(e,n,t){t=Be(-1,t),t.tag=3,t.payload={element:null};var r=n.value;return t.callback=function(){Xr||(Xr=!0,Lu=r),ku(e,n)},t}function Ca(e,n,t){t=Be(-1,t),t.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=n.value;t.payload=function(){return r(l)},t.callback=function(){ku(e,n)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(t.callback=function(){ku(e,n),typeof r!="function"&&(on===null?on=new Set([this]):on.add(this));var o=n.stack;this.componentDidCatch(n.value,{componentStack:o!==null?o:""})}),t}function Si(e,n,t){var r=e.pingCache;if(r===null){r=e.pingCache=new Xf;var l=new Set;r.set(n,l)}else l=r.get(n),l===void 0&&(l=new Set,r.set(n,l));l.has(t)||(l.add(t),e=sd.bind(null,e,n,t),n.then(e,e))}function Ei(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Ci(e,n,t,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===n?e.flags|=65536:(e.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(n=Be(-1,1),n.tag=2,un(t,n,1))),t.lanes|=1),e)}var Gf=Ye.ReactCurrentOwner,ae=!1;function le(e,n,t,r){n.child=e===null?qs(n,null,t,r):bn(n,e.child,t,r)}function _i(e,n,t,r,l){t=t.render;var u=n.ref;return Xn(n,l),r=mo(e,n,t,r,u,l),t=vo(),e!==null&&!ae?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l,Ke(e,n,l)):(j&&t&&no(n),n.flags|=1,le(e,n,r,l),n.child)}function xi(e,n,t,r,l){if(e===null){var u=t.type;return typeof u=="function"&&!xo(u)&&u.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(n.tag=15,n.type=u,_a(e,n,u,r,l)):(e=Nr(t.type,null,r,n,n.mode,l),e.ref=n.ref,e.return=n,n.child=e)}if(u=e.child,!(e.lanes&l)){var o=u.memoizedProps;if(t=t.compare,t=t!==null?t:Ft,t(o,r)&&e.ref===n.ref)return Ke(e,n,l)}return n.flags|=1,e=an(u,r),e.ref=n.ref,e.return=n,n.child=e}function _a(e,n,t,r,l){if(e!==null){var u=e.memoizedProps;if(Ft(u,r)&&e.ref===n.ref)if(ae=!1,n.pendingProps=r=u,(e.lanes&l)!==0)e.flags&131072&&(ae=!0);else return n.lanes=e.lanes,Ke(e,n,l)}return Su(e,n,t,r,l)}function xa(e,n,t){var r=n.pendingProps,l=r.children,u=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},M(Hn,pe),pe|=t;else{if(!(t&1073741824))return e=u!==null?u.baseLanes|t:t,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,M(Hn,pe),pe|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=u!==null?u.baseLanes:t,M(Hn,pe),pe|=r}else u!==null?(r=u.baseLanes|t,n.memoizedState=null):r=t,M(Hn,pe),pe|=r;return le(e,n,l,t),n.child}function Pa(e,n){var t=n.ref;(e===null&&t!==null||e!==null&&e.ref!==t)&&(n.flags|=512,n.flags|=2097152)}function Su(e,n,t,r,l){var u=fe(t)?_n:re.current;return u=Jn(n,u),Xn(n,l),t=mo(e,n,t,r,u,l),r=vo(),e!==null&&!ae?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l,Ke(e,n,l)):(j&&r&&no(n),n.flags|=1,le(e,n,t,l),n.child)}function Pi(e,n,t,r,l){if(fe(t)){var u=!0;Ur(n)}else u=!1;if(Xn(n,l),n.stateNode===null)_r(e,n),Sa(n,t,r),wu(n,t,r,l),r=!0;else if(e===null){var o=n.stateNode,i=n.memoizedProps;o.props=i;var s=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=Ce(c):(c=fe(t)?_n:re.current,c=Jn(n,c));var v=t.getDerivedStateFromProps,m=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==r||s!==c)&&ki(n,o,r,c),Ze=!1;var p=n.memoizedState;o.state=p,Hr(n,r,o,l),s=n.memoizedState,i!==r||p!==s||ce.current||Ze?(typeof v=="function"&&(gu(n,t,v,r),s=n.memoizedState),(i=Ze||wi(n,t,i,r,p,s,c))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(n.flags|=4194308)):(typeof o.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=s),o.props=r,o.state=s,o.context=c,r=i):(typeof o.componentDidMount=="function"&&(n.flags|=4194308),r=!1)}else{o=n.stateNode,ea(e,n),i=n.memoizedProps,c=n.type===n.elementType?i:Ne(n.type,i),o.props=c,m=n.pendingProps,p=o.context,s=t.contextType,typeof s=="object"&&s!==null?s=Ce(s):(s=fe(t)?_n:re.current,s=Jn(n,s));var g=t.getDerivedStateFromProps;(v=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==m||p!==s)&&ki(n,o,r,s),Ze=!1,p=n.memoizedState,o.state=p,Hr(n,r,o,l);var w=n.memoizedState;i!==m||p!==w||ce.current||Ze?(typeof g=="function"&&(gu(n,t,g,r),w=n.memoizedState),(c=Ze||wi(n,t,c,r,p,w,s)||!1)?(v||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,s),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,s)),typeof o.componentDidUpdate=="function"&&(n.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof o.componentDidUpdate!="function"||i===e.memoizedProps&&p===e.memoizedState||(n.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&p===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=w),o.props=r,o.state=w,o.context=s,r=c):(typeof o.componentDidUpdate!="function"||i===e.memoizedProps&&p===e.memoizedState||(n.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&p===e.memoizedState||(n.flags|=1024),r=!1)}return Eu(e,n,t,r,u,l)}function Eu(e,n,t,r,l,u){Pa(e,n);var o=(n.flags&128)!==0;if(!r&&!o)return l&&fi(n,t,!1),Ke(e,n,u);r=n.stateNode,Gf.current=n;var i=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return n.flags|=1,e!==null&&o?(n.child=bn(n,e.child,null,u),n.child=bn(n,null,i,u)):le(e,n,i,u),n.memoizedState=r.state,l&&fi(n,t,!0),n.child}function Na(e){var n=e.stateNode;n.pendingContext?ci(e,n.pendingContext,n.pendingContext!==n.context):n.context&&ci(e,n.context,!1),ao(e,n.containerInfo)}function Ni(e,n,t,r,l){return qn(),ro(l),n.flags|=256,le(e,n,t,r),n.child}var Cu={dehydrated:null,treeContext:null,retryLane:0};function _u(e){return{baseLanes:e,cachePool:null,transitions:null}}function za(e,n,t){var r=n.pendingProps,l=U.current,u=!1,o=(n.flags&128)!==0,i;if((i=o)||(i=e!==null&&e.memoizedState===null?!1:(l&2)!==0),i?(u=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),M(U,l&1),e===null)return hu(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(o=r.children,e=r.fallback,u?(r=n.mode,u=n.child,o={mode:"hidden",children:o},!(r&1)&&u!==null?(u.childLanes=0,u.pendingProps=o):u=sl(o,r,0,null),e=Cn(e,r,t,null),u.return=n,e.return=n,u.sibling=e,n.child=u,n.child.memoizedState=_u(t),n.memoizedState=Cu,e):go(n,o));if(l=e.memoizedState,l!==null&&(i=l.dehydrated,i!==null))return Zf(e,n,o,r,i,l,t);if(u){u=r.fallback,o=n.mode,l=e.child,i=l.sibling;var s={mode:"hidden",children:r.children};return!(o&1)&&n.child!==l?(r=n.child,r.childLanes=0,r.pendingProps=s,n.deletions=null):(r=an(l,s),r.subtreeFlags=l.subtreeFlags&14680064),i!==null?u=an(i,u):(u=Cn(u,o,t,null),u.flags|=2),u.return=n,r.return=n,r.sibling=u,n.child=r,r=u,u=n.child,o=e.child.memoizedState,o=o===null?_u(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},u.memoizedState=o,u.childLanes=e.childLanes&~t,n.memoizedState=Cu,r}return u=e.child,e=u.sibling,r=an(u,{mode:"visible",children:r.children}),!(n.mode&1)&&(r.lanes=t),r.return=n,r.sibling=null,e!==null&&(t=n.deletions,t===null?(n.deletions=[e],n.flags|=16):t.push(e)),n.child=r,n.memoizedState=null,r}function go(e,n){return n=sl({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function dr(e,n,t,r){return r!==null&&ro(r),bn(n,e.child,null,t),e=go(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Zf(e,n,t,r,l,u,o){if(t)return n.flags&256?(n.flags&=-257,r=Ul(Error(y(422))),dr(e,n,o,r)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(u=r.fallback,l=n.mode,r=sl({mode:"visible",children:r.children},l,0,null),u=Cn(u,l,o,null),u.flags|=2,r.return=n,u.return=n,r.sibling=u,n.child=r,n.mode&1&&bn(n,e.child,null,o),n.child.memoizedState=_u(o),n.memoizedState=Cu,u);if(!(n.mode&1))return dr(e,n,o,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var i=r.dgst;return r=i,u=Error(y(419)),r=Ul(u,r,void 0),dr(e,n,o,r)}if(i=(o&e.childLanes)!==0,ae||i){if(r=Z,r!==null){switch(o&-o){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|o)?0:l,l!==0&&l!==u.retryLane&&(u.retryLane=l,Qe(e,l),Re(r,e,l,-1))}return _o(),r=Ul(Error(y(421))),dr(e,n,o,r)}return l.data==="$?"?(n.flags|=128,n.child=e.child,n=ad.bind(null,e),l._reactRetry=n,null):(e=u.treeContext,me=ln(l.nextSibling),ve=n,j=!0,Te=null,e!==null&&(we[ke++]=Ae,we[ke++]=Ve,we[ke++]=xn,Ae=e.id,Ve=e.overflow,xn=n),n=go(n,r.children),n.flags|=4096,n)}function zi(e,n,t){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n),yu(e.return,n,t)}function $l(e,n,t,r,l){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:l}:(u.isBackwards=n,u.rendering=null,u.renderingStartTime=0,u.last=r,u.tail=t,u.tailMode=l)}function Ta(e,n,t){var r=n.pendingProps,l=r.revealOrder,u=r.tail;if(le(e,n,r.children,t),r=U.current,r&2)r=r&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zi(e,t,n);else if(e.tag===19)zi(e,t,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(M(U,r),!(n.mode&1))n.memoizedState=null;else switch(l){case"forwards":for(t=n.child,l=null;t!==null;)e=t.alternate,e!==null&&Wr(e)===null&&(l=t),t=t.sibling;t=l,t===null?(l=n.child,n.child=null):(l=t.sibling,t.sibling=null),$l(n,!1,l,t,u);break;case"backwards":for(t=null,l=n.child,n.child=null;l!==null;){if(e=l.alternate,e!==null&&Wr(e)===null){n.child=l;break}e=l.sibling,l.sibling=t,t=l,l=e}$l(n,!0,t,null,u);break;case"together":$l(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function _r(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Ke(e,n,t){if(e!==null&&(n.dependencies=e.dependencies),Nn|=n.lanes,!(t&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(y(153));if(n.child!==null){for(e=n.child,t=an(e,e.pendingProps),n.child=t,t.return=n;e.sibling!==null;)e=e.sibling,t=t.sibling=an(e,e.pendingProps),t.return=n;t.sibling=null}return n.child}function Jf(e,n,t){switch(n.tag){case 3:Na(n),qn();break;case 5:na(n);break;case 1:fe(n.type)&&Ur(n);break;case 4:ao(n,n.stateNode.containerInfo);break;case 10:var r=n.type._context,l=n.memoizedProps.value;M(Vr,r._currentValue),r._currentValue=l;break;case 13:if(r=n.memoizedState,r!==null)return r.dehydrated!==null?(M(U,U.current&1),n.flags|=128,null):t&n.child.childLanes?za(e,n,t):(M(U,U.current&1),e=Ke(e,n,t),e!==null?e.sibling:null);M(U,U.current&1);break;case 19:if(r=(t&n.childLanes)!==0,e.flags&128){if(r)return Ta(e,n,t);n.flags|=128}if(l=n.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),M(U,U.current),r)break;return null;case 22:case 23:return n.lanes=0,xa(e,n,t)}return Ke(e,n,t)}var La,xu,Ra,Oa;La=function(e,n){for(var t=n.child;t!==null;){if(t.tag===5||t.tag===6)e.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};xu=function(){};Ra=function(e,n,t,r){var l=e.memoizedProps;if(l!==r){e=n.stateNode,Sn(je.current);var u=null;switch(t){case"input":l=Yl(e,l),r=Yl(e,r),u=[];break;case"select":l=A({},l,{value:void 0}),r=A({},r,{value:void 0}),u=[];break;case"textarea":l=Zl(e,l),r=Zl(e,r),u=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Fr)}ql(t,r);var o;t=null;for(c in l)if(!r.hasOwnProperty(c)&&l.hasOwnProperty(c)&&l[c]!=null)if(c==="style"){var i=l[c];for(o in i)i.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Tt.hasOwnProperty(c)?u||(u=[]):(u=u||[]).push(c,null));for(c in r){var s=r[c];if(i=l!=null?l[c]:void 0,r.hasOwnProperty(c)&&s!==i&&(s!=null||i!=null))if(c==="style")if(i){for(o in i)!i.hasOwnProperty(o)||s&&s.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in s)s.hasOwnProperty(o)&&i[o]!==s[o]&&(t||(t={}),t[o]=s[o])}else t||(u||(u=[]),u.push(c,t)),t=s;else c==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,i=i?i.__html:void 0,s!=null&&i!==s&&(u=u||[]).push(c,s)):c==="children"?typeof s!="string"&&typeof s!="number"||(u=u||[]).push(c,""+s):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Tt.hasOwnProperty(c)?(s!=null&&c==="onScroll"&&D("scroll",e),u||i===s||(u=[])):(u=u||[]).push(c,s))}t&&(u=u||[]).push("style",t);var c=u;(n.updateQueue=c)&&(n.flags|=4)}};Oa=function(e,n,t,r){t!==r&&(n.flags|=4)};function mt(e,n){if(!j)switch(e.tailMode){case"hidden":n=e.tail;for(var t=null;n!==null;)n.alternate!==null&&(t=n),n=n.sibling;t===null?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ne(e){var n=e.alternate!==null&&e.alternate.child===e.child,t=0,r=0;if(n)for(var l=e.child;l!==null;)t|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)t|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=t,n}function qf(e,n,t){var r=n.pendingProps;switch(to(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return fe(n.type)&&jr(),ne(n),null;case 3:return r=n.stateNode,et(),I(ce),I(re),fo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(cr(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Te!==null&&(Mu(Te),Te=null))),xu(e,n),ne(n),null;case 5:co(n);var l=Sn(Vt.current);if(t=n.type,e!==null&&n.stateNode!=null)Ra(e,n,t,r,l),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!r){if(n.stateNode===null)throw Error(y(166));return ne(n),null}if(e=Sn(je.current),cr(n)){r=n.stateNode,t=n.type;var u=n.memoizedProps;switch(r[Ie]=n,r[$t]=u,e=(n.mode&1)!==0,t){case"dialog":D("cancel",r),D("close",r);break;case"iframe":case"object":case"embed":D("load",r);break;case"video":case"audio":for(l=0;l<wt.length;l++)D(wt[l],r);break;case"source":D("error",r);break;case"img":case"image":case"link":D("error",r),D("load",r);break;case"details":D("toggle",r);break;case"input":jo(r,u),D("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},D("invalid",r);break;case"textarea":$o(r,u),D("invalid",r)}ql(t,u),l=null;for(var o in u)if(u.hasOwnProperty(o)){var i=u[o];o==="children"?typeof i=="string"?r.textContent!==i&&(u.suppressHydrationWarning!==!0&&ar(r.textContent,i,e),l=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(u.suppressHydrationWarning!==!0&&ar(r.textContent,i,e),l=["children",""+i]):Tt.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&D("scroll",r)}switch(t){case"input":nr(r),Uo(r,u,!0);break;case"textarea":nr(r),Ao(r);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(r.onclick=Fr)}r=l,n.updateQueue=r,r!==null&&(n.flags|=4)}else{o=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=os(t)),e==="http://www.w3.org/1999/xhtml"?t==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(t,{is:r.is}):(e=o.createElement(t),t==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,t),e[Ie]=n,e[$t]=r,La(e,n,!1,!1),n.stateNode=e;e:{switch(o=bl(t,r),t){case"dialog":D("cancel",e),D("close",e),l=r;break;case"iframe":case"object":case"embed":D("load",e),l=r;break;case"video":case"audio":for(l=0;l<wt.length;l++)D(wt[l],e);l=r;break;case"source":D("error",e),l=r;break;case"img":case"image":case"link":D("error",e),D("load",e),l=r;break;case"details":D("toggle",e),l=r;break;case"input":jo(e,r),l=Yl(e,r),D("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=A({},r,{value:void 0}),D("invalid",e);break;case"textarea":$o(e,r),l=Zl(e,r),D("invalid",e);break;default:l=r}ql(t,l),i=l;for(u in i)if(i.hasOwnProperty(u)){var s=i[u];u==="style"?as(e,s):u==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,s!=null&&is(e,s)):u==="children"?typeof s=="string"?(t!=="textarea"||s!=="")&&Lt(e,s):typeof s=="number"&&Lt(e,""+s):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Tt.hasOwnProperty(u)?s!=null&&u==="onScroll"&&D("scroll",e):s!=null&&Vu(e,u,s,o))}switch(t){case"input":nr(e),Uo(e,r,!1);break;case"textarea":nr(e),Ao(e);break;case"option":r.value!=null&&e.setAttribute("value",""+cn(r.value));break;case"select":e.multiple=!!r.multiple,u=r.value,u!=null?Wn(e,!!r.multiple,u,!1):r.defaultValue!=null&&Wn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Fr)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return ne(n),null;case 6:if(e&&n.stateNode!=null)Oa(e,n,e.memoizedProps,r);else{if(typeof r!="string"&&n.stateNode===null)throw Error(y(166));if(t=Sn(Vt.current),Sn(je.current),cr(n)){if(r=n.stateNode,t=n.memoizedProps,r[Ie]=n,(u=r.nodeValue!==t)&&(e=ve,e!==null))switch(e.tag){case 3:ar(r.nodeValue,t,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ar(r.nodeValue,t,(e.mode&1)!==0)}u&&(n.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Ie]=n,n.stateNode=r}return ne(n),null;case 13:if(I(U),r=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(j&&me!==null&&n.mode&1&&!(n.flags&128))Zs(),qn(),n.flags|=98560,u=!1;else if(u=cr(n),r!==null&&r.dehydrated!==null){if(e===null){if(!u)throw Error(y(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(y(317));u[Ie]=n}else qn(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;ne(n),u=!1}else Te!==null&&(Mu(Te),Te=null),u=!0;if(!u)return n.flags&65536?n:null}return n.flags&128?(n.lanes=t,n):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(n.child.flags|=8192,n.mode&1&&(e===null||U.current&1?Y===0&&(Y=3):_o())),n.updateQueue!==null&&(n.flags|=4),ne(n),null);case 4:return et(),xu(e,n),e===null&&jt(n.stateNode.containerInfo),ne(n),null;case 10:return oo(n.type._context),ne(n),null;case 17:return fe(n.type)&&jr(),ne(n),null;case 19:if(I(U),u=n.memoizedState,u===null)return ne(n),null;if(r=(n.flags&128)!==0,o=u.rendering,o===null)if(r)mt(u,!1);else{if(Y!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(o=Wr(e),o!==null){for(n.flags|=128,mt(u,!1),r=o.updateQueue,r!==null&&(n.updateQueue=r,n.flags|=4),n.subtreeFlags=0,r=t,t=n.child;t!==null;)u=t,e=r,u.flags&=14680066,o=u.alternate,o===null?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=o.childLanes,u.lanes=o.lanes,u.child=o.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=o.memoizedProps,u.memoizedState=o.memoizedState,u.updateQueue=o.updateQueue,u.type=o.type,e=o.dependencies,u.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t=t.sibling;return M(U,U.current&1|2),n.child}e=e.sibling}u.tail!==null&&W()>tt&&(n.flags|=128,r=!0,mt(u,!1),n.lanes=4194304)}else{if(!r)if(e=Wr(o),e!==null){if(n.flags|=128,r=!0,t=e.updateQueue,t!==null&&(n.updateQueue=t,n.flags|=4),mt(u,!0),u.tail===null&&u.tailMode==="hidden"&&!o.alternate&&!j)return ne(n),null}else 2*W()-u.renderingStartTime>tt&&t!==1073741824&&(n.flags|=128,r=!0,mt(u,!1),n.lanes=4194304);u.isBackwards?(o.sibling=n.child,n.child=o):(t=u.last,t!==null?t.sibling=o:n.child=o,u.last=o)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=W(),n.sibling=null,t=U.current,M(U,r?t&1|2:t&1),n):(ne(n),null);case 22:case 23:return Co(),r=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(n.flags|=8192),r&&n.mode&1?pe&1073741824&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),null;case 24:return null;case 25:return null}throw Error(y(156,n.tag))}function bf(e,n){switch(to(n),n.tag){case 1:return fe(n.type)&&jr(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return et(),I(ce),I(re),fo(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return co(n),null;case 13:if(I(U),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(y(340));qn()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return I(U),null;case 4:return et(),null;case 10:return oo(n.type._context),null;case 22:case 23:return Co(),null;case 24:return null;default:return null}}var pr=!1,te=!1,ed=typeof WeakSet=="function"?WeakSet:Set,S=null;function Bn(e,n){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){V(e,n,r)}else t.current=null}function Pu(e,n,t){try{t()}catch(r){V(e,n,r)}}var Ti=!1;function nd(e,n){if(au=Mr,e=js(),eo(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{t=(t=e.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var l=r.anchorOffset,u=r.focusNode;r=r.focusOffset;try{t.nodeType,u.nodeType}catch{t=null;break e}var o=0,i=-1,s=-1,c=0,v=0,m=e,p=null;n:for(;;){for(var g;m!==t||l!==0&&m.nodeType!==3||(i=o+l),m!==u||r!==0&&m.nodeType!==3||(s=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(g=m.firstChild)!==null;)p=m,m=g;for(;;){if(m===e)break n;if(p===t&&++c===l&&(i=o),p===u&&++v===r&&(s=o),(g=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=g}t=i===-1||s===-1?null:{start:i,end:s}}else t=null}t=t||{start:0,end:0}}else t=null;for(cu={focusedElem:e,selectionRange:t},Mr=!1,S=n;S!==null;)if(n=S,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,S=e;else for(;S!==null;){n=S;try{var w=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var k=w.memoizedProps,F=w.memoizedState,f=n.stateNode,a=f.getSnapshotBeforeUpdate(n.elementType===n.type?k:Ne(n.type,k),F);f.__reactInternalSnapshotBeforeUpdate=a}break;case 3:var d=n.stateNode.containerInfo;d.nodeType===1?d.textContent="":d.nodeType===9&&d.documentElement&&d.removeChild(d.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(y(163))}}catch(h){V(n,n.return,h)}if(e=n.sibling,e!==null){e.return=n.return,S=e;break}S=n.return}return w=Ti,Ti=!1,w}function Pt(e,n,t){var r=n.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var u=l.destroy;l.destroy=void 0,u!==void 0&&Pu(n,t,u)}l=l.next}while(l!==r)}}function ol(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var t=n=n.next;do{if((t.tag&e)===e){var r=t.create;t.destroy=r()}t=t.next}while(t!==n)}}function Nu(e){var n=e.ref;if(n!==null){var t=e.stateNode;switch(e.tag){case 5:e=t;break;default:e=t}typeof n=="function"?n(e):n.current=e}}function Ma(e){var n=e.alternate;n!==null&&(e.alternate=null,Ma(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Ie],delete n[$t],delete n[pu],delete n[jf],delete n[Uf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Da(e){return e.tag===5||e.tag===3||e.tag===4}function Li(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Da(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zu(e,n,t){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?t.nodeType===8?t.parentNode.insertBefore(e,n):t.insertBefore(e,n):(t.nodeType===8?(n=t.parentNode,n.insertBefore(e,t)):(n=t,n.appendChild(e)),t=t._reactRootContainer,t!=null||n.onclick!==null||(n.onclick=Fr));else if(r!==4&&(e=e.child,e!==null))for(zu(e,n,t),e=e.sibling;e!==null;)zu(e,n,t),e=e.sibling}function Tu(e,n,t){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?t.insertBefore(e,n):t.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Tu(e,n,t),e=e.sibling;e!==null;)Tu(e,n,t),e=e.sibling}var J=null,ze=!1;function Xe(e,n,t){for(t=t.child;t!==null;)Ia(e,n,t),t=t.sibling}function Ia(e,n,t){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(qr,t)}catch{}switch(t.tag){case 5:te||Bn(t,n);case 6:var r=J,l=ze;J=null,Xe(e,n,t),J=r,ze=l,J!==null&&(ze?(e=J,t=t.stateNode,e.nodeType===8?e.parentNode.removeChild(t):e.removeChild(t)):J.removeChild(t.stateNode));break;case 18:J!==null&&(ze?(e=J,t=t.stateNode,e.nodeType===8?Ol(e.parentNode,t):e.nodeType===1&&Ol(e,t),Dt(e)):Ol(J,t.stateNode));break;case 4:r=J,l=ze,J=t.stateNode.containerInfo,ze=!0,Xe(e,n,t),J=r,ze=l;break;case 0:case 11:case 14:case 15:if(!te&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var u=l,o=u.destroy;u=u.tag,o!==void 0&&(u&2||u&4)&&Pu(t,n,o),l=l.next}while(l!==r)}Xe(e,n,t);break;case 1:if(!te&&(Bn(t,n),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(i){V(t,n,i)}Xe(e,n,t);break;case 21:Xe(e,n,t);break;case 22:t.mode&1?(te=(r=te)||t.memoizedState!==null,Xe(e,n,t),te=r):Xe(e,n,t);break;default:Xe(e,n,t)}}function Ri(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var t=e.stateNode;t===null&&(t=e.stateNode=new ed),n.forEach(function(r){var l=cd.bind(null,e,r);t.has(r)||(t.add(r),r.then(l,l))})}}function Pe(e,n){var t=n.deletions;if(t!==null)for(var r=0;r<t.length;r++){var l=t[r];try{var u=e,o=n,i=o;e:for(;i!==null;){switch(i.tag){case 5:J=i.stateNode,ze=!1;break e;case 3:J=i.stateNode.containerInfo,ze=!0;break e;case 4:J=i.stateNode.containerInfo,ze=!0;break e}i=i.return}if(J===null)throw Error(y(160));Ia(u,o,l),J=null,ze=!1;var s=l.alternate;s!==null&&(s.return=null),l.return=null}catch(c){V(l,n,c)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Fa(n,e),n=n.sibling}function Fa(e,n){var t=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pe(n,e),Me(e),r&4){try{Pt(3,e,e.return),ol(3,e)}catch(k){V(e,e.return,k)}try{Pt(5,e,e.return)}catch(k){V(e,e.return,k)}}break;case 1:Pe(n,e),Me(e),r&512&&t!==null&&Bn(t,t.return);break;case 5:if(Pe(n,e),Me(e),r&512&&t!==null&&Bn(t,t.return),e.flags&32){var l=e.stateNode;try{Lt(l,"")}catch(k){V(e,e.return,k)}}if(r&4&&(l=e.stateNode,l!=null)){var u=e.memoizedProps,o=t!==null?t.memoizedProps:u,i=e.type,s=e.updateQueue;if(e.updateQueue=null,s!==null)try{i==="input"&&u.type==="radio"&&u.name!=null&&ls(l,u),bl(i,o);var c=bl(i,u);for(o=0;o<s.length;o+=2){var v=s[o],m=s[o+1];v==="style"?as(l,m):v==="dangerouslySetInnerHTML"?is(l,m):v==="children"?Lt(l,m):Vu(l,v,m,c)}switch(i){case"input":Xl(l,u);break;case"textarea":us(l,u);break;case"select":var p=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!u.multiple;var g=u.value;g!=null?Wn(l,!!u.multiple,g,!1):p!==!!u.multiple&&(u.defaultValue!=null?Wn(l,!!u.multiple,u.defaultValue,!0):Wn(l,!!u.multiple,u.multiple?[]:"",!1))}l[$t]=u}catch(k){V(e,e.return,k)}}break;case 6:if(Pe(n,e),Me(e),r&4){if(e.stateNode===null)throw Error(y(162));l=e.stateNode,u=e.memoizedProps;try{l.nodeValue=u}catch(k){V(e,e.return,k)}}break;case 3:if(Pe(n,e),Me(e),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Dt(n.containerInfo)}catch(k){V(e,e.return,k)}break;case 4:Pe(n,e),Me(e);break;case 13:Pe(n,e),Me(e),l=e.child,l.flags&8192&&(u=l.memoizedState!==null,l.stateNode.isHidden=u,!u||l.alternate!==null&&l.alternate.memoizedState!==null||(So=W())),r&4&&Ri(e);break;case 22:if(v=t!==null&&t.memoizedState!==null,e.mode&1?(te=(c=te)||v,Pe(n,e),te=c):Pe(n,e),Me(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!v&&e.mode&1)for(S=e,v=e.child;v!==null;){for(m=S=v;S!==null;){switch(p=S,g=p.child,p.tag){case 0:case 11:case 14:case 15:Pt(4,p,p.return);break;case 1:Bn(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,t=p.return;try{n=r,w.props=n.memoizedProps,w.state=n.memoizedState,w.componentWillUnmount()}catch(k){V(r,t,k)}}break;case 5:Bn(p,p.return);break;case 22:if(p.memoizedState!==null){Mi(m);continue}}g!==null?(g.return=p,S=g):Mi(m)}v=v.sibling}e:for(v=null,m=e;;){if(m.tag===5){if(v===null){v=m;try{l=m.stateNode,c?(u=l.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(i=m.stateNode,s=m.memoizedProps.style,o=s!=null&&s.hasOwnProperty("display")?s.display:null,i.style.display=ss("display",o))}catch(k){V(e,e.return,k)}}}else if(m.tag===6){if(v===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(k){V(e,e.return,k)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;v===m&&(v=null),m=m.return}v===m&&(v=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Pe(n,e),Me(e),r&4&&Ri(e);break;case 21:break;default:Pe(n,e),Me(e)}}function Me(e){var n=e.flags;if(n&2){try{e:{for(var t=e.return;t!==null;){if(Da(t)){var r=t;break e}t=t.return}throw Error(y(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(Lt(l,""),r.flags&=-33);var u=Li(e);Tu(e,u,l);break;case 3:case 4:var o=r.stateNode.containerInfo,i=Li(e);zu(e,i,o);break;default:throw Error(y(161))}}catch(s){V(e,e.return,s)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function td(e,n,t){S=e,ja(e)}function ja(e,n,t){for(var r=(e.mode&1)!==0;S!==null;){var l=S,u=l.child;if(l.tag===22&&r){var o=l.memoizedState!==null||pr;if(!o){var i=l.alternate,s=i!==null&&i.memoizedState!==null||te;i=pr;var c=te;if(pr=o,(te=s)&&!c)for(S=l;S!==null;)o=S,s=o.child,o.tag===22&&o.memoizedState!==null?Di(l):s!==null?(s.return=o,S=s):Di(l);for(;u!==null;)S=u,ja(u),u=u.sibling;S=l,pr=i,te=c}Oi(e)}else l.subtreeFlags&8772&&u!==null?(u.return=l,S=u):Oi(e)}}function Oi(e){for(;S!==null;){var n=S;if(n.flags&8772){var t=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:te||ol(5,n);break;case 1:var r=n.stateNode;if(n.flags&4&&!te)if(t===null)r.componentDidMount();else{var l=n.elementType===n.type?t.memoizedProps:Ne(n.type,t.memoizedProps);r.componentDidUpdate(l,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var u=n.updateQueue;u!==null&&hi(n,u,r);break;case 3:var o=n.updateQueue;if(o!==null){if(t=null,n.child!==null)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}hi(n,o,t)}break;case 5:var i=n.stateNode;if(t===null&&n.flags&4){t=i;var s=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":s.autoFocus&&t.focus();break;case"img":s.src&&(t.src=s.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var c=n.alternate;if(c!==null){var v=c.memoizedState;if(v!==null){var m=v.dehydrated;m!==null&&Dt(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(y(163))}te||n.flags&512&&Nu(n)}catch(p){V(n,n.return,p)}}if(n===e){S=null;break}if(t=n.sibling,t!==null){t.return=n.return,S=t;break}S=n.return}}function Mi(e){for(;S!==null;){var n=S;if(n===e){S=null;break}var t=n.sibling;if(t!==null){t.return=n.return,S=t;break}S=n.return}}function Di(e){for(;S!==null;){var n=S;try{switch(n.tag){case 0:case 11:case 15:var t=n.return;try{ol(4,n)}catch(s){V(n,t,s)}break;case 1:var r=n.stateNode;if(typeof r.componentDidMount=="function"){var l=n.return;try{r.componentDidMount()}catch(s){V(n,l,s)}}var u=n.return;try{Nu(n)}catch(s){V(n,u,s)}break;case 5:var o=n.return;try{Nu(n)}catch(s){V(n,o,s)}}}catch(s){V(n,n.return,s)}if(n===e){S=null;break}var i=n.sibling;if(i!==null){i.return=n.return,S=i;break}S=n.return}}var rd=Math.ceil,Yr=Ye.ReactCurrentDispatcher,wo=Ye.ReactCurrentOwner,Ee=Ye.ReactCurrentBatchConfig,R=0,Z=null,Q=null,q=0,pe=0,Hn=pn(0),Y=0,Qt=null,Nn=0,il=0,ko=0,Nt=null,se=null,So=0,tt=1/0,Ue=null,Xr=!1,Lu=null,on=null,mr=!1,en=null,Gr=0,zt=0,Ru=null,xr=-1,Pr=0;function ue(){return R&6?W():xr!==-1?xr:xr=W()}function sn(e){return e.mode&1?R&2&&q!==0?q&-q:Af.transition!==null?(Pr===0&&(Pr=Ss()),Pr):(e=O,e!==0||(e=window.event,e=e===void 0?16:zs(e.type)),e):1}function Re(e,n,t,r){if(50<zt)throw zt=0,Ru=null,Error(y(185));Yt(e,t,r),(!(R&2)||e!==Z)&&(e===Z&&(!(R&2)&&(il|=t),Y===4&&qe(e,q)),de(e,r),t===1&&R===0&&!(n.mode&1)&&(tt=W()+500,rl&&mn()))}function de(e,n){var t=e.callbackNode;$c(e,n);var r=Or(e,e===Z?q:0);if(r===0)t!==null&&Ho(t),e.callbackNode=null,e.callbackPriority=0;else if(n=r&-r,e.callbackPriority!==n){if(t!=null&&Ho(t),n===1)e.tag===0?$f(Ii.bind(null,e)):Ys(Ii.bind(null,e)),If(function(){!(R&6)&&mn()}),t=null;else{switch(Es(r)){case 1:t=Ku;break;case 4:t=ws;break;case 16:t=Rr;break;case 536870912:t=ks;break;default:t=Rr}t=Qa(t,Ua.bind(null,e))}e.callbackPriority=n,e.callbackNode=t}}function Ua(e,n){if(xr=-1,Pr=0,R&6)throw Error(y(327));var t=e.callbackNode;if(Gn()&&e.callbackNode!==t)return null;var r=Or(e,e===Z?q:0);if(r===0)return null;if(r&30||r&e.expiredLanes||n)n=Zr(e,r);else{n=r;var l=R;R|=2;var u=Aa();(Z!==e||q!==n)&&(Ue=null,tt=W()+500,En(e,n));do try{od();break}catch(i){$a(e,i)}while(!0);uo(),Yr.current=u,R=l,Q!==null?n=0:(Z=null,q=0,n=Y)}if(n!==0){if(n===2&&(l=lu(e),l!==0&&(r=l,n=Ou(e,l))),n===1)throw t=Qt,En(e,0),qe(e,r),de(e,W()),t;if(n===6)qe(e,r);else{if(l=e.current.alternate,!(r&30)&&!ld(l)&&(n=Zr(e,r),n===2&&(u=lu(e),u!==0&&(r=u,n=Ou(e,u))),n===1))throw t=Qt,En(e,0),qe(e,r),de(e,W()),t;switch(e.finishedWork=l,e.finishedLanes=r,n){case 0:case 1:throw Error(y(345));case 2:gn(e,se,Ue);break;case 3:if(qe(e,r),(r&130023424)===r&&(n=So+500-W(),10<n)){if(Or(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){ue(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=du(gn.bind(null,e,se,Ue),n);break}gn(e,se,Ue);break;case 4:if(qe(e,r),(r&4194240)===r)break;for(n=e.eventTimes,l=-1;0<r;){var o=31-Le(r);u=1<<o,o=n[o],o>l&&(l=o),r&=~u}if(r=l,r=W()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rd(r/1960))-r,10<r){e.timeoutHandle=du(gn.bind(null,e,se,Ue),r);break}gn(e,se,Ue);break;case 5:gn(e,se,Ue);break;default:throw Error(y(329))}}}return de(e,W()),e.callbackNode===t?Ua.bind(null,e):null}function Ou(e,n){var t=Nt;return e.current.memoizedState.isDehydrated&&(En(e,n).flags|=256),e=Zr(e,n),e!==2&&(n=se,se=t,n!==null&&Mu(n)),e}function Mu(e){se===null?se=e:se.push.apply(se,e)}function ld(e){for(var n=e;;){if(n.flags&16384){var t=n.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var l=t[r],u=l.getSnapshot;l=l.value;try{if(!Oe(u(),l))return!1}catch{return!1}}}if(t=n.child,n.subtreeFlags&16384&&t!==null)t.return=n,n=t;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function qe(e,n){for(n&=~ko,n&=~il,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var t=31-Le(n),r=1<<t;e[t]=-1,n&=~r}}function Ii(e){if(R&6)throw Error(y(327));Gn();var n=Or(e,0);if(!(n&1))return de(e,W()),null;var t=Zr(e,n);if(e.tag!==0&&t===2){var r=lu(e);r!==0&&(n=r,t=Ou(e,r))}if(t===1)throw t=Qt,En(e,0),qe(e,n),de(e,W()),t;if(t===6)throw Error(y(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,gn(e,se,Ue),de(e,W()),null}function Eo(e,n){var t=R;R|=1;try{return e(n)}finally{R=t,R===0&&(tt=W()+500,rl&&mn())}}function zn(e){en!==null&&en.tag===0&&!(R&6)&&Gn();var n=R;R|=1;var t=Ee.transition,r=O;try{if(Ee.transition=null,O=1,e)return e()}finally{O=r,Ee.transition=t,R=n,!(R&6)&&mn()}}function Co(){pe=Hn.current,I(Hn)}function En(e,n){e.finishedWork=null,e.finishedLanes=0;var t=e.timeoutHandle;if(t!==-1&&(e.timeoutHandle=-1,Df(t)),Q!==null)for(t=Q.return;t!==null;){var r=t;switch(to(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jr();break;case 3:et(),I(ce),I(re),fo();break;case 5:co(r);break;case 4:et();break;case 13:I(U);break;case 19:I(U);break;case 10:oo(r.type._context);break;case 22:case 23:Co()}t=t.return}if(Z=e,Q=e=an(e.current,null),q=pe=n,Y=0,Qt=null,ko=il=Nn=0,se=Nt=null,kn!==null){for(n=0;n<kn.length;n++)if(t=kn[n],r=t.interleaved,r!==null){t.interleaved=null;var l=r.next,u=t.pending;if(u!==null){var o=u.next;u.next=l,r.next=o}t.pending=r}kn=null}return e}function $a(e,n){do{var t=Q;try{if(uo(),Er.current=Kr,Qr){for(var r=$.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Qr=!1}if(Pn=0,G=K=$=null,xt=!1,Bt=0,wo.current=null,t===null||t.return===null){Y=1,Qt=n,Q=null;break}e:{var u=e,o=t.return,i=t,s=n;if(n=q,i.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){var c=s,v=i,m=v.tag;if(!(v.mode&1)&&(m===0||m===11||m===15)){var p=v.alternate;p?(v.updateQueue=p.updateQueue,v.memoizedState=p.memoizedState,v.lanes=p.lanes):(v.updateQueue=null,v.memoizedState=null)}var g=Ei(o);if(g!==null){g.flags&=-257,Ci(g,o,i,u,n),g.mode&1&&Si(u,c,n),n=g,s=c;var w=n.updateQueue;if(w===null){var k=new Set;k.add(s),n.updateQueue=k}else w.add(s);break e}else{if(!(n&1)){Si(u,c,n),_o();break e}s=Error(y(426))}}else if(j&&i.mode&1){var F=Ei(o);if(F!==null){!(F.flags&65536)&&(F.flags|=256),Ci(F,o,i,u,n),ro(nt(s,i));break e}}u=s=nt(s,i),Y!==4&&(Y=2),Nt===null?Nt=[u]:Nt.push(u),u=o;do{switch(u.tag){case 3:u.flags|=65536,n&=-n,u.lanes|=n;var f=Ea(u,s,n);vi(u,f);break e;case 1:i=s;var a=u.type,d=u.stateNode;if(!(u.flags&128)&&(typeof a.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(on===null||!on.has(d)))){u.flags|=65536,n&=-n,u.lanes|=n;var h=Ca(u,i,n);vi(u,h);break e}}u=u.return}while(u!==null)}Ba(t)}catch(E){n=E,Q===t&&t!==null&&(Q=t=t.return);continue}break}while(!0)}function Aa(){var e=Yr.current;return Yr.current=Kr,e===null?Kr:e}function _o(){(Y===0||Y===3||Y===2)&&(Y=4),Z===null||!(Nn&268435455)&&!(il&268435455)||qe(Z,q)}function Zr(e,n){var t=R;R|=2;var r=Aa();(Z!==e||q!==n)&&(Ue=null,En(e,n));do try{ud();break}catch(l){$a(e,l)}while(!0);if(uo(),R=t,Yr.current=r,Q!==null)throw Error(y(261));return Z=null,q=0,Y}function ud(){for(;Q!==null;)Va(Q)}function od(){for(;Q!==null&&!Lc();)Va(Q)}function Va(e){var n=Wa(e.alternate,e,pe);e.memoizedProps=e.pendingProps,n===null?Ba(e):Q=n,wo.current=null}function Ba(e){var n=e;do{var t=n.alternate;if(e=n.return,n.flags&32768){if(t=bf(t,n),t!==null){t.flags&=32767,Q=t;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Y=6,Q=null;return}}else if(t=qf(t,n,pe),t!==null){Q=t;return}if(n=n.sibling,n!==null){Q=n;return}Q=n=e}while(n!==null);Y===0&&(Y=5)}function gn(e,n,t){var r=O,l=Ee.transition;try{Ee.transition=null,O=1,id(e,n,t,r)}finally{Ee.transition=l,O=r}return null}function id(e,n,t,r){do Gn();while(en!==null);if(R&6)throw Error(y(327));t=e.finishedWork;var l=e.finishedLanes;if(t===null)return null;if(e.finishedWork=null,e.finishedLanes=0,t===e.current)throw Error(y(177));e.callbackNode=null,e.callbackPriority=0;var u=t.lanes|t.childLanes;if(Ac(e,u),e===Z&&(Q=Z=null,q=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||mr||(mr=!0,Qa(Rr,function(){return Gn(),null})),u=(t.flags&15990)!==0,t.subtreeFlags&15990||u){u=Ee.transition,Ee.transition=null;var o=O;O=1;var i=R;R|=4,wo.current=null,nd(e,t),Fa(t,e),Nf(cu),Mr=!!au,cu=au=null,e.current=t,td(t),Rc(),R=i,O=o,Ee.transition=u}else e.current=t;if(mr&&(mr=!1,en=e,Gr=l),u=e.pendingLanes,u===0&&(on=null),Dc(t.stateNode),de(e,W()),n!==null)for(r=e.onRecoverableError,t=0;t<n.length;t++)l=n[t],r(l.value,{componentStack:l.stack,digest:l.digest});if(Xr)throw Xr=!1,e=Lu,Lu=null,e;return Gr&1&&e.tag!==0&&Gn(),u=e.pendingLanes,u&1?e===Ru?zt++:(zt=0,Ru=e):zt=0,mn(),null}function Gn(){if(en!==null){var e=Es(Gr),n=Ee.transition,t=O;try{if(Ee.transition=null,O=16>e?16:e,en===null)var r=!1;else{if(e=en,en=null,Gr=0,R&6)throw Error(y(331));var l=R;for(R|=4,S=e.current;S!==null;){var u=S,o=u.child;if(S.flags&16){var i=u.deletions;if(i!==null){for(var s=0;s<i.length;s++){var c=i[s];for(S=c;S!==null;){var v=S;switch(v.tag){case 0:case 11:case 15:Pt(8,v,u)}var m=v.child;if(m!==null)m.return=v,S=m;else for(;S!==null;){v=S;var p=v.sibling,g=v.return;if(Ma(v),v===c){S=null;break}if(p!==null){p.return=g,S=p;break}S=g}}}var w=u.alternate;if(w!==null){var k=w.child;if(k!==null){w.child=null;do{var F=k.sibling;k.sibling=null,k=F}while(k!==null)}}S=u}}if(u.subtreeFlags&2064&&o!==null)o.return=u,S=o;else e:for(;S!==null;){if(u=S,u.flags&2048)switch(u.tag){case 0:case 11:case 15:Pt(9,u,u.return)}var f=u.sibling;if(f!==null){f.return=u.return,S=f;break e}S=u.return}}var a=e.current;for(S=a;S!==null;){o=S;var d=o.child;if(o.subtreeFlags&2064&&d!==null)d.return=o,S=d;else e:for(o=a;S!==null;){if(i=S,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:ol(9,i)}}catch(E){V(i,i.return,E)}if(i===o){S=null;break e}var h=i.sibling;if(h!==null){h.return=i.return,S=h;break e}S=i.return}}if(R=l,mn(),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(qr,e)}catch{}r=!0}return r}finally{O=t,Ee.transition=n}}return!1}function Fi(e,n,t){n=nt(t,n),n=Ea(e,n,1),e=un(e,n,1),n=ue(),e!==null&&(Yt(e,1,n),de(e,n))}function V(e,n,t){if(e.tag===3)Fi(e,e,t);else for(;n!==null;){if(n.tag===3){Fi(n,e,t);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(on===null||!on.has(r))){e=nt(t,e),e=Ca(n,e,1),n=un(n,e,1),e=ue(),n!==null&&(Yt(n,1,e),de(n,e));break}}n=n.return}}function sd(e,n,t){var r=e.pingCache;r!==null&&r.delete(n),n=ue(),e.pingedLanes|=e.suspendedLanes&t,Z===e&&(q&t)===t&&(Y===4||Y===3&&(q&130023424)===q&&500>W()-So?En(e,0):ko|=t),de(e,n)}function Ha(e,n){n===0&&(e.mode&1?(n=lr,lr<<=1,!(lr&130023424)&&(lr=4194304)):n=1);var t=ue();e=Qe(e,n),e!==null&&(Yt(e,n,t),de(e,t))}function ad(e){var n=e.memoizedState,t=0;n!==null&&(t=n.retryLane),Ha(e,t)}function cd(e,n){var t=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(t=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(y(314))}r!==null&&r.delete(n),Ha(e,t)}var Wa;Wa=function(e,n,t){if(e!==null)if(e.memoizedProps!==n.pendingProps||ce.current)ae=!0;else{if(!(e.lanes&t)&&!(n.flags&128))return ae=!1,Jf(e,n,t);ae=!!(e.flags&131072)}else ae=!1,j&&n.flags&1048576&&Xs(n,Ar,n.index);switch(n.lanes=0,n.tag){case 2:var r=n.type;_r(e,n),e=n.pendingProps;var l=Jn(n,re.current);Xn(n,t),l=mo(null,n,r,e,l,t);var u=vo();return n.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,fe(r)?(u=!0,Ur(n)):u=!1,n.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,so(n),l.updater=ul,n.stateNode=l,l._reactInternals=n,wu(n,r,e,t),n=Eu(null,n,r,!0,u,t)):(n.tag=0,j&&u&&no(n),le(null,n,l,t),n=n.child),n;case 16:r=n.elementType;e:{switch(_r(e,n),e=n.pendingProps,l=r._init,r=l(r._payload),n.type=r,l=n.tag=dd(r),e=Ne(r,e),l){case 0:n=Su(null,n,r,e,t);break e;case 1:n=Pi(null,n,r,e,t);break e;case 11:n=_i(null,n,r,e,t);break e;case 14:n=xi(null,n,r,Ne(r.type,e),t);break e}throw Error(y(306,r,""))}return n;case 0:return r=n.type,l=n.pendingProps,l=n.elementType===r?l:Ne(r,l),Su(e,n,r,l,t);case 1:return r=n.type,l=n.pendingProps,l=n.elementType===r?l:Ne(r,l),Pi(e,n,r,l,t);case 3:e:{if(Na(n),e===null)throw Error(y(387));r=n.pendingProps,u=n.memoizedState,l=u.element,ea(e,n),Hr(n,r,null,t);var o=n.memoizedState;if(r=o.element,u.isDehydrated)if(u={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},n.updateQueue.baseState=u,n.memoizedState=u,n.flags&256){l=nt(Error(y(423)),n),n=Ni(e,n,r,t,l);break e}else if(r!==l){l=nt(Error(y(424)),n),n=Ni(e,n,r,t,l);break e}else for(me=ln(n.stateNode.containerInfo.firstChild),ve=n,j=!0,Te=null,t=qs(n,null,r,t),n.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(qn(),r===l){n=Ke(e,n,t);break e}le(e,n,r,t)}n=n.child}return n;case 5:return na(n),e===null&&hu(n),r=n.type,l=n.pendingProps,u=e!==null?e.memoizedProps:null,o=l.children,fu(r,l)?o=null:u!==null&&fu(r,u)&&(n.flags|=32),Pa(e,n),le(e,n,o,t),n.child;case 6:return e===null&&hu(n),null;case 13:return za(e,n,t);case 4:return ao(n,n.stateNode.containerInfo),r=n.pendingProps,e===null?n.child=bn(n,null,r,t):le(e,n,r,t),n.child;case 11:return r=n.type,l=n.pendingProps,l=n.elementType===r?l:Ne(r,l),_i(e,n,r,l,t);case 7:return le(e,n,n.pendingProps,t),n.child;case 8:return le(e,n,n.pendingProps.children,t),n.child;case 12:return le(e,n,n.pendingProps.children,t),n.child;case 10:e:{if(r=n.type._context,l=n.pendingProps,u=n.memoizedProps,o=l.value,M(Vr,r._currentValue),r._currentValue=o,u!==null)if(Oe(u.value,o)){if(u.children===l.children&&!ce.current){n=Ke(e,n,t);break e}}else for(u=n.child,u!==null&&(u.return=n);u!==null;){var i=u.dependencies;if(i!==null){o=u.child;for(var s=i.firstContext;s!==null;){if(s.context===r){if(u.tag===1){s=Be(-1,t&-t),s.tag=2;var c=u.updateQueue;if(c!==null){c=c.shared;var v=c.pending;v===null?s.next=s:(s.next=v.next,v.next=s),c.pending=s}}u.lanes|=t,s=u.alternate,s!==null&&(s.lanes|=t),yu(u.return,t,n),i.lanes|=t;break}s=s.next}}else if(u.tag===10)o=u.type===n.type?null:u.child;else if(u.tag===18){if(o=u.return,o===null)throw Error(y(341));o.lanes|=t,i=o.alternate,i!==null&&(i.lanes|=t),yu(o,t,n),o=u.sibling}else o=u.child;if(o!==null)o.return=u;else for(o=u;o!==null;){if(o===n){o=null;break}if(u=o.sibling,u!==null){u.return=o.return,o=u;break}o=o.return}u=o}le(e,n,l.children,t),n=n.child}return n;case 9:return l=n.type,r=n.pendingProps.children,Xn(n,t),l=Ce(l),r=r(l),n.flags|=1,le(e,n,r,t),n.child;case 14:return r=n.type,l=Ne(r,n.pendingProps),l=Ne(r.type,l),xi(e,n,r,l,t);case 15:return _a(e,n,n.type,n.pendingProps,t);case 17:return r=n.type,l=n.pendingProps,l=n.elementType===r?l:Ne(r,l),_r(e,n),n.tag=1,fe(r)?(e=!0,Ur(n)):e=!1,Xn(n,t),Sa(n,r,l),wu(n,r,l,t),Eu(null,n,r,!0,e,t);case 19:return Ta(e,n,t);case 22:return xa(e,n,t)}throw Error(y(156,n.tag))};function Qa(e,n){return gs(e,n)}function fd(e,n,t,r){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Se(e,n,t,r){return new fd(e,n,t,r)}function xo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function dd(e){if(typeof e=="function")return xo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Hu)return 11;if(e===Wu)return 14}return 2}function an(e,n){var t=e.alternate;return t===null?(t=Se(e.tag,n,e.key,e.mode),t.elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=n,t.type=e.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=e.flags&14680064,t.childLanes=e.childLanes,t.lanes=e.lanes,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,n=e.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t}function Nr(e,n,t,r,l,u){var o=2;if(r=e,typeof e=="function")xo(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Mn:return Cn(t.children,l,u,n);case Bu:o=8,l|=8;break;case Hl:return e=Se(12,t,n,l|2),e.elementType=Hl,e.lanes=u,e;case Wl:return e=Se(13,t,n,l),e.elementType=Wl,e.lanes=u,e;case Ql:return e=Se(19,t,n,l),e.elementType=Ql,e.lanes=u,e;case ns:return sl(t,l,u,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case bi:o=10;break e;case es:o=9;break e;case Hu:o=11;break e;case Wu:o=14;break e;case Ge:o=16,r=null;break e}throw Error(y(130,e==null?e:typeof e,""))}return n=Se(o,t,n,l),n.elementType=e,n.type=r,n.lanes=u,n}function Cn(e,n,t,r){return e=Se(7,e,r,n),e.lanes=t,e}function sl(e,n,t,r){return e=Se(22,e,r,n),e.elementType=ns,e.lanes=t,e.stateNode={isHidden:!1},e}function Al(e,n,t){return e=Se(6,e,null,n),e.lanes=t,e}function Vl(e,n,t){return n=Se(4,e.children!==null?e.children:[],e.key,n),n.lanes=t,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function pd(e,n,t,r,l){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sl(0),this.expirationTimes=Sl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sl(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Po(e,n,t,r,l,u,o,i,s){return e=new pd(e,n,t,i,s),n===1?(n=1,u===!0&&(n|=8)):n=0,u=Se(3,null,null,n),e.current=u,u.stateNode=e,u.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},so(u),e}function md(e,n,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:On,key:r==null?null:""+r,children:e,containerInfo:n,implementation:t}}function Ka(e){if(!e)return fn;e=e._reactInternals;e:{if(Ln(e)!==e||e.tag!==1)throw Error(y(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(fe(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(y(171))}if(e.tag===1){var t=e.type;if(fe(t))return Ks(e,t,n)}return n}function Ya(e,n,t,r,l,u,o,i,s){return e=Po(t,r,!0,e,l,u,o,i,s),e.context=Ka(null),t=e.current,r=ue(),l=sn(t),u=Be(r,l),u.callback=n??null,un(t,u,l),e.current.lanes=l,Yt(e,l,r),de(e,r),e}function al(e,n,t,r){var l=n.current,u=ue(),o=sn(l);return t=Ka(t),n.context===null?n.context=t:n.pendingContext=t,n=Be(u,o),n.payload={element:e},r=r===void 0?null:r,r!==null&&(n.callback=r),e=un(l,n,o),e!==null&&(Re(e,l,o,u),Sr(e,l,o)),o}function Jr(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ji(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var t=e.retryLane;e.retryLane=t!==0&&t<n?t:n}}function No(e,n){ji(e,n),(e=e.alternate)&&ji(e,n)}function vd(){return null}var Xa=typeof reportError=="function"?reportError:function(e){console.error(e)};function zo(e){this._internalRoot=e}cl.prototype.render=zo.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(y(409));al(e,n,null,null)};cl.prototype.unmount=zo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;zn(function(){al(null,e,null,null)}),n[We]=null}};function cl(e){this._internalRoot=e}cl.prototype.unstable_scheduleHydration=function(e){if(e){var n=xs();e={blockedOn:null,target:e,priority:n};for(var t=0;t<Je.length&&n!==0&&n<Je[t].priority;t++);Je.splice(t,0,e),t===0&&Ns(e)}};function To(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function fl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ui(){}function hd(e,n,t,r,l){if(l){if(typeof r=="function"){var u=r;r=function(){var c=Jr(o);u.call(c)}}var o=Ya(n,r,e,0,null,!1,!1,"",Ui);return e._reactRootContainer=o,e[We]=o.current,jt(e.nodeType===8?e.parentNode:e),zn(),o}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var i=r;r=function(){var c=Jr(s);i.call(c)}}var s=Po(e,0,!1,null,null,!1,!1,"",Ui);return e._reactRootContainer=s,e[We]=s.current,jt(e.nodeType===8?e.parentNode:e),zn(function(){al(n,s,t,r)}),s}function dl(e,n,t,r,l){var u=t._reactRootContainer;if(u){var o=u;if(typeof l=="function"){var i=l;l=function(){var s=Jr(o);i.call(s)}}al(n,o,e,l)}else o=hd(t,n,e,l,r);return Jr(o)}Cs=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var t=gt(n.pendingLanes);t!==0&&(Yu(n,t|1),de(n,W()),!(R&6)&&(tt=W()+500,mn()))}break;case 13:zn(function(){var r=Qe(e,1);if(r!==null){var l=ue();Re(r,e,1,l)}}),No(e,1)}};Xu=function(e){if(e.tag===13){var n=Qe(e,134217728);if(n!==null){var t=ue();Re(n,e,134217728,t)}No(e,134217728)}};_s=function(e){if(e.tag===13){var n=sn(e),t=Qe(e,n);if(t!==null){var r=ue();Re(t,e,n,r)}No(e,n)}};xs=function(){return O};Ps=function(e,n){var t=O;try{return O=e,n()}finally{O=t}};nu=function(e,n,t){switch(n){case"input":if(Xl(e,t),n=t.name,t.type==="radio"&&n!=null){for(t=e;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<t.length;n++){var r=t[n];if(r!==e&&r.form===e.form){var l=tl(r);if(!l)throw Error(y(90));rs(r),Xl(r,l)}}}break;case"textarea":us(e,t);break;case"select":n=t.value,n!=null&&Wn(e,!!t.multiple,n,!1)}};ds=Eo;ps=zn;var yd={usingClientEntryPoint:!1,Events:[Gt,jn,tl,cs,fs,Eo]},vt={findFiberByHostInstance:wn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gd={bundleType:vt.bundleType,version:vt.version,rendererPackageName:vt.rendererPackageName,rendererConfig:vt.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ye.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=hs(e),e===null?null:e.stateNode},findFiberByHostInstance:vt.findFiberByHostInstance||vd,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vr.isDisabled&&vr.supportsFiber)try{qr=vr.inject(gd),Fe=vr}catch{}}ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yd;ye.createPortal=function(e,n){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!To(n))throw Error(y(200));return md(e,n,null,t)};ye.createRoot=function(e,n){if(!To(e))throw Error(y(299));var t=!1,r="",l=Xa;return n!=null&&(n.unstable_strictMode===!0&&(t=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),n=Po(e,1,!1,null,null,t,!1,r,l),e[We]=n.current,jt(e.nodeType===8?e.parentNode:e),new zo(n)};ye.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(y(188)):(e=Object.keys(e).join(","),Error(y(268,e)));return e=hs(n),e=e===null?null:e.stateNode,e};ye.flushSync=function(e){return zn(e)};ye.hydrate=function(e,n,t){if(!fl(n))throw Error(y(200));return dl(null,e,n,!0,t)};ye.hydrateRoot=function(e,n,t){if(!To(e))throw Error(y(405));var r=t!=null&&t.hydratedSources||null,l=!1,u="",o=Xa;if(t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(u=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),n=Ya(n,null,e,1,t??null,l,!1,u,o),e[We]=n.current,jt(e),r)for(e=0;e<r.length;e++)t=r[e],l=t._getVersion,l=l(t._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[t,l]:n.mutableSourceEagerHydrationData.push(t,l);return new cl(n)};ye.render=function(e,n,t){if(!fl(n))throw Error(y(200));return dl(null,e,n,!1,t)};ye.unmountComponentAtNode=function(e){if(!fl(e))throw Error(y(40));return e._reactRootContainer?(zn(function(){dl(null,null,e,!1,function(){e._reactRootContainer=null,e[We]=null})}),!0):!1};ye.unstable_batchedUpdates=Eo;ye.unstable_renderSubtreeIntoContainer=function(e,n,t,r){if(!fl(t))throw Error(y(200));if(e==null||e._reactInternals===void 0)throw Error(y(38));return dl(e,n,t,!1,r)};ye.version="18.3.1-next-f1338f8080-20240426";function Ga(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ga)}catch(e){console.error(e)}}Ga(),Gi.exports=ye;var wd=Gi.exports;const Cd=$i(wd);export{Ed as R,wd as a,Cd as b,pc as c,kd as d,Sd as e,$i as g,Uu as r};
//# sourceMappingURL=vendor-BJaCQb1B.js.map



// C:\Users\israe\Documents\GitHub\recentmap\netlify\functions\hello-world\hello-world.js
// Docs on event and context https://docs.netlify.com/functions/build/#code-your-function-2
const handler = async (event) => {
  try {
    const subject = event.queryStringParameters.name || 'World'
    return {
      statusCode: 200,
      body: JSON.stringify({ message: `Hello ${subject}` }),
      // // more keys you can return:
      // headers: { "headerName": "headerValue", ... },
      // isBase64Encoded: true,
    }
  } catch (error) {
    return { statusCode: 500, body: error.toString() }
  }
}

module.exports = { handler }



// C:\Users\israe\Documents\GitHub\recentmap\netlify\functions\stripe-webhook\stripe-webhook.js
const express = require('express')
const Stripe = require('stripe')
const { createClient } = require('@supabase/supabase-js')

const router = express.Router()
const stripe = new Stripe(process.env.STRIPE_SECRET_KEY, {
  apiVersion: '2023-08-16',
})

const supabase = createClient(
  process.env.SUPABASE_URL,
  process.env.SUPABASE_SERVICE_ROLE_KEY,
)

router.post('/', async (req, res) => {
  let event

  try {
    event = stripe.webhooks.constructEvent(
      req.body,
      req.headers['stripe-signature'],
      process.env.STRIPE_WEBHOOK_SECRET,
    )
  } catch (err) {
    console.error('Webhook signature verification failed:', err)
    return res.sendStatus(400)
  }

  try {
    console.log('Processing Stripe webhook event:', event.type)

    switch (event.type) {
      case 'payment_intent.succeeded':
        const paymentIntent = event.data.object
        console.log('Payment succeeded:', paymentIntent.id)

        // Update payment status
        const { error: paymentError } = await supabase
          .from('payment_transactions')
          .update({
            status: 'completed',
            stripe_payment_intent_id: paymentIntent.id,
          })
          .eq('stripe_payment_intent_id', paymentIntent.id)

        if (paymentError) {
          console.error('Error updating payment:', paymentError)
          throw paymentError
        }

        // Update vehicle request status
        const { error: requestError } = await supabase
          .from('vehicle_requests')
          .update({
            payment_status: 'completed',
            status: 'confirmed',
          })
          .eq('payment_intent_id', paymentIntent.id)

        if (requestError) {
          console.error('Error updating request:', requestError)
          throw requestError
        }

        // Send notification to admin
        await notifyAdmin(paymentIntent.id)
        break

      case 'payment_intent.payment_failed':
        const failedPayment = event.data.object
        console.log('Payment failed:', failedPayment.id)

        // Update payment status
        await supabase
          .from('payment_transactions')
          .update({
            status: 'failed',
            stripe_payment_intent_id: failedPayment.id,
          })
          .eq('stripe_payment_intent_id', failedPayment.id)

        // Update vehicle request status
        await supabase
          .from('vehicle_requests')
          .update({
            payment_status: 'failed',
          })
          .eq('payment_intent_id', failedPayment.id)
        break

      default:
        console.log(`Unhandled event type ${event.type}`)
    }

    return res.sendStatus(200)
  } catch (err) {
    console.error('Webhook handler failed:', err)
    return res.sendStatus(500)
  }
})

async function notifyAdmin(paymentIntentId) {
  try {
    // Get payment and request details
    const { data: payment } = await supabase
      .from('payment_transactions')
      .select('*, vehicle_requests(*)')
      .eq('stripe_payment_intent_id', paymentIntentId)
      .single()

    if (!payment) {
      console.log('No payment found for notification')
      return
    }

    console.log('Sending admin notification for payment:', paymentIntentId)

    // Send email notification using Resend
    await fetch('https://api.resend.com/emails', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        Authorization: `Bearer ${process.env.RESEND_API_KEY}`,
      },
      body: JSON.stringify({
        from: 'MRGruas <onboarding@resend.dev>',
        to: 'admin@mrgruas.com',
        subject: `Nueva Reserva Confirmada - ${payment.vehicle_requests.vehicle_make} ${payment.vehicle_requests.vehicle_model}`,
        html: `
          <h2>Nueva Reserva Confirmada</h2>
          <p><strong>ID de Reserva:</strong> ${payment.vehicle_requests.id}</p>
          <p><strong>Vehículo:</strong> ${payment.vehicle_requests.vehicle_make} ${payment.vehicle_requests.vehicle_model}</p>
          <p><strong>Monto:</strong> $${payment.amount}</p>
          <p><strong>Estado:</strong> Pago Completado</p>
        `,
      }),
    })

    console.log('Admin notification sent successfully')
  } catch (error) {
    console.error('Error sending admin notification:', error)
  }
}

module.exports = router


// C:\Users\israe\Documents\GitHub\recentmap\src\App.tsx
import { BrowserRouter as Router, Routes, Route } from 'react-router-dom'
import { Toaster } from '@/components/ui/toaster'
import MapPage from '@/features/map'
import { UserPage } from '@/components/UserPage'
import { AdminPanel } from '@/components/admin/AdminPanel'
import { Layout } from '@/components/layout/Layout'
import { TowingProvider } from '@/contexts/towing/TowingContext'
import Landing from '@/pages/Landing'

function App() {
  return (
    <Router>
      <Layout>
        <Routes>
          <Route path="/" element={<Landing />} />
          <Route path="/map" element={<MapPage />} />
          <Route 
            path="/user" 
            element={
              <TowingProvider>
                <UserPage />
              </TowingProvider>
            } 
          />
          <Route path="/admin" element={<AdminPanel />} />
        </Routes>
      </Layout>
      <Toaster />
    </Router>
  )
}

export default App


// C:\Users\israe\Documents\GitHub\recentmap\src\firebase.js
// Actualiza el firebaseConfig con los nuevos datos
const firebaseConfig = {
    // ... tus otras configuraciones
    projectId: "mrgruas",
};



// C:\Users\israe\Documents\GitHub\recentmap\src\main.tsx
import React from 'react'
import ReactDOM from 'react-dom/client'
import App from './App'
import './index.css'
import { ErrorBoundary } from './components/error/ErrorBoundary'

const rootElement = document.getElementById('root')

if (!rootElement) {
  console.error('Root element not found')
  throw new Error('Root element not found')
}

const root = ReactDOM.createRoot(rootElement)

root.render(
  <React.StrictMode>
    <ErrorBoundary>
      <App />
    </ErrorBoundary>
  </React.StrictMode>
)


// C:\Users\israe\Documents\GitHub\recentmap\src\vite-env.d.ts
/// <reference types="vite/client" />



// C:\Users\israe\Documents\GitHub\recentmap\src\vite.config.ts


// C:\Users\israe\Documents\GitHub\recentmap\src\components\CostEstimation.tsx
import { Button } from './ui/button'
import { formatCurrency } from '@/utils/costCalculator'
import { motion } from 'framer-motion'

export interface CostEstimationProps {
  onShowPayment: () => void
  subtotal: number
  tax: number
  finalTotal: number
}

export const CostEstimation = ({
  onShowPayment,
  subtotal,
  tax,
  finalTotal,
}: CostEstimationProps) => {
  return (
    <motion.div
      initial={{ opacity: 0, y: 20 }}
      animate={{ opacity: 1, y: 0 }}
      className="space-y-4"
    >
      <div className="space-y-2">
        <div className="flex justify-between text-sm">
          <span>Subtotal:</span>
          <span>{formatCurrency(subtotal)}</span>
        </div>
        <div className="flex justify-between text-sm text-gray-600">
          <span>IVA (16%):</span>
          <span>{formatCurrency(tax)}</span>
        </div>
        <div className="flex justify-between text-lg font-bold pt-2 border-t">
          <span>Total:</span>
          <span className="text-primary">{formatCurrency(finalTotal)}</span>
        </div>
      </div>

      <Button
        onClick={onShowPayment}
        className="w-full bg-primary hover:bg-primary/90"
      >
        Proceder al pago
      </Button>
    </motion.div>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\FloatingQuestionsPanel.tsx
import { useState } from 'react'
import { FloatingPanel } from './form/FloatingPanel'
import { Button } from './ui/button'
import { ChevronLeft, ChevronRight } from 'lucide-react'
import { useTowing } from '../contexts/TowingContext'
import PaymentWindow from './payment/PaymentWindow'
import { Location } from '../types/location'
import { NotificationBadge } from './notifications/NotificationBadge'
import { useToast } from '../hooks/use-toast'
import { calculateServiceCosts } from '../utils/costCalculations'
import { FloatingQuestionsPanelContent } from './panels/FloatingQuestionsPanelContent'

interface FloatingQuestionsPanelProps {
  pickupLocation: Location | null
  dropLocation: Location | null
  pickupAddress: string
  dropAddress: string
  onPickupSelect: (location: Location) => void
  onDropSelect: (location: Location) => void
  onSelectingPickup: () => void
  onSelectingDrop: () => void
}

export const FloatingQuestionsPanel = ({
  pickupLocation,
  dropLocation,
  pickupAddress,
  dropAddress,
  onPickupSelect,
  onDropSelect,
  onSelectingPickup,
  onSelectingDrop,
}: FloatingQuestionsPanelProps) => {
  const [currentPage, setCurrentPage] = useState(0)
  const [showPaymentWindow, setShowPaymentWindow] = useState(false)
  const [requiresInvoice, setRequiresInvoice] = useState(false)
  const { totalDistance, truckType, requiresManeuver, totalTollCost, detectedTolls } = useTowing()
  const { toast } = useToast()

  const costs = calculateServiceCosts(
    totalDistance,
    truckType,
    requiresManeuver,
    totalTollCost,
    requiresInvoice
  )

  const handlePaymentSubmit = async () => {
    toast({
      title: "Procesando pago",
      description: "Por favor espere mientras procesamos su pago...",
      className: "bg-primary text-white text-shadow-sm",
    })
    setShowPaymentWindow(false)
  }

  const paymentSteps = [
    {
      title: "Detalles del Servicio",
      description: "Información del vehículo y ubicaciones"
    },
    {
      title: "Revisión de Costos",
      description: "Desglose de tarifas y peajes"
    }
  ]

  return (
    <>
      <FloatingPanel
        title={
          <div className="flex items-center justify-between">
            <span className="text-shadow-sm">{currentPage === 0 ? 'Detalles del Servicio' : 'Costos y Ruta'}</span>
            <NotificationBadge count={detectedTolls.length} />
          </div>
        }
        position="right"
        className="w-full max-w-md mx-auto bg-white/95 backdrop-blur-sm shadow-lg"
      >
        <div className="space-y-6 p-6">
          <FloatingQuestionsPanelContent
            currentPage={currentPage}
            pickupLocation={pickupLocation}
            dropLocation={dropLocation}
            pickupAddress={pickupAddress}
            dropAddress={dropAddress}
            onPickupSelect={onPickupSelect}
            onDropSelect={onDropSelect}
            onSelectingPickup={onSelectingPickup}
            onSelectingDrop={onSelectingDrop}
            requiresInvoice={requiresInvoice}
            setRequiresInvoice={setRequiresInvoice}
            subtotal={costs.subtotal}
            tax={costs.tax}
            finalTotal={costs.finalTotal}
            detectedTolls={detectedTolls}
            totalTollCost={totalTollCost}
            onShowPayment={() => setShowPaymentWindow(true)}
            paymentSteps={paymentSteps}
          />

          <div className="flex justify-between mt-4 pt-4 border-t border-gray-200">
            <Button
              variant="outline"
              onClick={() => {
                setCurrentPage((prev) => Math.max(0, prev - 1))
                toast({
                  title: "Volviendo atrás",
                  description: "Puede modificar los detalles del servicio",
                  className: "text-shadow-sm"
                })
              }}
              disabled={currentPage === 0}
              className="w-24 bg-white/80 hover:bg-white/95 transition-all text-shadow-sm"
            >
              <ChevronLeft className="w-4 h-4 mr-2" />
              Anterior
            </Button>
            <Button
              variant="outline"
              onClick={() => {
                setCurrentPage((prev) => Math.min(1, prev + 1))
                toast({
                  title: "Siguiente paso",
                  description: "Revisando costos y ruta",
                  className: "text-shadow-sm"
                })
              }}
              disabled={currentPage === 1}
              className="w-24 bg-white/80 hover:bg-white/95 transition-all text-shadow-sm"
            >
              Siguiente
              <ChevronRight className="w-4 h-4 ml-2" />
            </Button>
          </div>
        </div>
      </FloatingPanel>

      <PaymentWindow
        isOpen={showPaymentWindow}
        onClose={() => setShowPaymentWindow(false)}
        subtotal={costs.subtotal}
        tax={costs.tax}
        requiresInvoice={requiresInvoice}
        onPaymentSubmit={handlePaymentSubmit}
        finalTotal={costs.finalTotal}
      />
    </>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\index.ts
export { UserDashboard } from '@/components/user/UserDashboard'
export { UserNavigationMenu } from '@/components/user/UserNavigationMenu'
export { UserNotifications } from '@/components/user/UserNotifications'
export { UserReservations } from '@/components/user/UserReservations'
export { UserSettings } from '@/components/user/UserSettings'



// C:\Users\israe\Documents\GitHub\recentmap\src\components\Sidebar.tsx
import { useState } from 'react'
import { Menu, ChevronLeft, ChevronRight } from 'lucide-react'
import { cn } from '@/lib/utils'
import { Button } from '@/components/ui/button'
import { Sheet, SheetContent, SheetTrigger } from '@/components/ui/sheet'
import { VehicleForm } from './VehicleForm'
import { RouteDisplay } from './map/RouteDisplay'
import { CostEstimation } from './CostEstimation'
import { useSidebar } from '@/contexts/SidebarContext'
import { ScrollArea } from '@/components/ui/scroll-area'
import { Location } from '@/types/location'
import { useTowing } from '@/contexts/TowingContext'
import { towTruckTypes } from '@/utils/pricing'

interface NavContentProps {
  pickupLocation: Location | null
  dropLocation: Location | null
  pickupAddress: string
  dropAddress: string
  onPickupSelect: (location: Location) => void
  onDropSelect: (location: Location) => void
  onSelectingPickup: () => void
  onSelectingDrop: () => void
}

const NavContent = ({
  pickupLocation,
  dropLocation,
  pickupAddress,
  dropAddress,
  onPickupSelect,
  onDropSelect,
  onSelectingPickup,
  onSelectingDrop,
}: NavContentProps) => {
  const {
    totalDistance,
    requiresManeuver,
    truckType,
    totalTollCost,
  } = useTowing()

  // Calculate costs
  const selectedTruck = towTruckTypes[truckType || 'A']
  const baseCost = totalDistance * selectedTruck.perKm
  const flagDropFee = selectedTruck.flagDropFee
  const maneuverCost = requiresManeuver ? selectedTruck.maneuverCharge : 0
  
  // Calculate subtotal without tax
  const subtotal = baseCost + flagDropFee + maneuverCost + totalTollCost
  
  // Calculate tax and final total
  const tax = subtotal * 0.16
  const finalTotal = subtotal + tax

  return (
    <>
      <div className="sticky top-0 z-10 p-4 border-b bg-gradient-to-r from-primary/10 to-primary/5 backdrop-blur-sm">
        <h1 className="text-xl md:text-2xl lg:text-3xl font-heading font-bold text-primary text-center">
          MRGruas
        </h1>
      </div>

      <ScrollArea className="h-[calc(100vh-4rem)] p-4 md:p-6">
        <div className="space-y-4 md:space-y-6 flex flex-col items-center pb-20">
          <VehicleForm
            pickupLocation={pickupLocation}
            dropLocation={dropLocation}
            pickupAddress={pickupAddress}
            dropAddress={dropAddress}
            onPickupSelect={onPickupSelect}
            onDropSelect={onDropSelect}
            onSelectingPickup={onSelectingPickup}
            onSelectingDrop={onSelectingDrop}
          />
          <CostEstimation 
            onShowPayment={() => {}} 
            subtotal={subtotal}
            tax={tax}
            finalTotal={finalTotal}
          />
          <RouteDisplay
            pickupLocation={pickupLocation}
            dropLocation={dropLocation}
          />
        </div>
      </ScrollArea>
    </>
  )
}

const Sidebar = () => {
  const [isMobileOpen, setIsMobileOpen] = useState(false)
  const { isOpen: isDesktopSidebarVisible, toggle: toggleDesktopSidebar } =
    useSidebar()
  const [pickupLocation, setPickupLocation] = useState<Location | null>(null)
  const [dropLocation, setDropLocation] = useState<Location | null>(null)
  const [pickupAddress, setPickupAddress] = useState('')
  const [dropAddress, setDropAddress] = useState('')
  const [selectingPickup, setSelectingPickup] = useState(false)
  const [selectingDrop, setSelectingDrop] = useState(false)

  const handlePickupSelect = (location: Location) => {
    setPickupLocation(location)
    setPickupAddress(location.address || '')
    setSelectingPickup(false)
  }

  const handleDropSelect = (location: Location) => {
    setDropLocation(location)
    setDropAddress(location.address || '')
    setSelectingDrop(false)
  }

  const handleSelectingPickup = () => {
    setSelectingPickup(true)
    setSelectingDrop(false)
  }

  const handleSelectingDrop = () => {
    setSelectingDrop(true)
    setSelectingPickup(false)
  }

  return (
    <>
      <div className="lg:hidden fixed top-4 left-4 z-[1000]">
        <Sheet open={isMobileOpen} onOpenChange={setIsMobileOpen}>
          <SheetTrigger asChild>
            <Button
              variant="outline"
              size="icon"
              className="bg-white/95 backdrop-blur-sm shadow-lg hover:shadow-xl transition-all"
            >
              <Menu className="h-4 w-4" />
            </Button>
          </SheetTrigger>
          <SheetContent side="left" className="w-full sm:w-[400px] p-0">
            <NavContent
              pickupLocation={pickupLocation}
              dropLocation={dropLocation}
              pickupAddress={pickupAddress}
              dropAddress={dropAddress}
              onPickupSelect={handlePickupSelect}
              onDropSelect={handleDropSelect}
              onSelectingPickup={handleSelectingPickup}
              onSelectingDrop={handleSelectingDrop}
            />
          </SheetContent>
        </Sheet>
      </div>

      <Button
        variant="outline"
        size="icon"
        onClick={toggleDesktopSidebar}
        className={cn(
          'fixed bottom-4 left-4 z-[1000] hidden lg:flex',
          'bg-white/95 backdrop-blur-sm shadow-lg hover:shadow-xl transition-all',
        )}
      >
        {isDesktopSidebarVisible ? (
          <ChevronLeft className="h-4 w-4" />
        ) : (
          <ChevronRight className="h-4 w-4" />
        )}
      </Button>

      <aside
        className={cn(
          'hidden lg:flex flex-col fixed left-0 top-0 h-screen',
          'bg-white/95 backdrop-blur-sm border-r shadow-lg z-[1000]',
          'transition-all duration-300 ease-in-out',
          isDesktopSidebarVisible ? 'w-[400px]' : 'w-0 overflow-hidden',
        )}
      >
        <NavContent
          pickupLocation={pickupLocation}
          dropLocation={dropLocation}
          pickupAddress={pickupAddress}
          dropAddress={dropAddress}
          onPickupSelect={handlePickupSelect}
          onDropSelect={handleDropSelect}
          onSelectingPickup={handleSelectingPickup}
          onSelectingDrop={handleSelectingDrop}
        />
      </aside>

      <div
        className={cn(
          'transition-all duration-300 ease-in-out',
          isDesktopSidebarVisible ? 'lg:pl-[400px]' : 'lg:pl-0',
        )}
      />
    </>
  )
}

export default Sidebar


// C:\Users\israe\Documents\GitHub\recentmap\src\components\TollInfoDisplay.tsx
import { Card } from '@/components/ui/card'
import { Ticket, Clock, CreditCard, Info, MapPin } from 'lucide-react'
import { TollLocation } from '@/types/toll'
import { Separator } from '@/components/ui/separator'
import { motion } from 'framer-motion'
import {
  Tooltip,
  TooltipContent,
  TooltipProvider,
  TooltipTrigger,
} from '@/components/ui/tooltip'
import { Badge } from '@/components/ui/badge'

interface TollInfoDisplayProps {
  tolls: TollLocation[]
  totalCost: number
}

export const TollInfoDisplay = ({ tolls, totalCost }: TollInfoDisplayProps) => {
  if (tolls.length === 0) return null

  return (
    <TooltipProvider>
      <Card className="p-6 bg-gradient-to-br from-white/95 via-yellow-50/30 to-white/80 backdrop-blur-sm border border-yellow-200/50 shadow-lg hover:shadow-xl transition-all duration-300">
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.5 }}
          className="space-y-4"
        >
          <div className="flex items-center justify-between">
            <div className="flex items-center gap-3">
              <div className="p-2 bg-yellow-100 rounded-full">
                <Ticket className="w-5 h-5 text-yellow-700" />
              </div>
              <div className="space-y-1">
                <h3 className="font-heading font-semibold text-lg text-yellow-800">
                  Peajes en la Ruta
                </h3>
                <Badge variant="secondary" className="bg-yellow-100/50">
                  {tolls.length} {tolls.length === 1 ? 'peaje' : 'peajes'} detectados
                </Badge>
              </div>
            </div>
            <Tooltip>
              <TooltipTrigger asChild>
                <motion.div
                  whileHover={{ scale: 1.05 }}
                  className="text-sm font-semibold text-yellow-700 bg-gradient-to-r from-yellow-100 to-yellow-50 px-4 py-2 rounded-full shadow-sm flex items-center gap-2 cursor-help"
                >
                  <span>Total: ${totalCost.toFixed(2)}</span>
                  <Info className="w-4 h-4 text-yellow-600" />
                </motion.div>
              </TooltipTrigger>
              <TooltipContent className="max-w-xs">
                <p>Costo total de peajes en ambas direcciones</p>
              </TooltipContent>
            </Tooltip>
          </div>

          <Separator className="bg-yellow-200/30" />

          <div className="space-y-3">
            {tolls.map((toll, index) => (
              <motion.div
                key={index}
                initial={{ opacity: 0, x: -20 }}
                animate={{ opacity: 1, x: 0 }}
                transition={{ duration: 0.3, delay: index * 0.1 }}
              >
                <Card className="bg-gradient-to-br from-white/80 to-yellow-50/30 backdrop-blur-sm p-4 space-y-3 hover:shadow-md transition-all duration-300">
                  <div className="flex justify-between items-start">
                    <div className="space-y-1">
                      <div className="flex items-center gap-2">
                        <MapPin className="w-4 h-4 text-yellow-600" />
                        <span className="font-medium text-yellow-900">
                          {toll.name}
                        </span>
                      </div>
                      {toll.description && (
                        <p className="text-sm text-yellow-700/80 pl-6">
                          {toll.description}
                        </p>
                      )}
                    </div>
                    <Tooltip>
                      <TooltipTrigger asChild>
                        <span className="text-sm font-semibold text-yellow-700 bg-yellow-100 px-3 py-1 rounded-full cursor-help">
                          ${toll.cost.toFixed(2)}
                        </span>
                      </TooltipTrigger>
                      <TooltipContent>
                        <p>Tarifa actual del peaje</p>
                      </TooltipContent>
                    </Tooltip>
                  </div>
                  <div className="flex items-center gap-6 text-sm text-gray-600">
                    <Tooltip>
                      <TooltipTrigger className="flex items-center gap-2">
                        <Clock className="w-4 h-4 text-yellow-600" />
                        <span>{toll.operatingHours}</span>
                      </TooltipTrigger>
                      <TooltipContent>
                        <p>Horario de operación del peaje</p>
                      </TooltipContent>
                    </Tooltip>
                    <Tooltip>
                      <TooltipTrigger className="flex items-center gap-2">
                        <CreditCard className="w-4 h-4 text-yellow-600" />
                        <span>{toll.acceptedPayments.join(', ')}</span>
                      </TooltipTrigger>
                      <TooltipContent>
                        <p>Métodos de pago aceptados</p>
                      </TooltipContent>
                    </Tooltip>
                  </div>
                  {toll.direction && (
                    <Badge
                      variant="secondary"
                      className={`mt-2 ${
                        toll.direction === 'outbound'
                          ? 'bg-green-100 text-green-700'
                          : 'bg-blue-100 text-blue-700'
                      }`}
                    >
                      {toll.direction === 'outbound' ? 'Ida' : 'Regreso'}
                    </Badge>
                  )}
                </Card>
              </motion.div>
            ))}
          </div>
        </motion.div>
      </Card>
    </TooltipProvider>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\TowingWrapper.tsx
import { ReactNode } from 'react'
import { useTowing } from '@/contexts/towing/TowingContext'
import { Alert, AlertTitle, AlertDescription } from '@/components/ui/alert'
import { Button } from '@/components/ui/button'
import { useNavigate } from 'react-router-dom'

interface TowingWrapperProps {
  children: ReactNode
}

export const TowingWrapper = ({ children }: TowingWrapperProps) => {
  const navigate = useNavigate()
  
  try {
    useTowing()
    return <>{children}</>
  } catch (error) {
    console.error('TowingWrapper error:', error)
    return (
      <div className="flex items-center justify-center h-screen p-4">
        <Alert variant="destructive" className="max-w-md">
          <AlertTitle className="text-xl font-semibold mb-2">
            Error al cargar el mapa
          </AlertTitle>
          <AlertDescription className="space-y-4">
            <p className="text-sm">
              Hubo un problema al inicializar el componente del mapa. Por favor, intente nuevamente.
            </p>
            <Button 
              variant="outline" 
              onClick={() => navigate('/')}
              className="w-full mt-4"
            >
              Volver al inicio
            </Button>
          </AlertDescription>
        </Alert>
      </div>
    )
  }
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\TowMap.tsx
import { useRef } from 'react'
import { Map } from 'leaflet'
import 'leaflet/dist/leaflet.css'
import { MapContainerComponent } from './map/MapContainer'
import { MapControlPanel } from '@/features/map/components/MapControlPanel'
import { useToast } from '@/hooks/use-toast'
import { detectTollsOnRoute } from '@/utils/tollCalculator'
import { useTowing } from '@/contexts/towing/TowingContext'
import { motion, AnimatePresence } from 'framer-motion'
import { FloatingQuestionsPanel } from './FloatingQuestionsPanel'
import { useMapState } from '@/features/map/hooks/useMapState'
import { Location } from '@/types/location'
import { getAddressFromCoords } from '@/services/geocodingService'
import { MapLoadingOverlay } from './map/MapLoadingOverlay'
import { LocationSelectionHint } from './map/LocationSelectionHint'

const TowMap = () => {
  const mapRef = useRef<Map | null>(null)
  const { toast } = useToast()
  const { updateTollInfo } = useTowing()
  const {
    pickupLocation,
    dropLocation,
    pickupAddress,
    dropAddress,
    selectingPickup,
    selectingDrop,
    isLoading,
    setSelectingPickup,
    setSelectingDrop,
    handleLocationSelect: handleMapLocationSelect,
  } = useMapState()

  const handleTollDetection = async () => {
    if (pickupLocation && dropLocation) {
      try {
        const tollInfo = await detectTollsOnRoute(pickupLocation, dropLocation)
        updateTollInfo(tollInfo.tolls, tollInfo.totalTollCost)

        if (tollInfo.tolls.length > 0) {
          toast({
            title: 'Peajes Detectados',
            description: `Se detectaron ${tollInfo.tolls.length} peajes en la ruta con un costo total de $${tollInfo.totalTollCost}`,
            className: 'bg-blue-50 border-blue-200 text-blue-800',
          })
        }
      } catch (error) {
        console.error('Error detecting tolls:', error)
        toast({
          title: 'Error',
          description: 'No se pudieron detectar los peajes en la ruta',
          variant: 'destructive',
        })
      }
    }
  }

  const handleLocationSelect = async (location: Location) => {
    try {
      const address = await getAddressFromCoords(location.lat, location.lng)
      
      if (selectingPickup) {
        handleMapLocationSelect({ ...location, address }, 'pickup')
        setSelectingPickup(false)
        toast({
          title: 'Punto de Recogida Actualizado',
          description: address,
          className: 'bg-green-50 border-green-200 text-green-800',
        })
      } else if (selectingDrop) {
        handleMapLocationSelect({ ...location, address }, 'drop')
        setSelectingDrop(false)
        toast({
          title: 'Punto de Entrega Actualizado',
          description: address,
          className: 'bg-blue-50 border-blue-200 text-blue-800',
        })
      }
    } catch (error) {
      console.error('Error getting address:', error)
      toast({
        title: 'Error',
        description: 'No se pudo obtener la dirección',
        variant: 'destructive',
      })
    }
  }

  return (
    <motion.div
      className="relative h-screen w-full bg-gradient-to-br from-blue-50/50 via-white to-blue-50/50"
      initial={{ opacity: 0 }}
      animate={{ opacity: 1 }}
      transition={{ duration: 0.5 }}
    >
      <AnimatePresence>
        <MapLoadingOverlay isVisible={isLoading} />
      </AnimatePresence>

      <div className="absolute inset-0 z-0">
        <MapContainerComponent
          pickupLocation={pickupLocation}
          dropLocation={dropLocation}
          selectingPickup={selectingPickup}
          selectingDrop={selectingDrop}
          onLocationSelect={handleLocationSelect}
          setPickupLocation={(location: Location | null) =>
            location && handleLocationSelect(location)
          }
          setDropLocation={(location: Location | null) =>
            location && handleLocationSelect(location)
          }
          isLoading={isLoading}
          mapRef={mapRef}
          onRouteCalculated={handleTollDetection}
        />
      </div>

      <MapControlPanel
        selectingPickup={selectingPickup}
        selectingDrop={selectingDrop}
        setSelectingPickup={setSelectingPickup}
        setSelectingDrop={setSelectingDrop}
        pickupLocation={pickupLocation}
        dropLocation={dropLocation}
        pickupAddress={pickupAddress}
        dropAddress={dropAddress}
        isLoading={isLoading}
      />

      <FloatingQuestionsPanel
        pickupLocation={pickupLocation}
        dropLocation={dropLocation}
        pickupAddress={pickupAddress}
        dropAddress={dropAddress}
        onPickupSelect={(location: Location) => handleLocationSelect(location)}
        onDropSelect={(location: Location) => handleLocationSelect(location)}
        onSelectingPickup={() => setSelectingPickup(true)}
        onSelectingDrop={() => setSelectingDrop(true)}
      />

      <LocationSelectionHint
        isSelectingPickup={selectingPickup}
        isSelectingDrop={selectingDrop}
      />
    </motion.div>
  )
}

export default TowMap


// C:\Users\israe\Documents\GitHub\recentmap\src\components\UserPage.tsx
import { useEffect } from 'react'
import { Card } from '@/components/ui/card'
import { UserProfile } from './user/UserProfile'
import { UserReservations } from './user/UserReservations'
import { UserNotifications } from './user/UserNotifications'
import { UserNavigationMenu } from './user/UserNavigationMenu'
import { useTowing } from '@/contexts/towing/TowingContext'
import { useToast } from '@/hooks/use-toast'

export const UserPage = () => {
  const { toast } = useToast()
  const { totalDistance, totalCost } = useTowing()

  useEffect(() => {
    toast({
      title: 'Bienvenido a tu panel de usuario',
      description: 'Aquí podrás ver tus reservas y gestionar tu perfil',
    })
  }, [toast])

  return (
    <div className="container mx-auto px-4 py-8">
      <div className="grid gap-6 md:grid-cols-12">
        <div className="md:col-span-3">
          <UserNavigationMenu />
        </div>
        
        <div className="md:col-span-9 space-y-6">
          <Card className="p-6">
            <UserProfile />
          </Card>

          <Card className="p-6">
            <UserReservations />
          </Card>

          <Card className="p-6">
            <UserNotifications />
          </Card>
        </div>
      </div>
    </div>
  )
}

export default UserPage


// C:\Users\israe\Documents\GitHub\recentmap\src\components\VehicleForm.tsx
import { useState } from 'react'
import { useForm, FormProvider } from 'react-hook-form'
import { zodResolver } from '@hookform/resolvers/zod'
import { Form } from '@/components/ui/form'
import { LocationSelector } from './form/LocationSelector'
import { VehicleBasicFields } from './form/VehicleBasicFields'
import { UserInfoFields } from './form/UserInfoFields'
import { TowTruckSelector } from './form/TowTruckSelector'
import { Card } from '@/components/ui/card'
import { motion } from 'framer-motion'
import { FormData, formSchema } from '@/types/form'
import { useToast } from '@/hooks/use-toast'
import { useTowing } from '@/contexts/TowingContext'
import { Location } from '@/types/location'
import { AnimatedFormText } from './form/AnimatedFormText'
import {
  Accordion,
  AccordionContent,
  AccordionItem,
  AccordionTrigger,
} from '@/components/ui/accordion'
import { Progress } from '@/components/ui/progress'
import { Car, MapPin, User, Truck } from 'lucide-react'

interface VehicleFormProps {
  pickupLocation: Location | null;
  dropLocation: Location | null;
  pickupAddress: string;
  dropAddress: string;
  onPickupSelect: (location: Location) => void;
  onDropSelect: (location: Location) => void;
  onSelectingPickup: () => void;
  onSelectingDrop: () => void;
}

export const VehicleForm = ({
  pickupLocation,
  dropLocation,
  pickupAddress,
  dropAddress,
  onPickupSelect,
  onDropSelect,
  onSelectingPickup,
  onSelectingDrop,
}: VehicleFormProps) => {
  const { toast } = useToast()
  const [isPending, setIsPending] = useState(false)
  const { updateTruckType } = useTowing()
  const [activeSection, setActiveSection] = useState('location')
  const [progress, setProgress] = useState(25)

  const methods = useForm<FormData>({
    resolver: zodResolver(formSchema),
    defaultValues: {
      vehicleMake: '',
      vehicleModel: '',
      vehicleYear: '',
      vehicleColor: '',
      truckType: 'A',
      requiresManeuver: false,
      issueDescription: '',
    },
  })

  const handleVehicleModelChange = (model: string) => {
    methods.setValue('vehicleModel', model)
  }

  const onSubmit = methods.handleSubmit(async (data) => {
    setIsPending(true)
    try {
      toast({
        title: 'Procesando solicitud',
        description: 'Tu solicitud está siendo procesada...',
      })
    } catch (error) {
      console.error('Error submitting form:', error)
    } finally {
      setIsPending(false);
    }
  })

  const handleAccordionChange = (value: string) => {
    setActiveSection(value)
    switch (value) {
      case 'location':
        setProgress(25)
        break
      case 'user':
        setProgress(50)
        break
      case 'vehicle':
        setProgress(75)
        break
      case 'truck':
        setProgress(100)
        break
    }
  }

  return (
    <FormProvider {...methods}>
      <Form {...methods}>
        <form onSubmit={onSubmit} className="space-y-8 w-full max-w-4xl mx-auto">
          <motion.div
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            className="mb-8"
          >
            <Progress
              value={progress}
              className="h-2 bg-[#6873BC]/20"
              // Removed indicatorClassName and using style prop instead
              style={{
                '--progress-foreground': '#6873BC',
              } as React.CSSProperties}
            />
          </motion.div>

          <Accordion
            type="single"
            collapsible
            value={activeSection}
            onValueChange={handleAccordionChange}
            className="space-y-4"
          >
            <AccordionItem value="location">
              <AccordionTrigger
                className="hover:no-underline group transition-all duration-300"
              >
                <motion.div
                  className="flex items-center gap-2 text-lg font-semibold"
                  whileHover={{ scale: 1.02 }}
                >
                  <MapPin className="h-5 w-5 text-[#2c5ea8] group-hover:text-primary transition-colors" />
                  <AnimatedFormText>Ubicación</AnimatedFormText>
                </motion.div>
              </AccordionTrigger>
              <AccordionContent>
                <motion.div
                  initial={{ opacity: 0, y: 20 }}
                  animate={{ opacity: 1, y: 0 }}
                  transition={{ duration: 0.5 }}
                >
                  <Card className="p-6 bg-gradient-to-br from-white/95 to-[#2c5ea8]/5 shadow-lg hover:shadow-xl transition-all duration-300 backdrop-blur-sm border border-[#2c5ea8]/10">
                    <LocationSelector
                      form={methods}
                      pickupLocation={pickupLocation}
                      dropLocation={dropLocation}
                      pickupAddress={pickupAddress}
                      dropAddress={dropAddress}
                      onPickupSelect={onPickupSelect}
                      onDropSelect={onDropSelect}
                      onSelectingPickup={onSelectingPickup}
                      onSelectingDrop={onSelectingDrop}
                    />
                  </Card>
                </motion.div>
              </AccordionContent>
            </AccordionItem>

            <AccordionItem value="user">
              <AccordionTrigger className="hover:no-underline group transition-all duration-300">
                <motion.div
                  className="flex items-center gap-2 text-lg font-semibold"
                  whileHover={{ scale: 1.02 }}
                >
                  <User className="h-5 w-5 text-[#2c5ea8] group-hover:text-primary transition-colors" />
                  <AnimatedFormText>Información Personal</AnimatedFormText>
                </motion.div>
              </AccordionTrigger>
              <AccordionContent>
                <motion.div
                  initial={{ opacity: 0, y: 20 }}
                  animate={{ opacity: 1, y: 0 }}
                  transition={{ duration: 0.5 }}
                >
                  <Card className="p-6 bg-gradient-to-br from-white/95 to-[#2c5ea8]/5 shadow-lg hover:shadow-xl transition-all duration-300 backdrop-blur-sm border border-[#2c5ea8]/10">
                    <UserInfoFields form={methods} />
                  </Card>
                </motion.div>
              </AccordionContent>
            </AccordionItem>

            <AccordionItem value="vehicle">
              <AccordionTrigger className="hover:no-underline group transition-all duration-300">
                <motion.div
                  className="flex items-center gap-2 text-lg font-semibold"
                  whileHover={{ scale: 1.02 }}
                >
                  <Car className="h-5 w-5 text-[#2c5ea8] group-hover:text-primary transition-colors" />
                  <AnimatedFormText>Detalles del Vehículo</AnimatedFormText>
                </motion.div>
              </AccordionTrigger>
              <AccordionContent>
                <motion.div
                  initial={{ opacity: 0, y: 20 }}
                  animate={{ opacity: 1, y: 0 }}
                  transition={{ duration: 0.5 }}
                >
                  <Card className="p-6 bg-gradient-to-br from-white/95 to-[#2c5ea8]/5 shadow-lg hover:shadow-xl transition-all duration-300 backdrop-blur-sm border border-[#2c5ea8]/10">
                    <VehicleBasicFields
                      form={methods}
                      onVehicleModelChange={handleVehicleModelChange}
                    />
                  </Card>
                </motion.div>
              </AccordionContent>
            </AccordionItem>

            <AccordionItem value="truck">
              <AccordionTrigger className="hover:no-underline group transition-all duration-300">
                <motion.div
                  className="flex items-center gap-2 text-lg font-semibold"
                  whileHover={{ scale: 1.02 }}
                >
                  <Truck className="h-5 w-5 text-[#2c5ea8] group-hover:text-primary transition-colors" />
                  <AnimatedFormText>Selección de Grúa</AnimatedFormText>
                </motion.div>
              </AccordionTrigger>
              <AccordionContent>
                <motion.div
                  initial={{ opacity: 0, y: 20 }}
                  animate={{ opacity: 1, y: 0 }}
                  transition={{ duration: 0.5 }}
                >
                  <Card className="p-6 bg-gradient-to-br from-white/95 to-[#2c5ea8]/5 shadow-lg hover:shadow-xl transition-all duration-300 backdrop-blur-sm border border-[#2c5ea8]/10">
                    <TowTruckSelector
                      form={methods}
                      onTruckTypeChange={updateTruckType}
                      selectedModel={methods.watch('vehicleModel')}
                    />
                  </Card>
                </motion.div>
              </AccordionContent>
            </AccordionItem>
          </Accordion>
        </form>
      </Form>
    </FormProvider>
  );
};


// C:\Users\israe\Documents\GitHub\recentmap\src\components\admin\AdminMetrics.tsx
import { Card } from '@/components/ui/card'
import { ServiceSummary } from '../analytics/ServiceSummary'

export const AdminMetrics = () => {
  return (
    <div className="space-y-6">
      <ServiceSummary />

      <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
        <Card className="p-4">
          <h3 className="font-semibold text-gray-700">Average Response Time</h3>
          <p className="text-2xl font-bold text-primary">15 mins</p>
        </Card>

        <Card className="p-4">
          <h3 className="font-semibold text-gray-700">Customer Satisfaction</h3>
          <p className="text-2xl font-bold text-primary">4.8/5.0</p>
        </Card>

        <Card className="p-4">
          <h3 className="font-semibold text-gray-700">Active Drivers</h3>
          <p className="text-2xl font-bold text-primary">8</p>
        </Card>
      </div>
    </div>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\admin\AdminNavigationMenu.tsx
import {
  NavigationMenu,
  NavigationMenuContent,
  NavigationMenuItem,
  NavigationMenuLink,
  NavigationMenuList,
  NavigationMenuTrigger,
} from '@/components/ui/navigation-menu'
import { ClipboardList, Users, BarChart3, Settings } from 'lucide-react'
import { useNavigate } from 'react-router-dom'

export const AdminNavigationMenu = () => {
  const navigate = useNavigate()

  return (
    <NavigationMenu>
      <NavigationMenuList className="space-x-2">
        <NavigationMenuItem>
          <NavigationMenuTrigger className="bg-white/80 hover:bg-white/95">
            <ClipboardList className="w-4 h-4 mr-2" />
            Reservas
          </NavigationMenuTrigger>
          <NavigationMenuContent>
            <div className="grid gap-3 p-4 w-[400px]">
              <NavigationMenuLink
                className="block select-none space-y-1 rounded-md p-3 leading-none no-underline outline-none transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground"
                onClick={() => navigate('/admin/reservations')}
              >
                <div className="text-sm font-medium leading-none">
                  Ver Reservas
                </div>
                <p className="line-clamp-2 text-sm leading-snug text-muted-foreground">
                  Gestiona todas las reservas activas y completadas
                </p>
              </NavigationMenuLink>
            </div>
          </NavigationMenuContent>
        </NavigationMenuItem>

        <NavigationMenuItem>
          <NavigationMenuTrigger className="bg-white/80 hover:bg-white/95">
            <Users className="w-4 h-4 mr-2" />
            Usuarios
          </NavigationMenuTrigger>
          <NavigationMenuContent>
            <div className="grid gap-3 p-4 w-[400px]">
              <NavigationMenuLink
                className="block select-none space-y-1 rounded-md p-3 leading-none no-underline outline-none transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground"
                onClick={() => navigate('/admin/users')}
              >
                <div className="text-sm font-medium leading-none">
                  Gestión de Usuarios
                </div>
                <p className="line-clamp-2 text-sm leading-snug text-muted-foreground">
                  Administra las cuentas de usuarios y permisos
                </p>
              </NavigationMenuLink>
            </div>
          </NavigationMenuContent>
        </NavigationMenuItem>

        <NavigationMenuItem>
          <NavigationMenuTrigger className="bg-white/80 hover:bg-white/95">
            <BarChart3 className="w-4 h-4 mr-2" />
            Reportes
          </NavigationMenuTrigger>
          <NavigationMenuContent>
            <div className="grid gap-3 p-4 w-[400px]">
              <NavigationMenuLink
                className="block select-none space-y-1 rounded-md p-3 leading-none no-underline outline-none transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground"
                onClick={() => navigate('/admin/reports')}
              >
                <div className="text-sm font-medium leading-none">
                  Métricas y Estadísticas
                </div>
                <p className="line-clamp-2 text-sm leading-snug text-muted-foreground">
                  Accede a reportes detallados del servicio
                </p>
              </NavigationMenuLink>
            </div>
          </NavigationMenuContent>
        </NavigationMenuItem>

        <NavigationMenuItem>
          <NavigationMenuTrigger className="bg-white/80 hover:bg-white/95">
            <Settings className="w-4 h-4 mr-2" />
            Configuración
          </NavigationMenuTrigger>
          <NavigationMenuContent>
            <div className="grid gap-3 p-4 w-[400px]">
              <NavigationMenuLink
                className="block select-none space-y-1 rounded-md p-3 leading-none no-underline outline-none transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground"
                onClick={() => navigate('/admin/settings')}
              >
                <div className="text-sm font-medium leading-none">
                  Ajustes del Sistema
                </div>
                <p className="line-clamp-2 text-sm leading-snug text-muted-foreground">
                  Configura precios y tipos de grúas
                </p>
              </NavigationMenuLink>
            </div>
          </NavigationMenuContent>
        </NavigationMenuItem>
      </NavigationMenuList>
    </NavigationMenu>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\admin\AdminPanel.tsx
import { useEffect } from 'react'
import { Card } from '@/components/ui/card'
import { AdminNavigationMenu } from './AdminNavigationMenu'
import { AdminMetrics } from './AdminMetrics'
import { ReservationManagement } from './ReservationManagement'
import { useToast } from '@/hooks/use-toast'

export const AdminPanel = () => {
  const { toast } = useToast()

  useEffect(() => {
    toast({
      title: 'Panel de Administración',
      description: 'Bienvenido al panel de control administrativo',
    })
  }, [toast])

  return (
    <div className="container mx-auto px-4 py-8">
      <div className="grid gap-6 md:grid-cols-12">
        <div className="md:col-span-3">
          <AdminNavigationMenu />
        </div>
        
        <div className="md:col-span-9 space-y-6">
          <Card className="p-6">
            <AdminMetrics />
          </Card>

          <Card className="p-6">
            <ReservationManagement />
          </Card>
        </div>
      </div>
    </div>
  )
}

export default AdminPanel


// C:\Users\israe\Documents\GitHub\recentmap\src\components\admin\ReservationManagement.tsx
import { useState } from 'react'
import { Card } from '@/components/ui/card'
import { ServiceRequest } from '@/types/service'
import { DownloadButtons } from '../form/DownloadButtons'
import { useToast } from '@/hooks/use-toast'
import { motion, AnimatePresence } from 'framer-motion'
import { Loader2 } from 'lucide-react'
import { ReservationList } from '@/features/reservations/components/ReservationList'
import { ReservationFilters } from '@/features/reservations/components/ReservationFilters'

interface ReservationManagementProps {
  searchQuery?: string
}

export const ReservationManagement = ({
  searchQuery = '',
}: ReservationManagementProps) => {
  const [selectedDate, setSelectedDate] = useState<Date | undefined>(new Date())
  const [localSearchQuery, setLocalSearchQuery] = useState(searchQuery)
  const [isLoading, setIsLoading] = useState(false)
  const [sortDirection, setSortDirection] = useState<'asc' | 'desc'>('desc')
  const { toast } = useToast()

  const mockReservations: ServiceRequest[] = [
    {
      id: '1',
      status: 'pending',
      createdAt: new Date(),
      username: 'John Doe',
      vehicleMake: 'Toyota',
      vehicleModel: 'Camry',
      vehicleYear: 2020,
      vehicleColor: 'Blue',
      truckType: 'standard',
      issueDescription: 'Flat tire',
      serviceType: 'standard',
      requiresManeuver: false,
      tollFees: 0,
    },
  ]

  const handleDownload = async (format: 'csv' | 'txt') => {
    setIsLoading(true)
    try {
      const data = mockReservations
      const content =
        format === 'csv'
          ? `ID,Status,Created At,Username\n${data.map((r) => `${r.id},${r.status},${r.createdAt},${r.username}`).join('\n')}`
          : JSON.stringify(data, null, 2)

      const blob = new Blob([content], {
        type: format === 'csv' ? 'text/csv' : 'text/plain',
      })
      const url = window.URL.createObjectURL(blob)
      const a = document.createElement('a')
      a.href = url
      a.download = `reservations.${format}`
      a.click()
      window.URL.revokeObjectURL(url)

      toast({
        title: 'Descarga Completada',
        description: `Reservas exportadas como ${format.toUpperCase()}`,
      })
    } catch (error) {
      toast({
        title: 'Error en la Exportación',
        description: 'No se pudieron exportar las reservas',
        variant: 'destructive',
      })
    } finally {
      setIsLoading(false)
    }
  }

  const handleSort = () => {
    setSortDirection((prev) => (prev === 'asc' ? 'desc' : 'asc'))
    toast({
      title: 'Lista Ordenada',
      description: `Ordenado por fecha ${sortDirection === 'asc' ? 'descendente' : 'ascendente'}`,
    })
  }

  const handleDateSelect = (date: Date | Date[] | undefined) => {
    if (Array.isArray(date)) {
      setSelectedDate(date[0])
    } else {
      setSelectedDate(date)
    }
  }

  const filteredReservations = mockReservations
    .filter(
      (res) =>
        res.username.toLowerCase().includes(localSearchQuery.toLowerCase()) ||
        res.vehicleMake
          .toLowerCase()
          .includes(localSearchQuery.toLowerCase()) ||
        res.vehicleModel.toLowerCase().includes(localSearchQuery.toLowerCase()),
    )
    .sort((a, b) => {
      const dateA = new Date(a.createdAt).getTime()
      const dateB = new Date(b.createdAt).getTime()
      return sortDirection === 'asc' ? dateA - dateB : dateB - dateA
    })

  return (
    <Card className="p-6">
      <motion.div
        initial={{ opacity: 0 }}
        animate={{ opacity: 1 }}
        className="space-y-6"
      >
        <div className="flex justify-between items-center mb-6">
          <h2 className="text-2xl font-bold text-gray-900">
            Gestión de Reservas
          </h2>
          <DownloadButtons onDownload={handleDownload} />
        </div>

        <ReservationFilters
          searchQuery={localSearchQuery}
          onSearchChange={setLocalSearchQuery}
          selectedDate={selectedDate}
          onDateSelect={handleDateSelect}
          sortDirection={sortDirection}
          onSortChange={handleSort}
        />

        <AnimatePresence mode="wait">
          {isLoading ? (
            <motion.div
              initial={{ opacity: 0 }}
              animate={{ opacity: 1 }}
              exit={{ opacity: 0 }}
              className="flex justify-center items-center py-8"
            >
              <Loader2 className="h-8 w-8 animate-spin text-primary" />
            </motion.div>
          ) : (
            <ReservationList
              reservations={filteredReservations}
              isLoading={isLoading}
            />
          )}
        </AnimatePresence>
      </motion.div>
    </Card>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\analytics\ServiceSummary.tsx
import { Card } from '@/components/ui/card'
import {
  BarChart,
  Bar,
  XAxis,
  YAxis,
  Tooltip,
  ResponsiveContainer,
} from 'recharts'
import { ServiceRequest } from '@/types/service'

const mockData = [
  { name: 'Ene', servicios: 4 },
  { name: 'Feb', servicios: 6 },
  { name: 'Mar', servicios: 8 },
  { name: 'Abr', servicios: 5 },
  { name: 'May', servicios: 7 },
]

export const ServiceSummary = () => {
  return (
    <Card className="p-6 space-y-6">
      <h2 className="text-2xl font-bold text-gray-900">Resumen de Servicios</h2>

      <div className="h-[300px] w-full">
        <ResponsiveContainer width="100%" height="100%">
          <BarChart data={mockData}>
            <XAxis dataKey="name" />
            <YAxis />
            <Tooltip />
            <Bar dataKey="servicios" fill="#4f46e5" />
          </BarChart>
        </ResponsiveContainer>
      </div>

      <div className="grid grid-cols-1 md:grid-cols-3 gap-4 mt-6">
        <Card className="p-4 bg-blue-50">
          <h3 className="text-lg font-semibold text-blue-900">
            Total Servicios
          </h3>
          <p className="text-3xl font-bold text-blue-600">30</p>
        </Card>
        <Card className="p-4 bg-green-50">
          <h3 className="text-lg font-semibold text-green-900">Completados</h3>
          <p className="text-3xl font-bold text-green-600">25</p>
        </Card>
        <Card className="p-4 bg-purple-50">
          <h3 className="text-lg font-semibold text-purple-900">En Proceso</h3>
          <p className="text-3xl font-bold text-purple-600">5</p>
        </Card>
      </div>
    </Card>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\auth\AuthGuard.tsx
import { Navigate, useLocation } from 'react-router-dom'
import { useToast } from '@/hooks/use-toast'

type UserRole = 'admin' | 'user'

interface AuthGuardProps {
  children: React.ReactNode
  requiredRole?: UserRole
}

export const AuthGuard = ({
  children,
  requiredRole = 'user',
}: AuthGuardProps) => {
  const { toast } = useToast()
  const location = useLocation()

  // This is a mock authentication check. Replace with your actual auth logic
  const isAuthenticated = true // Replace with actual auth check
  const userRole: UserRole = 'user' // Replace with actual user role

  if (!isAuthenticated) {
    toast({
      title: 'Acceso Denegado',
      description: 'Por favor inicia sesión para continuar',
      variant: 'destructive',
    })
    return <Navigate to="/login" state={{ from: location }} replace />
  }

  if (requiredRole === 'admin' && userRole === 'user') {
    toast({
      title: 'Acceso Restringido',
      description: 'No tienes permisos para acceder a esta sección',
      variant: 'destructive',
    })
    return <Navigate to="/" replace />
  }

  return <>{children}</>
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\cost\CostBreakdown.tsx
import { motion, AnimatePresence } from 'framer-motion'
import { Button } from '@/components/ui/button'
import { Card } from '@/components/ui/card'
import { formatCurrency } from '@/utils/costCalculator'
import { TowTruckType } from '@/utils/pricing'
import { CostFormulaDisplay } from './CostFormulaDisplay'
import { CostItemDisplay } from './CostItemDisplay'
import { TruckInfoHeader } from './TruckInfoHeader'
import { TollBreakdownSection } from './TollBreakdownSection'
import { ServiceCostSection } from './ServiceCostSection'
import { TollLocation } from '@/types/toll'
import { TollBadgeInfo } from './TollBadgeInfo'
import { useToast } from '@/hooks/use-toast'
import { Receipt } from 'lucide-react'

interface CostBreakdownProps {
  baseCost: number
  flagDropFee: number
  tax: number
  totalDistance: number
  totalTollCost: number
  finalCost: number
  detectedTolls: TollLocation[]
  requiresInvoice: boolean
  setShowPaymentWindow: (show: boolean) => void
  maneuverCost: number
  requiresManeuver: boolean
  selectedTruck: TowTruckType
  subtotal: number
  selectedVehicleModel: string
}

export const CostBreakdown = ({
  baseCost,
  flagDropFee,
  tax,
  totalDistance,
  totalTollCost,
  finalCost,
  detectedTolls,
  requiresInvoice,
  setShowPaymentWindow,
  maneuverCost,
  requiresManeuver,
  selectedTruck,
  subtotal,
  selectedVehicleModel,
}: CostBreakdownProps) => {
  const { toast } = useToast()
  const outboundTolls = detectedTolls.filter(toll => toll.direction === 'outbound')
  const returnTolls = detectedTolls.filter(toll => toll.direction === 'return')

  const handleTollInfo = () => {
    if (detectedTolls.length === 0) {
      toast({
        title: "No se detectaron peajes",
        description: "No hay peajes en la ruta seleccionada",
      })
    }
  }

  return (
    <Card className="p-4 space-y-4 bg-white/50">
      <div className="space-y-2">
        <motion.div
          key={selectedTruck.name}
          initial={{ opacity: 0 }}
          animate={{ opacity: 1 }}
          className="space-y-2"
        >
          <TruckInfoHeader
            selectedTruck={selectedTruck}
            selectedVehicleModel={selectedVehicleModel}
          />
          
          <TollBadgeInfo 
            tollCount={detectedTolls.length}
            onInfoClick={handleTollInfo}
          />

          <CostFormulaDisplay
            selectedTruck={selectedTruck}
            requiresManeuver={requiresManeuver}
            requiresInvoice={requiresInvoice}
          />
        </motion.div>

        <AnimatePresence mode="wait">
          <div className="space-y-3 border-t pt-3 mt-2">
            <ServiceCostSection
              flagDropFee={flagDropFee}
              baseCost={baseCost}
              totalDistance={totalDistance}
              selectedTruck={selectedTruck}
              maneuverCost={maneuverCost}
              requiresManeuver={requiresManeuver}
            />

            {(outboundTolls.length > 0 || returnTolls.length > 0) && (
              <motion.div
                key={`tolls-${selectedTruck.name}`}
                initial={{ opacity: 0 }}
                animate={{ opacity: 1 }}
                className="space-y-3"
              >
                {outboundTolls.length > 0 && (
                  <TollBreakdownSection
                    tolls={outboundTolls}
                    direction="outbound"
                  />
                )}

                {returnTolls.length > 0 && (
                  <TollBreakdownSection
                    tolls={returnTolls}
                    direction="return"
                  />
                )}

                <div className="pt-2">
                  <CostItemDisplay
                    label="Total peajes"
                    amount={totalTollCost}
                    className="font-medium text-blue-600"
                    icon={<Receipt className="w-4 h-4 text-blue-500" />}
                    description="Suma total de peajes (ida y vuelta)"
                  />
                </div>
              </motion.div>
            )}

            <motion.div
              key={`subtotal-${selectedTruck.name}`}
              initial={{ opacity: 0 }}
              animate={{ opacity: 1 }}
              className="border-t pt-2 mt-2"
            >
              <CostItemDisplay
                label="Subtotal"
                amount={subtotal}
                description={`Suma de todos los cargos para ${selectedTruck.name}`}
              />

              {requiresInvoice && (
                <CostItemDisplay
                  label="IVA (16%)"
                  amount={tax}
                  icon={<Receipt className="w-4 h-4 text-green-500" />}
                  description="Impuesto al Valor Agregado"
                />
              )}
            </motion.div>

            <motion.div
              key={`total-${selectedTruck.name}`}
              initial={{ opacity: 0 }}
              animate={{ opacity: 1 }}
              className="border-t pt-3 text-lg font-bold flex justify-between items-center"
            >
              <span>Total Final</span>
              <span className={`${
                selectedTruck.name === 'Tipo D' ? 'text-orange-500' : 'text-primary'
              }`}>
                {formatCurrency(finalCost)}
              </span>
            </motion.div>
          </div>
        </AnimatePresence>
      </div>

      <Button
        className={`w-full ${
          selectedTruck.name === 'Tipo D'
            ? 'bg-orange-500 hover:bg-orange-600'
            : 'bg-primary hover:bg-primary/90'
        }`}
        onClick={() => setShowPaymentWindow(true)}
      >
        Proceder al pago
      </Button>
    </Card>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\cost\CostFormulaDisplay.tsx
import { Calculator } from 'lucide-react'
import { motion } from 'framer-motion'
import { formatCurrency } from '@/utils/priceCalculator'
import { TowTruckType } from '@/utils/pricing'

interface CostFormulaDisplayProps {
  selectedTruck: TowTruckType
  requiresManeuver: boolean
  requiresInvoice: boolean
}

export const CostFormulaDisplay = ({
  selectedTruck,
  requiresManeuver,
  requiresInvoice,
}: CostFormulaDisplayProps) => {
  return (
    <motion.div
      initial={{ opacity: 0 }}
      animate={{ opacity: 1 }}
      className="text-sm text-gray-600 bg-blue-50/50 p-3 rounded-lg mt-2"
    >
      <div className="flex items-center gap-2 mb-2">
        <Calculator className="w-4 h-4 text-primary" />
        <span className="font-medium">
          Fórmula de cálculo para {selectedTruck.name}:
        </span>
      </div>
      <div className="pl-6 space-y-1">
        <p>
          • Distancia × {formatCurrency(selectedTruck.perKm)}/km (tarifa{' '}
          {selectedTruck.name})
        </p>
        <p>
          • Banderazo inicial {selectedTruck.name}:{' '}
          {formatCurrency(selectedTruck.flagDropFee)}
        </p>
        {requiresManeuver && (
          <p>
            • Cargo por maniobra {selectedTruck.name}:{' '}
            {formatCurrency(selectedTruck.maneuverCharge)}
          </p>
        )}
        {requiresInvoice && <p>• IVA: 16% del subtotal</p>}
      </div>
    </motion.div>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\cost\CostHeader.tsx
import { ChevronDown, ChevronUp, Info } from 'lucide-react'
import { Button } from '@/components/ui/button'
import { formatCurrency } from '@/utils/priceCalculator'
import { motion } from 'framer-motion'
import { TowTruckType } from '@/utils/pricing'
import {
  Tooltip,
  TooltipContent,
  TooltipProvider,
  TooltipTrigger,
} from '@/components/ui/tooltip'

export interface CostHeaderProps {
  showBreakdown: boolean
  setShowBreakdown: (show: boolean) => void
  finalCost: number
  truckType: 'A' | 'B' | 'C' | 'D'
  selectedTruck: TowTruckType
}

export const CostHeader = ({
  showBreakdown,
  setShowBreakdown,
  finalCost,
  truckType,
  selectedTruck,
}: CostHeaderProps) => {
  console.log('CostHeader rendered:', {
    showBreakdown,
    finalCost,
    truckType,
  })

  return (
    <div className="flex justify-between items-center bg-white/50 p-4 rounded-lg backdrop-blur-sm border border-primary/10">
      <div>
        <h2 className="text-xl font-semibold text-gray-800">Costo Estimado</h2>
        <TooltipProvider>
          <Tooltip>
            <TooltipTrigger asChild>
              <p className="text-sm text-gray-600 flex items-center gap-2 cursor-help">
                {selectedTruck.name} - {selectedTruck.capacity}
                <Info className="h-4 w-4 text-primary/60" />
              </p>
            </TooltipTrigger>
            <TooltipContent>
              <p>Capacidad máxima: {selectedTruck.maxWeight}kg</p>
            </TooltipContent>
          </Tooltip>
        </TooltipProvider>
      </div>
      <div className="flex items-center gap-4">
        <motion.div
          key={finalCost}
          initial={{ scale: 0.95, opacity: 0 }}
          animate={{ scale: 1, opacity: 1 }}
          className={`text-2xl font-bold ${truckType === 'D' ? 'text-orange-500' : 'text-primary'}`}
        >
          {formatCurrency(finalCost)}
        </motion.div>
        <Button
          variant="ghost"
          size="icon"
          onClick={() => setShowBreakdown(!showBreakdown)}
          className="hover:bg-primary/10"
        >
          {showBreakdown ? (
            <ChevronUp className="h-4 w-4" />
          ) : (
            <ChevronDown className="h-4 w-4" />
          )}
        </Button>
      </div>
    </div>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\cost\CostItemDisplay.tsx
import { motion } from 'framer-motion'
import { formatCurrency } from '@/utils/priceCalculator'

interface CostItemDisplayProps {
  label: string
  amount: number
  icon?: React.ReactNode
  indent?: boolean
  description?: string
  className?: string
}

export const CostItemDisplay = ({
  label,
  amount,
  icon,
  indent = false,
  description,
  className = '',
}: CostItemDisplayProps) => {
  return (
    <motion.div
      initial={{ opacity: 0, x: -20 }}
      animate={{ opacity: 1, x: 0 }}
      exit={{ opacity: 0, x: 20 }}
      className={`flex flex-col gap-1 ${indent ? 'pl-4' : ''} ${className}`}
    >
      <div className="flex justify-between items-center text-sm text-gray-600">
        <div className="flex items-center gap-2">
          {icon}
          <span>{label}</span>
        </div>
        <span className="font-medium">{formatCurrency(amount)}</span>
      </div>
      {description && (
        <p className="text-xs text-gray-500 italic">{description}</p>
      )}
    </motion.div>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\cost\CostMetrics.tsx
import { Switch } from '@/components/ui/switch'
import { Label } from '@/components/ui/label'
import { TowTruckType } from '@/utils/pricing'
import { motion } from 'framer-motion'

export interface CostMetricsProps {
  totalDistance: number
  requiresInvoice: boolean
  setRequiresInvoice: (requires: boolean) => void
  requiresManeuver: boolean
  onManeuverChange: (checked: boolean) => void
  selectedTruck: TowTruckType
}

export const CostMetrics = ({
  totalDistance,
  requiresInvoice,
  setRequiresInvoice,
  requiresManeuver,
  onManeuverChange,
  selectedTruck,
}: CostMetricsProps) => {
  return (
    <motion.div
      initial={{ opacity: 0 }}
      animate={{ opacity: 1 }}
      className="grid grid-cols-1 md:grid-cols-2 gap-4"
    >
      <div className="flex items-center justify-between space-x-2 p-4 bg-white/50 rounded-lg">
        <Label htmlFor="invoice" className="text-sm">
          Requiere factura (IVA 16%)
          <span className="block text-xs text-gray-500">
            Para {selectedTruck.name}
          </span>
        </Label>
        <Switch
          id="invoice"
          checked={requiresInvoice}
          onCheckedChange={setRequiresInvoice}
        />
      </div>

      <div className="flex items-center justify-between space-x-2 p-4 bg-white/50 rounded-lg">
        <Label htmlFor="maneuver" className="text-sm">
          Requiere maniobra especial
          <span className="block text-xs text-gray-500">
            +{selectedTruck.maneuverCharge.toFixed(2)} MXN para{' '}
            {selectedTruck.name}
          </span>
        </Label>
        <Switch
          id="maneuver"
          checked={requiresManeuver}
          onCheckedChange={onManeuverChange}
        />
      </div>
    </motion.div>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\cost\CostSummary.tsx
import { CostItemDisplay } from './CostItemDisplay'
import { TollInfoDisplay } from '../TollInfoDisplay'
import { Receipt } from 'lucide-react'
import { Separator } from '../ui/separator'
import { TollLocation } from '@/types/toll'

interface CostSummaryProps {
  subtotal: number
  tax: number
  finalTotal: number
  detectedTolls: TollLocation[]
  totalTollCost: number
  requiresInvoice: boolean
}

export const CostSummary = ({
  subtotal,
  tax,
  finalTotal,
  detectedTolls,
  totalTollCost,
  requiresInvoice,
}: CostSummaryProps): JSX.Element => {
  return (
    <div className="space-y-4">
      {detectedTolls.length > 0 && (
        <>
          <Separator className="my-4" />
          <div className="space-y-2">
            <h3 className="font-medium text-gray-900 flex items-center gap-2 text-shadow-sm">
              <Receipt className="w-4 h-4 text-blue-500" />
              Costos de Peaje
            </h3>
            <TollInfoDisplay
              tolls={detectedTolls}
              totalCost={totalTollCost}
            />
          </div>
        </>
      )}

      <div className="mt-6 space-y-2 border-t pt-4">
        <CostItemDisplay
          label="Subtotal (incluyendo peajes)"
          amount={subtotal}
          description="Suma de todos los cargos incluyendo peajes"
        />
        {requiresInvoice && (
          <CostItemDisplay
            label="IVA (16%)"
            amount={tax}
            description="Impuesto al Valor Agregado"
          />
        )}
        <div className="pt-2 border-t">
          <CostItemDisplay
            label="Total Final"
            amount={finalTotal}
            className="font-bold text-lg text-shadow"
          />
        </div>
      </div>
    </div>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\cost\ServiceCostSection.tsx
import { TowTruckType } from '@/utils/pricing'
import { CostItemDisplay } from './CostItemDisplay'
import { Flag, TrendingUp, Truck } from 'lucide-react'
import { formatCurrency } from '@/utils/priceCalculator'

interface ServiceCostSectionProps {
  flagDropFee: number
  baseCost: number
  totalDistance: number
  selectedTruck: TowTruckType
  maneuverCost: number
  requiresManeuver: boolean
}

export const ServiceCostSection = ({
  flagDropFee,
  baseCost,
  totalDistance,
  selectedTruck,
  maneuverCost,
  requiresManeuver,
}: ServiceCostSectionProps) => {
  return (
    <div className="space-y-3 border-t pt-3 mt-2">
      <CostItemDisplay
        label={`Banderazo ${selectedTruck.name}`}
        amount={flagDropFee}
        icon={<Flag className="w-4 h-4 text-primary" />}
        description={`Cargo inicial por servicio de grúa ${selectedTruck.name}`}
      />

      <CostItemDisplay
        label={`Servicio base ${selectedTruck.name}`}
        amount={baseCost}
        icon={<TrendingUp className="w-4 h-4 text-primary" />}
        description={`${totalDistance.toFixed(2)} km × ${formatCurrency(selectedTruck.perKm)}/km`}
      />

      {requiresManeuver && (
        <CostItemDisplay
          label={`Cargo por maniobra especial (${selectedTruck.name})`}
          amount={maneuverCost}
          icon={<Truck className="w-4 h-4 text-orange-500" />}
          description="Cargo adicional por maniobras especiales requeridas"
        />
      )}
    </div>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\cost\TollBadgeInfo.tsx
import { Info, Receipt } from 'lucide-react'
import { Badge } from '@/components/ui/badge'
import {
  Tooltip,
  TooltipContent,
  TooltipProvider,
  TooltipTrigger,
} from '@/components/ui/tooltip'

interface TollBadgeInfoProps {
  tollCount: number
  onInfoClick: () => void
}

export const TollBadgeInfo = ({ tollCount, onInfoClick }: TollBadgeInfoProps) => {
  return (
    <div className="flex items-center gap-2 mb-2">
      <Badge variant="secondary" className="bg-blue-100">
        <Receipt className="w-4 h-4 mr-1" />
        {tollCount > 0 ? `${tollCount} Peajes Detectados` : 'Sin Peajes'}
      </Badge>
      <TooltipProvider>
        <Tooltip>
          <TooltipTrigger asChild>
            <Info 
              className="w-4 h-4 text-blue-500 cursor-pointer" 
              onClick={onInfoClick}
            />
          </TooltipTrigger>
          <TooltipContent>
            <p>Los peajes son calculados automáticamente basados en tu ruta</p>
          </TooltipContent>
        </Tooltip>
      </TooltipProvider>
    </div>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\cost\TollBreakdownSection.tsx
import { TollLocation } from '@/types/toll'
import { CostItemDisplay } from './CostItemDisplay'
import { ArrowRight, ArrowLeft, Info, MapPin } from 'lucide-react'
import { calculateTotalTollCost } from '@/utils/tollUtils'
import { motion } from 'framer-motion'
import { formatCurrency } from '@/utils/priceCalculator'
import {
  Tooltip,
  TooltipContent,
  TooltipProvider,
  TooltipTrigger,
} from '@/components/ui/tooltip'
import { Card } from '@/components/ui/card'

interface TollBreakdownSectionProps {
  tolls: TollLocation[]
  direction: 'outbound' | 'return'
}

export const TollBreakdownSection = ({
  tolls,
  direction,
}: TollBreakdownSectionProps) => {
  if (tolls.length === 0) return null

  const isOutbound = direction === 'outbound'
  const icon = isOutbound ? (
    <ArrowRight className="w-4 h-4" />
  ) : (
    <ArrowLeft className="w-4 h-4" />
  )
  const label = isOutbound ? 'Peajes de ida:' : 'Peajes de regreso:'
  const totalCost = calculateTotalTollCost(tolls)

  return (
    <motion.div
      initial={{ opacity: 0, y: 10 }}
      animate={{ opacity: 1, y: 0 }}
      className="space-y-2"
    >
      <div className="flex items-center gap-2 text-sm text-blue-600">
        {icon}
        <span>{label}</span>
      </div>
      {tolls.map((toll, index) => (
        <motion.div
          key={`${direction}-toll-${index}`}
          initial={{ opacity: 0, x: -20 }}
          animate={{ opacity: 1, x: 0 }}
          transition={{ delay: index * 0.1 }}
        >
          <Card className="p-3 bg-white/50 hover:bg-white/80 transition-colors duration-200">
            <TooltipProvider>
              <div className="space-y-2">
                <div className="flex items-start justify-between">
                  <div className="flex items-start gap-2">
                    <MapPin className="w-4 h-4 mt-1 text-primary/60" />
                    <div>
                      <div className="font-medium text-sm">{toll.name}</div>
                      {toll.description && (
                        <div className="text-xs text-gray-500">
                          {toll.description}
                        </div>
                      )}
                    </div>
                  </div>
                  <span className="font-medium text-primary">
                    {formatCurrency(toll.cost)}
                  </span>
                </div>

                <div className="pl-6 space-y-1">
                  {toll.kilometer && (
                    <div className="text-xs text-gray-500">
                      Kilómetro: {toll.kilometer}
                    </div>
                  )}
                  {toll.route && (
                    <div className="text-xs text-gray-500">
                      Ruta: {toll.route}
                    </div>
                  )}
                  <div className="text-xs text-gray-500">
                    Horario: {toll.operatingHours}
                  </div>
                  <div className="text-xs text-gray-500">
                    Pagos aceptados: {toll.acceptedPayments.join(', ')}
                  </div>
                </div>
              </div>

              <Tooltip>
                <TooltipTrigger className="absolute top-3 right-3">
                  <Info className="w-4 h-4 text-primary/60 hover:text-primary" />
                </TooltipTrigger>
                <TooltipContent>
                  <div className="space-y-1 text-sm">
                    <p>Estado: {toll.status}</p>
                    {toll.distance && <p>Distancia: {toll.distance}km</p>}
                    <p>Última actualización: {toll.lastUpdated}</p>
                  </div>
                </TooltipContent>
              </Tooltip>
            </TooltipProvider>
          </Card>
        </motion.div>
      ))}
      <motion.div
        initial={{ opacity: 0 }}
        animate={{ opacity: 1 }}
        transition={{ delay: 0.2 }}
      >
        <CostItemDisplay
          label={`Total peajes ${isOutbound ? 'ida' : 'regreso'}`}
          amount={totalCost}
          className="font-medium text-primary"
        />
      </motion.div>
    </motion.div>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\cost\TruckInfoHeader.tsx
import { Truck } from 'lucide-react'
import { motion } from 'framer-motion'
import { TowTruckType } from '@/utils/pricing'

interface TruckInfoHeaderProps {
  selectedTruck: TowTruckType
  selectedVehicleModel: string
}

export const TruckInfoHeader = ({
  selectedTruck,
  selectedVehicleModel,
}: TruckInfoHeaderProps) => {
  return (
    <div className="space-y-2">
      <div className="text-lg font-semibold text-gray-800 flex items-center gap-2">
        <Truck
          className={`w-5 h-5 ${selectedTruck.name === 'Tipo D' ? 'text-orange-500' : 'text-primary'}`}
        />
        <span>
          {selectedTruck.name} - Capacidad:{' '}
          {selectedTruck.maxWeight.toLocaleString()} kg
        </span>
      </div>
      {selectedVehicleModel && (
        <motion.p
          initial={{ opacity: 0 }}
          animate={{ opacity: 1 }}
          className="text-sm text-gray-600 ml-7"
        >
          Vehículo seleccionado: {selectedVehicleModel}
        </motion.p>
      )}
    </div>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\error\ErrorBoundary.tsx
import React from 'react'
import { useToast } from '@/hooks/use-toast'
import { AlertTriangle } from 'lucide-react'
import { motion } from 'framer-motion'
import { Button } from '../ui/button'
import { Card } from '../ui/card'

interface Props {
  children: React.ReactNode
}

interface State {
  hasError: boolean
  error?: Error
}

export class ErrorBoundary extends React.Component<Props, State> {
  public state: State = {
    hasError: false,
  }

  public static getDerivedStateFromError(error: Error): State {
    return { hasError: true, error }
  }

  public componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {
    console.error('Uncaught error:', error, errorInfo)
  }

  public render() {
    if (this.state.hasError) {
      return (
        <ErrorFallback
          error={this.state.error}
          onReset={() => this.setState({ hasError: false })}
        />
      )
    }

    return this.props.children
  }
}

interface ErrorFallbackProps {
  error?: Error
  onReset: () => void
}

const ErrorFallback = ({ error, onReset }: ErrorFallbackProps) => {
  const { toast } = useToast()

  React.useEffect(() => {
    toast({
      title: 'An error occurred',
      description: error?.message || 'Something went wrong',
      variant: 'destructive',
    })
  }, [error, toast])

  return (
    <motion.div
      initial={{ opacity: 0, y: 20 }}
      animate={{ opacity: 1, y: 0 }}
      className="flex items-center justify-center min-h-[200px] p-4"
    >
      <Card className="p-6 max-w-md w-full bg-destructive/5 border-destructive/20">
        <div className="flex flex-col items-center gap-4 text-center">
          <AlertTriangle className="h-10 w-10 text-destructive" />
          <div>
            <h3 className="text-lg font-semibold text-destructive">
              Something went wrong
            </h3>
            <p className="text-sm text-gray-600 mt-1">
              {error?.message || 'An unexpected error occurred'}
            </p>
          </div>
          <Button onClick={onReset} variant="outline" className="mt-2">
            Try again
          </Button>
        </div>
      </Card>
    </motion.div>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\features\map\index.ts
export { default as MapPage } from './MapPage'
export * from './components'
export * from './hooks'
export * from './utils'



// C:\Users\israe\Documents\GitHub\recentmap\src\components\features\map\MapPage.tsx
import TowMap from '@/components/TowMap'

const MapPage = () => {
  return <TowMap />
}

export default MapPage



// C:\Users\israe\Documents\GitHub\recentmap\src\components\features\map\components\index.ts
export { MapControlPanel } from './MapControlPanel'
export { MapControls } from './MapControls'



// C:\Users\israe\Documents\GitHub\recentmap\src\components\features\map\components\MapControlPanel.tsx
import { MapControls } from './MapControls'
import { RouteStreetInfo } from './RouteStreetInfo'
import { useToast } from '@/hooks/use-toast'
import { motion, AnimatePresence } from 'framer-motion'
import { Card } from '@/components/ui/card'
import { Loader2 } from 'lucide-react'
import { useMapNotifications } from '../hooks/useMapNotifications'

interface MapControlPanelProps {
  selectingPickup: boolean
  selectingDrop: boolean
  setSelectingPickup: (value: boolean) => void
  setSelectingDrop: (value: boolean) => void
  pickupLocation: { lat: number; lng: number } | null
  dropLocation: { lat: number; lng: number } | null
  pickupAddress?: string
  dropAddress?: string
  isLoading?: boolean
  className?: string // Added className prop
}

export const MapControlPanel = ({
  selectingPickup,
  selectingDrop,
  setSelectingPickup,
  setSelectingDrop,
  pickupLocation,
  dropLocation,
  pickupAddress,
  dropAddress,
  isLoading = false,
}: MapControlPanelProps) => {
  const { toast } = useToast()
  const { showLocationSelectionNotification } = useMapNotifications()

  const handlePickupClick = () => {
    setSelectingPickup(true)
    setSelectingDrop(false)
    showLocationSelectionNotification('pickup')
  }

  const handleDropClick = () => {
    setSelectingDrop(true)
    setSelectingPickup(false)
    showLocationSelectionNotification('drop')
  }

  return (
    <div className="fixed top-16 left-1/2 transform -translate-x-1/2 z-50 w-full max-w-2xl px-3 sm:px-4">
      <motion.div
        initial={{ opacity: 0, y: -20 }}
        animate={{ opacity: 1, y: 0 }}
        transition={{ duration: 0.3 }}
        className="w-full"
      >
        <Card className="relative w-full bg-white/95 backdrop-blur-md shadow-md rounded-lg p-4 border border-primary/10 hover:border-primary/20 transition-all duration-300">
          {isLoading && (
            <motion.div
              initial={{ opacity: 0 }}
              animate={{ opacity: 1 }}
              exit={{ opacity: 0 }}
              className="absolute inset-0 bg-white/70 backdrop-blur-sm flex items-center justify-center z-50 rounded-lg"
            >
              <Loader2 className="w-6 h-6 animate-spin text-primary" />
            </motion.div>
          )}
          <MapControls
            selectingPickup={selectingPickup}
            selectingDrop={selectingDrop}
            onPickupClick={handlePickupClick}
            onDropClick={handleDropClick}
          />
        </Card>
      </motion.div>

      <AnimatePresence>
        {(pickupLocation || dropLocation) && (
          <motion.div
            initial={{ opacity: 0, y: 10, scale: 0.95 }}
            animate={{ opacity: 1, y: 0, scale: 1 }}
            exit={{ opacity: 0, y: -10, scale: 0.95 }}
            transition={{ duration: 0.2 }}
            className="mt-3 w-full"
          >
            <RouteStreetInfo
              pickupLocation={pickupLocation}
              dropLocation={dropLocation}
              pickupAddress={pickupAddress}
              dropAddress={dropAddress}
              isLoading={isLoading}
            />
          </motion.div>
        )}
      </AnimatePresence>
    </div>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\features\map\components\MapControls.tsx
import { MapPin, Navigation } from 'lucide-react'
import { Button } from '@/components/ui/button'
import { cn } from '@/lib/utils'

interface MapControlsProps {
  selectingPickup: boolean
  selectingDrop: boolean
  onPickupClick: () => void
  onDropClick: () => void
}

export const MapControls = ({
  selectingPickup,
  selectingDrop,
  onPickupClick,
  onDropClick,
}: MapControlsProps) => {
  return (
    <div className="flex flex-col sm:flex-row gap-3">
      <Button
        variant="outline"
        size="lg"
        onClick={onPickupClick}
        className={cn(
          'flex items-center gap-2 transition-all duration-300',
          selectingPickup
            ? 'bg-green-50 border-green-200 text-green-700 hover:bg-green-100'
            : 'hover:bg-green-50',
        )}
      >
        <MapPin className="h-4 w-4" />
        <span className="hidden sm:inline">Punto de Recogida</span>
      </Button>

      <Button
        variant="outline"
        size="lg"
        onClick={onDropClick}
        className={cn(
          'flex items-center gap-2 transition-all duration-300',
          selectingDrop
            ? 'bg-blue-50 border-blue-200 text-blue-700 hover:bg-blue-100'
            : 'hover:bg-blue-50',
        )}
      >
        <Navigation className="h-4 w-4" />
        <span className="hidden sm:inline">Punto de Entrega</span>
      </Button>
    </div>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\features\map\components\RouteStreetInfo.tsx
import { Card } from '@/components/ui/card'
import { MapPin, Navigation, Loader2 } from 'lucide-react'
import Draggable from 'react-draggable'
import { useRef } from 'react'

interface RouteStreetInfoProps {
  pickupLocation: { lat: number; lng: number } | null
  dropLocation: { lat: number; lng: number } | null
  pickupAddress?: string
  dropAddress?: string
  isLoading?: boolean
}

export const RouteStreetInfo = ({
  pickupLocation,
  dropLocation,
  pickupAddress,
  dropAddress,
  isLoading = false,
}: RouteStreetInfoProps) => {
  const nodeRef = useRef(null)

  if (!pickupLocation && !dropLocation) return null

  return (
    <Draggable handle=".drag-handle" bounds="parent" nodeRef={nodeRef}>
      <div ref={nodeRef} className="absolute z-[1000] max-w-md">
        <Card className="p-4 space-y-3 bg-white/95 backdrop-blur-sm shadow-lg transition-all duration-300 hover:shadow-xl border-blue-100/50">
          <div className="flex items-center justify-between border-b pb-2 mb-2 drag-handle cursor-move">
            <div className="font-semibold text-sm text-primary/90">
              Detalles de Ubicación
            </div>
            {isLoading && (
              <Loader2 className="w-4 h-4 animate-spin text-primary" />
            )}
          </div>

          {pickupLocation && (
            <div className="flex items-start gap-2">
              <MapPin className="w-5 h-5 mt-1 text-green-500 flex-shrink-0" />
              <div className="flex-1">
                <div className="font-semibold text-sm">Punto de Recogida</div>
                <div className="text-sm text-gray-600 break-words">
                  {pickupAddress || 'Cargando dirección...'}
                </div>
                <div className="text-xs text-gray-500 mt-1">
                  Coordenadas: {pickupLocation.lat.toFixed(6)},{' '}
                  {pickupLocation.lng.toFixed(6)}
                </div>
              </div>
            </div>
          )}

          {dropLocation && (
            <div className="flex items-start gap-2">
              <Navigation className="w-5 h-5 mt-1 text-red-500 flex-shrink-0" />
              <div className="flex-1">
                <div className="font-semibold text-sm">Punto de Entrega</div>
                <div className="text-sm text-gray-600 break-words">
                  {dropAddress || 'Cargando dirección...'}
                </div>
                <div className="text-xs text-gray-500 mt-1">
                  Coordenadas: {dropLocation.lat.toFixed(6)},{' '}
                  {dropLocation.lng.toFixed(6)}
                </div>
              </div>
            </div>
          )}
        </Card>
      </div>
    </Draggable>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\features\map\hooks\index.ts
export { useMapNotifications } from './useMapNotifications'
export { useMapState } from './useMapState'



// C:\Users\israe\Documents\GitHub\recentmap\src\components\features\map\hooks\useMapNotifications.tsx
import { useToast } from '@/hooks/use-toast'
import { MapPin } from 'lucide-react'
import { ReactNode } from 'react'
import { ToastActionElement, ToastProps } from '@/components/ui/toast'

type ToasterToast = {
  id: string
  title?: React.ReactNode
  description?: React.ReactNode
  action?: ToastActionElement
  icon?: ReactNode
  className?: string
  variant?: 'default' | 'destructive'
}

export const useMapNotifications = () => {
  const { toast } = useToast()

  const showLocationSelectionNotification = (type: 'pickup' | 'drop'): void => {
    toast({
      title:
        type === 'pickup'
          ? 'Seleccionando punto de recogida'
          : 'Seleccionando punto de entrega',
      description: `Haz clic en el mapa para seleccionar el punto de ${type === 'pickup' ? 'recogida' : 'entrega'}`,
      className:
        type === 'pickup'
          ? 'bg-green-50 border-green-200'
          : 'bg-blue-50 border-blue-200',
    })
  }

  const showRouteCalculationError = (error: string): void => {
    toast({
      title: 'Error al calcular la ruta',
      description: error,
      variant: 'destructive',
    })
  }

  const showLocationUpdateSuccess = (
    type: 'pickup' | 'drop',
    address: string,
  ): void => {
    toast({
      title: `${type === 'pickup' ? 'Punto de recogida' : 'Punto de entrega'} actualizado`,
      description: address,
      className:
        type === 'pickup'
          ? 'bg-green-50 border-green-200'
          : 'bg-blue-50 border-blue-200',
    })
  }

  return {
    showLocationSelectionNotification,
    showRouteCalculationError,
    showLocationUpdateSuccess,
  }
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\features\map\hooks\useMapState.ts
import { useState } from 'react'
import { Location } from '@/types/location'
import { getAddressFromCoords } from '@/services/geocodingService'

export const useMapState = () => {
  const [pickupLocation, setPickupLocation] = useState<Location | null>(null)
  const [dropLocation, setDropLocation] = useState<Location | null>(null)
  const [pickupAddress, setPickupAddress] = useState<string>('')
  const [dropAddress, setDropAddress] = useState<string>('')
  const [selectingPickup, setSelectingPickup] = useState<boolean>(false)
  const [selectingDrop, setSelectingDrop] = useState<boolean>(false)
  const [isLoading, setIsLoading] = useState<boolean>(false)

  const handleLocationSelect = (location: Location, type: 'pickup' | 'drop') => {
    if (type === 'pickup') {
      setPickupLocation(location)
      setPickupAddress(location.address || '')
    } else {
      setDropLocation(location)
      setDropAddress(location.address || '')
    }
  }

  return {
    pickupLocation,
    dropLocation,
    pickupAddress,
    dropAddress,
    selectingPickup,
    selectingDrop,
    isLoading,
    setSelectingPickup,
    setSelectingDrop,
    handleLocationSelect,
  }
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\features\map\utils\index.ts
export * from '@/utils/mapUtils'
export * from '@/utils/routeCalculator'
export * from '@/utils/tollCalculator'



// C:\Users\israe\Documents\GitHub\recentmap\src\components\features\reservations\components\ReservationFilters.tsx
import { Input } from '@/components/ui/input'
import { Button } from '@/components/ui/button'
import { Calendar } from '@/components/ui/calendar'
import { Filter, SortAsc, SortDesc } from 'lucide-react'
import { motion } from 'framer-motion'

interface ReservationFiltersProps {
  searchQuery: string
  onSearchChange: (value: string) => void
  selectedDate: Date | undefined
  onDateSelect: (date: Date | Date[] | undefined) => void
  sortDirection: 'asc' | 'desc'
  onSortChange: () => void
}

export const ReservationFilters = ({
  searchQuery,
  onSearchChange,
  selectedDate,
  onDateSelect,
  sortDirection,
  onSortChange,
}: ReservationFiltersProps) => {
  const handleDateSelect = (date: Date | Date[] | undefined) => {
    if (Array.isArray(date)) {
      onDateSelect(date[0])
    } else {
      onDateSelect(date)
    }
  }

  return (
    <div className="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
      <div className="space-y-2">
        <div className="flex items-center gap-2">
          <Filter className="h-4 w-4 text-gray-500" />
          <span className="text-sm font-medium text-gray-700">
            Filtrar Reservas
          </span>
        </div>
        <Input
          placeholder="Buscar reservas..."
          value={searchQuery}
          onChange={(e) => onSearchChange(e.target.value)}
          className="w-full"
        />
      </div>
      <div className="space-y-2">
        <div className="flex items-center gap-2">
          <Filter className="h-4 w-4 text-gray-500" />
          <span className="text-sm font-medium text-gray-700">
            Filtrar por Fecha
          </span>
        </div>
        <div className="flex items-center gap-2">
          <Calendar
            mode="single"
            selected={selectedDate}
            onSelect={handleDateSelect}
            className="rounded-md border"
          />
          <Button
            variant="outline"
            size="icon"
            onClick={onSortChange}
            className="relative group"
          >
            {sortDirection === 'asc' ? (
              <SortAsc className="h-4 w-4" />
            ) : (
              <SortDesc className="h-4 w-4" />
            )}
          </Button>
        </div>
      </div>
    </div>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\features\reservations\components\ReservationList.tsx
import {
  Table,
  TableBody,
  TableCell,
  TableHead,
  TableHeader,
  TableRow,
} from '@/components/ui/table'
import { Button } from '@/components/ui/button'
import { useToast } from '@/hooks/use-toast'
import { ServiceRequest } from '@/types/service'
import { motion } from 'framer-motion'
import { useState } from 'react'
import { ServiceCompletionDialog } from '@/components/service/ServiceCompletionDialog'

interface ReservationListProps {
  reservations: ServiceRequest[]
  isLoading: boolean
}

export const ReservationList = ({
  reservations,
  isLoading,
}: ReservationListProps) => {
  const { toast } = useToast()
  const [selectedRequestId, setSelectedRequestId] = useState<string | null>(null)

  return (
    <>
      <motion.div
        initial={{ opacity: 0 }}
        animate={{ opacity: 1 }}
        exit={{ opacity: 0 }}
        className="rounded-md border"
      >
        <Table>
          <TableHeader>
            <TableRow>
              <TableHead>ID</TableHead>
              <TableHead>Status</TableHead>
              <TableHead>Created</TableHead>
              <TableHead>Customer</TableHead>
              <TableHead>Vehicle</TableHead>
              <TableHead>Actions</TableHead>
            </TableRow>
          </TableHeader>
          <TableBody>
            {reservations.map((reservation) => (
              <TableRow key={reservation.id}>
                <TableCell>{reservation.id}</TableCell>
                <TableCell>
                  <span
                    className={`px-2 py-1 rounded-full text-xs ${
                      reservation.status === 'completed'
                        ? 'bg-green-100 text-green-800'
                        : 'bg-yellow-100 text-yellow-800'
                    }`}
                  >
                    {reservation.status}
                  </span>
                </TableCell>
                <TableCell>
                  {reservation.createdAt.toLocaleDateString()}
                </TableCell>
                <TableCell>{reservation.username}</TableCell>
                <TableCell>{`${reservation.vehicleYear} ${reservation.vehicleMake} ${reservation.vehicleModel}`}</TableCell>
                <TableCell className="space-x-2">
                  <Button
                    variant="outline"
                    size="sm"
                    onClick={() => {
                      toast({
                        title: 'Ver Detalles',
                        description: `Viendo reserva ${reservation.id}`,
                      })
                    }}
                  >
                    Ver
                  </Button>
                  {reservation.status !== 'completed' && (
                    <Button
                      variant="outline"
                      size="sm"
                      className="bg-green-50 hover:bg-green-100 text-green-700"
                      onClick={() => setSelectedRequestId(reservation.id)}
                    >
                      Complete
                    </Button>
                  )}
                </TableCell>
              </TableRow>
            ))}
          </TableBody>
        </Table>
      </motion.div>

      <ServiceCompletionDialog
        isOpen={!!selectedRequestId}
        onClose={() => setSelectedRequestId(null)}
        requestId={selectedRequestId || ''}
      />
    </>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\form\AddressFields.tsx
import { LocationSearch } from './location-search'
import { Card } from '@/components/ui/card'
import { MapPin, Navigation } from 'lucide-react'
import { Separator } from '@/components/ui/separator'
import { Button } from '@/components/ui/button'
import { getAddressFromCoords } from '@/services/geocodingService'
import { detectTollsOnRoute } from '@/utils/tollCalculator'
import { motion } from 'framer-motion'
import { useToast } from '@/components/ui/use-toast'

interface AddressFieldsProps {
  pickupLocation: { lat: number; lng: number } | null
  dropLocation: { lat: number; lng: number } | null
  pickupAddress: string
  dropAddress: string
  onPickupSelect: (location: {
    lat: number
    lng: number
    address: string
  }) => void
  onDropSelect: (location: {
    lat: number
    lng: number
    address: string
  }) => void
  onTollUpdate?: (tollCost: number) => void
  onSelectingPickup: (selecting: boolean) => void
  onSelectingDrop: (selecting: boolean) => void
  className?: string
}

export const AddressFields = ({
  pickupLocation,
  dropLocation,
  pickupAddress,
  dropAddress,
  onPickupSelect,
  onDropSelect,
  onTollUpdate,
  onSelectingPickup,
  onSelectingDrop,
  className = '',
}: AddressFieldsProps) => {
  const { toast } = useToast()

  const handleLocationSelect = async (
    location: { lat: number; lng: number; address: string },
    type: 'pickup' | 'drop',
  ) => {
    try {
      if (type === 'pickup') {
        onPickupSelect(location)
        onSelectingPickup(false)
      } else {
        onDropSelect(location)
        onSelectingDrop(false)
      }

      if (pickupLocation && dropLocation) {
        const tollInfo = await detectTollsOnRoute(
          type === 'pickup'
            ? { lat: location.lat, lng: location.lng }
            : pickupLocation,
          type === 'drop'
            ? { lat: location.lat, lng: location.lng }
            : dropLocation,
        )
        onTollUpdate?.(tollInfo.totalTollCost)

        if (tollInfo.tolls.length > 0) {
          toast({
            title: 'Peajes detectados',
            description: `Se han detectado ${tollInfo.tolls.length} peajes en la ruta`,
          })
        }
      }
    } catch (error) {
      toast({
        title: 'Error',
        description: 'No se pudo procesar la ubicación',
        variant: 'destructive',
      })
    }
  }

  return (
    <Card
      className={`p-6 space-y-6 bg-gradient-to-br from-white/95 to-blue-50/95 border-blue-100 shadow-lg hover:shadow-xl transition-all duration-300 ${className}`}
    >
      <motion.div
        className="space-y-6"
        initial={{ opacity: 0, y: 20 }}
        animate={{ opacity: 1, y: 0 }}
      >
        <div className="relative">
          <div className="flex items-center justify-between gap-2 mb-4">
            <div className="flex items-center gap-2">
              <MapPin className="h-5 w-5 text-green-500" />
              <h3 className="font-semibold text-lg text-gray-800">
                Punto de Recogida
              </h3>
            </div>
            <Button
              variant="outline"
              size="sm"
              onClick={() => onSelectingPickup(true)}
              className="text-sm hover:bg-green-50 hover:text-green-600 transition-colors"
            >
              <MapPin className="h-4 w-4 mr-2 text-green-500" />
              Seleccionar en Mapa
            </Button>
          </div>
          <LocationSearch
            placeholder="Ingrese dirección de recogida"
            currentAddress={pickupAddress}
            currentLocation={pickupLocation}
            onLocationSelect={(loc) =>
              handleLocationSelect({ ...loc, address: loc.address }, 'pickup')
            }
            icon={<MapPin className="h-4 w-4 text-green-500" />}
          />
        </div>

        <Separator className="my-4" />

        <div className="relative">
          <div className="flex items-center justify-between gap-2 mb-4">
            <div className="flex items-center gap-2">
              <Navigation className="h-5 w-5 text-red-500" />
              <h3 className="font-semibold text-lg text-gray-800">
                Punto de Entrega
              </h3>
            </div>
            <Button
              variant="outline"
              size="sm"
              onClick={() => onSelectingDrop(true)}
              className="text-sm hover:bg-red-50 hover:text-red-600 transition-colors"
            >
              <Navigation className="h-4 w-4 mr-2 text-red-500" />
              Seleccionar en Mapa
            </Button>
          </div>
          <LocationSearch
            placeholder="Ingrese dirección de entrega"
            currentAddress={dropAddress}
            currentLocation={dropLocation}
            onLocationSelect={(loc) =>
              handleLocationSelect({ ...loc, address: loc.address }, 'drop')
            }
            icon={<Navigation className="h-4 w-4 text-red-500" />}
          />
        </div>
      </motion.div>
    </Card>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\form\AnimatedFormText.tsx
import { motion } from 'framer-motion'
import { cn } from '@/lib/utils'

interface AnimatedTextProps {
  children: React.ReactNode
  className?: string
}

export const AnimatedFormText = ({ children, className }: AnimatedTextProps) => {
  return (
    <motion.span
      className={cn(
        'inline-block relative',
        'bg-gradient-to-r from-[#2c5ea8] via-gray-500 to-[#2c5ea8]',
        'bg-clip-text text-transparent',
        'animate-shine bg-[length:200%_100%]',
        className
      )}
      initial={{ opacity: 0, y: 20 }}
      animate={{ opacity: 1, y: 0 }}
      transition={{
        duration: 0.5,
        ease: [0.6, -0.05, 0.01, 0.99]
      }}
    >
      {children}
    </motion.span>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\form\DownloadButtons.tsx
import { Button } from '@/components/ui/button'
import { Download, FileText } from 'lucide-react'
import { downloadServiceInfo } from '@/utils/downloadUtils'

interface DownloadButtonsProps {
  onDownload: (format: 'csv' | 'txt') => Promise<void>
}

export const DownloadButtons = ({ onDownload }: DownloadButtonsProps) => {
  return (
    <div className="flex gap-2 flex-1">
      <Button
        type="button"
        variant="outline"
        onClick={() => onDownload('csv')}
        className="flex-1 bg-gradient-to-r from-emerald-50 to-teal-50 border-emerald-200 hover:border-emerald-300 hover:bg-emerald-100 transition-all duration-300"
      >
        <Download className="w-4 h-4 mr-2 text-emerald-600" />
        CSV
      </Button>
      <Button
        type="button"
        variant="outline"
        onClick={() => onDownload('txt')}
        className="flex-1 bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200 hover:border-blue-300 hover:bg-blue-100 transition-all duration-300"
      >
        <FileText className="w-4 h-4 mr-2 text-blue-600" />
        TXT
      </Button>
    </div>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\form\EnhancedFormActions.tsx
import { Button } from '@/components/ui/button'
import { CreditCard, Copy, CheckCircle2 } from 'lucide-react'
import { motion } from 'framer-motion'

interface EnhancedFormActionsProps {
  onCopy: () => void
  isCopied: boolean
  isPending: boolean
}

export const EnhancedFormActions = ({
  onCopy,
  isCopied,
  isPending,
}: EnhancedFormActionsProps) => {
  return (
    <motion.div
      initial={{ opacity: 0, y: 20 }}
      animate={{ opacity: 1, y: 0 }}
      transition={{ duration: 0.5, delay: 0.6 }}
      className="space-y-4"
    >
      <div className="flex gap-2">
        <Button
          variant="outline"
          size="lg"
          onClick={onCopy}
          className="flex-1 bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200 hover:border-blue-300 hover:bg-blue-100 transition-all duration-300 group relative overflow-hidden"
        >
          <span className="flex items-center justify-center gap-2">
            {isCopied ? (
              <CheckCircle2 className="h-5 w-5 text-green-500" />
            ) : (
              <Copy className="h-5 w-5 text-blue-500 group-hover:scale-110 transition-transform" />
            )}
            {isCopied ? '¡Copiado!' : 'Copiar Información'}
          </span>
          <span className="absolute inset-0 bg-white/10 transform -skew-x-12 group-hover:translate-x-full transition-transform duration-700 ease-out" />
        </Button>
        <Button
          type="submit"
          size="lg"
          disabled={isPending}
          className="flex-1 bg-gradient-to-r from-primary to-primary-dark hover:from-primary-dark hover:to-primary text-white shadow-lg hover:shadow-xl transition-all duration-300 group relative overflow-hidden"
        >
          {isPending ? (
            <span className="flex items-center justify-center gap-3">
              <div className="w-5 h-5 border-3 border-white/30 border-t-white rounded-full animate-spin" />
              Procesando...
            </span>
          ) : (
            <span className="flex items-center justify-center gap-3">
              <CreditCard className="h-5 w-5 group-hover:scale-110 transition-transform" />
              Continuar al Pago
              <span className="absolute inset-0 bg-white/10 transform -skew-x-12 group-hover:translate-x-full transition-transform duration-700 ease-out" />
            </span>
          )}
        </Button>
      </div>
    </motion.div>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\form\EnhancedFormHeader.tsx
import { motion } from 'framer-motion'
import { FileText, Info } from 'lucide-react'
import {
  Tooltip,
  TooltipContent,
  TooltipProvider,
  TooltipTrigger,
} from '@/components/ui/tooltip'

export const EnhancedFormHeader = () => {
  return (
    <motion.div
      className="space-y-4"
      initial={{ opacity: 0, y: -20 }}
      animate={{ opacity: 1, y: 0 }}
      transition={{ duration: 0.5 }}
    >
      <div className="flex items-center justify-between">
        <div className="flex items-center gap-3">
          <div className="p-2 bg-primary/10 rounded-lg">
            <FileText className="w-6 h-6 text-primary" />
          </div>
          <div>
            <h2 className="text-2xl font-semibold text-gray-800">
              Información del Servicio
            </h2>
            <p className="text-gray-600 text-sm">
              Complete los detalles del vehículo y servicio requerido
            </p>
          </div>
        </div>
        <TooltipProvider>
          <Tooltip>
            <TooltipTrigger asChild>
              <button className="p-2 hover:bg-gray-100 rounded-full transition-colors">
                <Info className="w-5 h-5 text-gray-500" />
              </button>
            </TooltipTrigger>
            <TooltipContent>
              <p>Todos los campos son requeridos para procesar su solicitud</p>
            </TooltipContent>
          </Tooltip>
        </TooltipProvider>
      </div>
    </motion.div>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\form\FloatingPanel.tsx
import { ReactNode } from 'react'
import { motion } from 'framer-motion'
import { cn } from '@/lib/utils'

interface FloatingPanelProps {
  children: ReactNode
  className?: string
  withGrid?: boolean
  title?: ReactNode
  position?: 'left' | 'right'
}

export const FloatingPanel = ({
  children,
  className,
  withGrid = true,
  title,
  position = 'left',
}: FloatingPanelProps) => {
  return (
    <motion.div
      initial={{ opacity: 0, scale: 0.95 }}
      animate={{ opacity: 1, scale: 1 }}
      transition={{ duration: 0.3 }}
      className={cn(
        'fixed bottom-0 left-0 right-0 z-50',
        'bg-gradient-to-t from-white/95 to-white/80',
        'backdrop-blur-xl shadow-[0_-8px_30px_rgb(0,0,0,0.12)]',
        'border-t border-white/20',
        'rounded-t-[2rem] overflow-hidden',
        'transition-all duration-500 ease-in-out',
        className
      )}
    >
      {withGrid && (
        <div className="absolute inset-0 bg-grid-pattern opacity-[0.02] pointer-events-none" />
      )}
      <div className="relative z-10">
        {title && <div className="p-4 border-b border-gray-100">{title}</div>}
        {children}
      </div>
    </motion.div>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\form\LocationSelector.tsx
import {
  FormField,
  FormItem,
  FormLabel,
  FormControl,
} from '@/components/ui/form'
import { UseFormReturn } from 'react-hook-form'
import { FormData } from '@/types/form'
import { LocationSearch } from './location-search'
import { MapPin, Navigation } from 'lucide-react'
import { useToast } from '@/hooks/use-toast'
import { useEffect } from 'react'
import { Location } from '@/types/location'

export interface LocationSelectorProps {
  form: UseFormReturn<FormData>
  pickupLocation?: { lat: number; lng: number } | null
  dropLocation?: { lat: number; lng: number } | null
  pickupAddress?: string
  dropAddress?: string
  onPickupSelect?: (location: {
    lat: number
    lng: number
    address: string
  }) => void
  onDropSelect?: (location: {
    lat: number
    lng: number
    address: string
  }) => void
  onSelectingPickup?: (selecting: boolean) => void
  onSelectingDrop?: (selecting: boolean) => void
}

export const LocationSelector = ({
  form,
  pickupLocation,
  dropLocation,
  pickupAddress,
  dropAddress,
  onPickupSelect,
  onDropSelect,
  onSelectingPickup,
  onSelectingDrop,
}: LocationSelectorProps) => {
  const { toast } = useToast()

  useEffect(() => {
    if (pickupAddress) {
      form.setValue('pickupLocation', {
        lat: pickupLocation?.lat || 0,
        lng: pickupLocation?.lng || 0,
        address: pickupAddress,
      })
    }
  }, [pickupAddress, pickupLocation, form])

  useEffect(() => {
    if (dropAddress) {
      form.setValue('dropoffLocation', {
        lat: dropLocation?.lat || 0,
        lng: dropLocation?.lng || 0,
        address: dropAddress,
      })
    }
  }, [dropAddress, dropLocation, form])

  const handleLocationSelect = async (
    location: { lat: number; lng: number; address: string },
    type: 'pickup' | 'drop',
  ) => {
    if (type === 'pickup') {
      form.setValue('pickupLocation', location)
      onPickupSelect?.(location)
      onSelectingPickup?.(false)
    } else {
      form.setValue('dropoffLocation', location)
      onDropSelect?.(location)
      onSelectingDrop?.(false)
    }

    toast({
      title:
        type === 'pickup'
          ? 'Ubicación de recogida actualizada'
          : 'Ubicación de entrega actualizada',
      description: location.address,
    })
  }

  return (
    <div className="space-y-6">
      <FormField
        control={form.control}
        name="pickupLocation"
        render={({ field }) => (
          <FormItem>
            <FormLabel className="text-lg font-semibold">
              Ubicación de Recogida
            </FormLabel>
            <FormControl>
              <LocationSearch
                placeholder="Ingrese dirección de recogida..."
                icon={<MapPin className="h-4 w-4 text-primary" />}
                currentAddress={pickupAddress}
                currentLocation={pickupLocation}
                onLocationSelect={(location) =>
                  handleLocationSelect(location, 'pickup')
                }
                onSelectingLocation={() => onSelectingPickup?.(true)}
                type="pickup"
              />
            </FormControl>
          </FormItem>
        )}
      />

      <FormField
        control={form.control}
        name="dropoffLocation"
        render={({ field }) => (
          <FormItem>
            <FormLabel className="text-lg font-semibold">
              Ubicación de Entrega
            </FormLabel>
            <FormControl>
              <LocationSearch
                placeholder="Ingrese dirección de entrega..."
                icon={<Navigation className="h-4 w-4 text-primary" />}
                currentAddress={dropAddress}
                currentLocation={dropLocation}
                onLocationSelect={(location) =>
                  handleLocationSelect(location, 'drop')
                }
                onSelectingLocation={() => onSelectingDrop?.(true)}
                type="drop"
              />
            </FormControl>
          </FormItem>
        )}
      />
    </div>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\form\ManeuverField.tsx
import {
  FormField,
  FormItem,
  FormLabel,
  FormControl,
} from '@/components/ui/form'
import { Textarea } from '@/components/ui/textarea'
import { UseFormReturn } from 'react-hook-form'
import { FormData } from '@/types/form'
import { Card } from '@/components/ui/card'

interface ManeuverFieldProps {
  form: UseFormReturn<FormData>
  onManeuverChange?: () => void
}

export const ManeuverField = ({
  form,
  onManeuverChange,
}: ManeuverFieldProps) => {
  return (
    <Card className="p-4 space-y-4">
      <FormField
        control={form.control}
        name="issueDescription"
        render={({ field }) => (
          <FormItem>
            <FormLabel className="text-base font-semibold">
              Descripción del Problema
            </FormLabel>
            <FormControl>
              <Textarea
                placeholder="Describa el problema o situación especial del vehículo (ej: no enciende, llanta ponchada, etc.)"
                className="min-h-[100px] resize-none"
                {...field}
                onChange={(e) => {
                  field.onChange(e)
                  if (e.target.value.length > 0) {
                    form.setValue('requiresManeuver', true)
                    onManeuverChange?.()
                  }
                }}
              />
            </FormControl>
          </FormItem>
        )}
      />
    </Card>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\form\ServiceRequirements.tsx
import {
  FormField,
  FormItem,
  FormLabel,
  FormControl,
  FormMessage,
} from '@/components/ui/form'
import { Textarea } from '@/components/ui/textarea'
import { Wrench } from 'lucide-react'
import { UseFormReturn } from 'react-hook-form'
import { FormData } from '@/types/form'
import { motion } from 'framer-motion'

export interface ServiceRequirementsProps {
  form: UseFormReturn<FormData>
  requiresManeuver?: boolean
  onManeuverChange?: (checked: boolean) => void
  formData: {
    vehicleMake: string
    vehicleModel: string
    vehicleYear: string
    vehicleColor: string
    truckType: string
    requiresManeuver: boolean
    issueDescription: string
    pickupLocation: null | any
    dropoffLocation: null | any
  }
  onChange: (field: string, value: any) => void
}

export const ServiceRequirements = ({
  form,
  requiresManeuver,
  onManeuverChange,
  formData,
  onChange,
}: ServiceRequirementsProps) => {
  return (
    <motion.div
      initial={{ opacity: 0, y: 20 }}
      animate={{ opacity: 1, y: 0 }}
      transition={{ duration: 0.5 }}
      className="space-y-4"
    >
      <div className="flex items-center gap-2 text-lg font-semibold text-gray-700">
        <Wrench className="w-5 h-5 text-primary animate-spin-slow" />
        <h2>Requerimientos del Servicio</h2>
      </div>

      <FormField
        control={form.control}
        name="issueDescription"
        render={({ field }) => (
          <FormItem>
            <FormLabel className="text-gray-700 font-medium">
              Descripción del Problema
            </FormLabel>
            <FormControl>
              <Textarea
                {...field}
                value={field.value || ''}
                placeholder="Por favor, proporcione información detallada sobre el problema de su vehículo."
                className="bg-white/80 border-gray-300 focus:ring-2 ring-primary/20 min-h-[120px] text-gray-800 resize-none"
              />
            </FormControl>
            <FormMessage className="text-sm text-red-500 mt-1" />
          </FormItem>
        )}
      />
    </motion.div>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\form\TowTruckSelector.tsx
import { useEffect } from 'react'
import {
  FormField,
  FormItem,
  FormLabel,
  FormControl,
} from '@/components/ui/form'
import { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group'
import { towTruckTypes } from '@/utils/pricing'
import { Truck } from 'lucide-react'
import { UseFormReturn } from 'react-hook-form'
import { FormData } from '@/types/form'
import { motion } from 'framer-motion'
import { useTowing } from '@/contexts/TowingContext'
import { useToast } from '@/hooks/use-toast'
import { getTruckTypeForVehicle } from '@/utils/pricing/vehicleClassification'

interface TowTruckSelectorProps {
  form: UseFormReturn<FormData>
  onTruckTypeChange?: (type: 'A' | 'B' | 'C' | 'D') => void
  selectedModel?: string
}

export const TowTruckSelector = ({
  form,
  onTruckTypeChange,
  selectedModel,
}: TowTruckSelectorProps) => {
  const { updateTruckType } = useTowing()
  const { toast } = useToast()
  const selectedMake = form.watch('vehicleMake')

  useEffect(() => {
    if (selectedMake && selectedModel) {
      const recommendedType = getTruckTypeForVehicle(selectedMake, selectedModel)
      form.setValue('truckType', recommendedType)
      onTruckTypeChange?.(recommendedType)
      updateTruckType(recommendedType)

      const truckInfo = towTruckTypes[recommendedType]
      toast({
        title: 'Tipo de grúa recomendado',
        description: `Se ha seleccionado ${truckInfo.name} para ${selectedMake} ${selectedModel} (capacidad: ${truckInfo.maxWeight.toLocaleString()} kg)`,
        duration: 5000,
      })
    }
  }, [selectedMake, selectedModel, form, onTruckTypeChange, updateTruckType])

  return (
    <motion.div
      initial={{ opacity: 0, y: 10 }}
      animate={{ opacity: 1, y: 0 }}
      transition={{ duration: 0.3 }}
      className="space-y-4"
    >
      <FormField
        control={form.control}
        name="truckType"
        render={({ field }) => (
          <FormItem>
            <FormLabel className="text-lg font-semibold flex items-center gap-2">
              <Truck className="w-5 h-5 text-primary" />
              Tipo de Grúa
            </FormLabel>
            <FormControl>
              <RadioGroup
                onValueChange={(value) => {
                  const truckType = value as 'A' | 'B' | 'C' | 'D'
                  field.onChange(truckType)
                  onTruckTypeChange?.(truckType)
                  updateTruckType(truckType)

                  const selectedTruckInfo = towTruckTypes[truckType]
                  toast({
                    title: `${selectedTruckInfo.name} seleccionada`,
                    description: `Capacidad máxima: ${selectedTruckInfo.maxWeight.toLocaleString()} kg - Tarifa: ${selectedTruckInfo.perKm.toFixed(2)} MXN/km`,
                  })
                }}
                value={field.value}
                className="flex flex-col space-y-3"
              >
                {Object.entries(towTruckTypes).map(([key, type]) => (
                  <motion.div
                    key={key}
                    initial={{ opacity: 0, x: -10 }}
                    animate={{ opacity: 1, x: 0 }}
                    transition={{
                      duration: 0.2,
                      delay: Number(key.charCodeAt(0) - 65) * 0.1,
                    }}
                    className="flex items-center space-x-3 p-3 rounded-lg hover:bg-primary/5 transition-colors"
                  >
                    <RadioGroupItem
                      value={key}
                      id={key}
                      className="border-primary"
                    />
                    <div className="flex items-center gap-2">
                      <Truck
                        className={`w-5 h-5 ${key === 'D' ? 'text-orange-500' : 'text-primary'}`}
                      />
                      <span className="font-medium">
                        {type.name} (hasta {type.maxWeight.toLocaleString()}kg)
                      </span>
                    </div>
                  </motion.div>
                ))}
              </RadioGroup>
            </FormControl>
          </FormItem>
        )}
      />
    </motion.div>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\form\UserInfoFields.tsx
import {
  FormField,
  FormItem,
  FormLabel,
  FormControl,
} from '@/components/ui/form'
import { Input } from '@/components/ui/input'
import { UseFormReturn } from 'react-hook-form'
import { FormData } from '@/types/form'

interface UserInfoFieldsProps {
  form: UseFormReturn<FormData>
}

export const UserInfoFields = ({ form }: UserInfoFieldsProps) => {
  return (
    <div className="space-y-6">
      <FormField
        control={form.control}
        name="userName"
        render={({ field }) => (
          <FormItem>
            <FormLabel>User Name</FormLabel>
            <FormControl>
              <Input {...field} placeholder="Enter your name" />
            </FormControl>
          </FormItem>
        )}
      />

      <FormField
        control={form.control}
        name="phone"
        render={({ field }) => (
          <FormItem>
            <FormLabel>Phone Number</FormLabel>
            <FormControl>
              <Input
                {...field}
                type="tel"
                placeholder="Enter your phone number"
              />
            </FormControl>
          </FormItem>
        )}
      />
    </div>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\form\VehicleBasicFields.tsx
import {
  FormField,
  FormItem,
  FormLabel,
  FormControl,
} from '@/components/ui/form'
import { Input } from '@/components/ui/input'
import { UseFormReturn } from 'react-hook-form'
import { FormData } from '@/types/form'
import { VehicleDetails } from './VehicleDetails'

interface VehicleBasicFieldsProps {
  form: UseFormReturn<FormData>
  onVehicleModelChange: (value: string) => void
}

export const VehicleBasicFields = ({
  form,
  onVehicleModelChange,
}: VehicleBasicFieldsProps) => {
  return (
    <div className="space-y-6">
      <VehicleDetails
        onBrandChange={(brand) => {
          form.setValue('vehicleMake', brand)
        }}
        onModelChange={(model) => {
          form.setValue('vehicleModel', model)
          onVehicleModelChange(model)
        }}
        onYearChange={(year) => {
          form.setValue('vehicleYear', year)
        }}
        onColorChange={(color) => {
          form.setValue('vehicleColor', color)
        }}
      />
    </div>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\form\VehicleDetails.tsx
import { UseFormReturn } from 'react-hook-form'
import { FormData } from '@/types/form'
import {
  FormField,
  FormItem,
  FormLabel,
  FormControl,
} from '@/components/ui/form'
import { Input } from '@/components/ui/input'

interface VehicleDetailsProps {
  onBrandChange: (brand: string) => void
  onModelChange: (model: string) => void
  onYearChange: (year: string) => void
  onColorChange: (color: string) => void
}

export const VehicleDetails = ({
  onBrandChange,
  onModelChange,
  onYearChange,
  onColorChange,
}: VehicleDetailsProps) => {
  return (
    <div className="space-y-4">
      <div className="grid grid-cols-1 sm:grid-cols-2 gap-4">
        <div>
          <label className="text-sm font-medium">Marca del Vehículo</label>
          <Input
            placeholder="Ej: Toyota"
            onChange={(e) => onBrandChange(e.target.value)}
            className="mt-1"
          />
        </div>
        <div>
          <label className="text-sm font-medium">Modelo</label>
          <Input
            placeholder="Ej: Corolla"
            onChange={(e) => onModelChange(e.target.value)}
            className="mt-1"
          />
        </div>
      </div>
      <div className="grid grid-cols-1 sm:grid-cols-2 gap-4">
        <div>
          <label className="text-sm font-medium">Año</label>
          <Input
            placeholder="Ej: 2020"
            onChange={(e) => onYearChange(e.target.value)}
            className="mt-1"
          />
        </div>
        <div>
          <label className="text-sm font-medium">Color</label>
          <Input
            placeholder="Ej: Rojo"
            onChange={(e) => onColorChange(e.target.value)}
            className="mt-1"
          />
        </div>
      </div>
    </div>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\form\VehicleFormActions.tsx
import { Button } from '@/components/ui/button'
import { CopyButton } from '@/components/ui/copy-button'
import { Download, CreditCard } from 'lucide-react'
import styles from './VehicleFormActions.module.css'

interface VehicleFormActionsProps {
  onDownload: (format: 'csv' | 'txt') => Promise<void>
  onCopy: () => void
  onSubmit: () => void
  isPending: boolean
  formData: string
}

export const VehicleFormActions = ({
  onDownload,
  onCopy,
  onSubmit,
  isPending,
  formData,
}: VehicleFormActionsProps) => {
  return (
    <div className={styles.container}>
      <Button
        type="button"
        variant="outline"
        onClick={() => onDownload('csv')}
        className={styles.csvButton}
      >
        <Download className={styles.icon} />
        CSV
      </Button>
      <Button
        type="button"
        variant="outline"
        onClick={() => onDownload('txt')}
        className={styles.txtButton}
      >
        <Download className={styles.icon} />
        TXT
      </Button>
      <CopyButton
        text={formData}
        onCopy={onCopy}
        className={styles.copyButton}
      />
      <Button
        type="submit"
        disabled={isPending}
        onClick={onSubmit}
        className={styles.submitButton}
      >
        {isPending ? (
          <span className={styles.loadingContainer}>
            <div className={styles.spinner} />
            Procesando...
          </span>
        ) : (
          <span className={styles.buttonContent}>
            <CreditCard className={styles.icon} />
            Continuar al Pago
          </span>
        )}
      </Button>
    </div>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\form\VehicleFormCopyButton.tsx
import { UseFormReturn } from 'react-hook-form'
import { FormData } from '@/types/form'
import { useState } from 'react'
import { useToast } from '@/hooks/use-toast'
import { useTowing } from '@/contexts/TowingContext'
import { EnhancedFormActions } from './EnhancedFormActions'

interface VehicleFormCopyButtonProps {
  form: UseFormReturn<FormData>
  pickupAddress?: string
  dropAddress?: string
  pickupLocation?: { lat: number; lng: number } | null
  dropLocation?: { lat: number; lng: number } | null
  isPending: boolean
}

export const VehicleFormCopyButton = ({
  form,
  pickupAddress,
  dropAddress,
  pickupLocation,
  dropLocation,
  isPending,
}: VehicleFormCopyButtonProps) => {
  const [isCopied, setIsCopied] = useState(false)
  const { toast } = useToast()
  const { tollInfo } = useTowing()

  const handleCopyInfo = () => {
    const formData = form.getValues()
    const info = `
📋 DETALLES DEL SERVICIO DE GRÚA
══════════════════════════════

👤 INFORMACIÓN DEL CLIENTE
------------------------
• Nombre: ${formData.userName}
• Teléfono: ${formData.phone}

🚗 DETALLES DEL VEHÍCULO
------------------------
• Marca: ${formData.vehicleMake}
• Modelo: ${formData.vehicleModel}
• Año: ${formData.vehicleYear}
• Color: ${formData.vehicleColor}

📍 UBICACIONES
------------------------
• Punto de Recogida: ${pickupAddress || 'No especificado'}
  Coordenadas: ${pickupLocation ? `${pickupLocation.lat}, ${pickupLocation.lng}` : 'No especificado'}

• Punto de Entrega: ${dropAddress || 'No especificado'}
  Coordenadas: ${dropLocation ? `${dropLocation.lat}, ${dropLocation.lng}` : 'No especificado'}

🔧 DETALLES DEL SERVICIO
------------------------
• Tipo de Grúa: ${formData.truckType}
• Descripción del Problema:
${formData.issueDescription || 'No especificado'}

💰 INFORMACIÓN DE COSTOS
------------------------
• Peajes en Ruta: ${tollInfo?.totalTollCost ? `$${tollInfo.totalTollCost}` : 'No hay peajes'}
• Cantidad de Peajes: ${tollInfo?.tolls?.length || 0}

Generado automáticamente - ${new Date().toLocaleString()}
    `

    navigator.clipboard.writeText(info).then(() => {
      setIsCopied(true)
      toast({
        title: 'Información Copiada',
        description:
          'Los detalles del servicio han sido copiados al portapapeles',
      })
      setTimeout(() => setIsCopied(false), 2000)
    })
  }

  return (
    <EnhancedFormActions
      onCopy={handleCopyInfo}
      isCopied={isCopied}
      isPending={isPending}
    />
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\form\VehicleFormFields.tsx
import { UseFormReturn } from 'react-hook-form'
import { FormData } from '@/types/form'
import { VehicleDetails } from './VehicleDetails'
import { Location } from '@/types/location'

interface VehicleFormFieldsProps {
  form: UseFormReturn<FormData>
  pickupLocation: Location | null
  dropLocation: Location | null
  pickupAddress: string
  dropAddress: string
  onPickupSelect: (location: Location) => void
  onDropSelect: (location: Location) => void
  onSelectingPickup: () => void
  onSelectingDrop: () => void
}

export const VehicleFormFields = ({
  form,
  pickupLocation,
  dropLocation,
  pickupAddress,
  dropAddress,
  onPickupSelect,
  onDropSelect,
  onSelectingPickup,
  onSelectingDrop,
}: VehicleFormFieldsProps) => {
  return (
    <div className="space-y-6">
      <VehicleDetails
        onBrandChange={(brand) => {
          form.setValue('vehicleMake', brand)
        }}
        onModelChange={(model) => {
          form.setValue('vehicleModel', model)
        }}
        onYearChange={(year) => {
          form.setValue('vehicleYear', year)
        }}
        onColorChange={(color) => {
          form.setValue('vehicleColor', color)
        }}
      />
    </div>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\form\VehicleFormHeader.tsx
import { motion } from 'framer-motion'

export const VehicleFormHeader = () => {
  return (
    <motion.div
      className="mb-6"
      initial={{ opacity: 0, y: -20 }}
      animate={{ opacity: 1, y: 0 }}
      transition={{ duration: 0.5 }}
    >
      <h2 className="text-2xl font-semibold text-gray-800 mb-2">
        Información del Servicio
      </h2>
      <p className="text-gray-600">
        Complete los detalles del vehículo y servicio requerido
      </p>
    </motion.div>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\form\VehicleSelector.tsx
import {
  FormField,
  FormItem,
  FormLabel,
  FormControl,
} from '@/components/ui/form'
import {
  Select,
  SelectContent,
  SelectItem,
  SelectTrigger,
  SelectValue,
} from '@/components/ui/select'
import { Car } from 'lucide-react'
import { UseFormReturn } from 'react-hook-form'
import { FormData } from '@/types/form'
import { motion } from 'framer-motion'

export interface VehicleSelectorProps {
  form: UseFormReturn<FormData>
  onVehicleModelChange: (value: string) => void
}

export const VehicleSelector = ({
  form,
  onVehicleModelChange,
}: VehicleSelectorProps) => {
  const vehicles = [
    { value: 'sedan', label: 'Sedán' },
    { value: 'suv', label: 'SUV' },
    { value: 'pickup', label: 'Pickup' },
    { value: 'van', label: 'Van' },
    { value: 'truck', label: 'Camión' },
  ]

  return (
    <motion.div
      initial={{ opacity: 0, y: 10 }}
      animate={{ opacity: 1, y: 0 }}
      transition={{ duration: 0.3 }}
      className="space-y-4"
    >
      <FormField
        control={form.control}
        name="vehicleModel"
        render={({ field }) => (
          <FormItem>
            <FormLabel className="text-lg font-semibold flex items-center gap-2">
              <Car className="w-5 h-5 text-primary" />
              Tipo de Vehículo
            </FormLabel>
            <FormControl>
              <Select
                onValueChange={(value) => {
                  field.onChange(value)
                  onVehicleModelChange(value)
                }}
                defaultValue={field.value}
              >
                <SelectTrigger className="w-full">
                  <SelectValue placeholder="Selecciona el tipo de vehículo" />
                </SelectTrigger>
                <SelectContent>
                  {vehicles.map((vehicle) => (
                    <SelectItem key={vehicle.value} value={vehicle.value}>
                      {vehicle.label}
                    </SelectItem>
                  ))}
                </SelectContent>
              </Select>
            </FormControl>
          </FormItem>
        )}
      />
    </motion.div>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\form\location-search\index.ts
export { LocationSearchContainer as LocationSearch } from './LocationSearchContainer'
export { LocationSearchInput } from './LocationSearchInput'
export { InvoiceCheckbox } from './InvoiceCheckbox'
export { LocationSuggestions } from './LocationSuggestions'


// C:\Users\israe\Documents\GitHub\recentmap\src\components\form\location-search\InvoiceCheckbox.tsx
interface InvoiceCheckboxProps {
  type: 'pickup' | 'drop'
  requiresInvoice: boolean
  onInvoiceChange: (checked: boolean) => void
}

export const InvoiceCheckbox = ({
  type,
  requiresInvoice,
  onInvoiceChange,
}: InvoiceCheckboxProps) => {
  return (
    <div className="flex items-center gap-2 mt-2">
      <input
        type="checkbox"
        id={`requires-invoice-${type}`}
        checked={requiresInvoice}
        onChange={(e) => onInvoiceChange(e.target.checked)}
        className="rounded border-gray-300 text-primary focus:ring-primary"
      />
      <label
        htmlFor={`requires-invoice-${type}`}
        className="text-sm text-gray-600"
      >
        Requiere factura (IVA)
      </label>
    </div>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\form\location-search\LocationSearch.tsx
import { LocationSearchContainer } from './LocationSearchContainer'
import { LocationSearchProps } from '@/types/location-search'

export const LocationSearch = (props: LocationSearchProps) => {
  return <LocationSearchContainer {...props} />
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\form\location-search\LocationSearchContainer.tsx
import { useState, useCallback } from 'react'
import { LocationSearchInput } from './LocationSearchInput'
import { LocationSuggestions } from './LocationSuggestions'
import { InvoiceCheckbox } from './InvoiceCheckbox'
import { LocationSearchProps, Suggestion } from '@/types/location-search'
import { searchAddresses } from '@/services/geocodingService'
import { calculateDistance } from '@/utils/distanceUtils'
import { COMPANY_LOCATION } from '@/utils/priceCalculator'
import { useToast } from '@/hooks/use-toast'
import { cn } from '@/lib/utils'
import debounce from 'lodash/debounce'
import { motion, AnimatePresence } from 'framer-motion'

export const LocationSearchContainer = ({
  onLocationSelect,
  onSelectingLocation,
  currentAddress,
  currentLocation,
  placeholder,
  type = 'pickup',
  className = '',
  icon,
  requiresInvoice = false,
  onInvoiceChange,
}: LocationSearchProps) => {
  const [searchQuery, setSearchQuery] = useState(currentAddress || '')
  const [suggestions, setSuggestions] = useState<Suggestion[]>([])
  const [isSearching, setIsSearching] = useState(false)
  const [error, setError] = useState<string | null>(null)
  const [isMarking, setIsMarking] = useState(false)
  const { toast } = useToast()

  const handleSearch = useCallback(
    debounce(async (query: string) => {
      if (!query.trim()) {
        setSuggestions([])
        return
      }

      setIsSearching(true)
      setError(null)

      try {
        console.log('Searching for:', query)
        const results = await searchAddresses(query, {
          proximity: {
            lat: currentLocation?.lat || COMPANY_LOCATION.lat,
            lng: currentLocation?.lng || COMPANY_LOCATION.lng,
          },
        })

        console.log('Search results:', results)

        const resultsWithDistance = results
          .map((result) => ({
            address: result.display_name,
            lat: parseFloat(result.lat),
            lon: parseFloat(result.lon),
            distance: calculateDistance(
              { lat: COMPANY_LOCATION.lat, lng: COMPANY_LOCATION.lng },
              { lat: parseFloat(result.lat), lng: parseFloat(result.lon) }
            ),
          }))
          .sort((a, b) => a.distance - b.distance)

        setSuggestions(resultsWithDistance)
      } catch (err) {
        console.error('Search error:', err)
        setError('Error al buscar ubicaciones')
        toast({
          title: 'Error de búsqueda',
          description: 'No se pudieron obtener las ubicaciones',
          variant: 'destructive',
        })
      } finally {
        setIsSearching(false)
      }
    }, 500),
    [currentLocation, toast]
  )

  const handleSuggestionSelect = async (suggestion: Suggestion) => {
    setIsMarking(true)
    try {
      setSearchQuery(suggestion.address)
      setSuggestions([])
      onLocationSelect({
        lat: suggestion.lat,
        lng: suggestion.lon,
        address: suggestion.address,
      })
      toast({
        title: `Ubicación ${type === 'pickup' ? 'de recogida' : 'de entrega'} seleccionada`,
        description: suggestion.address,
        className: type === 'pickup' ? 'bg-green-50 border-green-200' : 'bg-blue-50 border-blue-200',
      })
    } catch (error) {
      console.error('Error selecting location:', error)
      toast({
        title: 'Error',
        description: 'No se pudo seleccionar la ubicación',
        variant: 'destructive',
      })
    } finally {
      setIsMarking(false)
    }
  }

  return (
    <motion.div
      initial={{ opacity: 0, y: -10 }}
      animate={{ opacity: 1, y: 0 }}
      className={cn("space-y-2", className)}
    >
      <div className="flex gap-2">
        <div className="relative flex-1">
          <LocationSearchInput
            value={searchQuery}
            onChange={setSearchQuery}
            onFocus={() => onSelectingLocation?.()}
            placeholder={placeholder}
            icon={icon}
          />
        </div>
      </div>

      <AnimatePresence>
        <LocationSuggestions
          suggestions={suggestions}
          error={error}
          isMarking={isMarking}
          onSuggestionSelect={handleSuggestionSelect}
        />
      </AnimatePresence>

      {onInvoiceChange && (
        <InvoiceCheckbox
          type={type}
          requiresInvoice={requiresInvoice}
          onInvoiceChange={onInvoiceChange}
        />
      )}
    </motion.div>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\form\location-search\LocationSearchInput.tsx
import { cn } from '@/lib/utils'
import { motion } from 'framer-motion'
import { ReactNode } from 'react'

export interface LocationSearchInputProps {
  value: string
  onChange: (value: string) => void
  onFocus?: () => void
  placeholder?: string
  className?: string
  icon?: ReactNode
}

export const LocationSearchInput = ({
  value,
  onChange,
  onFocus,
  placeholder = 'Buscar ubicación...',
  className,
  icon,
}: LocationSearchInputProps) => {
  return (
    <div className={cn("relative", className)}>
      <input
        type="text"
        value={value}
        onChange={(e) => onChange(e.target.value)}
        onFocus={onFocus}
        placeholder={placeholder}
        className={cn(
          "w-full p-2 pl-8 border rounded-md",
          "border-gray-300 focus:border-primary focus:ring-1 focus:ring-primary",
          "bg-white/80 backdrop-blur-sm"
        )}
      />
      {icon && (
        <div className="absolute left-2 top-1/2 transform -translate-y-1/2">
          {icon}
        </div>
      )}
    </div>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\form\location-search\LocationSuggestions.tsx
import { motion, AnimatePresence } from 'framer-motion'
import { MapPin, Target, Loader2 } from 'lucide-react'
import { Alert, AlertDescription } from '@/components/ui/alert'
import { AlertCircle } from 'lucide-react'

interface Suggestion {
  address: string
  lat: number
  lon: number
  distance: number
}

export interface LocationSuggestionsProps {
  suggestions: Suggestion[]
  error: string | null
  isMarking: boolean
  onSuggestionSelect: (suggestion: Suggestion) => void
}

export const LocationSuggestions = ({
  suggestions,
  error,
  isMarking,
  onSuggestionSelect,
}: LocationSuggestionsProps) => {
  return (
    <AnimatePresence>
      {error && (
        <motion.div
          initial={{ opacity: 0, y: -10 }}
          animate={{ opacity: 1, y: 0 }}
          exit={{ opacity: 0, y: -10 }}
          className="mt-2"
        >
          <Alert variant="destructive">
            <AlertCircle className="h-4 w-4" />
            <AlertDescription>{error}</AlertDescription>
          </Alert>
        </motion.div>
      )}

      {suggestions.length > 0 && (
        <motion.div
          initial={{ opacity: 0, y: -10 }}
          animate={{ opacity: 1, y: 0 }}
          exit={{ opacity: 0, y: -10 }}
          className="absolute z-50 w-full mt-1 max-h-60 overflow-auto bg-white/95 backdrop-blur-sm 
                    border border-gray-200 rounded-md shadow-lg divide-y divide-gray-100"
        >
          {suggestions.map((suggestion, index) => (
            <motion.button
              key={index}
              initial={{ opacity: 0, x: -10 }}
              animate={{ opacity: 1, x: 0 }}
              transition={{ delay: index * 0.05 }}
              className="w-full px-4 py-3 text-left hover:bg-primary/5 flex items-center gap-3 
                       transition-colors group relative"
              onClick={() => onSuggestionSelect(suggestion)}
              disabled={isMarking}
            >
              {isMarking ? (
                <Target className="h-4 w-4 text-primary animate-pulse flex-shrink-0" />
              ) : (
                <MapPin className="h-4 w-4 text-primary/70 group-hover:text-primary flex-shrink-0" />
              )}
              <div className="flex flex-col flex-1">
                <span className="text-sm text-gray-700 group-hover:text-gray-900 line-clamp-2">
                  {suggestion.address}
                </span>
                <span className="text-xs text-gray-500">
                  {suggestion.distance.toFixed(1)}km de Nuevo León
                </span>
              </div>
              {isMarking && (
                <motion.div
                  initial={{ scale: 0 }}
                  animate={{ scale: 1 }}
                  className="absolute inset-0 bg-primary/5 flex items-center justify-center"
                >
                  <Loader2 className="h-6 w-6 animate-spin text-primary" />
                </motion.div>
              )}
            </motion.button>
          ))}
        </motion.div>
      )}
    </AnimatePresence>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\index\LoadingSpinner.tsx
import { motion } from 'framer-motion'
import { Loader2 } from 'lucide-react'
import { Carousel, CarouselContent, CarouselItem, CarouselNext, CarouselPrevious } from '@/components/ui/carousel'
import { Separator } from '@/components/ui/separator'

const FEATURED_IMAGES = [
  {
    src: '/lovable-uploads/5bd1e0d3-a4e1-4275-9763-92ebb0a5b36c.png',
    alt: 'Mr Gruas Logo with Truck',
    title: 'Servicio Profesional de Grúas',
  },
  {
    src: '/lovable-uploads/241d8ca8-32ad-4b10-a3dd-d10b6ac33567.png',
    alt: 'Mr Gruas Mountain Logo',
    title: 'Cobertura Regional',
  },
  {
    src: '/lovable-uploads/3455912e-e855-4b8b-ade4-bed07e1c437b.png',
    alt: 'Mr Gruas Highway',
    title: 'Servicio en Carretera 24/7',
  },
]

export const LoadingSpinner = () => (
  <motion.div
    initial={{ opacity: 0, scale: 0.95 }}
    animate={{ opacity: 1, scale: 1 }}
    transition={{ duration: 0.3 }}
    className="flex flex-col items-center justify-center min-h-[100dvh] bg-gradient-to-br from-blue-100/80 via-blue-50/80 to-white/80 dark:from-blue-950/80 dark:via-blue-900/80 dark:to-gray-900/80 px-4 sm:px-6 py-safe"
  >
    <div className="relative w-full max-w-lg mx-auto">
      <div className="absolute inset-0 bg-gradient-to-r from-blue-500/10 via-purple-500/10 to-pink-500/10 blur-3xl" />
      <div className="glass-card p-4 sm:p-8 rounded-xl shadow-lg border border-blue-200/30 bg-white/80 dark:bg-gray-900/80 backdrop-blur-lg text-center relative overflow-hidden">
        <div className="absolute inset-0 bg-gradient-to-r from-blue-400/10 via-blue-500/5 to-blue-400/10 animate-shimmer" />
        <div className="relative mb-6 sm:mb-8">
          <Carousel 
            className="w-full max-w-xs mx-auto touch-pan-y"
            opts={{
              align: "start",
              loop: true,
            }}
          >
            <CarouselContent>
              {FEATURED_IMAGES.map((image, index) => (
                <CarouselItem key={index}>
                  <motion.div
                    initial={{ opacity: 0 }}
                    animate={{ opacity: 1 }}
                    transition={{ delay: index * 0.2 }}
                    className="relative aspect-video overflow-hidden rounded-lg shadow-blue-200/50 dark:shadow-blue-500/20 shadow-lg group"
                  >
                    <img
                      src={image.src}
                      alt={image.alt}
                      className="object-contain w-full h-full transform transition-transform duration-300 group-hover:scale-105"
                      loading="lazy"
                    />
                    <div className="absolute inset-0 bg-gradient-to-t from-blue-900/60 to-transparent">
                      <p className="absolute bottom-2 sm:bottom-4 left-2 sm:left-4 text-white text-sm sm:text-base font-semibold text-shadow">
                        {image.title}
                      </p>
                    </div>
                  </motion.div>
                </CarouselItem>
              ))}
            </CarouselContent>
            <CarouselPrevious className="hidden sm:flex -left-4 border-blue-200 hover:bg-blue-50 dark:border-blue-700 dark:hover:bg-blue-900/50" />
            <CarouselNext className="hidden sm:flex -right-4 border-blue-200 hover:bg-blue-50 dark:border-blue-700 dark:hover:bg-blue-900/50" />
          </Carousel>
        </div>
        <div className="relative">
          <div className="absolute inset-0 bg-blue-500/20 dark:bg-blue-400/10 blur-xl rounded-full" />
          <Loader2 className="h-8 w-8 sm:h-12 sm:w-12 animate-spin text-blue-600 dark:text-blue-400 relative z-10 mx-auto" />
        </div>
        <Separator className="my-4 sm:my-6 bg-blue-200/30 dark:bg-blue-700/30" />
        <motion.h2
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ delay: 0.2 }}
          className="text-xl sm:text-2xl md:text-3xl font-bold mb-2 bg-gradient-to-r from-blue-600 via-blue-500 to-blue-600 bg-clip-text text-transparent font-heading"
        >
          Cargando las rutas
        </motion.h2>
        <motion.p
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ delay: 0.3 }}
          className="mt-2 sm:mt-4 text-sm sm:text-base md:text-lg font-medium bg-gradient-to-r from-blue-500 via-blue-400 to-blue-500 bg-clip-text text-transparent animate-pulse"
        >
          Preparando el mapa...
        </motion.p>
        <Separator className="my-3 sm:my-4 bg-blue-200/30 dark:bg-blue-700/30" />
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ delay: 0.4 }}
          className="mt-2 text-xs sm:text-sm text-blue-600/70 dark:text-blue-400/70 text-center leading-relaxed"
        >
          Por favor espera mientras preparamos tu mapa interactivo
          <span className="block mt-1 text-xs text-blue-500 hover:text-blue-600 dark:text-blue-400 dark:hover:text-blue-300 transition-colors">
            Esto tomará un momento...
          </span>
        </motion.div>
      </div>
    </div>
  </motion.div>
)


// C:\Users\israe\Documents\GitHub\recentmap\src\components\index\NavigationBar.tsx
import { useState } from 'react'
import { NavigationMenu, NavigationMenuContent, NavigationMenuItem, NavigationMenuLink, NavigationMenuList, NavigationMenuTrigger } from '@/components/ui/navigation-menu'
import { Input } from '@/components/ui/input'
import { Button } from '@/components/ui/button'
import { Phone, Shield, User, Search } from 'lucide-react'
import { useNavigate } from 'react-router-dom'
import { useToast } from '@/components/ui/use-toast'

export const NavigationBar = () => {
  const navigate = useNavigate()
  const { toast } = useToast()
  const [isAdmin, setIsAdmin] = useState(false)

  const handleAdminAccess = () => {
    setIsAdmin(true)
    toast({
      title: 'Modo Administrador Activado',
      description: 'Has accedido como administrador (modo prueba)',
    })
    navigate('/admin')
  }

  const handleUserAccess = () => {
    navigate('/user')
  }

  return (
    <div className="relative z-20 w-full bg-white/80 backdrop-blur-sm shadow-sm">
      <div className="container mx-auto px-4 py-3">
        <div className="flex items-center justify-between">
          <NavigationMenu>
            <NavigationMenuList>
              <NavigationMenuItem>
                <NavigationMenuTrigger>Navegación</NavigationMenuTrigger>
                <NavigationMenuContent>
                  <div className="grid gap-3 p-6 w-[400px]">
                    <NavigationMenuLink
                      className="block select-none space-y-1 rounded-md p-3 leading-none no-underline outline-none transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground"
                      onClick={() => navigate('/')}
                    >
                      <div className="text-sm font-medium leading-none">Inicio</div>
                      <p className="line-clamp-2 text-sm leading-snug text-muted-foreground">
                        Volver a la página principal
                      </p>
                    </NavigationMenuLink>
                  </div>
                </NavigationMenuContent>
              </NavigationMenuItem>
            </NavigationMenuList>
          </NavigationMenu>

          <div className="flex items-center space-x-4">
            <div className="relative">
              <Search className="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4" />
              <Input
                type="text"
                placeholder="Buscar..."
                className="pl-10 w-[200px]"
              />
            </div>
            
            <Button
              variant="outline"
              size="sm"
              onClick={handleUserAccess}
              className="flex items-center space-x-2"
            >
              <User className="h-4 w-4" />
              <span>Usuario</span>
            </Button>

            <Button
              variant="outline"
              size="sm"
              onClick={handleAdminAccess}
              className="flex items-center space-x-2"
            >
              <Shield className="h-4 w-4" />
              <span>Admin</span>
            </Button>
          </div>
        </div>
      </div>
    </div>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\landing\ContactSection.tsx
import React from 'react'
import { Mail, MapPin, Phone } from 'lucide-react'
import { motion } from 'framer-motion'
import { Card } from '@/components/ui/card'

export const ContactSection = () => {
  return (
    <section id="contact" className="py-20 px-4 bg-gradient-to-br from-primary/5 to-secondary/5 backdrop-blur-sm">
      <motion.div
        initial={{ opacity: 0, y: 20 }}
        whileInView={{ opacity: 1, y: 0 }}
        viewport={{ once: true }}
        className="container mx-auto max-w-6xl"
      >
        <div className="text-center mb-16">
          <motion.h2
            initial={{ opacity: 0, y: 20 }}
            whileInView={{ opacity: 1, y: 0 }}
            viewport={{ once: true }}
            className="text-4xl font-bold font-heading text-gradient-shine drop-shadow-xl mb-4"
          >
            Contáctanos
          </motion.h2>
          <motion.p
            initial={{ opacity: 0, y: 20 }}
            whileInView={{ opacity: 1, y: 0 }}
            viewport={{ once: true }}
            transition={{ delay: 0.2 }}
            className="text-lg text-gradient-shine drop-shadow-lg font-semibold max-w-2xl mx-auto"
          >
            Estamos aquí para ayudarte. Contáctanos por cualquiera de estos medios
          </motion.p>
        </div>

        <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
          <motion.div
            whileHover={{ scale: 1.02 }}
            className="flex flex-col items-center"
          >
            <Card className="w-full p-8 text-center hover:shadow-xl transition-all duration-300 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm">
              <div className="rounded-full bg-primary/10 p-4 mx-auto mb-6 w-16 h-16 flex items-center justify-center">
                <MapPin className="w-8 h-8 text-primary" />
              </div>
              <h3 className="text-xl font-semibold mb-4">Dirección</h3>
              <a
                href="https://goo.gl/maps/Bm2taxCFni9G7ZjD6"
                target="_blank"
                rel="noreferrer"
                className="text-gray-600 dark:text-gray-300 hover:text-primary transition-colors"
              >
                México 85D, Autopista Monterrey - Nuevo Laredo
                <br />
                Agualeguas Km 6+100 #200 Ebano, 65336 Sabinas Hidalgo, N.L.
              </a>
            </Card>
          </motion.div>

          <motion.div
            whileHover={{ scale: 1.02 }}
            className="flex flex-col items-center"
          >
            <Card className="w-full p-8 text-center hover:shadow-xl transition-all duration-300 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm">
              <div className="rounded-full bg-primary/10 p-4 mx-auto mb-6 w-16 h-16 flex items-center justify-center">
                <Phone className="w-8 h-8 text-primary" />
              </div>
              <h3 className="text-xl font-semibold mb-4">Teléfono</h3>
              <a
                href="tel:+5218180107110"
                className="text-gray-600 dark:text-gray-300 hover:text-primary transition-colors"
              >
                +52 1 81 8010 7110
              </a>
            </Card>
          </motion.div>

          <motion.div
            whileHover={{ scale: 1.02 }}
            className="flex flex-col items-center"
          >
            <Card className="w-full p-8 text-center hover:shadow-xl transition-all duration-300 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm">
              <div className="rounded-full bg-primary/10 p-4 mx-auto mb-6 w-16 h-16 flex items-center justify-center">
                <Mail className="w-8 h-8 text-primary" />
              </div>
              <h3 className="text-xl font-semibold mb-4">Email</h3>
              <a
                href="mailto:gruasmartinezreyes@hotmail.com"
                className="text-gray-600 dark:text-gray-300 hover:text-primary transition-colors break-words"
              >
                gruasmartinezreyes@hotmail.com
              </a>
            </Card>
          </motion.div>
        </div>
      </motion.div>
    </section>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\landing\Footer.tsx
import React from 'react'
import { Mail, MapPin, Phone } from 'lucide-react'
import { motion } from 'framer-motion'

export const Footer = () => {
  return (
    <footer className="bg-[#1A1F2C] text-white py-16">
      <div className="container mx-auto px-4">
        <div className="grid grid-cols-1 md:grid-cols-3 gap-12">
          <motion.div
            initial={{ opacity: 0, y: 20 }}
            whileInView={{ opacity: 1, y: 0 }}
            viewport={{ once: true }}
            className="space-y-4"
          >
            <h3 className="text-2xl font-bold text-[#0EA5E9]">M.R. Grúas</h3>
            <p className="text-gray-300 leading-relaxed">
              Servicio profesional de grúas y asistencia vial disponible, Su seguridad y
              satisfacción son nuestra prioridad.
            </p>
          </motion.div>

          <motion.div
            initial={{ opacity: 0, y: 20 }}
            whileInView={{ opacity: 1, y: 0 }}
            viewport={{ once: true }}
            transition={{ delay: 0.2 }}
            className="space-y-4"
          >
            <h3 className="text-2xl font-bold text-[#0EA5E9]">Contacto</h3>
            <div className="space-y-3">
              <div className="flex items-start space-x-3">
                <MapPin className="w-5 h-5 text-[#0EA5E9] mt-1" />
                <p className="text-gray-300">
                  México 85D, Autopista Monterrey - Nuevo Laredo
                  <br />
                  Sabinas Hidalgo, N.L., México
                </p>
              </div>
              <div className="flex items-center space-x-3">
                <Phone className="w-5 h-5 text-[#0EA5E9]" />
                <a
                  href="tel:+5218180107110"
                  className="text-gray-300 hover:text-white transition-colors"
                >
                  +52 1 81 8010 7110
                </a>
              </div>
              <div className="flex items-center space-x-3">
                <Mail className="w-5 h-5 text-[#0EA5E9]" />
                <a
                  href="mailto:gruasmartinezreyes@hotmail.com"
                  className="text-gray-300 hover:text-white transition-colors break-all"
                >
                  gruasmartinezreyes@hotmail.com
                </a>
              </div>
            </div>
          </motion.div>

          <motion.div
            initial={{ opacity: 0, y: 20 }}
            whileInView={{ opacity: 1, y: 0 }}
            viewport={{ once: true }}
            transition={{ delay: 0.4 }}
            className="space-y-4"
          >
            <h3 className="text-2xl font-bold text-[#0EA5E9]">Síguenos</h3>
            <div className="flex flex-wrap gap-4">
              <a
                href="#"
                className="px-4 py-2 bg-gray-800 rounded-full text-gray-300 hover:text-white hover:bg-gray-700 transition-all duration-300"
              >
                Facebook
              </a>
              <a
                href="#"
                className="px-4 py-2 bg-gray-800 rounded-full text-gray-300 hover:text-white hover:bg-gray-700 transition-all duration-300"
              >
                Twitter
              </a>
              <a
                href="#"
                className="px-4 py-2 bg-gray-800 rounded-full text-gray-300 hover:text-white hover:bg-gray-700 transition-all duration-300"
              >
                Instagram
              </a>
            </div>
          </motion.div>
        </div>

        <motion.div
          initial={{ opacity: 0 }}
          whileInView={{ opacity: 1 }}
          viewport={{ once: true }}
          transition={{ delay: 0.6 }}
          className="mt-12 pt-8 border-t border-gray-700 text-center"
        >
          <p className="text-gray-400">
            © {new Date().getFullYear()} I.M.R. Grúas. Todos los derechos
            reservados.
          </p>
        </motion.div>
      </div>
    </footer>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\landing\FooterSection.tsx
import { motion } from 'framer-motion'
import { Mail, MapPin, Phone } from 'lucide-react'

export const FooterSection = () => {
  return (
    <footer className="bg-gradient-to-br from-gray-900 to-gray-800 text-white py-16">
      <div className="container mx-auto px-4">
        <div className="grid grid-cols-1 md:grid-cols-3 gap-12">
          <CompanyInfo />
          <ContactInfo />
          <SocialLinks />
        </div>
        <Copyright />
      </div>
    </footer>
  )
}

const CompanyInfo = () => (
  <motion.div
    initial={{ opacity: 0, y: 20 }}
    whileInView={{ opacity: 1, y: 0 }}
    viewport={{ once: true }}
    className="space-y-4"
  >
    <h3 className="text-2xl font-bold text-gradient-shine">M.R. Grúas</h3>
    <p className="text-gray-300 leading-relaxed">
      Servicio profesional de grúas y asistencia vial. Su seguridad y satisfacción son nuestra
      prioridad.
    </p>
  </motion.div>
)

const ContactInfo = () => (
  <motion.div
    initial={{ opacity: 0, y: 20 }}
    whileInView={{ opacity: 1, y: 0 }}
    viewport={{ once: true }}
    transition={{ delay: 0.2 }}
    className="space-y-4"
  >
    <h3 className="text-2xl font-bold text-gradient-shine">Contacto</h3>
    <div className="space-y-3">
      <div className="flex items-start space-x-3">
        <MapPin className="w-5 h-5 text-primary mt-1" />
        <p className="text-gray-300">
          México 85D, Autopista Monterrey - Nuevo Laredo
          <br />
          Agualeguas Km 6+100 #200 Ebano, 65336 Sabinas Hidalgo, N.L., México
        </p>
      </div>
      <div className="flex items-center space-x-3">
        <Phone className="w-5 h-5 text-primary" />
        <a
          href="tel:+5218180107110"
          className="text-gray-300 hover:text-white transition-colors"
        >
          +52 1 81 8010 7110
        </a>
      </div>
      <div className="flex items-center space-x-3">
        <Mail className="w-5 h-5 text-primary" />
        <a
          href="mailto:gruasmartinezreyes@hotmail.com"
          className="text-gray-300 hover:text-white transition-colors break-all"
        >
          gruasmartinezreyes@hotmail.com
        </a>
      </div>
    </div>
  </motion.div>
)

const SocialLinks = () => (
  <motion.div
    initial={{ opacity: 0, y: 20 }}
    whileInView={{ opacity: 1, y: 0 }}
    viewport={{ once: true }}
    transition={{ delay: 0.4 }}
    className="space-y-4"
  >
    <h3 className="text-2xl font-bold text-gradient-shine">Síguenos</h3>
    <div className="flex flex-wrap gap-4">
      {['Facebook', 'Twitter', 'Instagram'].map((platform) => (
        <a
          key={platform}
          href="#"
          className="px-4 py-2 bg-gray-800 rounded-full text-gray-300 hover:text-white hover:bg-gray-700 transition-all duration-300"
        >
          {platform}
        </a>
      ))}
    </div>
  </motion.div>
)

const Copyright = () => (
  <motion.div
    initial={{ opacity: 0 }}
    whileInView={{ opacity: 1 }}
    viewport={{ once: true }}
    transition={{ delay: 0.6 }}
    className="mt-12 pt-8 border-t border-gray-700 text-center"
  >
    <p className="text-gray-400">
      © {new Date().getFullYear()} I.M.R. Grúas. Todos los derechos reservados.
    </p>
  </motion.div>
)


// C:\Users\israe\Documents\GitHub\recentmap\src\components\landing\Header.tsx
import React from 'react'
import { Navigation } from './Navigation'
import { Button } from '../ui/button'
import { Phone, MapIcon } from 'lucide-react'
import { useNavigate } from 'react-router-dom'

export const Header = (): JSX.Element => {
  const navigate = useNavigate()

  return (
    <header className="fixed top-0 w-full bg-white/80 backdrop-blur-sm dark:bg-gray-900/80 border-b border-gray-200 dark:border-gray-800 z-50 transition-all duration-300">
      <div className="container mx-auto px-4 py-3 flex items-center justify-between">
        <div className="flex-shrink-0">
          <h1 className="text-2xl md:text-3xl font-heading font-bold bg-gradient-to-r from-primary via-secondary to-primary bg-clip-text text-transparent">
            <a href="#intro" className="hover:opacity-80 transition-opacity">
              M.R. Grúas
            </a>
          </h1>
        </div>

        <Navigation />

        <div className="hidden md:flex items-center gap-3">
          <Button
            variant="outline"
            size="sm"
            onClick={() => navigate('/map')}
            className="group"
          >
            <MapIcon className="mr-2 h-4 w-4 group-hover:rotate-12 transition-transform" />
            Solicitar Servicio
          </Button>

          <Button
            variant="default"
            size="sm"
            className="animate-pulse hover:animate-none group"
            onClick={() => (window.location.href = 'tel:+5218180107110')}
          >
            <Phone className="mr-2 h-4 w-4 group-hover:rotate-12 transition-transform" />
            Llámanos
          </Button>
        </div>
      </div>
    </header>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\landing\Hero.tsx
import { motion } from 'framer-motion'
import { MapIcon, Phone, Star } from 'lucide-react'
import { Button } from '../ui/button'
import { useNavigate } from 'react-router-dom'

export const Hero = () => {
  const navigate = useNavigate()

  return (
    <section className="relative min-h-[90vh] flex items-center justify-center overflow-hidden py-20 lg:py-32 bg-gradient-to-br from-gray-50 via-gray-100 to-gray-200 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900">
      {/* Background Image */}
      <div className="absolute inset-0 z-0">
        <motion.img
          initial={{ scale: 1.1, opacity: 0 }}
          animate={{ scale: 1, opacity: 0.4 }}
          transition={{ duration: 0.7 }}
          src="/lovable-uploads/bceb9702-dedb-4578-a695-1a2e4089f56f.png"
          alt="Mr Gruas Logo"
          className="w-full h-full object-cover object-center"
        />
        <div className="absolute inset-0 bg-gradient-to-b from-gray-50/80 via-gray-100/50 to-gray-50/95 dark:from-gray-900/90 dark:via-gray-800/70 dark:to-gray-900/90"></div>
      </div>

      {/* Content */}
      <div className="relative z-10 container mx-auto px-4">
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ delay: 0.2 }}
          className="max-w-4xl mx-auto text-center space-y-8"
        >
          {/* Heading */}
          <motion.h1
            className="text-4xl sm:text-5xl md:text-7xl font-bold font-heading tracking-tight"
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ delay: 0.3 }}
          >
            <span className="bg-clip-text text-transparent bg-gradient-to-r from-blue-600 via-gray-600 to-blue-500 animate-gradient-text">
              Servicio de Grúas Profesional
            </span>
          </motion.h1>

          {/* Subheading */}
          <motion.p
            className="text-lg sm:text-xl md:text-2xl text-gray-700 dark:text-gray-300 font-medium"
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ delay: 0.4 }}
          >
            Asistencia vehicular / Rescate de vehículos / Transporte de vehículos / Grúa
          </motion.p>

          {/* Buttons */}
          <motion.div
            className="flex flex-col sm:flex-row gap-4 justify-center items-center"
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ delay: 0.5 }}
          >
            <Button
              size="lg"
              className="bg-blue-600 hover:bg-blue-500 text-white shadow-lg hover:shadow-xl transition-all duration-300 group min-w-[200px]"
              onClick={() => navigate('/map')}
            >
              <MapIcon className="mr-2 h-5 w-5 group-hover:rotate-12 transition-transform" />
              Solicitar Servicio
            </Button>
            <Button
              size="lg"
              variant="outline"
              className="border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white shadow-lg hover:shadow-xl transition-all duration-300 group min-w-[200px]"
              onClick={() => window.location.href = 'tel:+5218180107110'}
            >
              <Phone className="mr-2 h-5 w-5 group-hover:rotate-12 transition-transform" />
              Llamar Ahora
            </Button>
          </motion.div>

          {/* Features */}
          <motion.div
            className="flex flex-wrap justify-center items-center gap-4 sm:gap-8 pt-8"
            initial={{ opacity: 0 }}
            animate={{ opacity: 1 }}
            transition={{ delay: 0.6 }}
          >
            {[
              'Servicio 24/7',
              'Cobertura Regional',
              'Atención Inmediata',
            ].map((feature, index) => (
              <div
                key={feature}
                className="flex items-center gap-2 text-sm md:text-base font-medium text-gray-700 dark:text-gray-300"
              >
                <Star className="h-4 w-4 text-blue-600" />
                <span>{feature}</span>
              </div>
            ))}
          </motion.div>
        </motion.div>
      </div>

      {/* Bottom Gradient */}
      <div className="absolute bottom-0 left-0 w-full h-24 bg-gradient-to-t from-gray-50 to-transparent dark:from-gray-900"></div>
    </section>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\landing\MetaTags.tsx
import React from 'react'

export const MetaTags = (): JSX.Element => {
  return (
    <>
      <meta charSet="utf-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1" />
      <title>M R Grúas</title>
      <link rel="icon" href="img/Logo.png" />
      <meta name="twitter:card" content="summary" />
      <meta
        name="twitter:title"
        content="Servicios de grúa en Autopista Monterrey - Nuevo Laredo las 24/7"
      />
      <meta name="twitter:site" content="@israelrys" />
      <meta
        name="twitter:image"
        content="https://mrgruas.github.io/img/6.webp"
      />
      <meta name="twitter:creator" content="@israelrys" />
      <meta property="og:url" content="https://mrgruas.github.io/" />
      <meta
        property="og:title"
        content="Asistencia Vial Tel: +52 1 81 8010 7110 M.R."
      />
      <meta
        property="og:description"
        content="Servicios de grúa en Autopista Monterrey - Nuevo Laredo las 24/7"
      />
      <meta property="og:type" content="website" />
      <meta
        property="og:image"
        content="https://mrgruas.github.io/img/6.webp"
      />
      <meta property="og:image:width" content="auto" />
      <meta property="og:image:height" content="auto" />
      <meta property="og:site_name" content="M.R. Grúas" />
      <link
        rel="stylesheet"
        href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css"
      />
      <link
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
      />
      <link
        href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,700,700i|Montserrat:300,400,500,700"
        rel="stylesheet"
      />
      <link rel="stylesheet" href="dist/styles.css" />
      <link href="css/style.css" rel="stylesheet" />
    </>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\landing\Navigation.tsx
import React from 'react'
import { motion } from 'framer-motion'

const navItems = [
  { href: '#intro', label: 'Inicio' },
  { href: '#about', label: 'Nosotros' },
  { href: '#Servicios', label: 'Servicios' },
  { href: '#call-to-action', label: 'Llámanos' },
  { href: '#contact', label: 'Contacto' },
]

export const Navigation = (): JSX.Element => {
  return (
    <nav className="hidden md:block">
      <ul className="flex items-center space-x-8">
        {navItems.map((item, index) => (
          <motion.li
            key={item.href}
            initial={{ opacity: 0, y: -20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ delay: index * 0.1 }}
          >
            <a
              href={item.href}
              className="relative text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-primary transition-colors py-2 px-1"
            >
              <span className="relative z-10">{item.label}</span>
              <span className="absolute bottom-0 left-0 w-full h-0.5 bg-primary transform scale-x-0 transition-transform origin-left hover:scale-x-100" />
            </a>
          </motion.li>
        ))}
      </ul>
    </nav>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\landing\Services.tsx
import { motion } from 'framer-motion'
import { Card } from '../ui/card'
import { Clock, MapPin, Shield, ThumbsUp } from 'lucide-react'

const services = [
  {
    icon: <Clock className="w-8 h-8 text-primary" />,
    title: 'Servicio de Grúas',
    description:
      'Disponibles en carreteras MTY-NVO. LAREDO',
  },
  {
    icon: <MapPin className="w-8 h-8 text-primary" />,
    title: 'Cobertura Amplia',
    description:
      'Servicio en toda la región y carreteras principales, llegamos donde nos necesites',
  },
  {
    icon: <Shield className="w-8 h-8 text-primary" />,
    title: 'Seguridad Garantizada',
    description:
      'Tu vehículo está asegurado durante todo el proceso de transporte',
  },
  {
    icon: <ThumbsUp className="w-8 h-8 text-primary" />,
    title: 'Servicio Profesional',
    description:
      'Personal altamente capacitado y equipo especializado para cada situación',
  },
]

export const Services = () => {
  return (
    <section id="services" className="py-20 px-4 bg-gradient-to-br from-gray-50 to-white dark:from-gray-900 dark:to-gray-800">
      <motion.div
        initial={{ opacity: 0, y: 20 }}
        whileInView={{ opacity: 1, y: 0 }}
        viewport={{ once: true }}
        className="container mx-auto max-w-6xl"
      >
        <div className="text-center mb-16">
          <motion.h2
            initial={{ opacity: 0, y: 20 }}
            whileInView={{ opacity: 1, y: 0 }}
            viewport={{ once: true }}
            className="text-4xl font-bold font-heading text-gradient-shine drop-shadow-xl mb-4"
          >
            Nuestros Servicios
          </motion.h2>
          <motion.p
            initial={{ opacity: 0, y: 20 }}
            whileInView={{ opacity: 1, y: 0 }}
            viewport={{ once: true }}
            transition={{ delay: 0.2 }}
            className="text-lg text-gradient-shine drop-shadow-lg font-semibold max-w-2xl mx-auto"
          >
            Ofrecemos una amplia gama de servicios de asistencia vial para
            mantener su vehículo en movimiento
          </motion.p>
        </div>

        <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
          {services.map((service, index) => (
            <motion.div
              key={index}
              initial={{ opacity: 0, y: 20 }}
              whileInView={{ opacity: 1, y: 0 }}
              viewport={{ once: true }}
              transition={{ delay: index * 0.1 }}
              whileHover={{ scale: 1.02 }}
              className="flex flex-col items-center"
            >
              <Card className="w-full p-8 text-center hover:shadow-xl transition-all duration-300 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm">
                <div className="rounded-full bg-primary/10 p-6 mx-auto mb-6 w-20 h-20 flex items-center justify-center">
                  {service.icon}
                </div>
                <h3 className="text-2xl font-semibold mb-4">{service.title}</h3>
                <p className="text-gray-600 dark:text-gray-300">
                  {service.description}
                </p>
              </Card>
            </motion.div>
          ))}
        </div>
      </motion.div>
    </section>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\landing\TowingTypes.tsx
import { motion } from 'framer-motion';
import { Card } from '../ui/card';
import { CarFront, Truck } from 'lucide-react';
import {
  Dialog,
  DialogContent,
  DialogDescription,
  DialogHeader,
  DialogTitle,
  DialogTrigger,
} from '@/components/ui/dialog';

const towingTypes = [
  {
    icon: <CarFront className="w-12 h-12 text-primary" aria-label="Car Front Icon" />,
    title: 'Servicio Plataforma',
    description: 'Ideal para vehículos ligeros y medianos. Transporte seguro sin arrastre.',
    gifs: ['/lovable-uploads/TipoA.gif', '/lovable-uploads/TipoC.gif'],
    detailedDescription: {
      title: 'Servicio de Plataforma - Características',
      content: [
        'Capacidad de carga hasta 2,000 kg',
        'Ideal para vehículos de lujo y deportivos',
        'Evita daños adicionales al vehículo',
        'Perfecto para distancias largas',
        'Sistema hidráulico de última generación',
        'Equipado con sistema de winch para carga segura',
      ],
      pricing: 'Tarifa base desde $528.69 MXN + $18.82 MXN/km',
    },
  },
  {
    icon: <Truck className="w-12 h-12 text-primary" aria-label="Truck Icon" />,
    title: 'Servicio de Rescate',
    description: 'Para situaciones de emergencia y traslados rápidos. Servicio económico.',
    gifs: ['/lovable-uploads/TipoD.gif', '/lovable-uploads/TipoD2.gif'],
    detailedDescription: {
      title: 'Servicio de Rescate - Características',
      content: [
        'Capacidad de carga hasta 8,000 kg',
        'Ideal para vehículos pesados y comerciales',
        'Servicio rápido en emergencias',
        'Equipado para rescates en condiciones difíciles',
        'Personal altamente capacitado',
        'Disponible 24/7 para emergencias',
      ],
      pricing: 'Tarifa base desde $885.84 MXN + $32.35 MXN/km',
    },
  },
];

export const TowingTypes = () => {
  return (
    <section className="py-20 px-4 bg-gradient-to-br from-gray-50 via-gray-100 to-gray-200 dark:from-gray-900 dark:via-gray-800 dark:to-gray-700">
      <motion.div
        initial={{ opacity: 0, y: 30 }}
        animate={{ opacity: 1, y: 0 }}
        transition={{ duration: 0.8 }}
        className="container mx-auto max-w-6xl"
      >
        {/* Header */}
        <div className="text-center mb-12">
          <h2 className="text-4xl font-bold font-heading bg-clip-text text-transparent bg-gradient-to-r from-gray-700 via-gray-600 to-gray-500 mb-4 animate-gradient-flow">
            Tipos de Servicio
          </h2>
          <p className="text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto">
            Contamos con diferentes tipos de grúas para adaptarnos a sus necesidades específicas
          </p>
        </div>

        {/* Service Types */}
        <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
          {towingTypes.map((type, index) => (
            <motion.div
              key={index}
              initial={{ opacity: 0, y: 30 }}
              whileInView={{ opacity: 1, y: 0 }}
              viewport={{ once: true }}
              transition={{ delay: index * 0.2 }}
              className="flex flex-col items-center"
            >
              <Dialog>
                <DialogTrigger asChild>
                  <Card className="w-full p-6 bg-gradient-to-tl from-gray-100 to-gray-50 dark:from-gray-800 dark:to-gray-700 shadow-lg hover:shadow-2xl hover:scale-[1.03] transition-all duration-300 rounded-xl cursor-pointer">
                    {/* Icon + Title */}
                    <div className="mb-6">
                      <div className="flex items-center justify-center mb-4">{type.icon}</div>
                      <h3 className="text-2xl font-semibold text-center text-gray-700 dark:text-gray-300 mb-2">
                        {type.title}
                      </h3>
                      <p className="text-gray-600 dark:text-gray-300 text-center mb-4">
                        {type.description}
                      </p>
                    </div>

                    {/* Images */}
                    <div className="grid grid-cols-2 gap-4">
                      {type.gifs.map((gif, gifIndex) => (
                        <div
                          key={gifIndex}
                          className="relative group overflow-hidden rounded-lg shadow-md hover:shadow-xl transition-transform duration-300"
                        >
                          <img
                            src={gif}
                            alt={`Servicio tipo ${gifIndex + 1} para ${type.title}`}
                            className="w-full h-48 object-cover transform transition-transform duration-300 group-hover:scale-110"
                          />
                          <div className="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300" />
                        </div>
                      ))}
                    </div>
                  </Card>
                </DialogTrigger>

                {/* Dialog Content */}
                <DialogContent className="sm:max-w-[500px] backdrop-filter backdrop-blur-xl bg-white/80 dark:bg-gray-800/90 rounded-lg shadow-xl">
                  <DialogHeader>
                    <DialogTitle className="text-2xl font-extrabold text-gray-700 dark:text-gray-300">
                      {type.detailedDescription.title}
                    </DialogTitle>
                    <DialogDescription>
                      <div className="mt-4 space-y-4">
                        {/* List Content */}
                        <ul className="list-disc pl-5 space-y-2 text-gray-700 dark:text-gray-300">
                          {type.detailedDescription.content.map((item, i) => (
                            <li key={i}>{item}</li>
                          ))}
                        </ul>
                        {/* Pricing */}
                        <div className="mt-4 pt-4 border-t border-gray-200 dark:border-gray-700">
                          <p className="font-semibold text-gray-700 dark:text-gray-300">
                            Precios Aproximados:
                          </p>
                          <p className="text-gray-600 dark:text-gray-400">
                            {type.detailedDescription.pricing}
                          </p>
                        </div>
                      </div>
                    </DialogDescription>
                  </DialogHeader>
                </DialogContent>
              </Dialog>
            </motion.div>
          ))}
        </div>
      </motion.div>
    </section>
  );
};


// C:\Users\israe\Documents\GitHub\recentmap\src\components\layout\Layout.tsx
import { ReactNode } from 'react'

interface LayoutProps {
  children: ReactNode
}

export const Layout = ({ children }: LayoutProps) => {
  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900">
      <main className="container mx-auto px-4 py-8">{children}</main>
    </div>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\layout\SharedLayout.tsx
import { ReactNode } from 'react'
import { motion } from 'framer-motion'
import { cn } from '@/lib/utils'

interface SharedLayoutProps {
  children: ReactNode
  className?: string
  withGrid?: boolean
}

export const SharedLayout = ({
  children,
  className,
  withGrid = true,
}: SharedLayoutProps) => {
  return (
    <div
      className={cn(
        'min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900',
        className,
      )}
    >
      {withGrid && (
        <div className="absolute inset-0 bg-grid-pattern opacity-5" />
      )}
      <div className="absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-destructive/5" />
      <div className="absolute inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-blue-200/20 via-transparent to-transparent" />

      <motion.div
        initial={{ opacity: 0 }}
        animate={{ opacity: 1 }}
        transition={{ duration: 0.5 }}
        className="relative z-10"
      >
        {children}
      </motion.div>
    </div>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\legal\PrivacyPolicy.tsx
import { Card } from '@/components/ui/card'
import { ScrollArea } from '@/components/ui/scroll-area'

export const PrivacyPolicy = () => {
  return (
    <Card className="p-6 max-w-4xl mx-auto bg-white/95 backdrop-blur-sm">
      <ScrollArea className="h-[70vh] pr-4">
        <div className="space-y-6">
          <h2 className="text-2xl font-bold text-primary">
            Aviso de Privacidad
          </h2>

          <section className="space-y-4">
            <h3 className="text-lg font-semibold">
              1. Identidad y Domicilio del Responsable
            </h3>
            <p className="text-gray-600">
              [Nombre de la Empresa], con domicilio en [Dirección completa], es
              responsable del tratamiento de sus datos personales.
            </p>
          </section>

          <section className="space-y-4">
            <h3 className="text-lg font-semibold">
              2. Datos Personales Recopilados
            </h3>
            <p className="text-gray-600">
              Para la prestación de nuestros servicios de grúa, recopilamos los
              siguientes datos personales:
            </p>
            <ul className="list-disc pl-6 text-gray-600 space-y-2">
              <li>Nombre completo</li>
              <li>Dirección</li>
              <li>Teléfono de contacto</li>
              <li>Correo electrónico</li>
              <li>Información del vehículo (marca, modelo, año)</li>
              <li>Ubicación GPS para el servicio</li>
            </ul>
          </section>

          <section className="space-y-4">
            <h3 className="text-lg font-semibold">
              3. Finalidad del Tratamiento de los Datos
            </h3>
            <p className="text-gray-600">
              Sus datos personales son utilizados para:
            </p>
            <ul className="list-disc pl-6 text-gray-600 space-y-2">
              <li>Prestación del servicio de grúa solicitado</li>
              <li>Facturación y cobro</li>
              <li>Seguimiento del servicio</li>
              <li>Comunicación sobre el estado del servicio</li>
              <li>Mejora de nuestros servicios</li>
            </ul>
          </section>

          <section className="space-y-4">
            <h3 className="text-lg font-semibold">4. Transferencia de Datos</h3>
            <p className="text-gray-600">
              Sus datos personales pueden ser compartidos con:
            </p>
            <ul className="list-disc pl-6 text-gray-600 space-y-2">
              <li>Operadores de grúas para la prestación del servicio</li>
              <li>Proveedores de servicios de facturación</li>
              <li>Autoridades competentes cuando sea requerido por ley</li>
            </ul>
          </section>

          <section className="space-y-4">
            <h3 className="text-lg font-semibold">5. Derechos ARCO</h3>
            <p className="text-gray-600">
              Usted tiene derecho a conocer qué datos personales tenemos de
              usted, para qué los utilizamos y las condiciones del uso que les
              damos (Acceso). Asimismo, es su derecho solicitar la corrección de
              su información personal en caso de que esté desactualizada, sea
              inexacta o incompleta (Rectificación); que la eliminemos de
              nuestros registros o bases de datos cuando considere que la misma
              no está siendo utilizada conforme a los principios, deberes y
              obligaciones previstas en la normativa (Cancelación); así como
              oponerse al uso de sus datos personales para fines específicos
              (Oposición).
            </p>
          </section>

          <section className="space-y-4">
            <h3 className="text-lg font-semibold">6. Medidas de Seguridad</h3>
            <p className="text-gray-600">
              Implementamos diversas medidas de seguridad técnicas,
              administrativas y físicas para proteger sus datos personales,
              incluyendo encriptación de datos, acceso restringido a la
              información y políticas internas de privacidad.
            </p>
          </section>

          <section className="space-y-4">
            <h3 className="text-lg font-semibold">7. Uso de Cookies</h3>
            <p className="text-gray-600">
              Utilizamos cookies y otras tecnologías de seguimiento para mejorar
              su experiencia en nuestro sitio web, recordar sus preferencias y
              entender cómo interactúan los usuarios con nuestro servicio.
            </p>
          </section>

          <section className="space-y-4">
            <h3 className="text-lg font-semibold">
              8. Cambios al Aviso de Privacidad
            </h3>
            <p className="text-gray-600">
              Nos reservamos el derecho de efectuar en cualquier momento
              modificaciones o actualizaciones al presente aviso de privacidad.
              Cualquier modificación será notificada a través de nuestro sitio
              web.
            </p>
          </section>
        </div>
      </ScrollArea>
    </Card>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\legal\TermsAndConditions.tsx
import { Card } from '@/components/ui/card'
import { ScrollArea } from '@/components/ui/scroll-area'

export const TermsAndConditions = () => {
  return (
    <Card className="p-6 max-w-4xl mx-auto bg-white/95 backdrop-blur-sm">
      <ScrollArea className="h-[70vh] pr-4">
        <div className="space-y-6">
          <h2 className="text-2xl font-bold text-primary">
            Términos y Condiciones del Servicio
          </h2>

          <section className="space-y-4">
            <h3 className="text-lg font-semibold">
              1. Aceptación de los Términos
            </h3>
            <p className="text-gray-600">
              Al utilizar nuestros servicios de grúa, usted acepta estos
              términos y condiciones en su totalidad. Si no está de acuerdo con
              estos términos, por favor no utilice nuestros servicios.
            </p>
          </section>

          <section className="space-y-4 bg-yellow-50/50 p-4 rounded-lg border border-yellow-200">
            <h3 className="text-lg font-semibold text-yellow-800">
              2. Maniobras Especiales y Cargos Adicionales
            </h3>
            <div className="space-y-2 text-gray-700">
              <p>
                <strong>2.1.</strong> El cliente tiene la obligación de informar
                correctamente sobre la necesidad de maniobras especiales al
                momento de solicitar el servicio.
              </p>
              <p>
                <strong>2.2.</strong> En caso de que el cliente no haya
                declarado la necesidad de maniobras especiales al momento de la
                solicitud:
              </p>
              <ul className="list-disc pl-6 space-y-2">
                <li>
                  La empresa se reserva el derecho de cobrar el cargo adicional
                  por maniobra en el lugar del servicio.
                </li>
                <li>
                  El cargo por maniobra especial deberá ser liquidado en su
                  totalidad antes de realizar el servicio.
                </li>
                <li>
                  El cliente acepta que este cargo adicional es independiente
                  del monto inicial cotizado.
                </li>
              </ul>
            </div>
          </section>

          <section className="space-y-4 bg-red-50/50 p-4 rounded-lg border border-red-200">
            <h3 className="text-lg font-semibold text-red-800">
              3. Política de Cancelación y Reembolsos
            </h3>
            <div className="space-y-2 text-gray-700">
              <p>
                <strong>3.1.</strong> Una vez realizado el pago del servicio:
              </p>
              <ul className="list-disc pl-6 space-y-2">
                <li>
                  No se realizarán reembolsos por cancelación del servicio.
                </li>
                <li>El monto pagado no es transferible a otros servicios.</li>
                <li>
                  La empresa no está obligada a reprogramar el servicio sin
                  costo adicional.
                </li>
              </ul>
              <p>
                <strong>3.2.</strong> Esta política aplica tanto al cargo base
                como a cualquier cargo adicional por maniobras especiales.
              </p>
            </div>
          </section>

          <section className="space-y-4">
            <h3 className="text-lg font-semibold">
              4. Responsabilidades del Cliente
            </h3>
            <div className="space-y-2 text-gray-600">
              <p>El cliente se compromete a:</p>
              <ul className="list-disc pl-6 space-y-2">
                <li>
                  Proporcionar información precisa sobre la ubicación y estado
                  del vehículo.
                </li>
                <li>
                  Informar sobre cualquier condición especial que pueda requerir
                  maniobras adicionales.
                </li>
                <li>
                  Estar presente durante el servicio o designar un representante
                  autorizado.
                </li>
                <li>
                  Realizar el pago acordado según los términos establecidos.
                </li>
              </ul>
            </div>
          </section>

          <section className="space-y-4">
            <h3 className="text-lg font-semibold">
              5. Limitación de Responsabilidad
            </h3>
            <p className="text-gray-600">
              La empresa no se hace responsable por:
            </p>
            <ul className="list-disc pl-6 text-gray-600 space-y-2">
              <li>Daños preexistentes en el vehículo.</li>
              <li>
                Retrasos causados por condiciones fuera de nuestro control.
              </li>
              <li>
                Costos adicionales derivados de información incorrecta
                proporcionada por el cliente.
              </li>
            </ul>
          </section>

          <section className="space-y-4">
            <h3 className="text-lg font-semibold">6. Modificaciones</h3>
            <p className="text-gray-600">
              Nos reservamos el derecho de modificar estos términos y
              condiciones en cualquier momento. Los cambios entrarán en vigor
              inmediatamente después de su publicación.
            </p>
          </section>

          <section className="space-y-4">
            <h3 className="text-lg font-semibold">7. Ley Aplicable</h3>
            <p className="text-gray-600">
              Estos términos y condiciones se rigen por las leyes de México.
              Cualquier disputa será resuelta en los tribunales competentes de
              la jurisdicción correspondiente.
            </p>
          </section>
        </div>
      </ScrollArea>
    </Card>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\loading\LoadingSpinner.tsx
import { motion } from 'framer-motion'
import { Loader2 } from 'lucide-react'
import { Separator } from '@/components/ui/separator'
import { Card } from '@/components/ui/card'

export const LoadingSpinner = () => (
  <div className="flex items-center justify-center min-h-screen">
    <motion.div
      initial={{ opacity: 0, scale: 0.95 }}
      animate={{ opacity: 1, scale: 1 }}
      transition={{ duration: 0.3 }}
    >
      <Card className="p-8 glass-card max-w-md mx-auto text-center space-y-6">
        <div className="relative">
          <div className="absolute inset-0 bg-blue-500/10 blur-xl rounded-full" />
          <Loader2 className="h-12 w-12 animate-spin text-primary relative z-10 mx-auto" />
        </div>

        <Separator className="my-6 bg-blue-200/20" />

        <motion.h2
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ delay: 0.2 }}
          className="text-3xl font-bold bg-gradient-to-r from-primary via-blue-600 to-primary bg-clip-text text-transparent font-heading"
        >
          Cargando
        </motion.h2>

        <motion.p
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ delay: 0.3 }}
          className="text-lg font-medium text-muted-foreground"
        >
          Por favor espera un momento...
        </motion.p>
      </Card>
    </motion.div>
  </div>
)



// C:\Users\israe\Documents\GitHub\recentmap\src\components\map\BorderControls.tsx
import { useMap } from 'react-leaflet'

export const BorderControls = () => {
  const map = useMap()

  return (
    <div className="absolute inset-0 pointer-events-none">
      <button
        className="absolute top-0 left-0 w-full h-12 opacity-0 cursor-n-resize pointer-events-auto touch-pan-up"
        onClick={() => map?.panBy([0, -50])}
      />
      <button
        className="absolute bottom-0 left-0 w-full h-12 opacity-0 cursor-s-resize pointer-events-auto touch-pan-down"
        onClick={() => map?.panBy([0, 50])}
      />
      <button
        className="absolute top-0 left-0 h-full w-12 opacity-0 cursor-w-resize pointer-events-auto touch-pan-left"
        onClick={() => map?.panBy([-50, 0])}
      />
      <button
        className="absolute top-0 right-0 h-full w-12 opacity-0 cursor-e-resize pointer-events-auto touch-pan-right"
        onClick={() => map?.panBy([50, 0])}
      />
    </div>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\map\CostDetailsContent.tsx
import { motion } from 'framer-motion'
import { formatCurrency } from '@/utils/priceCalculator'
import { ScrollArea } from '@/components/ui/scroll-area'
import { TollInfoDisplay } from '@/components/TollInfoDisplay'
import { TollLocation } from '@/types/toll'

export interface CostDetailsContentProps {
  totalDistance: number
  baseCost: number
  flagDropFee: number
  maneuverCost: number
  requiresManeuver: boolean
  totalTollCost: number
  detectedTolls: TollLocation[]
  subtotal: number
}

export const CostDetailsContent = ({
  totalDistance,
  baseCost,
  flagDropFee,
  maneuverCost,
  requiresManeuver,
  totalTollCost,
  detectedTolls,
  subtotal,
}: CostDetailsContentProps) => {
  return (
    <ScrollArea className="h-[calc(100vh-300px)] pr-4 overflow-y-auto resize-y">
      <div className="space-y-3 min-h-[200px]">
        <motion.div
          initial={{ opacity: 0, x: -20 }}
          animate={{ opacity: 1, x: 0 }}
          className="p-3 bg-primary/5 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-200"
        >
          <div className="flex justify-between items-center">
            <span className="text-sm text-gray-700">
              Distancia ({totalDistance.toFixed(1)} km):
            </span>
            <span className="font-medium text-primary">
              {formatCurrency(baseCost)}
            </span>
          </div>
        </motion.div>

        <motion.div
          initial={{ opacity: 0, x: -20 }}
          animate={{ opacity: 1, x: 0 }}
          transition={{ delay: 0.1 }}
          className="p-3 bg-primary/5 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-200"
        >
          <div className="flex justify-between items-center">
            <span className="text-sm text-gray-700">Banderazo:</span>
            <span className="font-medium text-primary">
              {formatCurrency(flagDropFee)}
            </span>
          </div>
        </motion.div>

        {requiresManeuver && (
          <motion.div
            initial={{ opacity: 0, x: -20 }}
            animate={{ opacity: 1, x: 0 }}
            transition={{ delay: 0.2 }}
            className="p-3 bg-orange-50 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-200"
          >
            <div className="flex justify-between items-center">
              <span className="text-sm text-orange-700">Maniobra:</span>
              <span className="font-medium text-orange-600">
                {formatCurrency(maneuverCost)}
              </span>
            </div>
          </motion.div>
        )}

        {totalTollCost > 0 && (
          <motion.div
            initial={{ opacity: 0, x: -20 }}
            animate={{ opacity: 1, x: 0 }}
            transition={{ delay: 0.3 }}
            className="p-3 bg-yellow-50 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-200"
          >
            <div className="flex justify-between items-center">
              <span className="text-sm text-yellow-700">Peajes:</span>
              <span className="font-medium text-yellow-600">
                {formatCurrency(totalTollCost)}
              </span>
            </div>
          </motion.div>
        )}
      </div>

      {detectedTolls.length > 0 && (
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ delay: 0.4 }}
          className="mt-6"
        >
          <TollInfoDisplay tolls={detectedTolls} totalCost={totalTollCost} />
        </motion.div>
      )}
    </ScrollArea>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\map\DraggableMarker.tsx
import L from 'leaflet'
import { Marker, Popup, useMapEvents } from 'react-leaflet'
import { useEffect, useRef, useState } from 'react'
import { motion, AnimatePresence } from 'framer-motion'
import { useToast } from '@/hooks/use-toast'

interface DraggableMarkerProps {
  position: L.LatLngExpression
  onDragEnd: (latlng: L.LatLng) => void
  icon?: L.Icon
  label: string
  draggable?: boolean
  isPickup?: boolean
}

export const DraggableMarker = ({
  position,
  onDragEnd,
  icon,
  label,
  draggable = true,
  isPickup = false,
}: DraggableMarkerProps) => {
  const markerRef = useRef<L.Marker>(null)
  const [isHovered, setIsHovered] = useState(false)
  const { toast } = useToast()

  useEffect(() => {
    if (markerRef.current) {
      const marker = markerRef.current
      marker.setLatLng(position as L.LatLng)

      // Set z-index based on marker type and hover state
      const baseZIndex = isPickup ? 1000 : 999
      const zIndex = isHovered ? baseZIndex + 1 : baseZIndex
      marker.setZIndexOffset(zIndex)
    }
  }, [position, isHovered, isPickup])

  const eventHandlers = {
    dragend: (e: L.DragEndEvent) => {
      const marker = e.target
      if (marker) {
        onDragEnd(marker.getLatLng())
        toast({
          title: 'Ubicación actualizada',
          description: 'La ubicación ha sido actualizada correctamente',
        })
      }
    },
    mouseover: () => setIsHovered(true),
    mouseout: () => setIsHovered(false),
    dragstart: () => setIsHovered(true),
    click: () => {
      if (markerRef.current) {
        markerRef.current.openPopup()
      }
    },
  }

  return (
    <Marker
      position={position}
      draggable={draggable}
      icon={icon}
      eventHandlers={eventHandlers}
      ref={markerRef}
    >
      <AnimatePresence>
        {(isHovered || !draggable) && (
          <Popup className="custom-popup" closeButton={false}>
            <motion.div
              initial={{ opacity: 0, y: -5 }}
              animate={{ opacity: 1, y: 0 }}
              exit={{ opacity: 0, y: -5 }}
              transition={{ duration: 0.2 }}
              className="font-semibold p-1"
            >
              {label}
              {draggable && (
                <div className="text-xs text-gray-500 mt-1">
                  Arrastra para ajustar la ubicación
                </div>
              )}
            </motion.div>
          </Popup>
        )}
      </AnimatePresence>
    </Marker>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\map\FloatingPanel.tsx
import { ReactNode, useState } from 'react'
import { cn } from '@/lib/utils'
import { Button } from '@/components/ui/button'
import { Maximize2 } from 'lucide-react'
import Draggable from 'react-draggable'
import { useToast } from '@/hooks/use-toast'
import { motion, AnimatePresence } from 'framer-motion'
import { FloatingPanelHeader } from './FloatingPanelHeader'
import { FloatingPanelContent } from './FloatingPanelContent'

interface FloatingPanelProps {
  children: ReactNode
  className?: string
  position?: 'left' | 'right'
  title?: string
}

export const FloatingPanel = ({
  children,
  className,
  position = 'right',
  title = 'Panel',
}: FloatingPanelProps) => {
  const [isCollapsed, setIsCollapsed] = useState(false)
  const [isVisible, setIsVisible] = useState(true)
  const [isDragging, setIsDragging] = useState(false)
  const [isMaximized, setIsMaximized] = useState(false)
  const { toast } = useToast()

  const handleDragStart = () => {
    setIsDragging(true)
    toast({
      title: 'Panel móvil',
      description: 'Puedes mover este panel a cualquier parte de la pantalla',
      duration: 2000,
    })
  }

  const handleDragStop = () => {
    setIsDragging(false)
  }

  if (!isVisible) {
    return (
      <motion.div
        initial={{ opacity: 0, scale: 0.95 }}
        animate={{ opacity: 1, scale: 1 }}
        exit={{ opacity: 0, scale: 0.95 }}
        transition={{ duration: 0.2 }}
      >
        <Button
          variant="secondary"
          size="lg"
          onClick={() => setIsVisible(true)}
          className={cn(
            'fixed z-[1000] bg-white/95 shadow-lg backdrop-blur-sm',
            'transition-all duration-300 ease-in-out hover:scale-105',
            'border-2 border-primary/20 hover:border-primary/40',
            'py-4 px-6 text-lg font-medium min-w-[200px]',
            position === 'right' && 'right-6 top-24',
            position === 'left' && 'left-6 top-24'
          )}
        >
          <Maximize2 className="w-6 h-6 mr-3" />
          Mostrar {title}
        </Button>
      </motion.div>
    )
  }

  return (
    <Draggable
      handle=".drag-handle"
      onStart={handleDragStart}
      onStop={handleDragStop}
      bounds="parent"
      disabled={isMaximized}
    >
      <motion.div
        initial={{ opacity: 0, scale: 0.95 }}
        animate={{
          opacity: 1,
          scale: 1,
          width: isMaximized ? '100%' : 'auto',
          height: isMaximized ? '100%' : 'auto',
        }}
        transition={{ duration: 0.2 }}
        className={cn(
          'fixed bg-white/95 rounded-xl shadow-2xl backdrop-blur-lg transition-all duration-300',
          'min-w-[480px] max-w-3xl w-full mx-4',
          'max-h-[90vh]',
          isMaximized
            ? 'inset-4 !transform-none'
            : cn(
                position === 'right' && 'right-6 top-24',
                position === 'left' && 'left-6 top-24'
              ),
          'z-[1000] border border-primary/20',
          isDragging &&
            'cursor-grabbing scale-[1.02] shadow-2xl ring-4 ring-primary/20',
          !isMaximized && 'hover:shadow-xl hover:shadow-primary/5',
          'flex flex-col',
          className
        )}
      >
        <FloatingPanelHeader
          title={title}
          isCollapsed={isCollapsed}
          isMaximized={isMaximized}
          isDragging={isDragging}
          onCollapse={() => setIsCollapsed(!isCollapsed)}
          onMaximize={() => setIsMaximized(!isMaximized)}
          onClose={() => {
            setIsVisible(false)
            toast({
              title: 'Panel oculto',
              description: "Haz clic en 'Mostrar Panel' para restaurar",
              duration: 2000,
            })
          }}
        />

        <AnimatePresence>
          {!isCollapsed && (
            <FloatingPanelContent isMaximized={isMaximized}>
              {children}
            </FloatingPanelContent>
          )}
        </AnimatePresence>
      </motion.div>
    </Draggable>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\map\FloatingPanelContent.tsx
import { ReactNode } from 'react'
import { motion } from 'framer-motion'
import { cn } from '@/lib/utils'

interface FloatingPanelContentProps {
  children: ReactNode
  isMaximized: boolean
}

export const FloatingPanelContent = ({
  children,
  isMaximized,
}: FloatingPanelContentProps) => {
  return (
    <motion.div
      initial={{ height: 0, opacity: 0 }}
      animate={{ height: 'auto', opacity: 1 }}
      exit={{ height: 0, opacity: 0 }}
      transition={{ duration: 0.2 }}
      className="flex-1 min-h-0"
    >
      <div
        className={cn(
          'overflow-y-auto custom-scrollbar h-full',
          'rounded-b-xl pb-20'
        )}
        style={{ maxHeight: 'calc(90vh - 4rem)' }}
      >
        <div
          className={cn('p-8 space-y-8', isMaximized ? 'max-w-4xl mx-auto' : '')}
        >
          {children}
        </div>
      </div>
    </motion.div>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\map\FloatingPanelControls.tsx
import { ReactNode } from 'react'
import { Button } from '@/components/ui/button'
import { cn } from '@/lib/utils'
import { motion } from 'framer-motion'
import { FloatingPanelControlsProps } from './types/floating-panel'

export const FloatingPanelControls = ({
  isCollapsed = false,
  isMaximized = false,
  isDragging = false,
  onCollapse = () => {},
  onMaximize = () => {},
  onClose = () => {},
  title,
  className,
  onSave,
  onCancel,
  onDetailsToggle,
  children,
}: FloatingPanelControlsProps) => {
  return (
    <motion.div
      initial={{ opacity: 0, y: 10 }}
      animate={{ opacity: 1, y: 0 }}
      exit={{ opacity: 0, y: -10 }}
      className={cn('p-4 border-t bg-white shadow rounded-lg', className)}
    >
      <div className="flex items-center justify-between mb-4">
        <div className="flex items-center space-x-2">
          {title}
        </div>
        <div className="flex items-center space-x-2">
          {onDetailsToggle && (
            <Button variant="ghost" size="sm" onClick={onDetailsToggle}>
              Details
            </Button>
          )}
          <Button variant="ghost" size="sm" onClick={onCollapse}>
            {isCollapsed ? 'Expand' : 'Collapse'}
          </Button>
          <Button variant="ghost" size="sm" onClick={onMaximize}>
            {isMaximized ? 'Restore' : 'Maximize'}
          </Button>
          <Button variant="ghost" size="sm" onClick={onClose}>
            Close
          </Button>
        </div>
      </div>
      {children}
      {(onSave || onCancel) && (
        <div className="flex justify-end space-x-2 mt-4">
          {onCancel && (
            <Button variant="outline" onClick={onCancel}>
              Cancel
            </Button>
          )}
          {onSave && (
            <Button onClick={onSave}>Save</Button>
          )}
        </div>
      )}
    </motion.div>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\map\FloatingPanelDragHandle.tsx
import { Menu } from 'lucide-react'

export const FloatingPanelDragHandle = () => {
  return (
    <div className="drag-handle cursor-grab active:cursor-grabbing p-2 hover:bg-primary/10 rounded-lg">
      <Menu className="h-5 w-5 text-primary/70" />
    </div>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\map\FloatingPanelHeader.tsx
import { ChevronDown, ChevronUp, X, GripVertical, Maximize2, Minimize2 } from 'lucide-react'
import { Button } from '@/components/ui/button'
import { motion } from 'framer-motion'
import { cn } from '@/lib/utils'

interface FloatingPanelHeaderProps {
  title: string
  isCollapsed: boolean
  isMaximized: boolean
  onCollapse: () => void
  onMaximize: () => void
  onClose: () => void
  onDetailsToggle?: () => void
  isDragging?: boolean
}

export const FloatingPanelHeader = ({
  title,
  isCollapsed,
  isMaximized,
  onCollapse,
  onMaximize,
  onClose,
  onDetailsToggle,
  isDragging = false,
}: FloatingPanelHeaderProps) => {
  return (
    <div
      className={cn(
        'flex items-center justify-between p-6 border-b',
        'bg-gradient-to-r from-primary/5 via-primary/10 to-primary/5',
        'rounded-t-xl'
      )}
    >
      <div className="flex items-center gap-4">
        {!isMaximized && (
          <div className="drag-handle cursor-grab active:cursor-grabbing p-2 hover:bg-primary/10 rounded-lg transition-colors">
            <GripVertical className="h-5 w-5 text-primary/70" />
          </div>
        )}
        <h3 className="font-heading font-semibold text-lg text-primary/90">
          {title}
        </h3>
      </div>
      <div className="flex gap-2">
        <Button
          variant="ghost"
          size="sm"
          onClick={onCollapse}
          className="p-3 h-10 w-10 hover:bg-primary/10 rounded-lg transition-colors"
        >
          <motion.div
            animate={{ rotate: isCollapsed ? 180 : 0 }}
            transition={{ duration: 0.2 }}
          >
            {isCollapsed ? (
              <ChevronUp className="h-5 w-5 text-primary/70" />
            ) : (
              <ChevronDown className="h-5 w-5 text-primary/70" />
            )}
          </motion.div>
        </Button>
        <Button
          variant="ghost"
          size="sm"
          onClick={onMaximize}
          className="p-3 h-10 w-10 hover:bg-primary/10 rounded-lg transition-colors"
        >
          {isMaximized ? (
            <Minimize2 className="h-5 w-5 text-primary/70" />
          ) : (
            <Maximize2 className="h-5 w-5 text-primary/70" />
          )}
        </Button>
        <Button
          variant="ghost"
          size="sm"
          onClick={onClose}
          className="p-3 h-10 w-10 hover:bg-primary/10 rounded-lg transition-colors"
        >
          <X className="h-5 w-5 text-primary/70" />
        </Button>
      </div>
    </div>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\map\FloatingPanelHeaderControls.tsx
import { Button } from '@/components/ui/button'
import { Menu, Maximize2, X } from 'lucide-react'
import { motion } from 'framer-motion'

interface FloatingPanelHeaderControlsProps {
  isCollapsed: boolean
  isMaximized: boolean
  onCollapse: () => void
  onMaximize: () => void
  onClose: () => void
}

export const FloatingPanelHeaderControls = ({
  isCollapsed,
  isMaximized,
  onCollapse,
  onMaximize,
  onClose,
}: FloatingPanelHeaderControlsProps) => {
  return (
    <div className="flex gap-2">
      <Button
        variant="ghost"
        size="sm"
        onClick={onCollapse}
        className="p-3 h-10 w-10 hover:bg-primary/10 rounded-lg"
      >
        <motion.div
          animate={{ rotate: isCollapsed ? 180 : 0 }}
          transition={{ duration: 0.2 }}
        >
          <Menu className="h-5 w-5 text-primary/70" />
        </motion.div>
      </Button>
      <Button
        variant="ghost"
        size="sm"
        onClick={onMaximize}
        className="p-3 h-10 w-10 hover:bg-primary/10 rounded-lg"
      >
        <Maximize2 className="h-5 w-5 text-primary/70" />
      </Button>
      <Button
        variant="ghost"
        size="sm"
        onClick={onClose}
        className="p-3 h-10 w-10 hover:bg-primary/10 rounded-lg"
      >
        <X className="h-5 w-5 text-primary/70" />
      </Button>
    </div>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\map\LocationMarker.tsx
import { useMapEvents } from 'react-leaflet'
import { useToast } from '@/hooks/use-toast'

interface LocationMarkerProps {
  onLocationSelect: (location: { lat: number; lng: number }) => void
  selectingPickup: boolean
  selectingDrop: boolean
}

export const LocationMarker = ({
  onLocationSelect,
  selectingPickup,
  selectingDrop,
}: LocationMarkerProps) => {
  const { toast } = useToast()

  useMapEvents({
    click(e) {
      if (selectingPickup || selectingDrop) {
        onLocationSelect(e.latlng)
        toast({
          title: `${selectingPickup ? 'Pickup' : 'Drop-off'} Location Set`,
          description: 'Location has been successfully set on the map',
          duration: 3000,
        })
      }
    },
  })

  return null
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\map\LocationSelectionHint.tsx
import { motion } from 'framer-motion'

interface LocationSelectionHintProps {
  isSelectingPickup: boolean
  isSelectingDrop: boolean
}

export const LocationSelectionHint = ({
  isSelectingPickup,
  isSelectingDrop,
}: LocationSelectionHintProps) => {
  if (!isSelectingPickup && !isSelectingDrop) return null

  return (
    <motion.div
      initial={{ opacity: 0 }}
      animate={{ opacity: 1 }}
      exit={{ opacity: 0 }}
      className="absolute inset-0 pointer-events-none bg-gradient-to-b from-primary/5 via-transparent to-transparent"
    >
      <div className="absolute top-4 left-1/2 transform -translate-x-1/2 bg-white/95 backdrop-blur-sm px-6 py-3 rounded-full shadow-lg border border-primary/10">
        <p className="text-sm text-primary/80 font-medium">
          {isSelectingPickup
            ? 'Haz clic en el mapa para seleccionar el punto de recogida'
            : 'Haz clic en el mapa para seleccionar el punto de entrega'}
        </p>
      </div>
    </motion.div>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\map\MapBottomControls.tsx
import { Button } from '@/components/ui/button'
import { Truck } from 'lucide-react'
import { cn } from '@/lib/utils'

interface MapBottomControlsProps {
  pickupLocation: { lat: number; lng: number } | null
  dropLocation: { lat: number; lng: number } | null
  onRequestTow: () => void
}

export const MapBottomControls = ({
  pickupLocation,
  dropLocation,
  onRequestTow,
}: MapBottomControlsProps) => {
  const hasLocations = pickupLocation && dropLocation

  return (
    <div className="max-w-2xl mx-auto">
      <Button
        className={cn(
          'w-full bg-gradient-to-r from-primary via-blue-600 to-primary',
          'hover:from-primary/90 hover:to-primary/90 text-white',
          'shadow-lg hover:shadow-xl transition-all duration-300',
          'py-4 sm:py-6 text-base sm:text-lg font-semibold',
          'group relative overflow-hidden',
          'active:scale-[0.98]',
          !hasLocations && 'opacity-70 cursor-not-allowed',
        )}
        onClick={onRequestTow}
        disabled={!hasLocations}
        aria-label="Request tow truck service"
      >
        <span
          className="absolute inset-0 bg-white/10 transform -skew-x-12 
                     group-hover:translate-x-full transition-transform duration-700 ease-out"
        />
        <span className="relative flex items-center justify-center gap-2">
          <Truck className="w-5 h-5 sm:w-6 sm:h-6 flex-shrink-0 animate-pulse" />
          <span className="hidden sm:inline">Solicitar Grúa</span>
          <span className="sm:hidden">Solicitar</span>
        </span>
      </Button>
    </div>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\map\MapContainer.tsx
import { MapContainer, TileLayer } from 'react-leaflet'
import { Map } from 'leaflet'
import { MutableRefObject, useState } from 'react'
import { MapMarkers } from './MapMarkers'
import { MapUpdater } from './MapUpdater'
import { UserLocationMarker } from './UserLocationMarker'
import { UserLocationControl } from '@/features/map/components/UserLocationControl'
import { motion } from 'framer-motion'
import { Location } from '@/types/location'

interface MapContainerComponentProps {
  pickupLocation: Location | null
  dropLocation: Location | null
  selectingPickup: boolean
  selectingDrop: boolean
  onLocationSelect: (location: Location) => void
  setPickupLocation: (location: Location | null) => void
  setDropLocation: (location: Location | null) => void
  onRouteCalculated: (distance: number) => void
  isLoading?: boolean
  mapRef?: MutableRefObject<Map | null>
}

export const MapContainerComponent = ({
  pickupLocation,
  dropLocation,
  selectingPickup,
  selectingDrop,
  onLocationSelect,
  setPickupLocation,
  setDropLocation,
  onRouteCalculated,
  isLoading = false,
  mapRef,
}: MapContainerComponentProps) => {
  const [showUserLocation, setShowUserLocation] = useState(false)
  const defaultPosition: [number, number] = [25.6866, -100.3161]

  return (
    <motion.div
      initial={{ opacity: 0, scale: 0.98 }}
      animate={{ opacity: 1, scale: 1 }}
      transition={{ duration: 0.5, ease: 'easeOut' }}
      className="w-full h-full rounded-xl overflow-hidden shadow-2xl relative border-2 border-primary/10"
    >
      <MapContainer
        center={defaultPosition}
        zoom={13}
        className="w-full h-full"
        zoomControl={false}
        ref={mapRef}
      >
        <TileLayer
          attribution='&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>'
          url="https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"
          className="brightness-[0.97] contrast-[1.02]"
        />

        <MapMarkers
          pickupLocation={pickupLocation}
          dropLocation={dropLocation}
          selectingPickup={selectingPickup}
          selectingDrop={selectingDrop}
          onLocationSelect={onLocationSelect}
          setPickupLocation={setPickupLocation}
          setDropLocation={setDropLocation}
          onRouteCalculated={onRouteCalculated}
        />

        <MapUpdater
          pickupLocation={pickupLocation}
          dropLocation={dropLocation}
        />

        <UserLocationMarker visible={showUserLocation} />

        <div className="absolute bottom-5 right-5 z-[1000]">
          <UserLocationControl
            visible={showUserLocation}
            onToggle={() => setShowUserLocation(!showUserLocation)}
          />
        </div>
      </MapContainer>
    </motion.div>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\map\MapControlPanel.tsx
import { RouteStreetInfo } from '@/features/map/components/RouteStreetInfo'
import { MapControls } from './MapControls'
import { useToast } from '@/hooks/use-toast'
import { motion, AnimatePresence } from 'framer-motion'
import { Card } from '@/components/ui/card'
import { Loader2 } from 'lucide-react'
import { useMapNotifications } from '@/features/map/hooks/useMapNotifications'
import { Location } from '@/types/location'

interface MapControlPanelProps {
  selectingPickup: boolean
  selectingDrop: boolean
  setSelectingPickup: (value: boolean) => void
  setSelectingDrop: (value: boolean) => void
  pickupLocation: Location | null
  dropLocation: Location | null
  pickupAddress?: string
  dropAddress?: string
  isLoading?: boolean
  className?: string
}

export const MapControlPanel = ({
  selectingPickup,
  selectingDrop,
  setSelectingPickup,
  setSelectingDrop,
  pickupLocation,
  dropLocation,
  pickupAddress,
  dropAddress,
  isLoading = false,
}: MapControlPanelProps) => {
  const { toast } = useToast()
  const { showLocationSelectionNotification } = useMapNotifications()

  const handlePickupClick = () => {
    setSelectingPickup(true)
    setSelectingDrop(false)
    showLocationSelectionNotification('pickup')
  }

  const handleDropClick = () => {
    setSelectingDrop(true)
    setSelectingPickup(false)
    showLocationSelectionNotification('drop')
  }

  return (
    <div className="fixed top-16 left-1/2 transform -translate-x-1/2 z-50 w-full max-w-2xl px-3 sm:px-4">
      <motion.div
        initial={{ opacity: 0, y: -20 }}
        animate={{ opacity: 1, y: 0 }}
        transition={{ duration: 0.3 }}
        className="w-full"
      >
        <Card className="relative w-full bg-white/95 backdrop-blur-md shadow-md rounded-lg p-4 border border-primary/10 hover:border-primary/20 transition-all duration-300">
          {isLoading && (
            <motion.div
              initial={{ opacity: 0 }}
              animate={{ opacity: 1 }}
              exit={{ opacity: 0 }}
              className="absolute inset-0 bg-white/70 backdrop-blur-sm flex items-center justify-center z-50 rounded-lg"
            >
              <Loader2 className="w-6 h-6 animate-spin text-primary" />
            </motion.div>
          )}
          <MapControls
            selectingPickup={selectingPickup}
            selectingDrop={selectingDrop}
            onPickupClick={handlePickupClick}
            onDropClick={handleDropClick}
          />
        </Card>
      </motion.div>

      <AnimatePresence>
        {(pickupLocation || dropLocation) && (
          <motion.div
            initial={{ opacity: 0, y: 10, scale: 0.95 }}
            animate={{ opacity: 1, y: 0, scale: 1 }}
            exit={{ opacity: 0, y: -10, scale: 0.95 }}
            transition={{ duration: 0.2 }}
            className="mt-3 w-full"
          >
            <RouteStreetInfo
              pickupLocation={pickupLocation}
              dropLocation={dropLocation}
              pickupAddress={pickupAddress}
              dropAddress={dropAddress}
              isLoading={isLoading}
            />
          </motion.div>
        )}
      </AnimatePresence>
    </div>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\map\MapControls.tsx
import { MapPin, Navigation } from 'lucide-react'
import { Button } from '@/components/ui/button'
import { cn } from '@/lib/utils'

interface MapControlsProps {
  selectingPickup: boolean
  selectingDrop: boolean
  onPickupClick: () => void
  onDropClick: () => void
}

export const MapControls = ({
  selectingPickup,
  selectingDrop,
  onPickupClick,
  onDropClick,
}: MapControlsProps) => {
  return (
    <div className="flex flex-col sm:flex-row gap-3 p-4 bg-white/80 backdrop-blur-xl rounded-2xl shadow-lg">
      <Button
        variant="outline"
        size="lg"
        onClick={onPickupClick}
        className={cn(
          'flex items-center gap-2 transition-all duration-500',
          'bg-gradient-to-r hover:scale-[1.02]',
          selectingPickup
            ? 'from-green-50 to-green-100 border-green-200 text-green-700 shadow-[0_0_15px_rgba(0,255,0,0.1)]'
            : 'hover:from-green-50 hover:to-white',
        )}
      >
        <MapPin className="h-4 w-4" />
        <span className="hidden sm:inline">Punto de Recogida</span>
      </Button>

      <Button
        variant="outline"
        size="lg"
        onClick={onDropClick}
        className={cn(
          'flex items-center gap-2 transition-all duration-500',
          'bg-gradient-to-r hover:scale-[1.02]',
          selectingDrop
            ? 'from-blue-50 to-blue-100 border-blue-200 text-blue-700 shadow-[0_0_15px_rgba(0,0,255,0.1)]'
            : 'hover:from-blue-50 hover:to-white',
        )}
      >
        <Navigation className="h-4 w-4" />
        <span className="hidden sm:inline">Punto de Entrega</span>
      </Button>
    </div>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\map\MapHeader.tsx
import React, { useState } from 'react'
import { Truck, MapPin, Phone, Menu } from 'lucide-react'
import { Button } from '@/components/ui/button'
import { Sheet, SheetContent, SheetTrigger } from '@/components/ui/sheet'
import { AdminNavigationMenu } from '../admin/AdminNavigationMenu'
import { UserNavigationMenu } from '../user/UserNavigationMenu'

export const MapHeader = () => {
  const [isOpen, setIsOpen] = useState(false)
  const isAdmin = true // TODO: Replace with actual auth logic

  return (
    <div className="absolute inset-x-0 top-0 z-50 bg-gradient-to-r from-white/95 via-blue-50/95 to-white/95 shadow-lg backdrop-blur-sm border-b border-blue-100">
      <nav className="px-4 sm:px-6 py-4 max-w-7xl mx-auto flex items-center justify-between">
        <div className="flex items-center gap-2 sm:gap-3">
          <div className="bg-primary/10 p-2 sm:p-2.5 rounded-xl shadow-inner">
            <Truck className="w-6 h-6 sm:w-7 sm:h-7 text-primary" />
          </div>
          <div>
            <h1 className="text-xl sm:text-2xl font-bold bg-gradient-to-r from-primary to-blue-700 bg-clip-text text-transparent">
              Tow Truck Service
            </h1>
            <p className="text-xs sm:text-sm text-gray-600">
              Professional Assistance 24/7
            </p>
          </div>
        </div>

        <div className="hidden sm:flex items-center gap-4">
          {isAdmin ? <AdminNavigationMenu /> : <UserNavigationMenu />}
          <div className="flex items-center gap-2 bg-green-50 px-4 py-2 rounded-full border border-green-200 shadow-sm">
            <MapPin className="w-4 h-4 text-green-600" />
            <span className="text-sm font-medium text-green-700">
              Available in your area
            </span>
          </div>
          <div className="flex items-center gap-2 bg-blue-50 px-4 py-2 rounded-full border border-blue-200 shadow-sm">
            <Phone className="w-4 h-4 text-blue-600" />
            <span className="text-sm font-medium text-blue-700">
              24/7 Support
            </span>
          </div>
        </div>

        <div className="sm:hidden">
          <Sheet open={isOpen} onOpenChange={setIsOpen}>
            <SheetTrigger asChild>
              <Button
                variant="ghost"
                size="icon"
                className="relative z-50"
                aria-label="Open menu"
              >
                <Menu className="h-6 w-6" />
              </Button>
            </SheetTrigger>
            <SheetContent
              side="right"
              className="w-[300px] sm:w-[400px] z-[60]"
              onOpenAutoFocus={(e) => e.preventDefault()}
            >
              <div className="flex flex-col gap-4 mt-6">
                {isAdmin ? <AdminNavigationMenu /> : <UserNavigationMenu />}
                <div className="flex items-center gap-2 bg-green-50 px-4 py-3 rounded-full border border-green-200 shadow-sm">
                  <MapPin className="w-4 h-4 text-green-600" />
                  <span className="text-sm font-medium text-green-700">
                    Available in your area
                  </span>
                </div>
                <div className="flex items-center gap-2 bg-blue-50 px-4 py-3 rounded-full border border-blue-200 shadow-sm">
                  <Phone className="w-4 h-4 text-blue-600" />
                  <span className="text-sm font-medium text-blue-700">
                    24/7 Support
                  </span>
                </div>
              </div>
            </SheetContent>
          </Sheet>
        </div>
      </nav>
    </div>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\map\MapLayout.tsx
import { ReactNode } from 'react'

interface MapLayoutProps {
  children: ReactNode
}

export const MapLayout = ({ children }: MapLayoutProps) => {
  return (
    <div className="relative h-screen w-full overflow-hidden bg-gradient-to-br from-gray-50 to-gray-100">
      <div className="absolute inset-0 bg-grid-pattern opacity-5" />
      <div className="relative h-full w-full lg:pl-96 transition-all duration-300">
        {children}
      </div>
    </div>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\map\MapLoadingOverlay.tsx
import { motion } from 'framer-motion'
import { Loader2 } from 'lucide-react'

interface MapLoadingOverlayProps {
  isVisible: boolean
}

export const MapLoadingOverlay = ({ isVisible }: MapLoadingOverlayProps) => {
  if (!isVisible) return null

  return (
    <motion.div
      initial={{ opacity: 0 }}
      animate={{ opacity: 1 }}
      exit={{ opacity: 0 }}
      className="absolute inset-0 bg-white/50 backdrop-blur-sm z-50 flex items-center justify-center"
    >
      <div className="bg-white/90 p-6 rounded-lg shadow-lg">
        <div className="animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full" />
        <p className="mt-4 text-primary/80 font-medium">Cargando...</p>
      </div>
    </motion.div>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\map\MapLocationHandler.tsx
import { useMapEvents } from 'react-leaflet'
import { useToast } from '@/hooks/use-toast'

interface MapLocationHandlerProps {
  onLocationSelect: (location: { lat: number; lng: number }) => void
  selectingPickup: boolean
  selectingDrop: boolean
}

export const MapLocationHandler = ({
  onLocationSelect,
  selectingPickup,
  selectingDrop,
}: MapLocationHandlerProps) => {
  const { toast } = useToast()

  useMapEvents({
    click(e) {
      if (selectingPickup || selectingDrop) {
        onLocationSelect(e.latlng)
        toast({
          title: `${selectingPickup ? 'Punto de Recogida' : 'Punto de Entrega'} Seleccionado`,
          description: 'Puedes arrastrar el marcador para ajustar la ubicación',
        })
      }
    },
  })

  return null
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\map\MapMarkers.tsx
import { DraggableMarker } from './DraggableMarker'
import { RoutePolyline } from './RoutePolyline'
import { MapLocationHandler } from './MapLocationHandler'
import { enterpriseIcon, pickupIcon, dropIcon } from '@/utils/mapUtils'
import { COMPANY_LOCATION } from '@/services/routeService'
import { Marker, Popup } from 'react-leaflet'
import { Location } from '@/types/location'
import { useToast } from '@/hooks/use-toast'
import { TowingProvider } from '@/contexts/TowingContext'

interface MapMarkersProps {
  pickupLocation: Location | null
  dropLocation: Location | null
  selectingPickup: boolean
  selectingDrop: boolean
  onLocationSelect: (location: Location) => void
  setPickupLocation: (location: Location | null) => void
  setDropLocation: (location: Location | null) => void
  onRouteCalculated: (distance: number) => void
}

export const MapMarkers = ({
  pickupLocation,
  dropLocation,
  selectingPickup,
  selectingDrop,
  onLocationSelect,
  setPickupLocation,
  setDropLocation,
  onRouteCalculated,
}: MapMarkersProps) => {
  const { toast } = useToast()

  const handlePickupDragEnd = (latlng: L.LatLng) => {
    const location = { lat: latlng.lat, lng: latlng.lng }
    setPickupLocation(location)
    onLocationSelect(location)
    toast({
      title: 'Punto de recogida actualizado',
      description: 'La ubicación de recogida ha sido actualizada',
    })
  }

  const handleDropDragEnd = (latlng: L.LatLng) => {
    const location = { lat: latlng.lat, lng: latlng.lng }
    setDropLocation(location)
    onLocationSelect(location)
    toast({
      title: 'Punto de entrega actualizado',
      description: 'La ubicación de entrega ha sido actualizada',
    })
  }

  return (
    <>
      <MapLocationHandler
        onLocationSelect={onLocationSelect}
        selectingPickup={selectingPickup}
        selectingDrop={selectingDrop}
      />

      <Marker position={[COMPANY_LOCATION.lat, COMPANY_LOCATION.lng]} icon={enterpriseIcon}>
        <Popup className="rounded-lg shadow-lg">
          <div className="font-semibold">Empresa de Grúas</div>
          <div className="text-sm text-gray-600">Ubicación Principal</div>
        </Popup>
      </Marker>

      {pickupLocation && (
        <DraggableMarker
          position={[pickupLocation.lat, pickupLocation.lng]}
          onDragEnd={handlePickupDragEnd}
          icon={pickupIcon}
          label="Punto de Recogida"
          isPickup={true}
        />
      )}

      {dropLocation && (
        <DraggableMarker
          position={[dropLocation.lat, dropLocation.lng]}
          onDragEnd={handleDropDragEnd}
          icon={dropIcon}
          label="Punto de Entrega"
          isPickup={false}
        />
      )}

      {pickupLocation && dropLocation && (
        <TowingProvider>
          <RoutePolyline
            pickupLocation={pickupLocation}
            dropLocation={dropLocation}
            onRouteCalculated={onRouteCalculated}
          />
        </TowingProvider>
      )}
    </>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\map\MapMetrics.tsx
import { MapPin, Navigation } from 'lucide-react'

interface MapMetricsProps {
  distance: number
  price: number
}

export const MapMetrics = ({ distance, price }: MapMetricsProps) => {
  return (
    <div className="flex justify-between items-center">
      <div className="flex items-center gap-2">
        <MapPin className="text-green-500" />
        <span className="font-semibold">
          Distance:
        </span> {distance.toFixed(2)} km
      </div>
      <div className="flex items-center gap-2">
        <Navigation className="text-primary" />
        <span className="font-semibold">
          Estimated Cost:
        </span> ${price}
      </div>
    </div>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\map\MapUpdater.tsx
import { useEffect, useRef } from 'react'
import { useMap } from 'react-leaflet'
import { LatLngBounds } from 'leaflet'
import { useToast } from '@/hooks/use-toast'
import { Location } from '@/types/location'

interface MapUpdaterProps {
  pickupLocation: Location | null
  dropLocation: Location | null
}

export const MapUpdater = ({
  pickupLocation,
  dropLocation,
}: MapUpdaterProps) => {
  const map = useMap()
  const { toast } = useToast()
  const lastToastTime = useRef(0)

  useEffect(() => {
    if (!map) return

    const now = Date.now()
    const locations = [pickupLocation, dropLocation].filter(
      Boolean,
    ) as Location[]

    if (locations.length === 0) return

    if (locations.length === 1) {
      map.setView([locations[0].lat, locations[0].lng], 15)
    } else {
      const bounds = new LatLngBounds(
        locations.map((loc) => [loc.lat, loc.lng]),
      )
      map.fitBounds(bounds, { padding: [50, 50] })
    }

    if (now - lastToastTime.current > 3000) {
      toast({
        title: 'Mapa actualizado',
        description:
          locations.length > 1
            ? 'Ruta completa visible'
            : 'Vista centrada en ubicación',
      })
      lastToastTime.current = now
    }
  }, [map, pickupLocation, dropLocation, toast])

  return null
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\map\RouteDisplay.tsx
import { Card } from '@/components/ui/card'
import { Route, Shield } from 'lucide-react'
import { useTowing } from '@/contexts/TowingContext'

interface RouteDisplayProps {
  pickupLocation: { lat: number; lng: number } | null
  dropLocation: { lat: number; lng: number } | null
}

export const RouteDisplay = ({
  pickupLocation,
  dropLocation,
}: RouteDisplayProps) => {
  const { totalDistance } = useTowing()

  if (!pickupLocation || !dropLocation) return null

  return (
    <Card className="p-4 space-y-4 bg-gradient-to-br from-white/95 via-blue-50/95 to-white/95 backdrop-blur-md shadow-xl border border-blue-100/50">
      <div className="flex items-center gap-3 py-2">
        <Route className="w-4 h-4 text-gray-500" />
        <div>
          <p className="text-xs font-medium text-gray-900">Total Distance</p>
          <p className="text-base font-semibold text-primary">
            {totalDistance ? totalDistance.toFixed(2) : '0.00'} km
          </p>
        </div>
      </div>
    </Card>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\map\RoutePolyline.tsx
import { useEffect, useState } from 'react'
import { Polyline } from 'react-leaflet'
import { decode } from '@mapbox/polyline'
import { showRouteNotification } from '@/utils/notificationUtils'
import { useTowing } from '@/contexts/TowingContext'
import { getRouteDetails } from '@/services/routeService'
import { COMPANY_LOCATION } from '@/utils/priceCalculator'
import { useToast } from '@/hooks/use-toast'

interface RoutePolylineProps {
  pickupLocation: { lat: number; lng: number } | null
  dropLocation: { lat: number; lng: number } | null
  onRouteCalculated?: (distance: number) => void
}

export const RoutePolyline = ({
  pickupLocation,
  dropLocation,
  onRouteCalculated,
}: RoutePolylineProps) => {
  const [companyToPickupRoute, setCompanyToPickupRoute] = useState<
    [number, number][]
  >([])
  const [pickupToDropRoute, setPickupToDropRoute] = useState<
    [number, number][]
  >([])
  const [dropToCompanyRoute, setDropToCompanyRoute] = useState<
    [number, number][]
  >([])
  const { updateTowingInfo } = useTowing()
  const { toast } = useToast()

  useEffect(() => {
    const fetchRoutes = async () => {
      if (pickupLocation && dropLocation) {
        try {
          // Calculate route from company to pickup
          const companyToPickup = await getRouteDetails(
            COMPANY_LOCATION,
            pickupLocation,
          )
          setCompanyToPickupRoute(
            decode(companyToPickup.geometry).map(([lat, lng]) => [lat, lng]),
          )

          // Calculate route from pickup to drop
          const pickupToDrop = await getRouteDetails(
            pickupLocation,
            dropLocation,
          )
          setPickupToDropRoute(
            decode(pickupToDrop.geometry).map(([lat, lng]) => [lat, lng]),
          )

          // Calculate route from drop back to company
          const dropToCompany = await getRouteDetails(
            dropLocation,
            COMPANY_LOCATION,
          )
          setDropToCompanyRoute(
            decode(dropToCompany.geometry).map(([lat, lng]) => [lat, lng]),
          )

          // Calculate total distance including return to company
          const totalDistance =
            companyToPickup.distance +
            pickupToDrop.distance +
            dropToCompany.distance

          // Update global towing context with total distance
          updateTowingInfo(totalDistance)
          onRouteCalculated?.(totalDistance)
          showRouteNotification(totalDistance)
        } catch (error) {
          console.error('Error calculating routes:', error)
          toast({
            title: 'Error al calcular la ruta',
            description:
              error instanceof Error
                ? error.message
                : 'Por favor, intente nuevamente en unos segundos',
            variant: 'destructive',
          })
        }
      }
    }

    fetchRoutes()
  }, [pickupLocation, dropLocation, onRouteCalculated, updateTowingInfo, toast])

  return (
    <>
      {companyToPickupRoute.length > 0 && (
        <Polyline
          positions={companyToPickupRoute}
          color="blue"
          weight={3}
          dashArray="10, 10"
          opacity={0.7}
        />
      )}
      {pickupToDropRoute.length > 0 && (
        <Polyline
          positions={pickupToDropRoute}
          color="green"
          weight={3}
          opacity={0.9}
        />
      )}
      {dropToCompanyRoute.length > 0 && (
        <Polyline
          positions={dropToCompanyRoute}
          color="red"
          weight={3}
          dashArray="10, 10"
          opacity={0.7}
        />
      )}
    </>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\map\RouteStreetInfo.tsx
import { Card } from '@/components/ui/card'
import { MapPin, Navigation, Loader2 } from 'lucide-react'
import Draggable from 'react-draggable'
import { useToast } from '@/hooks/use-toast'
import { cn } from '@/lib/utils'
import { useRef } from 'react'

interface RouteStreetInfoProps {
  pickupLocation: { lat: number; lng: number } | null
  dropLocation: { lat: number; lng: number } | null
  pickupAddress?: string
  dropAddress?: string
  isLoading?: boolean
}

export const RouteStreetInfo = ({
  pickupLocation,
  dropLocation,
  pickupAddress,
  dropAddress,
  isLoading = false,
}: RouteStreetInfoProps) => {
  const { toast } = useToast()
  const nodeRef = useRef(null)

  if (!pickupLocation && !dropLocation) return null

  return (
    <Draggable handle=".drag-handle" bounds="parent" nodeRef={nodeRef}>
      <div ref={nodeRef} className="absolute z-[1000] max-w-md">
        <Card
          className={cn(
            'p-4 space-y-3 bg-white/95 backdrop-blur-sm shadow-lg transition-all duration-300',
            'hover:shadow-xl border-blue-100/50',
          )}
        >
          <div className="flex items-center justify-between border-b pb-2 mb-2 drag-handle cursor-move">
            <div className="font-semibold text-sm text-primary/90">
              Detalles de Ubicación
            </div>
            {isLoading && (
              <Loader2 className="w-4 h-4 animate-spin text-primary" />
            )}
          </div>

          {pickupLocation && (
            <div className="flex items-start gap-2">
              <MapPin className="w-5 h-5 mt-1 text-green-500 flex-shrink-0" />
              <div className="flex-1">
                <div className="font-semibold text-sm">Punto de Recogida</div>
                <div className="text-sm text-gray-600 break-words">
                  {pickupAddress || 'Cargando dirección...'}
                </div>
                <div className="text-xs text-gray-500 mt-1">
                  Coordenadas: {pickupLocation.lat.toFixed(6)},{' '}
                  {pickupLocation.lng.toFixed(6)}
                </div>
              </div>
            </div>
          )}

          {dropLocation && (
            <div className="flex items-start gap-2">
              <Navigation className="w-5 h-5 mt-1 text-red-500 flex-shrink-0" />
              <div className="flex-1">
                <div className="font-semibold text-sm">Punto de Entrega</div>
                <div className="text-sm text-gray-600 break-words">
                  {dropAddress || 'Cargando dirección...'}
                </div>
                <div className="text-xs text-gray-500 mt-1">
                  Coordenadas: {dropLocation.lat.toFixed(6)},{' '}
                  {dropLocation.lng.toFixed(6)}
                </div>
              </div>
            </div>
          )}
        </Card>
      </div>
    </Draggable>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\map\UserLocationMarker.tsx
import { useState, useEffect } from 'react'
import { Marker, Popup, useMap } from 'react-leaflet'
import L from 'leaflet'
import { useToast } from '@/hooks/use-toast'
import { getAddressFromCoords } from '@/services/geocodingService'
import { MapPin } from 'lucide-react'

interface UserLocationMarkerProps {
  visible: boolean
}

const createUserIcon = () => {
  return L.divIcon({
    className: 'relative',
    html: `
      <div class="relative">
        <div class="absolute -top-4 -left-4 w-8 h-8 bg-blue-500 rounded-full opacity-25 animate-ping"></div>
        <div class="absolute -top-3 -left-3 w-6 h-6 bg-blue-500 rounded-full"></div>
        <div class="absolute -top-2 -left-2 w-4 h-4 bg-white rounded-full flex items-center justify-center">
          <div class="w-2 h-2 bg-blue-500 rounded-full"></div>
        </div>
      </div>
    `,
    iconSize: [20, 20],
  })
}

export const UserLocationMarker = ({ visible }: UserLocationMarkerProps) => {
  const [position, setPosition] = useState<[number, number] | null>(null)
  const [address, setAddress] = useState<string>('')
  const map = useMap()
  const { toast } = useToast()

  useEffect(() => {
    if (!visible) return

    const watchId = navigator.geolocation.watchPosition(
      async (pos) => {
        const newPos: [number, number] = [
          pos.coords.latitude,
          pos.coords.longitude,
        ]
        setPosition(newPos)

        try {
          const addr = await getAddressFromCoords(newPos[0], newPos[1])
          setAddress(addr)
        } catch (error) {
          console.error('Error fetching address:', error)
        }
      },
      (error) => {
        toast({
          title: 'Location Error',
          description:
            'Unable to get your location. Please check your browser permissions.',
          variant: 'destructive',
        })
        console.error('Geolocation error:', error)
      },
      {
        enableHighAccuracy: true,
        timeout: 5000,
        maximumAge: 0,
      },
    )

    return () => {
      navigator.geolocation.clearWatch(watchId)
    }
  }, [visible, toast])

  if (!visible || !position) return null

  return (
    <Marker position={position} icon={createUserIcon()}>
      <Popup>
        <div className="p-2">
          <h3 className="font-semibold mb-1">Your Location</h3>
          <p className="text-sm text-gray-600">{address}</p>
          <div className="text-xs text-gray-500 mt-1">
            {position[0].toFixed(6)}, {position[1].toFixed(6)}
          </div>
        </div>
      </Popup>
    </Marker>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\map\hooks\useMapNotifications.tsx
import { useToast } from '@/hooks/use-toast'

export const useMapNotifications = () => {
  const { toast } = useToast()

  const showLocationSelectionNotification = (type: 'pickup' | 'drop') => {
    toast({
      title:
        type === 'pickup'
          ? 'Seleccionando punto de recogida'
          : 'Seleccionando punto de entrega',
      description: `Haz clic en el mapa para seleccionar el punto de ${type === 'pickup' ? 'recogida' : 'entrega'}`,
      className:
        type === 'pickup'
          ? 'bg-green-50 border-green-200'
          : 'bg-blue-50 border-blue-200',
    })
  }

  const showRouteCalculationError = (error: string) => {
    toast({
      title: 'Error al calcular la ruta',
      description: error,
      variant: 'destructive',
    })
  }

  const showLocationUpdateSuccess = (
    type: 'pickup' | 'drop',
    address: string,
  ) => {
    toast({
      title: `${type === 'pickup' ? 'Punto de recogida' : 'Punto de entrega'} actualizado`,
      description: address,
      className:
        type === 'pickup'
          ? 'bg-green-50 border-green-200'
          : 'bg-blue-50 border-blue-200',
    })
  }

  return {
    showLocationSelectionNotification,
    showRouteCalculationError,
    showLocationUpdateSuccess,
  }
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\map\types\floating-panel.ts
import { ReactNode } from 'react'

export interface FloatingPanelProps {
  isCollapsed?: boolean
  isMaximized?: boolean
  isDragging?: boolean
  onCollapse?: () => void
  onMaximize?: () => void
  onClose?: () => void
  title?: ReactNode
  className?: string
  children?: ReactNode
}

export interface FloatingPanelControlsProps extends FloatingPanelProps {
  onSave?: () => void
  onCancel?: () => void
  onDetailsToggle?: () => void
  children?: ReactNode
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\map\types\map-control.ts
import { Location } from '@/types/location'

export interface MapControlsProps {
  selectingPickup: boolean
  selectingDrop: boolean
  setSelectingPickup: (value: boolean) => void
  setSelectingDrop: (value: boolean) => void
  onPickupClick?: () => void
  onDropClick?: () => void
}

export interface MapControlPanelProps extends MapControlsProps {
  pickupLocation: Location | null
  dropLocation: Location | null
  pickupAddress: string
  dropAddress: string
  isLoading: boolean
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\notifications\NotificationBadge.tsx
import { Bell } from 'lucide-react'
import { cn } from '@/lib/utils'

interface NotificationBadgeProps {
  count?: number
  className?: string
}

export const NotificationBadge = ({ count, className }: NotificationBadgeProps) => {
  return (
    <div className={cn("relative inline-flex", className)}>
      <Bell className="w-5 h-5 text-primary" />
      {count && count > 0 && (
        <div className="absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full flex items-center justify-center">
          <span className="text-xs text-white font-bold">{count}</span>
        </div>
      )}
    </div>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\panels\CostDetailsPanel.tsx
import { PaymentSteps } from '../payment/PaymentSteps'
import { CostEstimation } from '../CostEstimation'
import { TollBreakdownPanel } from './TollBreakdownPanel'
import { CostSummary } from '../cost/CostSummary'
import { Switch } from '../ui/switch'
import { Label } from '../ui/label'
import { TollLocation } from '@/types/toll'
import { useToast } from '@/hooks/use-toast'

interface CostDetailsPanelProps {
  steps: Array<{ title: string; description: string }>
  requiresInvoice: boolean
  setRequiresInvoice: (value: boolean) => void
  subtotal: number
  tax: number
  finalTotal: number
  detectedTolls: TollLocation[]
  totalTollCost: number
  onShowPayment: () => void
}

export const CostDetailsPanel = ({
  steps,
  requiresInvoice,
  setRequiresInvoice,
  subtotal,
  tax,
  finalTotal,
  detectedTolls,
  totalTollCost,
  onShowPayment,
}: CostDetailsPanelProps) => {
  const { toast } = useToast()

  return (
    <div className="space-y-6">
      <PaymentSteps currentStep={1} steps={steps} />
      <div className="space-y-4">
        <div className="flex items-center space-x-2 p-4 bg-white/50 rounded-lg border border-primary/10">
          <Label htmlFor="invoice" className="text-sm text-shadow-sm">
            Requiere factura (IVA 16%)
          </Label>
          <Switch
            id="invoice"
            checked={requiresInvoice}
            onCheckedChange={setRequiresInvoice}
          />
        </div>

        <CostEstimation
          onShowPayment={() => {
            onShowPayment()
            toast({
              title: "Preparando pago",
              description: "Redirigiendo al formulario de pago...",
              className: "text-shadow-sm"
            })
          }}
          subtotal={subtotal}
          tax={tax}
          finalTotal={finalTotal}
        />

        <TollBreakdownPanel
          detectedTolls={detectedTolls}
          totalTollCost={totalTollCost}
        />

        <CostSummary
          subtotal={subtotal}
          tax={tax}
          finalTotal={finalTotal}
          detectedTolls={detectedTolls}
          totalTollCost={totalTollCost}
          requiresInvoice={requiresInvoice}
        />
      </div>
    </div>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\panels\FloatingQuestionsPanelContent.tsx
import { PaymentSteps } from '../payment/PaymentSteps'
import { ServiceDetailsPanel } from './ServiceDetailsPanel'
import { CostDetailsPanel } from './CostDetailsPanel'
import { Location } from '@/types/location'
import { motion, AnimatePresence } from 'framer-motion'

interface FloatingQuestionsPanelContentProps {
  currentPage: number
  pickupLocation: Location | null
  dropLocation: Location | null
  pickupAddress: string
  dropAddress: string
  onPickupSelect: (location: Location) => void
  onDropSelect: (location: Location) => void
  onSelectingPickup: () => void
  onSelectingDrop: () => void
  requiresInvoice: boolean
  setRequiresInvoice: (value: boolean) => void
  subtotal: number
  tax: number
  finalTotal: number
  detectedTolls: any[]
  totalTollCost: number
  onShowPayment: () => void
  paymentSteps: Array<{ title: string; description: string }>
}

export const FloatingQuestionsPanelContent = ({
  currentPage,
  pickupLocation,
  dropLocation,
  pickupAddress,
  dropAddress,
  onPickupSelect,
  onDropSelect,
  onSelectingPickup,
  onSelectingDrop,
  requiresInvoice,
  setRequiresInvoice,
  subtotal,
  tax,
  finalTotal,
  detectedTolls,
  totalTollCost,
  onShowPayment,
  paymentSteps,
}: FloatingQuestionsPanelContentProps) => {
  const pages = [
    {
      id: 1,
      title: 'Detalles del Servicio',
      content: (
        <ServiceDetailsPanel
          pickupLocation={pickupLocation}
          dropLocation={dropLocation}
          pickupAddress={pickupAddress}
          dropAddress={dropAddress}
          onPickupSelect={onPickupSelect}
          onDropSelect={onDropSelect}
          onSelectingPickup={onSelectingPickup}
          onSelectingDrop={onSelectingDrop}
          steps={paymentSteps}
        />
      ),
    },
    {
      id: 2,
      title: 'Costos y Ruta',
      content: (
        <CostDetailsPanel
          steps={paymentSteps}
          requiresInvoice={requiresInvoice}
          setRequiresInvoice={setRequiresInvoice}
          subtotal={subtotal}
          tax={tax}
          finalTotal={finalTotal}
          detectedTolls={detectedTolls}
          totalTollCost={totalTollCost}
          onShowPayment={onShowPayment}
        />
      ),
    },
  ]

  return (
    <AnimatePresence mode="wait">
      <motion.div
        key={currentPage}
        initial={{ opacity: 0, x: 20 }}
        animate={{ opacity: 1, x: 0 }}
        exit={{ opacity: 0, x: -20 }}
        transition={{ duration: 0.3 }}
        className="min-h-[400px]"
      >
        {pages[currentPage].content}
      </motion.div>
    </AnimatePresence>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\panels\LocationDetailsPanel.tsx
import { Location } from '@/types/location'
import { Card } from '../ui/card'
import { MapPin, Navigation } from 'lucide-react'

interface LocationDetailsPanelProps {
  pickupLocation: Location | null
  dropLocation: Location | null
  pickupAddress: string
  dropAddress: string
}

export const LocationDetailsPanel = ({
  pickupLocation,
  dropLocation,
  pickupAddress,
  dropAddress,
}: LocationDetailsPanelProps) => {
  if (!pickupLocation && !dropLocation) return null

  return (
    <Card className="bg-white/95 backdrop-blur-sm p-4 shadow-lg border-blue-100/50 max-w-sm mx-auto">
      {pickupLocation && (
        <div className="flex items-start gap-2 mb-4">
          <MapPin className="w-5 h-5 mt-1 text-green-500 flex-shrink-0" />
          <div>
            <div className="font-semibold text-shadow-sm">Punto de Recogida</div>
            <div className="text-sm text-gray-600 break-words text-shadow-sm">
              {pickupAddress}
            </div>
            <div className="text-xs text-gray-500 mt-1">
              {pickupLocation.lat.toFixed(6)}, {pickupLocation.lng.toFixed(6)}
            </div>
          </div>
        </div>
      )}

      {dropLocation && (
        <div className="flex items-start gap-2">
          <Navigation className="w-5 h-5 mt-1 text-red-500 flex-shrink-0" />
          <div>
            <div className="font-semibold text-shadow-sm">Punto de Entrega</div>
            <div className="text-sm text-gray-600 break-words text-shadow-sm">
              {dropAddress}
            </div>
            <div className="text-xs text-gray-500 mt-1">
              {dropLocation.lat.toFixed(6)}, {dropLocation.lng.toFixed(6)}
            </div>
          </div>
        </div>
      )}
    </Card>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\panels\ServiceDetailsPanel.tsx
import { PaymentSteps } from '../payment/PaymentSteps'
import { VehicleForm } from '../VehicleForm'
import { LocationDetailsPanel } from './LocationDetailsPanel'
import { Location } from '@/types/location'
import { TowingProvider } from '@/contexts/TowingContext'

interface ServiceDetailsPanelProps {
  pickupLocation: Location | null
  dropLocation: Location | null
  pickupAddress: string
  dropAddress: string
  onPickupSelect: (location: Location) => void
  onDropSelect: (location: Location) => void
  onSelectingPickup: () => void
  onSelectingDrop: () => void
  steps: Array<{ title: string; description: string }>
}

export const ServiceDetailsPanel = ({
  pickupLocation,
  dropLocation,
  pickupAddress,
  dropAddress,
  onPickupSelect,
  onDropSelect,
  onSelectingPickup,
  onSelectingDrop,
  steps,
}: ServiceDetailsPanelProps) => {
  return (
    <>
      <PaymentSteps currentStep={0} steps={steps} />
      <TowingProvider>
        <VehicleForm
          pickupLocation={pickupLocation}
          dropLocation={dropLocation}
          pickupAddress={pickupAddress}
          dropAddress={dropAddress}
          onPickupSelect={onPickupSelect}
          onDropSelect={onDropSelect}
          onSelectingPickup={onSelectingPickup}
          onSelectingDrop={onSelectingDrop}
        />
      </TowingProvider>
      <LocationDetailsPanel
        pickupLocation={pickupLocation}
        dropLocation={dropLocation}
        pickupAddress={pickupAddress}
        dropAddress={dropAddress}
      />
    </>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\panels\TollBreakdownPanel.tsx
import { TollLocation } from '@/types/toll'
import { Card } from '../ui/card'
import { Receipt } from 'lucide-react'
import { TollBreakdownSection } from '../cost/TollBreakdownSection'
import { Separator } from '../ui/separator'

interface TollBreakdownPanelProps {
  detectedTolls: TollLocation[]
  totalTollCost: number
}

export const TollBreakdownPanel = ({
  detectedTolls,
  totalTollCost,
}: TollBreakdownPanelProps) => {
  if (detectedTolls.length === 0) return null

  const outboundTolls = detectedTolls.filter(toll => toll.direction === 'outbound')
  const returnTolls = detectedTolls.filter(toll => toll.direction === 'return')

  return (
    <Card className="bg-white/95 backdrop-blur-sm p-4 shadow-lg border-blue-100/50">
      <div className="space-y-4">
        <div className="flex items-center gap-2">
          <Receipt className="w-4 h-4 text-blue-500" />
          <h3 className="font-medium text-gray-900 text-shadow-sm">
            Costos de Peaje (Total: ${totalTollCost})
          </h3>
        </div>

        {outboundTolls.length > 0 && (
          <>
            <TollBreakdownSection tolls={outboundTolls} direction="outbound" />
            <Separator />
          </>
        )}

        {returnTolls.length > 0 && (
          <TollBreakdownSection tolls={returnTolls} direction="return" />
        )}
      </div>
    </Card>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\payment\PaymentActions.tsx
import { Button } from '@/components/ui/button'
import { CheckCircle } from 'lucide-react'
import { cn } from '@/lib/utils'
import { formatCurrency } from '@/utils/priceCalculator'

interface PaymentActionsProps {
  onClose: () => void
  isProcessing: boolean
  handleSubmit: (e: React.FormEvent) => Promise<void>
  cardComplete: boolean
  finalAmount: number
}

export const PaymentActions = ({
  onClose,
  isProcessing,
  handleSubmit,
  cardComplete,
  finalAmount,
}: PaymentActionsProps) => {
  return (
    <div className="flex gap-3 justify-end">
      <Button
        type="button"
        variant="outline"
        onClick={onClose}
        disabled={isProcessing}
        className="border-gray-300 hover:bg-gray-100"
      >
        Cancelar
      </Button>
      <Button
        type="submit"
        disabled={isProcessing || !cardComplete}
        onClick={handleSubmit}
        className={cn(
          'bg-gradient-to-r from-primary to-primary/90 hover:from-primary/90 hover:to-primary text-white min-w-[120px]',
          isProcessing && 'opacity-80',
        )}
      >
        {isProcessing ? (
          <span className="flex items-center gap-2">
            <div className="w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin" />
            Procesando...
          </span>
        ) : (
          <span className="flex items-center gap-2">
            <CheckCircle className="w-4 h-4" />
            Pagar {formatCurrency(finalAmount)}
          </span>
        )}
      </Button>
    </div>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\payment\PaymentAmount.tsx
import { formatCurrency } from '@/utils/priceCalculator'

interface PaymentAmountProps {
  subtotal: number
  tax: number
  requiresInvoice: boolean
  finalTotal: number
}

export const PaymentAmount = ({ subtotal, tax, requiresInvoice, finalTotal }: PaymentAmountProps) => {
  return (
    <div className="space-y-2">
      <div className="flex justify-between items-center text-sm">
        <span>Subtotal:</span>
        <span>{formatCurrency(subtotal)}</span>
      </div>
      {requiresInvoice && (
        <div className="flex justify-between items-center text-sm text-gray-600">
          <span>IVA (16%):</span>
          <span>{formatCurrency(tax)}</span>
        </div>
      )}
      <div className="flex justify-between items-center text-lg font-bold pt-2 border-t">
        <span>Total a Pagar:</span>
        <span className="text-primary">{formatCurrency(finalTotal)}</span>
      </div>
    </div>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\payment\PaymentFooter.tsx
import { Shield, Calendar } from 'lucide-react'

export const PaymentFooter = () => {
  return (
    <div className="flex items-center justify-between text-sm text-gray-600">
      <span className="flex items-center gap-1.5">
        <Shield className="w-4 h-4" />
        Encriptación SSL Segura
      </span>
      <span className="flex items-center gap-1.5">
        <Calendar className="w-4 h-4" />
        {new Date().toLocaleDateString()}
      </span>
    </div>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\payment\PaymentForm.tsx
import { useState } from 'react'
import { CardElement } from '@stripe/react-stripe-js'
import { Button } from '../ui/button'
import { PaymentAmount } from './PaymentAmount'

interface PaymentFormProps {
  subtotal: number
  tax: number
  requiresInvoice: boolean
  onCardChange: (complete: boolean) => void
  finalTotal: number
  requestId?: string
}

export const PaymentForm = ({
  subtotal,
  tax,
  requiresInvoice,
  onCardChange,
  finalTotal,
  requestId = '',
}: PaymentFormProps) => {
  const [isProcessing, setIsProcessing] = useState(false)

  return (
    <div className="space-y-6">
      <PaymentAmount
        subtotal={subtotal}
        tax={tax}
        requiresInvoice={requiresInvoice}
        finalTotal={finalTotal}
      />

      <div className="p-4 border rounded-lg">
        <CardElement
          onChange={(e) => onCardChange(e.complete)}
          options={{
            style: {
              base: {
                fontSize: '16px',
                color: '#424770',
                '::placeholder': {
                  color: '#aab7c4',
                },
              },
              invalid: {
                color: '#9e2146',
              },
            },
          }}
        />
      </div>

      <Button
        type="submit"
        disabled={isProcessing}
        className="w-full"
      >
        {isProcessing ? 'Procesando...' : `Pagar ${finalTotal.toLocaleString('es-MX', { style: 'currency', currency: 'MXN' })}`}
      </Button>
    </div>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\payment\PaymentHeader.tsx
import { CreditCard } from 'lucide-react'
import { DialogHeader, DialogTitle } from '@/components/ui/dialog'

export const PaymentHeader = () => {
  return (
    <DialogHeader>
      <DialogTitle className="flex items-center gap-2 text-xl font-semibold">
        <CreditCard className="w-5 h-5 text-primary" />
        Pago Seguro
      </DialogTitle>
    </DialogHeader>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\payment\PaymentSteps.tsx
import { motion } from 'framer-motion'

interface Step {
  title: string
  description: string
}

interface PaymentStepsProps {
  currentStep: number
  steps: Step[]
}

export const PaymentSteps = ({ currentStep, steps }: PaymentStepsProps): JSX.Element => {
  return (
    <div className="space-y-4 mb-6">
      {steps.map((step, index) => (
        <motion.div
          key={index}
          initial={{ opacity: 0, y: 10 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ delay: index * 0.1 }}
          className={`p-4 rounded-lg border ${
            currentStep === index
              ? 'bg-primary/5 border-primary'
              : 'bg-white/50 border-gray-200'
          }`}
        >
          <div className="flex items-start gap-3">
            <div
              className={`w-6 h-6 rounded-full flex items-center justify-center text-sm ${
                currentStep >= index ? 'bg-primary text-white' : 'bg-gray-200'
              }`}
            >
              {index + 1}
            </div>
            <div>
              <h3 className="font-medium text-shadow-sm">{step.title}</h3>
              <p className="text-sm text-gray-600 mt-1">{step.description}</p>
            </div>
          </div>
        </motion.div>
      ))}
    </div>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\payment\PaymentWindow.tsx
import { useState } from 'react'
import { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog'
import { PaymentForm } from './PaymentForm'
import { Lock, ShieldCheck } from 'lucide-react'
import { motion } from 'framer-motion'
import { format } from 'date-fns'
import { formatCurrency } from '@/utils/priceCalculator'
import { Elements } from '@stripe/react-stripe-js'
import { loadStripe } from '@stripe/stripe-js'

// Initialize Stripe outside of component to avoid recreating the Stripe object
const stripePromise = loadStripe('pk_test_51Kmzu5Huhx2WCwdMfDhPkRWGwdER3XFkbCmvOYMtKoI5h15QuU7R0QnkgjkFK3gMLoYXuRxKQrqv6fMatPWQFUEx00YLH32VSn')

export interface PaymentWindowProps {
  isOpen: boolean
  onClose: () => void
  subtotal: number
  tax: number
  requiresInvoice: boolean
  onPaymentSubmit: () => Promise<void>
  finalTotal: number
}

const PaymentWindow = ({
  isOpen,
  onClose,
  subtotal,
  tax,
  requiresInvoice,
  onPaymentSubmit,
  finalTotal,
}: PaymentWindowProps) => {
  const [cardComplete, setCardComplete] = useState(false)
  const [isProcessing, setIsProcessing] = useState(false)

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault()
    setIsProcessing(true)
    try {
      await onPaymentSubmit()
    } finally {
      setIsProcessing(false)
    }
  }

  return (
    <Dialog open={isOpen} onOpenChange={onClose}>
      <DialogContent className="sm:max-w-[600px]">
        <DialogHeader>
          <DialogTitle className="flex items-center gap-2 text-xl">
            <Lock className="w-5 h-5 text-primary" />
            Pago Seguro
          </DialogTitle>
        </DialogHeader>

        <div className="mt-4">
          <div className="bg-green-50 border border-green-100 rounded-lg p-3 mb-6">
            <div className="flex items-center gap-2 text-green-700">
              <ShieldCheck className="w-5 h-5" />
              <span className="text-sm font-medium">
                Encriptación SSL Segura
              </span>
            </div>
            <p className="text-xs text-green-600 mt-1">
              Tus datos de pago están protegidos
            </p>
          </div>

          <motion.div
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            className="space-y-6"
          >
            <div className="flex justify-between items-center text-sm text-gray-500">
              <span>{format(new Date(), 'dd/MM/yyyy')}</span>
            </div>

            <Elements stripe={stripePromise}>
              <PaymentForm
                subtotal={subtotal}
                tax={tax}
                requiresInvoice={requiresInvoice}
                onCardChange={(complete: boolean) => setCardComplete(complete)}
                finalTotal={finalTotal}
              />
            </Elements>

            <div className="flex justify-end gap-3 mt-6">
              <button
                type="button"
                onClick={onClose}
                disabled={isProcessing}
                className="px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-800 focus:outline-none"
              >
                Cancelar
              </button>
              <button
                type="submit"
                disabled={!cardComplete || isProcessing}
                onClick={handleSubmit}
                className={`
                  px-4 py-2 rounded-md text-sm font-medium text-white
                  ${
                    !cardComplete || isProcessing
                      ? 'bg-gray-400 cursor-not-allowed'
                      : 'bg-primary hover:bg-primary/90'
                  }
                  transition-colors duration-200
                `}
              >
                {isProcessing ? (
                  <span className="flex items-center gap-2">
                    <div className="w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin" />
                    Procesando...
                  </span>
                ) : (
                  `Pagar ${formatCurrency(finalTotal)}`
                )}
              </button>
            </div>
          </motion.div>
        </div>
      </DialogContent>
    </Dialog>
  )
}

export default PaymentWindow


// C:\Users\israe\Documents\GitHub\recentmap\src\components\reservations\components\ReservationFilters.tsx
import { Input } from '@/components/ui/input'
import { Button } from '@/components/ui/button'
import { Calendar } from '@/components/ui/calendar'
import { Filter, SortAsc, SortDesc } from 'lucide-react'
import { motion } from 'framer-motion'

interface ReservationFiltersProps {
  searchQuery: string
  onSearchChange: (value: string) => void
  selectedDate: Date | undefined
  onDateSelect: (date: Date | Date[] | undefined) => void
  sortDirection: 'asc' | 'desc'
  onSortChange: () => void
}

export const ReservationFilters = ({
  searchQuery,
  onSearchChange,
  selectedDate,
  onDateSelect,
  sortDirection,
  onSortChange,
}: ReservationFiltersProps) => {
  const handleDateSelect = (date: Date | Date[] | undefined) => {
    if (Array.isArray(date)) {
      onDateSelect(date[0])
    } else {
      onDateSelect(date)
    }
  }

  return (
    <div className="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
      <div className="space-y-2">
        <div className="flex items-center gap-2">
          <Filter className="h-4 w-4 text-gray-500" />
          <span className="text-sm font-medium text-gray-700">
            Filtrar Reservas
          </span>
        </div>
        <Input
          placeholder="Buscar reservas..."
          value={searchQuery}
          onChange={(e) => onSearchChange(e.target.value)}
          className="w-full"
        />
      </div>
      <div className="space-y-2">
        <div className="flex items-center gap-2">
          <Filter className="h-4 w-4 text-gray-500" />
          <span className="text-sm font-medium text-gray-700">
            Filtrar por Fecha
          </span>
        </div>
        <div className="flex items-center gap-2">
          <Calendar
            mode="single"
            selected={selectedDate}
            onSelect={handleDateSelect}
            className="rounded-md border"
          />
          <Button
            variant="outline"
            size="icon"
            onClick={onSortChange}
            className="relative group"
          >
            {sortDirection === 'asc' ? (
              <SortAsc className="h-4 w-4" />
            ) : (
              <SortDesc className="h-4 w-4" />
            )}
          </Button>
        </div>
      </div>
    </div>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\reservations\components\ReservationList.tsx
import {
  Table,
  TableBody,
  TableCell,
  TableHead,
  TableHeader,
  TableRow,
} from '@/components/ui/table'
import { Button } from '@/components/ui/button'
import { useToast } from '@/hooks/use-toast'
import { ServiceRequest } from '@/types/service'
import { motion } from 'framer-motion'

interface ReservationListProps {
  reservations: ServiceRequest[]
  isLoading: boolean
}

export const ReservationList = ({
  reservations,
  isLoading,
}: ReservationListProps) => {
  const { toast } = useToast()

  return (
    <motion.div
      initial={{ opacity: 0 }}
      animate={{ opacity: 1 }}
      exit={{ opacity: 0 }}
      className="rounded-md border"
    >
      <Table>
        <TableHeader>
          <TableRow>
            <TableHead>ID</TableHead>
            <TableHead>Status</TableHead>
            <TableHead>Created</TableHead>
            <TableHead>Customer</TableHead>
            <TableHead>Vehicle</TableHead>
            <TableHead>Actions</TableHead>
          </TableRow>
        </TableHeader>
        <TableBody>
          {reservations.map((reservation) => (
            <TableRow key={reservation.id}>
              <TableCell>{reservation.id}</TableCell>
              <TableCell>
                <span
                  className={`px-2 py-1 rounded-full text-xs ${
                    reservation.status === 'completed'
                      ? 'bg-green-100 text-green-800'
                      : 'bg-yellow-100 text-yellow-800'
                  }`}
                >
                  {reservation.status}
                </span>
              </TableCell>
              <TableCell>
                {reservation.createdAt.toLocaleDateString()}
              </TableCell>
              <TableCell>{reservation.username}</TableCell>
              <TableCell>{`${reservation.vehicleYear} ${reservation.vehicleMake} ${reservation.vehicleModel}`}</TableCell>
              <TableCell>
                <Button
                  variant="outline"
                  size="sm"
                  onClick={() => {
                    toast({
                      title: 'Ver Detalles',
                      description: `Viendo reserva ${reservation.id}`,
                    })
                  }}
                >
                  Ver
                </Button>
              </TableCell>
            </TableRow>
          ))}
        </TableBody>
      </Table>
    </motion.div>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\service\ServiceCompletionDialog.tsx
import { useState } from 'react'
import {
  Dialog,
  DialogContent,
  DialogDescription,
  DialogFooter,
  DialogHeader,
  DialogTitle,
} from '@/components/ui/dialog'
import { Button } from '@/components/ui/button'
import { Textarea } from '@/components/ui/textarea'
import { completeService } from '@/utils/serviceCompletion'
import { Loader2, CheckCircle } from 'lucide-react'

interface ServiceCompletionDialogProps {
  isOpen: boolean
  onClose: () => void
  requestId: string
}

export const ServiceCompletionDialog = ({
  isOpen,
  onClose,
  requestId,
}: ServiceCompletionDialogProps) => {
  const [notes, setNotes] = useState('')
  const [isSubmitting, setIsSubmitting] = useState(false)

  const handleComplete = async () => {
    setIsSubmitting(true)
    try {
      await completeService(requestId, notes)
      onClose()
    } catch (error) {
      console.error('Error completing service:', error)
    } finally {
      setIsSubmitting(false)
    }
  }

  return (
    <Dialog open={isOpen} onOpenChange={onClose}>
      <DialogContent className="sm:max-w-[425px]">
        <DialogHeader>
          <DialogTitle className="flex items-center gap-2">
            <CheckCircle className="h-5 w-5 text-green-500" />
            Confirm Service Completion
          </DialogTitle>
          <DialogDescription>
            Please confirm that the towing service has been completed to your
            satisfaction.
          </DialogDescription>
        </DialogHeader>

        <div className="grid gap-4 py-4">
          <Textarea
            placeholder="Add any notes about the service (optional)"
            value={notes}
            onChange={(e) => setNotes(e.target.value)}
            className="min-h-[100px]"
          />
        </div>

        <DialogFooter>
          <Button
            variant="outline"
            onClick={onClose}
            disabled={isSubmitting}
          >
            Cancel
          </Button>
          <Button
            onClick={handleComplete}
            disabled={isSubmitting}
            className="bg-green-600 hover:bg-green-700"
          >
            {isSubmitting ? (
              <>
                <Loader2 className="mr-2 h-4 w-4 animate-spin" />
                Confirming...
              </>
            ) : (
              'Confirm Completion'
            )}
          </Button>
        </DialogFooter>
      </DialogContent>
    </Dialog>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\accordion.tsx
import * as React from 'react'
import * as AccordionPrimitive from '@radix-ui/react-accordion'
import { ChevronDown } from 'lucide-react'

import { cn } from '@/lib/utils'

const Accordion = AccordionPrimitive.Root

const AccordionItem = React.forwardRef<
  React.ElementRef<typeof AccordionPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>
>(({ className, ...props }, ref) => (
  <AccordionPrimitive.Item
    ref={ref}
    className={cn('border-b', className)}
    {...props}
  />
))
AccordionItem.displayName = 'AccordionItem'

const AccordionTrigger = React.forwardRef<
  React.ElementRef<typeof AccordionPrimitive.Trigger>,
  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>
>(({ className, children, ...props }, ref) => (
  <AccordionPrimitive.Header className="flex">
    <AccordionPrimitive.Trigger
      ref={ref}
      className={cn(
        'flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180',
        className,
      )}
      {...props}
    >
      {children}
      <ChevronDown className="h-4 w-4 shrink-0 transition-transform duration-200" />
    </AccordionPrimitive.Trigger>
  </AccordionPrimitive.Header>
))
AccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName

const AccordionContent = React.forwardRef<
  React.ElementRef<typeof AccordionPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>
>(({ className, children, ...props }, ref) => (
  <AccordionPrimitive.Content
    ref={ref}
    className="overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down"
    {...props}
  >
    <div className={cn('pb-4 pt-0', className)}>{children}</div>
  </AccordionPrimitive.Content>
))

AccordionContent.displayName = AccordionPrimitive.Content.displayName

export { Accordion, AccordionItem, AccordionTrigger, AccordionContent }



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\alert-dialog.tsx
import * as React from 'react'
import * as AlertDialogPrimitive from '@radix-ui/react-alert-dialog'

import { cn } from '@/lib/utils'
import { buttonVariants } from '@/components/ui/button'

const AlertDialog = AlertDialogPrimitive.Root

const AlertDialogTrigger = AlertDialogPrimitive.Trigger

const AlertDialogPortal = AlertDialogPrimitive.Portal

const AlertDialogOverlay = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>
>(({ className, ...props }, ref) => (
  <AlertDialogPrimitive.Overlay
    className={cn(
      'fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0',
      className,
    )}
    {...props}
    ref={ref}
  />
))
AlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName

const AlertDialogContent = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>
>(({ className, ...props }, ref) => (
  <AlertDialogPortal>
    <AlertDialogOverlay />
    <AlertDialogPrimitive.Content
      ref={ref}
      className={cn(
        'fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg',
        className,
      )}
      {...props}
    />
  </AlertDialogPortal>
))
AlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName

const AlertDialogHeader = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      'flex flex-col space-y-2 text-center sm:text-left',
      className,
    )}
    {...props}
  />
)
AlertDialogHeader.displayName = 'AlertDialogHeader'

const AlertDialogFooter = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      'flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2',
      className,
    )}
    {...props}
  />
)
AlertDialogFooter.displayName = 'AlertDialogFooter'

const AlertDialogTitle = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Title>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>
>(({ className, ...props }, ref) => (
  <AlertDialogPrimitive.Title
    ref={ref}
    className={cn('text-lg font-semibold', className)}
    {...props}
  />
))
AlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName

const AlertDialogDescription = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Description>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>
>(({ className, ...props }, ref) => (
  <AlertDialogPrimitive.Description
    ref={ref}
    className={cn('text-sm text-muted-foreground', className)}
    {...props}
  />
))
AlertDialogDescription.displayName =
  AlertDialogPrimitive.Description.displayName

const AlertDialogAction = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Action>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>
>(({ className, ...props }, ref) => (
  <AlertDialogPrimitive.Action
    ref={ref}
    className={cn(buttonVariants(), className)}
    {...props}
  />
))
AlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName

const AlertDialogCancel = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>
>(({ className, ...props }, ref) => (
  <AlertDialogPrimitive.Cancel
    ref={ref}
    className={cn(
      buttonVariants({ variant: 'outline' }),
      'mt-2 sm:mt-0',
      className,
    )}
    {...props}
  />
))
AlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName

export {
  AlertDialog,
  AlertDialogPortal,
  AlertDialogOverlay,
  AlertDialogTrigger,
  AlertDialogContent,
  AlertDialogHeader,
  AlertDialogFooter,
  AlertDialogTitle,
  AlertDialogDescription,
  AlertDialogAction,
  AlertDialogCancel,
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\alert.tsx
import * as React from 'react'
import { cva, type VariantProps } from 'class-variance-authority'

import { cn } from '@/lib/utils'

const alertVariants = cva(
  'relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground',
  {
    variants: {
      variant: {
        default: 'bg-background text-foreground',
        destructive:
          'border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive',
      },
    },
    defaultVariants: {
      variant: 'default',
    },
  },
)

const Alert = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>
>(({ className, variant, ...props }, ref) => (
  <div
    ref={ref}
    role="alert"
    className={cn(alertVariants({ variant }), className)}
    {...props}
  />
))
Alert.displayName = 'Alert'

const AlertTitle = React.forwardRef<
  HTMLParagraphElement,
  React.HTMLAttributes<HTMLHeadingElement>
>(({ className, ...props }, ref) => (
  <h5
    ref={ref}
    className={cn('mb-1 font-medium leading-none tracking-tight', className)}
    {...props}
  />
))
AlertTitle.displayName = 'AlertTitle'

const AlertDescription = React.forwardRef<
  HTMLParagraphElement,
  React.HTMLAttributes<HTMLParagraphElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn('text-sm [&_p]:leading-relaxed', className)}
    {...props}
  />
))
AlertDescription.displayName = 'AlertDescription'

export { Alert, AlertTitle, AlertDescription }



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\aspect-ratio.tsx
import * as AspectRatioPrimitive from '@radix-ui/react-aspect-ratio'

const AspectRatio = AspectRatioPrimitive.Root

export { AspectRatio }



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\avatar.tsx
import * as React from 'react'
import * as AvatarPrimitive from '@radix-ui/react-avatar'

import { cn } from '@/lib/utils'

const Avatar = React.forwardRef<
  React.ElementRef<typeof AvatarPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>
>(({ className, ...props }, ref) => (
  <AvatarPrimitive.Root
    ref={ref}
    className={cn(
      'relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full',
      className,
    )}
    {...props}
  />
))
Avatar.displayName = AvatarPrimitive.Root.displayName

const AvatarImage = React.forwardRef<
  React.ElementRef<typeof AvatarPrimitive.Image>,
  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>
>(({ className, ...props }, ref) => (
  <AvatarPrimitive.Image
    ref={ref}
    className={cn('aspect-square h-full w-full', className)}
    {...props}
  />
))
AvatarImage.displayName = AvatarPrimitive.Image.displayName

const AvatarFallback = React.forwardRef<
  React.ElementRef<typeof AvatarPrimitive.Fallback>,
  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>
>(({ className, ...props }, ref) => (
  <AvatarPrimitive.Fallback
    ref={ref}
    className={cn(
      'flex h-full w-full items-center justify-center rounded-full bg-muted',
      className,
    )}
    {...props}
  />
))
AvatarFallback.displayName = AvatarPrimitive.Fallback.displayName

export { Avatar, AvatarImage, AvatarFallback }



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\badge.tsx
import * as React from 'react'
import { cva, type VariantProps } from 'class-variance-authority'

import { cn } from '@/lib/utils'

const badgeVariants = cva(
  'inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2',
  {
    variants: {
      variant: {
        default:
          'border-transparent bg-primary text-primary-foreground hover:bg-primary/80',
        secondary:
          'border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80',
        destructive:
          'border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80',
        outline: 'text-foreground',
      },
    },
    defaultVariants: {
      variant: 'default',
    },
  },
)

export interface BadgeProps
  extends React.HTMLAttributes<HTMLDivElement>,
    VariantProps<typeof badgeVariants> {}

function Badge({ className, variant, ...props }: BadgeProps) {
  return (
    <div className={cn(badgeVariants({ variant }), className)} {...props} />
  )
}

export { Badge, badgeVariants }



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\breadcrumb.tsx
import * as React from 'react'
import { Slot } from '@radix-ui/react-slot'
import { ChevronRight, MoreHorizontal } from 'lucide-react'

import { cn } from '@/lib/utils'

const Breadcrumb = React.forwardRef<
  HTMLElement,
  React.ComponentPropsWithoutRef<'nav'> & {
    separator?: React.ReactNode
  }
>(({ ...props }, ref) => <nav ref={ref} aria-label="breadcrumb" {...props} />)
Breadcrumb.displayName = 'Breadcrumb'

const BreadcrumbList = React.forwardRef<
  HTMLOListElement,
  React.ComponentPropsWithoutRef<'ol'>
>(({ className, ...props }, ref) => (
  <ol
    ref={ref}
    className={cn(
      'flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5',
      className,
    )}
    {...props}
  />
))
BreadcrumbList.displayName = 'BreadcrumbList'

const BreadcrumbItem = React.forwardRef<
  HTMLLIElement,
  React.ComponentPropsWithoutRef<'li'>
>(({ className, ...props }, ref) => (
  <li
    ref={ref}
    className={cn('inline-flex items-center gap-1.5', className)}
    {...props}
  />
))
BreadcrumbItem.displayName = 'BreadcrumbItem'

const BreadcrumbLink = React.forwardRef<
  HTMLAnchorElement,
  React.ComponentPropsWithoutRef<'a'> & {
    asChild?: boolean
  }
>(({ asChild, className, ...props }, ref) => {
  const Comp = asChild ? Slot : 'a'

  return (
    <Comp
      ref={ref}
      className={cn('transition-colors hover:text-foreground', className)}
      {...props}
    />
  )
})
BreadcrumbLink.displayName = 'BreadcrumbLink'

const BreadcrumbPage = React.forwardRef<
  HTMLSpanElement,
  React.ComponentPropsWithoutRef<'span'>
>(({ className, ...props }, ref) => (
  <span
    ref={ref}
    role="link"
    aria-disabled="true"
    aria-current="page"
    className={cn('font-normal text-foreground', className)}
    {...props}
  />
))
BreadcrumbPage.displayName = 'BreadcrumbPage'

const BreadcrumbSeparator = ({
  children,
  className,
  ...props
}: React.ComponentProps<'li'>) => (
  <li
    role="presentation"
    aria-hidden="true"
    className={cn('[&>svg]:size-3.5', className)}
    {...props}
  >
    {children ?? <ChevronRight />}
  </li>
)
BreadcrumbSeparator.displayName = 'BreadcrumbSeparator'

const BreadcrumbEllipsis = ({
  className,
  ...props
}: React.ComponentProps<'span'>) => (
  <span
    role="presentation"
    aria-hidden="true"
    className={cn('flex h-9 w-9 items-center justify-center', className)}
    {...props}
  >
    <MoreHorizontal className="h-4 w-4" />
    <span className="sr-only">More</span>
  </span>
)
BreadcrumbEllipsis.displayName = 'BreadcrumbElipssis'

export {
  Breadcrumb,
  BreadcrumbList,
  BreadcrumbItem,
  BreadcrumbLink,
  BreadcrumbPage,
  BreadcrumbSeparator,
  BreadcrumbEllipsis,
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\button.tsx
import * as React from 'react'
import { Slot } from '@radix-ui/react-slot'
import { cva, type VariantProps } from 'class-variance-authority'
import { cn } from '@/lib/utils'

const buttonVariants = cva(
  'inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50',
  {
    variants: {
      variant: {
        default: 'bg-primary text-primary-foreground hover:bg-primary/90',
        destructive:
          'bg-destructive text-destructive-foreground hover:bg-destructive/90',
        outline:
          'border border-input bg-background hover:bg-accent hover:text-accent-foreground',
        secondary:
          'bg-secondary text-secondary-foreground hover:bg-secondary/80',
        ghost: 'hover:bg-accent hover:text-accent-foreground',
        link: 'text-primary underline-offset-4 hover:underline',
        metallic:
          'metallic-effect text-gray-800 hover:scale-105 transition-transform duration-200',
      },
      size: {
        default: 'h-10 px-4 py-2',
        sm: 'h-9 rounded-md px-3',
        lg: 'h-11 rounded-md px-8',
        icon: 'h-10 w-10',
      },
    },
    defaultVariants: {
      variant: 'default',
      size: 'default',
    },
  },
)

export interface ButtonProps
  extends React.ButtonHTMLAttributes<HTMLButtonElement>,
    VariantProps<typeof buttonVariants> {
  asChild?: boolean
}

const Button = React.forwardRef<HTMLButtonElement, ButtonProps>(
  ({ className, variant, size, asChild = false, ...props }, ref) => {
    const Comp = asChild ? Slot : 'button'
    return (
      <Comp
        className={cn(buttonVariants({ variant, size, className }))}
        ref={ref}
        {...props}
      />
    )
  },
)
Button.displayName = 'Button'

export { Button, buttonVariants }



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\calendar.tsx
import * as React from 'react'
import { ChevronLeft, ChevronRight } from 'lucide-react'
import { Calendar as CalendarBase, CalendarProps } from 'react-calendar'
import { cn } from '@/lib/utils'

type ValuePiece = Date | null
type Value = ValuePiece | [ValuePiece, ValuePiece]

interface CustomCalendarProps extends Omit<CalendarProps, 'value' | 'onChange'> {
  mode?: 'single' | 'range'
  selected?: Date | Date[] | undefined
  onSelect?: (date: Date | Date[] | undefined) => void
  className?: string
}

const Calendar = React.forwardRef<HTMLDivElement, CustomCalendarProps>(
  ({ className, mode, selected, onSelect, ...props }, ref) => {
    return (
      <CalendarBase
        ref={ref as any}
        className={cn('p-3 bg-white rounded-lg shadow', className)}
        nextLabel={<ChevronRight className="h-4 w-4" />}
        next2Label={null}
        prevLabel={<ChevronLeft className="h-4 w-4" />}
        prev2Label={null}
        view="month"
        value={selected as Value}
        onChange={onSelect as (value: Value) => void}
        {...props}
      />
    )
  }
)

Calendar.displayName = 'Calendar'

export { Calendar }


// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\card.tsx
import * as React from 'react'

import { cn } from '@/lib/utils'

const Card = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn(
      'rounded-lg border bg-card text-card-foreground shadow-sm',
      className,
    )}
    {...props}
  />
))
Card.displayName = 'Card'

const CardHeader = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn('flex flex-col space-y-1.5 p-6', className)}
    {...props}
  />
))
CardHeader.displayName = 'CardHeader'

const CardTitle = React.forwardRef<
  HTMLParagraphElement,
  React.HTMLAttributes<HTMLHeadingElement>
>(({ className, ...props }, ref) => (
  <h3
    ref={ref}
    className={cn(
      'text-2xl font-semibold leading-none tracking-tight',
      className,
    )}
    {...props}
  />
))
CardTitle.displayName = 'CardTitle'

const CardDescription = React.forwardRef<
  HTMLParagraphElement,
  React.HTMLAttributes<HTMLParagraphElement>
>(({ className, ...props }, ref) => (
  <p
    ref={ref}
    className={cn('text-sm text-muted-foreground', className)}
    {...props}
  />
))
CardDescription.displayName = 'CardDescription'

const CardContent = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div ref={ref} className={cn('p-6 pt-0', className)} {...props} />
))
CardContent.displayName = 'CardContent'

const CardFooter = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn('flex items-center p-6 pt-0', className)}
    {...props}
  />
))
CardFooter.displayName = 'CardFooter'

export { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\carousel.tsx
import * as React from 'react'
import useEmblaCarousel, {
  type UseEmblaCarouselType,
} from 'embla-carousel-react'
import { ArrowLeft, ArrowRight } from 'lucide-react'

import { cn } from '@/lib/utils'
import { Button } from '@/components/ui/button'

type CarouselApi = UseEmblaCarouselType[1]
type UseCarouselParameters = Parameters<typeof useEmblaCarousel>
type CarouselOptions = UseCarouselParameters[0]
type CarouselPlugin = UseCarouselParameters[1]

type CarouselProps = {
  opts?: CarouselOptions
  plugins?: CarouselPlugin
  orientation?: 'horizontal' | 'vertical'
  setApi?: (api: CarouselApi) => void
}

type CarouselContextProps = {
  carouselRef: ReturnType<typeof useEmblaCarousel>[0]
  api: ReturnType<typeof useEmblaCarousel>[1]
  scrollPrev: () => void
  scrollNext: () => void
  canScrollPrev: boolean
  canScrollNext: boolean
} & CarouselProps

const CarouselContext = React.createContext<CarouselContextProps | null>(null)

function useCarousel() {
  const context = React.useContext(CarouselContext)

  if (!context) {
    throw new Error('useCarousel must be used within a <Carousel />')
  }

  return context
}

const Carousel = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement> & CarouselProps
>(
  (
    {
      orientation = 'horizontal',
      opts,
      setApi,
      plugins,
      className,
      children,
      ...props
    },
    ref,
  ) => {
    const [carouselRef, api] = useEmblaCarousel(
      {
        ...opts,
        axis: orientation === 'horizontal' ? 'x' : 'y',
      },
      plugins,
    )
    const [canScrollPrev, setCanScrollPrev] = React.useState(false)
    const [canScrollNext, setCanScrollNext] = React.useState(false)

    const onSelect = React.useCallback((api: CarouselApi) => {
      if (!api) {
        return
      }

      setCanScrollPrev(api.canScrollPrev())
      setCanScrollNext(api.canScrollNext())
    }, [])

    const scrollPrev = React.useCallback(() => {
      api?.scrollPrev()
    }, [api])

    const scrollNext = React.useCallback(() => {
      api?.scrollNext()
    }, [api])

    const handleKeyDown = React.useCallback(
      (event: React.KeyboardEvent<HTMLDivElement>) => {
        if (event.key === 'ArrowLeft') {
          event.preventDefault()
          scrollPrev()
        } else if (event.key === 'ArrowRight') {
          event.preventDefault()
          scrollNext()
        }
      },
      [scrollPrev, scrollNext],
    )

    React.useEffect(() => {
      if (!api || !setApi) {
        return
      }

      setApi(api)
    }, [api, setApi])

    React.useEffect(() => {
      if (!api) {
        return
      }

      onSelect(api)
      api.on('reInit', onSelect)
      api.on('select', onSelect)

      return () => {
        api?.off('select', onSelect)
      }
    }, [api, onSelect])

    return (
      <CarouselContext.Provider
        value={{
          carouselRef,
          api: api,
          opts,
          orientation:
            orientation || (opts?.axis === 'y' ? 'vertical' : 'horizontal'),
          scrollPrev,
          scrollNext,
          canScrollPrev,
          canScrollNext,
        }}
      >
        <div
          ref={ref}
          onKeyDownCapture={handleKeyDown}
          className={cn('relative', className)}
          role="region"
          aria-roledescription="carousel"
          {...props}
        >
          {children}
        </div>
      </CarouselContext.Provider>
    )
  },
)
Carousel.displayName = 'Carousel'

const CarouselContent = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => {
  const { carouselRef, orientation } = useCarousel()

  return (
    <div ref={carouselRef} className="overflow-hidden">
      <div
        ref={ref}
        className={cn(
          'flex',
          orientation === 'horizontal' ? '-ml-4' : '-mt-4 flex-col',
          className,
        )}
        {...props}
      />
    </div>
  )
})
CarouselContent.displayName = 'CarouselContent'

const CarouselItem = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => {
  const { orientation } = useCarousel()

  return (
    <div
      ref={ref}
      role="group"
      aria-roledescription="slide"
      className={cn(
        'min-w-0 shrink-0 grow-0 basis-full',
        orientation === 'horizontal' ? 'pl-4' : 'pt-4',
        className,
      )}
      {...props}
    />
  )
})
CarouselItem.displayName = 'CarouselItem'

const CarouselPrevious = React.forwardRef<
  HTMLButtonElement,
  React.ComponentProps<typeof Button>
>(({ className, variant = 'outline', size = 'icon', ...props }, ref) => {
  const { orientation, scrollPrev, canScrollPrev } = useCarousel()

  return (
    <Button
      ref={ref}
      variant={variant}
      size={size}
      className={cn(
        'absolute  h-8 w-8 rounded-full',
        orientation === 'horizontal'
          ? '-left-12 top-1/2 -translate-y-1/2'
          : '-top-12 left-1/2 -translate-x-1/2 rotate-90',
        className,
      )}
      disabled={!canScrollPrev}
      onClick={scrollPrev}
      {...props}
    >
      <ArrowLeft className="h-4 w-4" />
      <span className="sr-only">Previous slide</span>
    </Button>
  )
})
CarouselPrevious.displayName = 'CarouselPrevious'

const CarouselNext = React.forwardRef<
  HTMLButtonElement,
  React.ComponentProps<typeof Button>
>(({ className, variant = 'outline', size = 'icon', ...props }, ref) => {
  const { orientation, scrollNext, canScrollNext } = useCarousel()

  return (
    <Button
      ref={ref}
      variant={variant}
      size={size}
      className={cn(
        'absolute h-8 w-8 rounded-full',
        orientation === 'horizontal'
          ? '-right-12 top-1/2 -translate-y-1/2'
          : '-bottom-12 left-1/2 -translate-x-1/2 rotate-90',
        className,
      )}
      disabled={!canScrollNext}
      onClick={scrollNext}
      {...props}
    >
      <ArrowRight className="h-4 w-4" />
      <span className="sr-only">Next slide</span>
    </Button>
  )
})
CarouselNext.displayName = 'CarouselNext'

export {
  type CarouselApi,
  Carousel,
  CarouselContent,
  CarouselItem,
  CarouselPrevious,
  CarouselNext,
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\chart.tsx
import * as React from 'react'
import * as RechartsPrimitive from 'recharts'

import { cn } from '@/lib/utils'

// Format: { THEME_NAME: CSS_SELECTOR }
const THEMES = { light: '', dark: '.dark' } as const

export type ChartConfig = {
  [k in string]: {
    label?: React.ReactNode
    icon?: React.ComponentType
  } & (
    | { color?: string; theme?: never }
    | { color?: never; theme: Record<keyof typeof THEMES, string> }
  )
}

type ChartContextProps = {
  config: ChartConfig
}

const ChartContext = React.createContext<ChartContextProps | null>(null)

function useChart() {
  const context = React.useContext(ChartContext)

  if (!context) {
    throw new Error('useChart must be used within a <ChartContainer />')
  }

  return context
}

const ChartContainer = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<'div'> & {
    config: ChartConfig
    children: React.ComponentProps<
      typeof RechartsPrimitive.ResponsiveContainer
    >['children']
  }
>(({ id, className, children, config, ...props }, ref) => {
  const uniqueId = React.useId()
  const chartId = `chart-${id || uniqueId.replace(/:/g, '')}`

  return (
    <ChartContext.Provider value={{ config }}>
      <div
        data-chart={chartId}
        ref={ref}
        className={cn(
          "flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",
          className,
        )}
        {...props}
      >
        <ChartStyle id={chartId} config={config} />
        <RechartsPrimitive.ResponsiveContainer>
          {children}
        </RechartsPrimitive.ResponsiveContainer>
      </div>
    </ChartContext.Provider>
  )
})
ChartContainer.displayName = 'Chart'

const ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {
  const colorConfig = Object.entries(config).filter(
    ([_, config]) => config.theme || config.color,
  )

  if (!colorConfig.length) {
    return null
  }

  return (
    <style
      dangerouslySetInnerHTML={{
        __html: Object.entries(THEMES)
          .map(
            ([theme, prefix]) => `
${prefix} [data-chart=${id}] {
${colorConfig
  .map(([key, itemConfig]) => {
    const color =
      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||
      itemConfig.color
    return color ? `  --color-${key}: ${color};` : null
  })
  .join('\n')}
}
`,
          )
          .join('\n'),
      }}
    />
  )
}

const ChartTooltip = RechartsPrimitive.Tooltip

const ChartTooltipContent = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &
    React.ComponentProps<'div'> & {
      hideLabel?: boolean
      hideIndicator?: boolean
      indicator?: 'line' | 'dot' | 'dashed'
      nameKey?: string
      labelKey?: string
    }
>(
  (
    {
      active,
      payload,
      className,
      indicator = 'dot',
      hideLabel = false,
      hideIndicator = false,
      label,
      labelFormatter,
      labelClassName,
      formatter,
      color,
      nameKey,
      labelKey,
    },
    ref,
  ) => {
    const { config } = useChart()

    const tooltipLabel = React.useMemo(() => {
      if (hideLabel || !payload?.length) {
        return null
      }

      const [item] = payload
      const key = `${labelKey || item.dataKey || item.name || 'value'}`
      const itemConfig = getPayloadConfigFromPayload(config, item, key)
      const value =
        !labelKey && typeof label === 'string'
          ? config[label as keyof typeof config]?.label || label
          : itemConfig?.label

      if (labelFormatter) {
        return (
          <div className={cn('font-medium', labelClassName)}>
            {labelFormatter(value, payload)}
          </div>
        )
      }

      if (!value) {
        return null
      }

      return <div className={cn('font-medium', labelClassName)}>{value}</div>
    }, [
      label,
      labelFormatter,
      payload,
      hideLabel,
      labelClassName,
      config,
      labelKey,
    ])

    if (!active || !payload?.length) {
      return null
    }

    const nestLabel = payload.length === 1 && indicator !== 'dot'

    return (
      <div
        ref={ref}
        className={cn(
          'grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl',
          className,
        )}
      >
        {!nestLabel ? tooltipLabel : null}
        <div className="grid gap-1.5">
          {payload.map((item, index) => {
            const key = `${nameKey || item.name || item.dataKey || 'value'}`
            const itemConfig = getPayloadConfigFromPayload(config, item, key)
            const indicatorColor = color || item.payload.fill || item.color

            return (
              <div
                key={item.dataKey}
                className={cn(
                  'flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground',
                  indicator === 'dot' && 'items-center',
                )}
              >
                {formatter && item?.value !== undefined && item.name ? (
                  formatter(item.value, item.name, item, index, item.payload)
                ) : (
                  <>
                    {itemConfig?.icon ? (
                      <itemConfig.icon />
                    ) : (
                      !hideIndicator && (
                        <div
                          className={cn(
                            'shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]',
                            {
                              'h-2.5 w-2.5': indicator === 'dot',
                              'w-1': indicator === 'line',
                              'w-0 border-[1.5px] border-dashed bg-transparent':
                                indicator === 'dashed',
                              'my-0.5': nestLabel && indicator === 'dashed',
                            },
                          )}
                          style={
                            {
                              '--color-bg': indicatorColor,
                              '--color-border': indicatorColor,
                            } as React.CSSProperties
                          }
                        />
                      )
                    )}
                    <div
                      className={cn(
                        'flex flex-1 justify-between leading-none',
                        nestLabel ? 'items-end' : 'items-center',
                      )}
                    >
                      <div className="grid gap-1.5">
                        {nestLabel ? tooltipLabel : null}
                        <span className="text-muted-foreground">
                          {itemConfig?.label || item.name}
                        </span>
                      </div>
                      {item.value && (
                        <span className="font-mono font-medium tabular-nums text-foreground">
                          {item.value.toLocaleString()}
                        </span>
                      )}
                    </div>
                  </>
                )}
              </div>
            )
          })}
        </div>
      </div>
    )
  },
)
ChartTooltipContent.displayName = 'ChartTooltip'

const ChartLegend = RechartsPrimitive.Legend

const ChartLegendContent = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<'div'> &
    Pick<RechartsPrimitive.LegendProps, 'payload' | 'verticalAlign'> & {
      hideIcon?: boolean
      nameKey?: string
    }
>(
  (
    { className, hideIcon = false, payload, verticalAlign = 'bottom', nameKey },
    ref,
  ) => {
    const { config } = useChart()

    if (!payload?.length) {
      return null
    }

    return (
      <div
        ref={ref}
        className={cn(
          'flex items-center justify-center gap-4',
          verticalAlign === 'top' ? 'pb-3' : 'pt-3',
          className,
        )}
      >
        {payload.map((item) => {
          const key = `${nameKey || item.dataKey || 'value'}`
          const itemConfig = getPayloadConfigFromPayload(config, item, key)

          return (
            <div
              key={item.value}
              className={cn(
                'flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground',
              )}
            >
              {itemConfig?.icon && !hideIcon ? (
                <itemConfig.icon />
              ) : (
                <div
                  className="h-4 w-4 shrink-0 rounded-[2px]"
                  style={{
                    backgroundColor: item.color,
                  }}
                />
              )}
              {itemConfig?.label}
            </div>
          )
        })}
      </div>
    )
  },
)
ChartLegendContent.displayName = 'ChartLegend'

// Helper to extract item config from a payload.
function getPayloadConfigFromPayload(
  config: ChartConfig,
  payload: unknown,
  key: string,
) {
  if (typeof payload !== 'object' || payload === null) {
    return undefined
  }

  const payloadPayload =
    'payload' in payload &&
    typeof payload.payload === 'object' &&
    payload.payload !== null
      ? payload.payload
      : undefined

  let configLabelKey: string = key

  if (
    key in payload &&
    typeof payload[key as keyof typeof payload] === 'string'
  ) {
    configLabelKey = payload[key as keyof typeof payload] as string
  } else if (
    payloadPayload &&
    key in payloadPayload &&
    typeof payloadPayload[key as keyof typeof payloadPayload] === 'string'
  ) {
    configLabelKey = payloadPayload[
      key as keyof typeof payloadPayload
    ] as string
  }

  return configLabelKey in config
    ? config[configLabelKey]
    : config[key as keyof typeof config]
}

export {
  ChartContainer,
  ChartTooltip,
  ChartTooltipContent,
  ChartLegend,
  ChartLegendContent,
  ChartStyle,
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\checkbox.tsx
import * as React from 'react'
import * as CheckboxPrimitive from '@radix-ui/react-checkbox'
import { Check } from 'lucide-react'

import { cn } from '@/lib/utils'

const Checkbox = React.forwardRef<
  React.ElementRef<typeof CheckboxPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>
>(({ className, ...props }, ref) => (
  <CheckboxPrimitive.Root
    ref={ref}
    className={cn(
      'peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground',
      className,
    )}
    {...props}
  >
    <CheckboxPrimitive.Indicator
      className={cn('flex items-center justify-center text-current')}
    >
      <Check className="h-4 w-4" />
    </CheckboxPrimitive.Indicator>
  </CheckboxPrimitive.Root>
))
Checkbox.displayName = CheckboxPrimitive.Root.displayName

export { Checkbox }



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\collapsible.tsx
import * as CollapsiblePrimitive from '@radix-ui/react-collapsible'

const Collapsible = CollapsiblePrimitive.Root

const CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger

const CollapsibleContent = CollapsiblePrimitive.CollapsibleContent

export { Collapsible, CollapsibleTrigger, CollapsibleContent }



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\command.tsx
import * as React from 'react'
import { type DialogProps } from '@radix-ui/react-dialog'
import { Command as CommandPrimitive } from 'cmdk'
import { Search } from 'lucide-react'

import { cn } from '@/lib/utils'
import { Dialog, DialogContent } from '@/components/ui/dialog'

const Command = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive>
>(({ className, ...props }, ref) => (
  <CommandPrimitive
    ref={ref}
    className={cn(
      'flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground',
      className,
    )}
    {...props}
  />
))
Command.displayName = CommandPrimitive.displayName

interface CommandDialogProps extends DialogProps {}

const CommandDialog = ({ children, ...props }: CommandDialogProps) => {
  return (
    <Dialog {...props}>
      <DialogContent className="overflow-hidden p-0 shadow-lg">
        <Command className="[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5">
          {children}
        </Command>
      </DialogContent>
    </Dialog>
  )
}

const CommandInput = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Input>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>
>(({ className, ...props }, ref) => (
  <div className="flex items-center border-b px-3" cmdk-input-wrapper="">
    <Search className="mr-2 h-4 w-4 shrink-0 opacity-50" />
    <CommandPrimitive.Input
      ref={ref}
      className={cn(
        'flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50',
        className,
      )}
      {...props}
    />
  </div>
))

CommandInput.displayName = CommandPrimitive.Input.displayName

const CommandList = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.List>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>
>(({ className, ...props }, ref) => (
  <CommandPrimitive.List
    ref={ref}
    className={cn('max-h-[300px] overflow-y-auto overflow-x-hidden', className)}
    {...props}
  />
))

CommandList.displayName = CommandPrimitive.List.displayName

const CommandEmpty = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Empty>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>
>((props, ref) => (
  <CommandPrimitive.Empty
    ref={ref}
    className="py-6 text-center text-sm"
    {...props}
  />
))

CommandEmpty.displayName = CommandPrimitive.Empty.displayName

const CommandGroup = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Group>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>
>(({ className, ...props }, ref) => (
  <CommandPrimitive.Group
    ref={ref}
    className={cn(
      'overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground',
      className,
    )}
    {...props}
  />
))

CommandGroup.displayName = CommandPrimitive.Group.displayName

const CommandSeparator = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Separator>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>
>(({ className, ...props }, ref) => (
  <CommandPrimitive.Separator
    ref={ref}
    className={cn('-mx-1 h-px bg-border', className)}
    {...props}
  />
))
CommandSeparator.displayName = CommandPrimitive.Separator.displayName

const CommandItem = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>
>(({ className, ...props }, ref) => (
  <CommandPrimitive.Item
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",
      className,
    )}
    {...props}
  />
))

CommandItem.displayName = CommandPrimitive.Item.displayName

const CommandShortcut = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLSpanElement>) => {
  return (
    <span
      className={cn(
        'ml-auto text-xs tracking-widest text-muted-foreground',
        className,
      )}
      {...props}
    />
  )
}
CommandShortcut.displayName = 'CommandShortcut'

export {
  Command,
  CommandDialog,
  CommandInput,
  CommandList,
  CommandEmpty,
  CommandGroup,
  CommandItem,
  CommandShortcut,
  CommandSeparator,
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\context-menu.tsx
import * as React from 'react'
import * as ContextMenuPrimitive from '@radix-ui/react-context-menu'
import { Check, ChevronRight, Circle } from 'lucide-react'

import { cn } from '@/lib/utils'

const ContextMenu = ContextMenuPrimitive.Root

const ContextMenuTrigger = ContextMenuPrimitive.Trigger

const ContextMenuGroup = ContextMenuPrimitive.Group

const ContextMenuPortal = ContextMenuPrimitive.Portal

const ContextMenuSub = ContextMenuPrimitive.Sub

const ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup

const ContextMenuSubTrigger = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {
    inset?: boolean
  }
>(({ className, inset, children, ...props }, ref) => (
  <ContextMenuPrimitive.SubTrigger
    ref={ref}
    className={cn(
      'flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground',
      inset && 'pl-8',
      className,
    )}
    {...props}
  >
    {children}
    <ChevronRight className="ml-auto h-4 w-4" />
  </ContextMenuPrimitive.SubTrigger>
))
ContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName

const ContextMenuSubContent = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>
>(({ className, ...props }, ref) => (
  <ContextMenuPrimitive.SubContent
    ref={ref}
    className={cn(
      'z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',
      className,
    )}
    {...props}
  />
))
ContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName

const ContextMenuContent = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>
>(({ className, ...props }, ref) => (
  <ContextMenuPrimitive.Portal>
    <ContextMenuPrimitive.Content
      ref={ref}
      className={cn(
        'z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',
        className,
      )}
      {...props}
    />
  </ContextMenuPrimitive.Portal>
))
ContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName

const ContextMenuItem = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {
    inset?: boolean
  }
>(({ className, inset, ...props }, ref) => (
  <ContextMenuPrimitive.Item
    ref={ref}
    className={cn(
      'relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',
      inset && 'pl-8',
      className,
    )}
    {...props}
  />
))
ContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName

const ContextMenuCheckboxItem = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>
>(({ className, children, checked, ...props }, ref) => (
  <ContextMenuPrimitive.CheckboxItem
    ref={ref}
    className={cn(
      'relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',
      className,
    )}
    checked={checked}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <ContextMenuPrimitive.ItemIndicator>
        <Check className="h-4 w-4" />
      </ContextMenuPrimitive.ItemIndicator>
    </span>
    {children}
  </ContextMenuPrimitive.CheckboxItem>
))
ContextMenuCheckboxItem.displayName =
  ContextMenuPrimitive.CheckboxItem.displayName

const ContextMenuRadioItem = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>
>(({ className, children, ...props }, ref) => (
  <ContextMenuPrimitive.RadioItem
    ref={ref}
    className={cn(
      'relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',
      className,
    )}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <ContextMenuPrimitive.ItemIndicator>
        <Circle className="h-4 w-4 fill-current" />
      </ContextMenuPrimitive.ItemIndicator>
    </span>
    {children}
  </ContextMenuPrimitive.RadioItem>
))
ContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName

const ContextMenuLabel = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.Label>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {
    inset?: boolean
  }
>(({ className, inset, ...props }, ref) => (
  <ContextMenuPrimitive.Label
    ref={ref}
    className={cn(
      'px-2 py-1.5 text-sm font-semibold text-foreground',
      inset && 'pl-8',
      className,
    )}
    {...props}
  />
))
ContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName

const ContextMenuSeparator = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.Separator>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>
>(({ className, ...props }, ref) => (
  <ContextMenuPrimitive.Separator
    ref={ref}
    className={cn('-mx-1 my-1 h-px bg-border', className)}
    {...props}
  />
))
ContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName

const ContextMenuShortcut = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLSpanElement>) => {
  return (
    <span
      className={cn(
        'ml-auto text-xs tracking-widest text-muted-foreground',
        className,
      )}
      {...props}
    />
  )
}
ContextMenuShortcut.displayName = 'ContextMenuShortcut'

export {
  ContextMenu,
  ContextMenuTrigger,
  ContextMenuContent,
  ContextMenuItem,
  ContextMenuCheckboxItem,
  ContextMenuRadioItem,
  ContextMenuLabel,
  ContextMenuSeparator,
  ContextMenuShortcut,
  ContextMenuGroup,
  ContextMenuPortal,
  ContextMenuSub,
  ContextMenuSubContent,
  ContextMenuSubTrigger,
  ContextMenuRadioGroup,
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\copy-button.tsx
import { Button } from '@/components/ui/button'
import { Copy, Check } from 'lucide-react'
import { useState } from 'react'
import { useToast } from '@/hooks/use-toast'

interface CopyButtonProps {
  text: string
  onCopy?: () => void
  className?: string
}

export const CopyButton = ({ text, onCopy, className }: CopyButtonProps) => {
  const [copied, setCopied] = useState(false)
  const { toast } = useToast()

  const handleCopy = async () => {
    try {
      await navigator.clipboard.writeText(text)
      setCopied(true)
      toast({
        title: 'Copiado',
        description: 'La información ha sido copiada al portapapeles',
      })
      onCopy?.()
      setTimeout(() => setCopied(false), 2000)
    } catch (err) {
      toast({
        title: 'Error',
        description: 'No se pudo copiar al portapapeles',
        variant: 'destructive',
      })
    }
  }

  return (
    <Button
      variant="outline"
      size="sm"
      className={className}
      onClick={handleCopy}
    >
      {copied ? (
        <Check className="h-4 w-4 text-green-500" />
      ) : (
        <Copy className="h-4 w-4" />
      )}
      <span className="ml-2">{copied ? 'Copiado' : 'Copiar'}</span>
    </Button>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\dialog.tsx
import * as React from 'react'
import * as DialogPrimitive from '@radix-ui/react-dialog'
import { X } from 'lucide-react'

import { cn } from '@/lib/utils'

const Dialog = DialogPrimitive.Root

const DialogTrigger = DialogPrimitive.Trigger

const DialogPortal = DialogPrimitive.Portal

const DialogClose = DialogPrimitive.Close

const DialogOverlay = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Overlay>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>
>(({ className, ...props }, ref) => (
  <DialogPrimitive.Overlay
    ref={ref}
    className={cn(
      'fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0',
      className,
    )}
    {...props}
  />
))
DialogOverlay.displayName = DialogPrimitive.Overlay.displayName

const DialogContent = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>
>(({ className, children, ...props }, ref) => (
  <DialogPortal>
    <DialogOverlay />
    <DialogPrimitive.Content
      ref={ref}
      className={cn(
        'fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg',
        className,
      )}
      {...props}
    >
      {children}
      <DialogPrimitive.Close className="absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground">
        <X className="h-4 w-4" />
        <span className="sr-only">Close</span>
      </DialogPrimitive.Close>
    </DialogPrimitive.Content>
  </DialogPortal>
))
DialogContent.displayName = DialogPrimitive.Content.displayName

const DialogHeader = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      'flex flex-col space-y-1.5 text-center sm:text-left',
      className,
    )}
    {...props}
  />
)
DialogHeader.displayName = 'DialogHeader'

const DialogFooter = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      'flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2',
      className,
    )}
    {...props}
  />
)
DialogFooter.displayName = 'DialogFooter'

const DialogTitle = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Title>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>
>(({ className, ...props }, ref) => (
  <DialogPrimitive.Title
    ref={ref}
    className={cn(
      'text-lg font-semibold leading-none tracking-tight',
      className,
    )}
    {...props}
  />
))
DialogTitle.displayName = DialogPrimitive.Title.displayName

const DialogDescription = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Description>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>
>(({ className, ...props }, ref) => (
  <DialogPrimitive.Description
    ref={ref}
    className={cn('text-sm text-muted-foreground', className)}
    {...props}
  />
))
DialogDescription.displayName = DialogPrimitive.Description.displayName

export {
  Dialog,
  DialogPortal,
  DialogOverlay,
  DialogClose,
  DialogTrigger,
  DialogContent,
  DialogHeader,
  DialogFooter,
  DialogTitle,
  DialogDescription,
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\drawer.tsx
import * as React from 'react'
import { Drawer as DrawerPrimitive } from 'vaul'

import { cn } from '@/lib/utils'

const Drawer = ({
  shouldScaleBackground = true,
  ...props
}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (
  <DrawerPrimitive.Root
    shouldScaleBackground={shouldScaleBackground}
    {...props}
  />
)
Drawer.displayName = 'Drawer'

const DrawerTrigger = DrawerPrimitive.Trigger

const DrawerPortal = DrawerPrimitive.Portal

const DrawerClose = DrawerPrimitive.Close

const DrawerOverlay = React.forwardRef<
  React.ElementRef<typeof DrawerPrimitive.Overlay>,
  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>
>(({ className, ...props }, ref) => (
  <DrawerPrimitive.Overlay
    ref={ref}
    className={cn('fixed inset-0 z-50 bg-black/80', className)}
    {...props}
  />
))
DrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName

const DrawerContent = React.forwardRef<
  React.ElementRef<typeof DrawerPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>
>(({ className, children, ...props }, ref) => (
  <DrawerPortal>
    <DrawerOverlay />
    <DrawerPrimitive.Content
      ref={ref}
      className={cn(
        'fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background',
        className,
      )}
      {...props}
    >
      <div className="mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted" />
      {children}
    </DrawerPrimitive.Content>
  </DrawerPortal>
))
DrawerContent.displayName = 'DrawerContent'

const DrawerHeader = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn('grid gap-1.5 p-4 text-center sm:text-left', className)}
    {...props}
  />
)
DrawerHeader.displayName = 'DrawerHeader'

const DrawerFooter = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn('mt-auto flex flex-col gap-2 p-4', className)}
    {...props}
  />
)
DrawerFooter.displayName = 'DrawerFooter'

const DrawerTitle = React.forwardRef<
  React.ElementRef<typeof DrawerPrimitive.Title>,
  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>
>(({ className, ...props }, ref) => (
  <DrawerPrimitive.Title
    ref={ref}
    className={cn(
      'text-lg font-semibold leading-none tracking-tight',
      className,
    )}
    {...props}
  />
))
DrawerTitle.displayName = DrawerPrimitive.Title.displayName

const DrawerDescription = React.forwardRef<
  React.ElementRef<typeof DrawerPrimitive.Description>,
  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>
>(({ className, ...props }, ref) => (
  <DrawerPrimitive.Description
    ref={ref}
    className={cn('text-sm text-muted-foreground', className)}
    {...props}
  />
))
DrawerDescription.displayName = DrawerPrimitive.Description.displayName

export {
  Drawer,
  DrawerPortal,
  DrawerOverlay,
  DrawerTrigger,
  DrawerClose,
  DrawerContent,
  DrawerHeader,
  DrawerFooter,
  DrawerTitle,
  DrawerDescription,
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\dropdown-menu.tsx
import * as React from 'react'
import * as DropdownMenuPrimitive from '@radix-ui/react-dropdown-menu'
import { Check, ChevronRight, Circle } from 'lucide-react'

import { cn } from '@/lib/utils'

const DropdownMenu = DropdownMenuPrimitive.Root

const DropdownMenuTrigger = DropdownMenuPrimitive.Trigger

const DropdownMenuGroup = DropdownMenuPrimitive.Group

const DropdownMenuPortal = DropdownMenuPrimitive.Portal

const DropdownMenuSub = DropdownMenuPrimitive.Sub

const DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup

const DropdownMenuSubTrigger = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {
    inset?: boolean
  }
>(({ className, inset, children, ...props }, ref) => (
  <DropdownMenuPrimitive.SubTrigger
    ref={ref}
    className={cn(
      'flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent',
      inset && 'pl-8',
      className,
    )}
    {...props}
  >
    {children}
    <ChevronRight className="ml-auto h-4 w-4" />
  </DropdownMenuPrimitive.SubTrigger>
))
DropdownMenuSubTrigger.displayName =
  DropdownMenuPrimitive.SubTrigger.displayName

const DropdownMenuSubContent = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>
>(({ className, ...props }, ref) => (
  <DropdownMenuPrimitive.SubContent
    ref={ref}
    className={cn(
      'z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',
      className,
    )}
    {...props}
  />
))
DropdownMenuSubContent.displayName =
  DropdownMenuPrimitive.SubContent.displayName

const DropdownMenuContent = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>
>(({ className, sideOffset = 4, ...props }, ref) => (
  <DropdownMenuPrimitive.Portal>
    <DropdownMenuPrimitive.Content
      ref={ref}
      sideOffset={sideOffset}
      className={cn(
        'z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',
        className,
      )}
      {...props}
    />
  </DropdownMenuPrimitive.Portal>
))
DropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName

const DropdownMenuItem = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {
    inset?: boolean
  }
>(({ className, inset, ...props }, ref) => (
  <DropdownMenuPrimitive.Item
    ref={ref}
    className={cn(
      'relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',
      inset && 'pl-8',
      className,
    )}
    {...props}
  />
))
DropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName

const DropdownMenuCheckboxItem = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>
>(({ className, children, checked, ...props }, ref) => (
  <DropdownMenuPrimitive.CheckboxItem
    ref={ref}
    className={cn(
      'relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',
      className,
    )}
    checked={checked}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <DropdownMenuPrimitive.ItemIndicator>
        <Check className="h-4 w-4" />
      </DropdownMenuPrimitive.ItemIndicator>
    </span>
    {children}
  </DropdownMenuPrimitive.CheckboxItem>
))
DropdownMenuCheckboxItem.displayName =
  DropdownMenuPrimitive.CheckboxItem.displayName

const DropdownMenuRadioItem = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>
>(({ className, children, ...props }, ref) => (
  <DropdownMenuPrimitive.RadioItem
    ref={ref}
    className={cn(
      'relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',
      className,
    )}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <DropdownMenuPrimitive.ItemIndicator>
        <Circle className="h-4 w-4 fill-current" />
      </DropdownMenuPrimitive.ItemIndicator>
    </span>
    {children}
  </DropdownMenuPrimitive.RadioItem>
))
DropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName

const DropdownMenuLabel = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.Label>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {
    inset?: boolean
  }
>(({ className, inset, ...props }, ref) => (
  <DropdownMenuPrimitive.Label
    ref={ref}
    className={cn(
      'px-2 py-1.5 text-sm font-semibold',
      inset && 'pl-8',
      className,
    )}
    {...props}
  />
))
DropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName

const DropdownMenuSeparator = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>
>(({ className, ...props }, ref) => (
  <DropdownMenuPrimitive.Separator
    ref={ref}
    className={cn('-mx-1 my-1 h-px bg-muted', className)}
    {...props}
  />
))
DropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName

const DropdownMenuShortcut = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLSpanElement>) => {
  return (
    <span
      className={cn('ml-auto text-xs tracking-widest opacity-60', className)}
      {...props}
    />
  )
}
DropdownMenuShortcut.displayName = 'DropdownMenuShortcut'

export {
  DropdownMenu,
  DropdownMenuTrigger,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuCheckboxItem,
  DropdownMenuRadioItem,
  DropdownMenuLabel,
  DropdownMenuSeparator,
  DropdownMenuShortcut,
  DropdownMenuGroup,
  DropdownMenuPortal,
  DropdownMenuSub,
  DropdownMenuSubContent,
  DropdownMenuSubTrigger,
  DropdownMenuRadioGroup,
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\form.tsx
import * as React from 'react'
import * as LabelPrimitive from '@radix-ui/react-label'
import { Slot } from '@radix-ui/react-slot'
import {
  Controller,
  ControllerProps,
  FieldPath,
  FieldValues,
  FormProvider,
  useFormContext,
} from 'react-hook-form'

import { cn } from '@/lib/utils'
import { Label } from '@/components/ui/label'

const Form = FormProvider

type FormFieldContextValue<
  TFieldValues extends FieldValues = FieldValues,
  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,
> = {
  name: TName
}

const FormFieldContext = React.createContext<FormFieldContextValue>(
  {} as FormFieldContextValue,
)

const FormField = <
  TFieldValues extends FieldValues = FieldValues,
  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,
>({
  ...props
}: ControllerProps<TFieldValues, TName>) => {
  return (
    <FormFieldContext.Provider value={{ name: props.name }}>
      <Controller {...props} />
    </FormFieldContext.Provider>
  )
}

const useFormField = () => {
  const fieldContext = React.useContext(FormFieldContext)
  const itemContext = React.useContext(FormItemContext)
  const { getFieldState, formState } = useFormContext()

  const fieldState = getFieldState(fieldContext.name, formState)

  if (!fieldContext) {
    throw new Error('useFormField should be used within <FormField>')
  }

  const { id } = itemContext

  return {
    id,
    name: fieldContext.name,
    formItemId: `${id}-form-item`,
    formDescriptionId: `${id}-form-item-description`,
    formMessageId: `${id}-form-item-message`,
    ...fieldState,
  }
}

type FormItemContextValue = {
  id: string
}

const FormItemContext = React.createContext<FormItemContextValue>(
  {} as FormItemContextValue,
)

const FormItem = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => {
  const id = React.useId()

  return (
    <FormItemContext.Provider value={{ id }}>
      <div ref={ref} className={cn('space-y-2', className)} {...props} />
    </FormItemContext.Provider>
  )
})
FormItem.displayName = 'FormItem'

const FormLabel = React.forwardRef<
  React.ElementRef<typeof LabelPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>
>(({ className, ...props }, ref) => {
  const { error, formItemId } = useFormField()

  return (
    <Label
      ref={ref}
      className={cn(error && 'text-destructive', className)}
      htmlFor={formItemId}
      {...props}
    />
  )
})
FormLabel.displayName = 'FormLabel'

const FormControl = React.forwardRef<
  React.ElementRef<typeof Slot>,
  React.ComponentPropsWithoutRef<typeof Slot>
>(({ ...props }, ref) => {
  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()

  return (
    <Slot
      ref={ref}
      id={formItemId}
      aria-describedby={
        !error
          ? `${formDescriptionId}`
          : `${formDescriptionId} ${formMessageId}`
      }
      aria-invalid={!!error}
      {...props}
    />
  )
})
FormControl.displayName = 'FormControl'

const FormDescription = React.forwardRef<
  HTMLParagraphElement,
  React.HTMLAttributes<HTMLParagraphElement>
>(({ className, ...props }, ref) => {
  const { formDescriptionId } = useFormField()

  return (
    <p
      ref={ref}
      id={formDescriptionId}
      className={cn('text-sm text-muted-foreground', className)}
      {...props}
    />
  )
})
FormDescription.displayName = 'FormDescription'

const FormMessage = React.forwardRef<
  HTMLParagraphElement,
  React.HTMLAttributes<HTMLParagraphElement>
>(({ className, children, ...props }, ref) => {
  const { error, formMessageId } = useFormField()
  const body = error ? String(error?.message) : children

  if (!body) {
    return null
  }

  return (
    <p
      ref={ref}
      id={formMessageId}
      className={cn('text-sm font-medium text-destructive', className)}
      {...props}
    >
      {body}
    </p>
  )
})
FormMessage.displayName = 'FormMessage'

export {
  useFormField,
  Form,
  FormItem,
  FormLabel,
  FormControl,
  FormDescription,
  FormMessage,
  FormField,
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\hover-card.tsx
import * as React from 'react'
import * as HoverCardPrimitive from '@radix-ui/react-hover-card'

import { cn } from '@/lib/utils'

const HoverCard = HoverCardPrimitive.Root

const HoverCardTrigger = HoverCardPrimitive.Trigger

const HoverCardContent = React.forwardRef<
  React.ElementRef<typeof HoverCardPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>
>(({ className, align = 'center', sideOffset = 4, ...props }, ref) => (
  <HoverCardPrimitive.Content
    ref={ref}
    align={align}
    sideOffset={sideOffset}
    className={cn(
      'z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',
      className,
    )}
    {...props}
  />
))
HoverCardContent.displayName = HoverCardPrimitive.Content.displayName

export { HoverCard, HoverCardTrigger, HoverCardContent }



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\input-otp.tsx
import * as React from 'react'
import { OTPInput, OTPInputContext } from 'input-otp'
import { Dot } from 'lucide-react'

import { cn } from '@/lib/utils'

const InputOTP = React.forwardRef<
  React.ElementRef<typeof OTPInput>,
  React.ComponentPropsWithoutRef<typeof OTPInput>
>(({ className, containerClassName, ...props }, ref) => (
  <OTPInput
    ref={ref}
    containerClassName={cn(
      'flex items-center gap-2 has-[:disabled]:opacity-50',
      containerClassName,
    )}
    className={cn('disabled:cursor-not-allowed', className)}
    {...props}
  />
))
InputOTP.displayName = 'InputOTP'

const InputOTPGroup = React.forwardRef<
  React.ElementRef<'div'>,
  React.ComponentPropsWithoutRef<'div'>
>(({ className, ...props }, ref) => (
  <div ref={ref} className={cn('flex items-center', className)} {...props} />
))
InputOTPGroup.displayName = 'InputOTPGroup'

const InputOTPSlot = React.forwardRef<
  React.ElementRef<'div'>,
  React.ComponentPropsWithoutRef<'div'> & { index: number }
>(({ index, className, ...props }, ref) => {
  const inputOTPContext = React.useContext(OTPInputContext)
  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]

  return (
    <div
      ref={ref}
      className={cn(
        'relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md',
        isActive && 'z-10 ring-2 ring-ring ring-offset-background',
        className,
      )}
      {...props}
    >
      {char}
      {hasFakeCaret && (
        <div className="pointer-events-none absolute inset-0 flex items-center justify-center">
          <div className="h-4 w-px animate-caret-blink bg-foreground duration-1000" />
        </div>
      )}
    </div>
  )
})
InputOTPSlot.displayName = 'InputOTPSlot'

const InputOTPSeparator = React.forwardRef<
  React.ElementRef<'div'>,
  React.ComponentPropsWithoutRef<'div'>
>(({ ...props }, ref) => (
  <div ref={ref} role="separator" {...props}>
    <Dot />
  </div>
))
InputOTPSeparator.displayName = 'InputOTPSeparator'

export { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\input.tsx
import * as React from 'react'
import { cn } from '@/lib/utils'

export interface InputProps
  extends React.InputHTMLAttributes<HTMLInputElement> {}

const Input = React.forwardRef<HTMLInputElement, InputProps>(
  ({ className, type, ...props }, ref) => {
    return (
      <input
        type={type}
        className={cn(
          'flex h-10 w-full rounded-lg border border-input bg-background px-4 py-2',
          'text-sm ring-offset-background transition-colors duration-200',
          'placeholder:text-muted-foreground/60',
          'focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none',
          'disabled:cursor-not-allowed disabled:opacity-50',
          'file:border-0 file:bg-transparent file:text-sm file:font-medium',
          className,
        )}
        ref={ref}
        {...props}
      />
    )
  },
)
Input.displayName = 'Input'

export { Input }



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\label.tsx
import * as React from 'react'
import * as LabelPrimitive from '@radix-ui/react-label'
import { cva, type VariantProps } from 'class-variance-authority'

import { cn } from '@/lib/utils'

const labelVariants = cva(
  'text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 transition-colors duration-200',
  {
    variants: {
      variant: {
        default: 'text-foreground',
        secondary: 'text-muted-foreground',
        primary: 'text-primary',
      },
    },
    defaultVariants: {
      variant: 'default',
    },
  },
)

const Label = React.forwardRef<
  React.ElementRef<typeof LabelPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &
    VariantProps<typeof labelVariants>
>(({ className, variant, ...props }, ref) => (
  <LabelPrimitive.Root
    ref={ref}
    className={cn(labelVariants({ variant }), className)}
    {...props}
  />
))
Label.displayName = LabelPrimitive.Root.displayName

export { Label }



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\loading-state.tsx
import { Loader2 } from 'lucide-react'
import { motion } from 'framer-motion'
import { cn } from '@/lib/utils'

interface LoadingStateProps {
  text?: string
  className?: string
  size?: 'sm' | 'md' | 'lg'
}

export const LoadingState = ({
  text = 'Loading...',
  className,
  size = 'md',
}: LoadingStateProps) => {
  const sizeClasses = {
    sm: 'h-4 w-4',
    md: 'h-6 w-6',
    lg: 'h-8 w-8',
  }

  return (
    <motion.div
      initial={{ opacity: 0 }}
      animate={{ opacity: 1 }}
      exit={{ opacity: 0 }}
      className={cn('flex items-center justify-center gap-2', className)}
    >
      <Loader2 className={cn('animate-spin text-primary', sizeClasses[size])} />
      <span className="text-muted-foreground">{text}</span>
    </motion.div>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\map-button.tsx
import { Button } from '@/components/ui/button'
import { cn } from '@/lib/utils'
import { motion } from 'framer-motion'

interface MapButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {
  icon: React.ReactNode
  label: string
  isActive?: boolean
}

export const MapButton = ({
  icon,
  label,
  isActive,
  onClick,
  className,
  ...props
}: MapButtonProps) => {
  return (
    <motion.div
      whileHover={{ scale: 1.02 }}
      whileTap={{ scale: 0.98 }}
      className="flex-1"
    >
      <Button
        variant={isActive ? 'secondary' : 'outline'}
        onClick={onClick}
        className={cn(
          'w-full flex items-center justify-center gap-2 h-11 text-sm font-medium',
          'bg-white/95 backdrop-blur-sm border border-gray-200',
          'hover:bg-primary/10 hover:border-primary/50',
          'transition-all duration-200',
          'shadow-sm hover:shadow-md',
          isActive && 'bg-primary/10 border-primary text-primary',
          className,
        )}
        {...props}
      >
        {icon}
        <span className="hidden sm:inline">{label}</span>
      </Button>
    </motion.div>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\MapButton.tsx
import React from 'react'

interface MapButtonProps {
  icon: React.ReactNode
  label: string
  isActive: boolean
  onClick: () => void
}

export const MapButton: React.FC<MapButtonProps> = ({
  icon,
  label,
  isActive,
  onClick,
}) => {
  return (
    <button
      onClick={onClick}
      className={`flex items-center gap-2 p-2 rounded-md ${
        isActive ? 'bg-blue-500 text-white' : 'bg-gray-200 text-gray-700'
      }`}
    >
      {icon}
      <span>{label}</span>
    </button>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\menubar.tsx
import * as React from 'react'
import * as MenubarPrimitive from '@radix-ui/react-menubar'
import { Check, ChevronRight, Circle } from 'lucide-react'

import { cn } from '@/lib/utils'

const MenubarMenu = MenubarPrimitive.Menu

const MenubarGroup = MenubarPrimitive.Group

const MenubarPortal = MenubarPrimitive.Portal

const MenubarSub = MenubarPrimitive.Sub

const MenubarRadioGroup = MenubarPrimitive.RadioGroup

const Menubar = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>
>(({ className, ...props }, ref) => (
  <MenubarPrimitive.Root
    ref={ref}
    className={cn(
      'flex h-10 items-center space-x-1 rounded-md border bg-background p-1',
      className,
    )}
    {...props}
  />
))
Menubar.displayName = MenubarPrimitive.Root.displayName

const MenubarTrigger = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.Trigger>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>
>(({ className, ...props }, ref) => (
  <MenubarPrimitive.Trigger
    ref={ref}
    className={cn(
      'flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground',
      className,
    )}
    {...props}
  />
))
MenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName

const MenubarSubTrigger = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {
    inset?: boolean
  }
>(({ className, inset, children, ...props }, ref) => (
  <MenubarPrimitive.SubTrigger
    ref={ref}
    className={cn(
      'flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground',
      inset && 'pl-8',
      className,
    )}
    {...props}
  >
    {children}
    <ChevronRight className="ml-auto h-4 w-4" />
  </MenubarPrimitive.SubTrigger>
))
MenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName

const MenubarSubContent = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.SubContent>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>
>(({ className, ...props }, ref) => (
  <MenubarPrimitive.SubContent
    ref={ref}
    className={cn(
      'z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',
      className,
    )}
    {...props}
  />
))
MenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName

const MenubarContent = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>
>(
  (
    { className, align = 'start', alignOffset = -4, sideOffset = 8, ...props },
    ref,
  ) => (
    <MenubarPrimitive.Portal>
      <MenubarPrimitive.Content
        ref={ref}
        align={align}
        alignOffset={alignOffset}
        sideOffset={sideOffset}
        className={cn(
          'z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',
          className,
        )}
        {...props}
      />
    </MenubarPrimitive.Portal>
  ),
)
MenubarContent.displayName = MenubarPrimitive.Content.displayName

const MenubarItem = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {
    inset?: boolean
  }
>(({ className, inset, ...props }, ref) => (
  <MenubarPrimitive.Item
    ref={ref}
    className={cn(
      'relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',
      inset && 'pl-8',
      className,
    )}
    {...props}
  />
))
MenubarItem.displayName = MenubarPrimitive.Item.displayName

const MenubarCheckboxItem = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>
>(({ className, children, checked, ...props }, ref) => (
  <MenubarPrimitive.CheckboxItem
    ref={ref}
    className={cn(
      'relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',
      className,
    )}
    checked={checked}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <MenubarPrimitive.ItemIndicator>
        <Check className="h-4 w-4" />
      </MenubarPrimitive.ItemIndicator>
    </span>
    {children}
  </MenubarPrimitive.CheckboxItem>
))
MenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName

const MenubarRadioItem = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.RadioItem>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>
>(({ className, children, ...props }, ref) => (
  <MenubarPrimitive.RadioItem
    ref={ref}
    className={cn(
      'relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',
      className,
    )}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <MenubarPrimitive.ItemIndicator>
        <Circle className="h-4 w-4 fill-current" />
      </MenubarPrimitive.ItemIndicator>
    </span>
    {children}
  </MenubarPrimitive.RadioItem>
))
MenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName

const MenubarLabel = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.Label>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {
    inset?: boolean
  }
>(({ className, inset, ...props }, ref) => (
  <MenubarPrimitive.Label
    ref={ref}
    className={cn(
      'px-2 py-1.5 text-sm font-semibold',
      inset && 'pl-8',
      className,
    )}
    {...props}
  />
))
MenubarLabel.displayName = MenubarPrimitive.Label.displayName

const MenubarSeparator = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.Separator>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>
>(({ className, ...props }, ref) => (
  <MenubarPrimitive.Separator
    ref={ref}
    className={cn('-mx-1 my-1 h-px bg-muted', className)}
    {...props}
  />
))
MenubarSeparator.displayName = MenubarPrimitive.Separator.displayName

const MenubarShortcut = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLSpanElement>) => {
  return (
    <span
      className={cn(
        'ml-auto text-xs tracking-widest text-muted-foreground',
        className,
      )}
      {...props}
    />
  )
}
MenubarShortcut.displayname = 'MenubarShortcut'

export {
  Menubar,
  MenubarMenu,
  MenubarTrigger,
  MenubarContent,
  MenubarItem,
  MenubarSeparator,
  MenubarLabel,
  MenubarCheckboxItem,
  MenubarRadioGroup,
  MenubarRadioItem,
  MenubarPortal,
  MenubarSubContent,
  MenubarSubTrigger,
  MenubarGroup,
  MenubarSub,
  MenubarShortcut,
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\navigation-menu.tsx
import * as React from 'react'
import * as NavigationMenuPrimitive from '@radix-ui/react-navigation-menu'
import { cva } from 'class-variance-authority'
import { ChevronDown } from 'lucide-react'

import { cn } from '@/lib/utils'

const NavigationMenu = React.forwardRef<
  React.ElementRef<typeof NavigationMenuPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>
>(({ className, children, ...props }, ref) => (
  <NavigationMenuPrimitive.Root
    ref={ref}
    className={cn(
      'relative z-10 flex max-w-max flex-1 items-center justify-center',
      className,
    )}
    {...props}
  >
    {children}
    <NavigationMenuViewport />
  </NavigationMenuPrimitive.Root>
))
NavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName

const NavigationMenuList = React.forwardRef<
  React.ElementRef<typeof NavigationMenuPrimitive.List>,
  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>
>(({ className, ...props }, ref) => (
  <NavigationMenuPrimitive.List
    ref={ref}
    className={cn(
      'group flex flex-1 list-none items-center justify-center space-x-1',
      className,
    )}
    {...props}
  />
))
NavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName

const NavigationMenuItem = NavigationMenuPrimitive.Item

const navigationMenuTriggerStyle = cva(
  'group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50',
)

const NavigationMenuTrigger = React.forwardRef<
  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,
  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>
>(({ className, children, ...props }, ref) => (
  <NavigationMenuPrimitive.Trigger
    ref={ref}
    className={cn(navigationMenuTriggerStyle(), 'group', className)}
    {...props}
  >
    {children}{' '}
    <ChevronDown
      className="relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180"
      aria-hidden="true"
    />
  </NavigationMenuPrimitive.Trigger>
))
NavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName

const NavigationMenuContent = React.forwardRef<
  React.ElementRef<typeof NavigationMenuPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>
>(({ className, ...props }, ref) => (
  <NavigationMenuPrimitive.Content
    ref={ref}
    className={cn(
      'left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto ',
      className,
    )}
    {...props}
  />
))
NavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName

const NavigationMenuLink = NavigationMenuPrimitive.Link

const NavigationMenuViewport = React.forwardRef<
  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,
  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>
>(({ className, ...props }, ref) => (
  <div className={cn('absolute left-0 top-full flex justify-center')}>
    <NavigationMenuPrimitive.Viewport
      className={cn(
        'origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]',
        className,
      )}
      ref={ref}
      {...props}
    />
  </div>
))
NavigationMenuViewport.displayName =
  NavigationMenuPrimitive.Viewport.displayName

const NavigationMenuIndicator = React.forwardRef<
  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,
  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>
>(({ className, ...props }, ref) => (
  <NavigationMenuPrimitive.Indicator
    ref={ref}
    className={cn(
      'top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in',
      className,
    )}
    {...props}
  >
    <div className="relative top-[60%] h-4 w-4 rotate-45 rounded-tl-sm bg-border shadow-md" />
  </NavigationMenuPrimitive.Indicator>
))
NavigationMenuIndicator.displayName =
  NavigationMenuPrimitive.Indicator.displayName

export {
  navigationMenuTriggerStyle,
  NavigationMenu,
  NavigationMenuList,
  NavigationMenuItem,
  NavigationMenuContent,
  NavigationMenuTrigger,
  NavigationMenuLink,
  NavigationMenuIndicator,
  NavigationMenuViewport,
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\pagination.tsx
import * as React from 'react'
import { ChevronLeft, ChevronRight, MoreHorizontal } from 'lucide-react'

import { cn } from '@/lib/utils'
import { ButtonProps, buttonVariants } from '@/components/ui/button'

const Pagination = ({ className, ...props }: React.ComponentProps<'nav'>) => (
  <nav
    role="navigation"
    aria-label="pagination"
    className={cn('mx-auto flex w-full justify-center', className)}
    {...props}
  />
)
Pagination.displayName = 'Pagination'

const PaginationContent = React.forwardRef<
  HTMLUListElement,
  React.ComponentProps<'ul'>
>(({ className, ...props }, ref) => (
  <ul
    ref={ref}
    className={cn('flex flex-row items-center gap-1', className)}
    {...props}
  />
))
PaginationContent.displayName = 'PaginationContent'

const PaginationItem = React.forwardRef<
  HTMLLIElement,
  React.ComponentProps<'li'>
>(({ className, ...props }, ref) => (
  <li ref={ref} className={cn('', className)} {...props} />
))
PaginationItem.displayName = 'PaginationItem'

type PaginationLinkProps = {
  isActive?: boolean
} & Pick<ButtonProps, 'size'> &
  React.ComponentProps<'a'>

const PaginationLink = ({
  className,
  isActive,
  size = 'icon',
  ...props
}: PaginationLinkProps) => (
  <a
    aria-current={isActive ? 'page' : undefined}
    className={cn(
      buttonVariants({
        variant: isActive ? 'outline' : 'ghost',
        size,
      }),
      className,
    )}
    {...props}
  />
)
PaginationLink.displayName = 'PaginationLink'

const PaginationPrevious = ({
  className,
  ...props
}: React.ComponentProps<typeof PaginationLink>) => (
  <PaginationLink
    aria-label="Go to previous page"
    size="default"
    className={cn('gap-1 pl-2.5', className)}
    {...props}
  >
    <ChevronLeft className="h-4 w-4" />
    <span>Previous</span>
  </PaginationLink>
)
PaginationPrevious.displayName = 'PaginationPrevious'

const PaginationNext = ({
  className,
  ...props
}: React.ComponentProps<typeof PaginationLink>) => (
  <PaginationLink
    aria-label="Go to next page"
    size="default"
    className={cn('gap-1 pr-2.5', className)}
    {...props}
  >
    <span>Next</span>
    <ChevronRight className="h-4 w-4" />
  </PaginationLink>
)
PaginationNext.displayName = 'PaginationNext'

const PaginationEllipsis = ({
  className,
  ...props
}: React.ComponentProps<'span'>) => (
  <span
    aria-hidden
    className={cn('flex h-9 w-9 items-center justify-center', className)}
    {...props}
  >
    <MoreHorizontal className="h-4 w-4" />
    <span className="sr-only">More pages</span>
  </span>
)
PaginationEllipsis.displayName = 'PaginationEllipsis'

export {
  Pagination,
  PaginationContent,
  PaginationEllipsis,
  PaginationItem,
  PaginationLink,
  PaginationNext,
  PaginationPrevious,
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\popover.tsx
import * as React from 'react'
import * as PopoverPrimitive from '@radix-ui/react-popover'

import { cn } from '@/lib/utils'

const Popover = PopoverPrimitive.Root

const PopoverTrigger = PopoverPrimitive.Trigger

const PopoverContent = React.forwardRef<
  React.ElementRef<typeof PopoverPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>
>(({ className, align = 'center', sideOffset = 4, ...props }, ref) => (
  <PopoverPrimitive.Portal>
    <PopoverPrimitive.Content
      ref={ref}
      align={align}
      sideOffset={sideOffset}
      className={cn(
        'z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',
        className,
      )}
      {...props}
    />
  </PopoverPrimitive.Portal>
))
PopoverContent.displayName = PopoverPrimitive.Content.displayName

export { Popover, PopoverTrigger, PopoverContent }



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\progress.tsx
import * as React from 'react'
import * as ProgressPrimitive from '@radix-ui/react-progress'

import { cn } from '@/lib/utils'

const Progress = React.forwardRef<
  React.ElementRef<typeof ProgressPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>
>(({ className, value, ...props }, ref) => (
  <ProgressPrimitive.Root
    ref={ref}
    className={cn(
      'relative h-4 w-full overflow-hidden rounded-full bg-secondary',
      className,
    )}
    {...props}
  >
    <ProgressPrimitive.Indicator
      className="h-full w-full flex-1 bg-primary transition-all"
      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}
    />
  </ProgressPrimitive.Root>
))
Progress.displayName = ProgressPrimitive.Root.displayName

export { Progress }



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\radio-group.tsx
import * as React from 'react'
import * as RadioGroupPrimitive from '@radix-ui/react-radio-group'
import { Circle } from 'lucide-react'

import { cn } from '@/lib/utils'

const RadioGroup = React.forwardRef<
  React.ElementRef<typeof RadioGroupPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>
>(({ className, ...props }, ref) => {
  return (
    <RadioGroupPrimitive.Root
      className={cn('grid gap-2', className)}
      {...props}
      ref={ref}
    />
  )
})
RadioGroup.displayName = RadioGroupPrimitive.Root.displayName

const RadioGroupItem = React.forwardRef<
  React.ElementRef<typeof RadioGroupPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>
>(({ className, ...props }, ref) => {
  return (
    <RadioGroupPrimitive.Item
      ref={ref}
      className={cn(
        'aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50',
        className,
      )}
      {...props}
    >
      <RadioGroupPrimitive.Indicator className="flex items-center justify-center">
        <Circle className="h-2.5 w-2.5 fill-current text-current" />
      </RadioGroupPrimitive.Indicator>
    </RadioGroupPrimitive.Item>
  )
})
RadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName

export { RadioGroup, RadioGroupItem }



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\resizable.tsx
import { GripVertical } from 'lucide-react'
import * as ResizablePrimitive from 'react-resizable-panels'

import { cn } from '@/lib/utils'

const ResizablePanelGroup = ({
  className,
  ...props
}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (
  <ResizablePrimitive.PanelGroup
    className={cn(
      'flex h-full w-full data-[panel-group-direction=vertical]:flex-col',
      className,
    )}
    {...props}
  />
)

const ResizablePanel = ResizablePrimitive.Panel

const ResizableHandle = ({
  withHandle,
  className,
  ...props
}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {
  withHandle?: boolean
}) => (
  <ResizablePrimitive.PanelResizeHandle
    className={cn(
      'relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90',
      className,
    )}
    {...props}
  >
    {withHandle && (
      <div className="z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border">
        <GripVertical className="h-2.5 w-2.5" />
      </div>
    )}
  </ResizablePrimitive.PanelResizeHandle>
)

export { ResizablePanelGroup, ResizablePanel, ResizableHandle }



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\scroll-area.tsx
import * as React from 'react'
import * as ScrollAreaPrimitive from '@radix-ui/react-scroll-area'

import { cn } from '@/lib/utils'

const ScrollArea = React.forwardRef<
  React.ElementRef<typeof ScrollAreaPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>
>(({ className, children, ...props }, ref) => (
  <ScrollAreaPrimitive.Root
    ref={ref}
    className={cn('relative overflow-hidden', className)}
    {...props}
  >
    <ScrollAreaPrimitive.Viewport className="h-full w-full rounded-[inherit]">
      {children}
    </ScrollAreaPrimitive.Viewport>
    <ScrollBar />
    <ScrollAreaPrimitive.Corner />
  </ScrollAreaPrimitive.Root>
))
ScrollArea.displayName = ScrollAreaPrimitive.Root.displayName

const ScrollBar = React.forwardRef<
  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,
  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>
>(({ className, orientation = 'vertical', ...props }, ref) => (
  <ScrollAreaPrimitive.ScrollAreaScrollbar
    ref={ref}
    orientation={orientation}
    className={cn(
      'flex touch-none select-none transition-colors',
      orientation === 'vertical' &&
        'h-full w-2.5 border-l border-l-transparent p-[1px]',
      orientation === 'horizontal' &&
        'h-2.5 flex-col border-t border-t-transparent p-[1px]',
      className,
    )}
    {...props}
  >
    <ScrollAreaPrimitive.ScrollAreaThumb className="relative flex-1 rounded-full bg-border" />
  </ScrollAreaPrimitive.ScrollAreaScrollbar>
))
ScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName

export { ScrollArea, ScrollBar }



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\scroll.tsx


// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\select.tsx
import * as React from 'react'
import * as SelectPrimitive from '@radix-ui/react-select'
import { Check, ChevronDown, ChevronUp } from 'lucide-react'

import { cn } from '@/lib/utils'

const Select = SelectPrimitive.Root

const SelectGroup = SelectPrimitive.Group

const SelectValue = SelectPrimitive.Value

const SelectTrigger = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Trigger>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>
>(({ className, children, ...props }, ref) => (
  <SelectPrimitive.Trigger
    ref={ref}
    className={cn(
      'flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1',
      className,
    )}
    {...props}
  >
    {children}
    <SelectPrimitive.Icon asChild>
      <ChevronDown className="h-4 w-4 opacity-50" />
    </SelectPrimitive.Icon>
  </SelectPrimitive.Trigger>
))
SelectTrigger.displayName = SelectPrimitive.Trigger.displayName

const SelectScrollUpButton = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>
>(({ className, ...props }, ref) => (
  <SelectPrimitive.ScrollUpButton
    ref={ref}
    className={cn(
      'flex cursor-default items-center justify-center py-1',
      className,
    )}
    {...props}
  >
    <ChevronUp className="h-4 w-4" />
  </SelectPrimitive.ScrollUpButton>
))
SelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName

const SelectScrollDownButton = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>
>(({ className, ...props }, ref) => (
  <SelectPrimitive.ScrollDownButton
    ref={ref}
    className={cn(
      'flex cursor-default items-center justify-center py-1',
      className,
    )}
    {...props}
  >
    <ChevronDown className="h-4 w-4" />
  </SelectPrimitive.ScrollDownButton>
))
SelectScrollDownButton.displayName =
  SelectPrimitive.ScrollDownButton.displayName

const SelectContent = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>
>(({ className, children, position = 'popper', ...props }, ref) => (
  <SelectPrimitive.Portal>
    <SelectPrimitive.Content
      ref={ref}
      className={cn(
        'relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',
        position === 'popper' &&
          'data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1',
        className,
      )}
      position={position}
      {...props}
    >
      <SelectScrollUpButton />
      <SelectPrimitive.Viewport
        className={cn(
          'p-1',
          position === 'popper' &&
            'h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]',
        )}
      >
        {children}
      </SelectPrimitive.Viewport>
      <SelectScrollDownButton />
    </SelectPrimitive.Content>
  </SelectPrimitive.Portal>
))
SelectContent.displayName = SelectPrimitive.Content.displayName

const SelectLabel = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Label>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>
>(({ className, ...props }, ref) => (
  <SelectPrimitive.Label
    ref={ref}
    className={cn('py-1.5 pl-8 pr-2 text-sm font-semibold', className)}
    {...props}
  />
))
SelectLabel.displayName = SelectPrimitive.Label.displayName

const SelectItem = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>
>(({ className, children, ...props }, ref) => (
  <SelectPrimitive.Item
    ref={ref}
    className={cn(
      'relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',
      className,
    )}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <SelectPrimitive.ItemIndicator>
        <Check className="h-4 w-4" />
      </SelectPrimitive.ItemIndicator>
    </span>

    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>
  </SelectPrimitive.Item>
))
SelectItem.displayName = SelectPrimitive.Item.displayName

const SelectSeparator = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Separator>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>
>(({ className, ...props }, ref) => (
  <SelectPrimitive.Separator
    ref={ref}
    className={cn('-mx-1 my-1 h-px bg-muted', className)}
    {...props}
  />
))
SelectSeparator.displayName = SelectPrimitive.Separator.displayName

export {
  Select,
  SelectGroup,
  SelectValue,
  SelectTrigger,
  SelectContent,
  SelectLabel,
  SelectItem,
  SelectSeparator,
  SelectScrollUpButton,
  SelectScrollDownButton,
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\separator.tsx
import * as React from 'react'
import * as SeparatorPrimitive from '@radix-ui/react-separator'

import { cn } from '@/lib/utils'

const Separator = React.forwardRef<
  React.ElementRef<typeof SeparatorPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>
>(
  (
    { className, orientation = 'horizontal', decorative = true, ...props },
    ref,
  ) => (
    <SeparatorPrimitive.Root
      ref={ref}
      decorative={decorative}
      orientation={orientation}
      className={cn(
        'shrink-0 bg-border',
        orientation === 'horizontal' ? 'h-[1px] w-full' : 'h-full w-[1px]',
        className,
      )}
      {...props}
    />
  ),
)
Separator.displayName = SeparatorPrimitive.Root.displayName

export { Separator }



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\sheet.tsx
import * as React from 'react'
import * as SheetPrimitive from '@radix-ui/react-dialog'
import { cva, type VariantProps } from 'class-variance-authority'
import { X } from 'lucide-react'

import { cn } from '@/lib/utils'

const Sheet = SheetPrimitive.Root

const SheetTrigger = SheetPrimitive.Trigger

const SheetClose = SheetPrimitive.Close

const SheetPortal = SheetPrimitive.Portal

const SheetOverlay = React.forwardRef<
  React.ElementRef<typeof SheetPrimitive.Overlay>,
  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>
>(({ className, ...props }, ref) => (
  <SheetPrimitive.Overlay
    className={cn(
      'fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0',
      className,
    )}
    {...props}
    ref={ref}
  />
))
SheetOverlay.displayName = SheetPrimitive.Overlay.displayName

const sheetVariants = cva(
  'fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500',
  {
    variants: {
      side: {
        top: 'inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top',
        bottom:
          'inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom',
        left: 'inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm',
        right:
          'inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm',
      },
    },
    defaultVariants: {
      side: 'right',
    },
  },
)

interface SheetContentProps
  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,
    VariantProps<typeof sheetVariants> {}

const SheetContent = React.forwardRef<
  React.ElementRef<typeof SheetPrimitive.Content>,
  SheetContentProps
>(({ side = 'right', className, children, ...props }, ref) => (
  <SheetPortal>
    <SheetOverlay />
    <SheetPrimitive.Content
      ref={ref}
      className={cn(sheetVariants({ side }), className)}
      {...props}
    >
      {children}
      <SheetPrimitive.Close className="absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary">
        <X className="h-4 w-4" />
        <span className="sr-only">Close</span>
      </SheetPrimitive.Close>
    </SheetPrimitive.Content>
  </SheetPortal>
))
SheetContent.displayName = SheetPrimitive.Content.displayName

const SheetHeader = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      'flex flex-col space-y-2 text-center sm:text-left',
      className,
    )}
    {...props}
  />
)
SheetHeader.displayName = 'SheetHeader'

const SheetFooter = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      'flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2',
      className,
    )}
    {...props}
  />
)
SheetFooter.displayName = 'SheetFooter'

const SheetTitle = React.forwardRef<
  React.ElementRef<typeof SheetPrimitive.Title>,
  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>
>(({ className, ...props }, ref) => (
  <SheetPrimitive.Title
    ref={ref}
    className={cn('text-lg font-semibold text-foreground', className)}
    {...props}
  />
))
SheetTitle.displayName = SheetPrimitive.Title.displayName

const SheetDescription = React.forwardRef<
  React.ElementRef<typeof SheetPrimitive.Description>,
  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>
>(({ className, ...props }, ref) => (
  <SheetPrimitive.Description
    ref={ref}
    className={cn('text-sm text-muted-foreground', className)}
    {...props}
  />
))
SheetDescription.displayName = SheetPrimitive.Description.displayName

export {
  Sheet,
  SheetPortal,
  SheetOverlay,
  SheetTrigger,
  SheetClose,
  SheetContent,
  SheetHeader,
  SheetFooter,
  SheetTitle,
  SheetDescription,
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\skeleton.tsx
import { cn } from '@/lib/utils'

function Skeleton({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) {
  return (
    <div
      className={cn('animate-pulse rounded-md bg-muted', className)}
      {...props}
    />
  )
}

export { Skeleton }



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\slider.tsx
import * as React from 'react'
import * as SliderPrimitive from '@radix-ui/react-slider'

import { cn } from '@/lib/utils'

const Slider = React.forwardRef<
  React.ElementRef<typeof SliderPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>
>(({ className, ...props }, ref) => (
  <SliderPrimitive.Root
    ref={ref}
    className={cn(
      'relative flex w-full touch-none select-none items-center',
      className,
    )}
    {...props}
  >
    <SliderPrimitive.Track className="relative h-2 w-full grow overflow-hidden rounded-full bg-secondary">
      <SliderPrimitive.Range className="absolute h-full bg-primary" />
    </SliderPrimitive.Track>
    <SliderPrimitive.Thumb className="block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50" />
  </SliderPrimitive.Root>
))
Slider.displayName = SliderPrimitive.Root.displayName

export { Slider }



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\sonner.tsx
import { useTheme } from 'next-themes'
import { Toaster as Sonner } from 'sonner'

type ToasterProps = React.ComponentProps<typeof Sonner>

const Toaster = ({ ...props }: ToasterProps) => {
  const { theme = 'system' } = useTheme()

  return (
    <Sonner
      theme={theme as ToasterProps['theme']}
      className="toaster group"
      toastOptions={{
        classNames: {
          toast:
            'group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg',
          description: 'group-[.toast]:text-muted-foreground',
          actionButton:
            'group-[.toast]:bg-primary group-[.toast]:text-primary-foreground',
          cancelButton:
            'group-[.toast]:bg-muted group-[.toast]:text-muted-foreground',
        },
      }}
      {...props}
    />
  )
}

export { Toaster }



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\switch.tsx
import * as React from 'react'
import * as SwitchPrimitives from '@radix-ui/react-switch'

import { cn } from '@/lib/utils'

const Switch = React.forwardRef<
  React.ElementRef<typeof SwitchPrimitives.Root>,
  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>
>(({ className, ...props }, ref) => (
  <SwitchPrimitives.Root
    className={cn(
      'peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input',
      className,
    )}
    {...props}
    ref={ref}
  >
    <SwitchPrimitives.Thumb
      className={cn(
        'pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0',
      )}
    />
  </SwitchPrimitives.Root>
))
Switch.displayName = SwitchPrimitives.Root.displayName

export { Switch }



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\table.tsx
import * as React from 'react'

import { cn } from '@/lib/utils'

const Table = React.forwardRef<
  HTMLTableElement,
  React.HTMLAttributes<HTMLTableElement>
>(({ className, ...props }, ref) => (
  <div className="relative w-full overflow-auto">
    <table
      ref={ref}
      className={cn('w-full caption-bottom text-sm', className)}
      {...props}
    />
  </div>
))
Table.displayName = 'Table'

const TableHeader = React.forwardRef<
  HTMLTableSectionElement,
  React.HTMLAttributes<HTMLTableSectionElement>
>(({ className, ...props }, ref) => (
  <thead ref={ref} className={cn('[&_tr]:border-b', className)} {...props} />
))
TableHeader.displayName = 'TableHeader'

const TableBody = React.forwardRef<
  HTMLTableSectionElement,
  React.HTMLAttributes<HTMLTableSectionElement>
>(({ className, ...props }, ref) => (
  <tbody
    ref={ref}
    className={cn('[&_tr:last-child]:border-0', className)}
    {...props}
  />
))
TableBody.displayName = 'TableBody'

const TableFooter = React.forwardRef<
  HTMLTableSectionElement,
  React.HTMLAttributes<HTMLTableSectionElement>
>(({ className, ...props }, ref) => (
  <tfoot
    ref={ref}
    className={cn(
      'border-t bg-muted/50 font-medium [&>tr]:last:border-b-0',
      className,
    )}
    {...props}
  />
))
TableFooter.displayName = 'TableFooter'

const TableRow = React.forwardRef<
  HTMLTableRowElement,
  React.HTMLAttributes<HTMLTableRowElement>
>(({ className, ...props }, ref) => (
  <tr
    ref={ref}
    className={cn(
      'border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted',
      className,
    )}
    {...props}
  />
))
TableRow.displayName = 'TableRow'

const TableHead = React.forwardRef<
  HTMLTableCellElement,
  React.ThHTMLAttributes<HTMLTableCellElement>
>(({ className, ...props }, ref) => (
  <th
    ref={ref}
    className={cn(
      'h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0',
      className,
    )}
    {...props}
  />
))
TableHead.displayName = 'TableHead'

const TableCell = React.forwardRef<
  HTMLTableCellElement,
  React.TdHTMLAttributes<HTMLTableCellElement>
>(({ className, ...props }, ref) => (
  <td
    ref={ref}
    className={cn('p-4 align-middle [&:has([role=checkbox])]:pr-0', className)}
    {...props}
  />
))
TableCell.displayName = 'TableCell'

const TableCaption = React.forwardRef<
  HTMLTableCaptionElement,
  React.HTMLAttributes<HTMLTableCaptionElement>
>(({ className, ...props }, ref) => (
  <caption
    ref={ref}
    className={cn('mt-4 text-sm text-muted-foreground', className)}
    {...props}
  />
))
TableCaption.displayName = 'TableCaption'

export {
  Table,
  TableHeader,
  TableBody,
  TableFooter,
  TableHead,
  TableRow,
  TableCell,
  TableCaption,
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\tabs.tsx
import * as React from 'react'
import * as TabsPrimitive from '@radix-ui/react-tabs'

import { cn } from '@/lib/utils'

const Tabs = TabsPrimitive.Root

const TabsList = React.forwardRef<
  React.ElementRef<typeof TabsPrimitive.List>,
  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>
>(({ className, ...props }, ref) => (
  <TabsPrimitive.List
    ref={ref}
    className={cn(
      'inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground',
      className,
    )}
    {...props}
  />
))
TabsList.displayName = TabsPrimitive.List.displayName

const TabsTrigger = React.forwardRef<
  React.ElementRef<typeof TabsPrimitive.Trigger>,
  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>
>(({ className, ...props }, ref) => (
  <TabsPrimitive.Trigger
    ref={ref}
    className={cn(
      'inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm',
      className,
    )}
    {...props}
  />
))
TabsTrigger.displayName = TabsPrimitive.Trigger.displayName

const TabsContent = React.forwardRef<
  React.ElementRef<typeof TabsPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>
>(({ className, ...props }, ref) => (
  <TabsPrimitive.Content
    ref={ref}
    className={cn(
      'mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2',
      className,
    )}
    {...props}
  />
))
TabsContent.displayName = TabsPrimitive.Content.displayName

export { Tabs, TabsList, TabsTrigger, TabsContent }



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\textarea.tsx
import * as React from 'react'
import { cn } from '@/lib/utils'

export interface TextareaProps
  extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}

const Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(
  ({ className, ...props }, ref) => {
    return (
      <textarea
        className={cn(
          'flex min-h-[100px] w-full rounded-lg border border-input bg-background px-4 py-3',
          'text-sm ring-offset-background transition-colors duration-200',
          'placeholder:text-muted-foreground/60',
          'focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none',
          'disabled:cursor-not-allowed disabled:opacity-50',
          'resize-none',
          className,
        )}
        ref={ref}
        {...props}
      />
    )
  },
)
Textarea.displayName = 'Textarea'

export { Textarea }



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\toast.tsx
import * as React from 'react'
import * as ToastPrimitives from '@radix-ui/react-toast'
import { cva, type VariantProps } from 'class-variance-authority'
import { X } from 'lucide-react'

import { cn } from '@/lib/utils'

const ToastProvider = ToastPrimitives.Provider

const ToastViewport = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Viewport>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Viewport
    ref={ref}
    className={cn(
      'fixed top-0 z-[100] flex max-h-screen w-full flex-col p-4 sm:right-0 sm:top-0 md:max-w-[420px]',
      className,
    )}
    {...props}
  />
))
ToastViewport.displayName = ToastPrimitives.Viewport.displayName

const toastVariants = cva(
  'group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full',
  {
    variants: {
      variant: {
        default: 'border bg-background text-foreground',
        destructive:
          'destructive group border-destructive bg-destructive text-destructive-foreground',
      },
    },
    defaultVariants: {
      variant: 'default',
    },
  },
)

const Toast = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Root>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &
    VariantProps<typeof toastVariants>
>(({ className, variant, ...props }, ref) => {
  return (
    <ToastPrimitives.Root
      ref={ref}
      className={cn(toastVariants({ variant }), className)}
      {...props}
    />
  )
})
Toast.displayName = ToastPrimitives.Root.displayName

const ToastAction = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Action>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Action
    ref={ref}
    className={cn(
      'inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive',
      className,
    )}
    {...props}
  />
))
ToastAction.displayName = ToastPrimitives.Action.displayName

const ToastClose = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Close>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Close
    ref={ref}
    className={cn(
      'absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600',
      className,
    )}
    toast-close=""
    {...props}
  >
    <X className="h-4 w-4" />
  </ToastPrimitives.Close>
))
ToastClose.displayName = ToastPrimitives.Close.displayName

const ToastTitle = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Title>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Title
    ref={ref}
    className={cn('text-sm font-semibold', className)}
    {...props}
  />
))
ToastTitle.displayName = ToastPrimitives.Title.displayName

const ToastDescription = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Description>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Description
    ref={ref}
    className={cn('text-sm opacity-90', className)}
    {...props}
  />
))
ToastDescription.displayName = ToastPrimitives.Description.displayName

type ToastProps = React.ComponentPropsWithoutRef<typeof Toast>

type ToastActionElement = React.ReactElement<typeof ToastAction>

export {
  type ToastProps,
  type ToastActionElement,
  ToastProvider,
  ToastViewport,
  Toast,
  ToastTitle,
  ToastDescription,
  ToastClose,
  ToastAction,
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\toaster.tsx
import { Toast, ToastClose, ToastDescription, ToastProvider, ToastTitle, ToastViewport } from "@/components/ui/toast"
import { useToast } from "@/hooks/use-toast"

export function Toaster() {
  const { toasts } = useToast()

  return (
    <ToastProvider>
      {toasts.map(function ({ id, title, description, action, ...props }) {
        return (
          <Toast key={id} {...props}>
            <div className="grid gap-1">
              {title && <ToastTitle>{title}</ToastTitle>}
              {description && (
                <ToastDescription>{description}</ToastDescription>
              )}
            </div>
            {action}
            <ToastClose />
          </Toast>
        )
      })}
      <ToastViewport className="fixed bottom-0 left-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:left-0 sm:top-auto sm:flex-col md:max-w-[420px]" />
    </ToastProvider>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\toggle-group.tsx
import * as React from 'react'
import * as ToggleGroupPrimitive from '@radix-ui/react-toggle-group'
import { type VariantProps } from 'class-variance-authority'

import { cn } from '@/lib/utils'
import { toggleVariants } from '@/components/ui/toggle'

const ToggleGroupContext = React.createContext<
  VariantProps<typeof toggleVariants>
>({
  size: 'default',
  variant: 'default',
})

const ToggleGroup = React.forwardRef<
  React.ElementRef<typeof ToggleGroupPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &
    VariantProps<typeof toggleVariants>
>(({ className, variant, size, children, ...props }, ref) => (
  <ToggleGroupPrimitive.Root
    ref={ref}
    className={cn('flex items-center justify-center gap-1', className)}
    {...props}
  >
    <ToggleGroupContext.Provider value={{ variant, size }}>
      {children}
    </ToggleGroupContext.Provider>
  </ToggleGroupPrimitive.Root>
))

ToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName

const ToggleGroupItem = React.forwardRef<
  React.ElementRef<typeof ToggleGroupPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &
    VariantProps<typeof toggleVariants>
>(({ className, children, variant, size, ...props }, ref) => {
  const context = React.useContext(ToggleGroupContext)

  return (
    <ToggleGroupPrimitive.Item
      ref={ref}
      className={cn(
        toggleVariants({
          variant: context.variant || variant,
          size: context.size || size,
        }),
        className,
      )}
      {...props}
    >
      {children}
    </ToggleGroupPrimitive.Item>
  )
})

ToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName

export { ToggleGroup, ToggleGroupItem }



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\toggle.tsx
import * as React from 'react'
import * as TogglePrimitive from '@radix-ui/react-toggle'
import { cva, type VariantProps } from 'class-variance-authority'

import { cn } from '@/lib/utils'

const toggleVariants = cva(
  'inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground',
  {
    variants: {
      variant: {
        default: 'bg-transparent',
        outline:
          'border border-input bg-transparent hover:bg-accent hover:text-accent-foreground',
      },
      size: {
        default: 'h-10 px-3',
        sm: 'h-9 px-2.5',
        lg: 'h-11 px-5',
      },
    },
    defaultVariants: {
      variant: 'default',
      size: 'default',
    },
  },
)

const Toggle = React.forwardRef<
  React.ElementRef<typeof TogglePrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &
    VariantProps<typeof toggleVariants>
>(({ className, variant, size, ...props }, ref) => (
  <TogglePrimitive.Root
    ref={ref}
    className={cn(toggleVariants({ variant, size, className }))}
    {...props}
  />
))

Toggle.displayName = TogglePrimitive.Root.displayName

export { Toggle, toggleVariants }



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\tooltip.tsx
import * as React from 'react'
import * as TooltipPrimitive from '@radix-ui/react-tooltip'

import { cn } from '@/lib/utils'

const TooltipProvider = TooltipPrimitive.Provider

const Tooltip = TooltipPrimitive.Root

const TooltipTrigger = TooltipPrimitive.Trigger

const TooltipContent = React.forwardRef<
  React.ElementRef<typeof TooltipPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>
>(({ className, sideOffset = 4, ...props }, ref) => (
  <TooltipPrimitive.Content
    ref={ref}
    sideOffset={sideOffset}
    className={cn(
      'z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',
      className,
    )}
    {...props}
  />
))
TooltipContent.displayName = TooltipPrimitive.Content.displayName

export { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }



// C:\Users\israe\Documents\GitHub\recentmap\src\components\ui\use-toast.ts
import { useToast, toast } from '@/hooks/use-toast'

export { useToast, toast }



// C:\Users\israe\Documents\GitHub\recentmap\src\components\user\UserDashboard.tsx
import { useState } from 'react'
import { motion } from 'framer-motion'
import { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'
import { UserProfile } from './UserProfile'
import { UserReservations } from './UserReservations'
import { UserSettings } from './UserSettings'
import { UserNotifications } from './UserNotifications'
import { useProfile } from '@/hooks/useProfile'
import { Loader2 } from 'lucide-react'

export const UserDashboard = () => {
  const [activeTab, setActiveTab] = useState('profile')
  const { profile, isLoading } = useProfile()

  if (isLoading) {
    return (
      <div className="flex items-center justify-center min-h-screen">
        <Loader2 className="w-8 h-8 animate-spin text-primary" />
      </div>
    )
  }

  return (
    <motion.div
      initial={{ opacity: 0 }}
      animate={{ opacity: 1 }}
      className="container mx-auto px-4 py-8"
    >
      <div className="max-w-6xl mx-auto">
        <motion.div
          initial={{ y: 20, opacity: 0 }}
          animate={{ y: 0, opacity: 1 }}
          transition={{ delay: 0.1 }}
          className="mb-8"
        >
          <h1 className="text-3xl font-bold text-gray-900">
            Bienvenido, {profile?.full_name || 'Usuario'}
          </h1>
          <p className="text-gray-600 mt-2">
            Gestiona tus servicios y preferencias desde aquí
          </p>
        </motion.div>

        <Tabs
          defaultValue={activeTab}
          onValueChange={setActiveTab}
          className="space-y-6"
        >
          <TabsList className="grid grid-cols-2 sm:grid-cols-4 gap-2">
            <TabsTrigger value="profile">Perfil</TabsTrigger>
            <TabsTrigger value="reservations">Servicios</TabsTrigger>
            <TabsTrigger value="notifications">Notificaciones</TabsTrigger>
            <TabsTrigger value="settings">Configuración</TabsTrigger>
          </TabsList>

          <TabsContent value="profile">
            <UserProfile />
          </TabsContent>
          <TabsContent value="reservations">
            <UserReservations />
          </TabsContent>
          <TabsContent value="notifications">
            <UserNotifications />
          </TabsContent>
          <TabsContent value="settings">
            <UserSettings />
          </TabsContent>
        </Tabs>
      </div>
    </motion.div>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\user\UserNavigationMenu.tsx
import {
  NavigationMenu,
  NavigationMenuContent,
  NavigationMenuItem,
  NavigationMenuLink,
  NavigationMenuList,
  NavigationMenuTrigger,
} from '@/components/ui/navigation-menu'
import { cn } from '@/lib/utils'
import { motion } from 'framer-motion'
import {
  User,
  Calendar,
  Bell,
  Settings,
  LogOut,
  Truck,
} from 'lucide-react'
import { useNavigate } from 'react-router-dom'
import { supabase } from '@/integrations/supabase/client'
import { useToast } from '@/hooks/use-toast'

export const UserNavigationMenu = () => {
  const navigate = useNavigate()
  const { toast } = useToast()

  const handleSignOut = async () => {
    try {
      await supabase.auth.signOut()
      toast({
        title: 'Sesión cerrada',
        description: 'Has cerrado sesión exitosamente',
      })
      navigate('/')
    } catch (error) {
      toast({
        title: 'Error',
        description: 'No se pudo cerrar la sesión',
        variant: 'destructive',
      })
    }
  }

  return (
    <NavigationMenu className="max-w-full w-full justify-start">
      <NavigationMenuList className="space-x-2">
        <NavigationMenuItem>
          <NavigationMenuTrigger>
            <User className="w-4 h-4 mr-2" />
            Mi Cuenta
          </NavigationMenuTrigger>
          <NavigationMenuContent>
            <ul className="grid gap-3 p-6 w-[400px]">
              <ListItem
                href="/user/profile"
                title="Perfil"
                icon={<User className="w-4 h-4" />}
              >
                Gestiona tu información personal y preferencias
              </ListItem>
              <ListItem
                href="/user/services"
                title="Servicios"
                icon={<Truck className="w-4 h-4" />}
              >
                Revisa tus servicios activos y el historial
              </ListItem>
              <ListItem
                href="/user/notifications"
                title="Notificaciones"
                icon={<Bell className="w-4 h-4" />}
              >
                Configura tus preferencias de notificación
              </ListItem>
              <ListItem
                href="/user/settings"
                title="Configuración"
                icon={<Settings className="w-4 h-4" />}
              >
                Ajusta la configuración de tu cuenta
              </ListItem>
              <button
                onClick={handleSignOut}
                className="flex items-center space-x-2 px-3 py-2 rounded-md hover:bg-gray-100 transition-colors w-full text-left text-red-600"
              >
                <LogOut className="w-4 h-4" />
                <span>Cerrar Sesión</span>
              </button>
            </ul>
          </NavigationMenuContent>
        </NavigationMenuItem>

        <NavigationMenuItem>
          <NavigationMenuTrigger>
            <Calendar className="w-4 h-4 mr-2" />
            Reservaciones
          </NavigationMenuTrigger>
          <NavigationMenuContent>
            <ul className="grid gap-3 p-6 w-[400px]">
              <ListItem
                href="/user/new-service"
                title="Nuevo Servicio"
                icon={<Truck className="w-4 h-4" />}
              >
                Solicita un nuevo servicio de grúa
              </ListItem>
              <ListItem
                href="/user/history"
                title="Historial"
                icon={<Calendar className="w-4 h-4" />}
              >
                Revisa tu historial de servicios
              </ListItem>
            </ul>
          </NavigationMenuContent>
        </NavigationMenuItem>
      </NavigationMenuList>
    </NavigationMenu>
  )
}

const ListItem = ({
  className,
  title,
  children,
  icon,
  href,
  ...props
}: {
  className?: string
  title: string
  children: React.ReactNode
  icon?: React.ReactNode
  href: string
}) => {
  return (
    <motion.li whileHover={{ scale: 1.02 }}>
      <NavigationMenuLink asChild>
        <a
          href={href}
          className={cn(
            'block select-none space-y-1 rounded-md p-3 leading-none no-underline outline-none transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground',
            className,
          )}
          {...props}
        >
          <div className="flex items-center gap-2 text-sm font-medium leading-none">
            {icon}
            {title}
          </div>
          <p className="line-clamp-2 text-sm leading-snug text-muted-foreground">
            {children}
          </p>
        </a>
      </NavigationMenuLink>
    </motion.li>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\user\UserNotifications.tsx
import { Bell } from 'lucide-react'
import { motion } from 'framer-motion'

export const UserNotifications = () => {
  return (
    <motion.div
      initial={{ opacity: 0 }}
      animate={{ opacity: 1 }}
      className="space-y-4"
    >
      <h2 className="text-2xl font-semibold mb-4">Notificaciones</h2>
      <div className="flex flex-col items-center justify-center py-12 text-gray-500">
        <Bell className="w-12 h-12 mb-4" />
        <p>No hay notificaciones nuevas</p>
      </div>
    </motion.div>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\user\UserPage.tsx
import { UserDashboard } from '@/components/user/UserDashboard'

const UserPage = () => {
  return <UserDashboard />
}

export default UserPage


// C:\Users\israe\Documents\GitHub\recentmap\src\components\user\UserProfile.tsx
import { useProfile } from '@/hooks/useProfile'
import { Button } from '@/components/ui/button'
import { Input } from '@/components/ui/input'
import { Textarea } from '@/components/ui/textarea'
import { useForm } from 'react-hook-form'
import { zodResolver } from '@hookform/resolvers/zod'
import { z } from 'zod'
import { useToast } from '@/hooks/use-toast'
import {
  Form,
  FormControl,
  FormField,
  FormItem,
  FormLabel,
  FormMessage,
} from '@/components/ui/form'
import { Loader2 } from 'lucide-react'

const profileSchema = z.object({
  full_name: z.string().min(2, 'El nombre es muy corto'),
  username: z.string().min(3, 'El usuario es muy corto'),
  phone_number: z.string().min(10, 'El teléfono debe tener al menos 10 dígitos'),
  bio: z.string().optional(),
})

type ProfileFormData = z.infer<typeof profileSchema>

export const UserProfile = () => {
  const { profile, updateProfile, isPending, isLoading } = useProfile()
  const { toast } = useToast()

  const form = useForm<ProfileFormData>({
    resolver: zodResolver(profileSchema),
    defaultValues: {
      full_name: profile?.full_name || '',
      username: profile?.username || '',
      phone_number: profile?.phone_number || '',
      bio: profile?.bio || '',
    },
  })

  const onSubmit = async (data: ProfileFormData) => {
    try {
      await updateProfile(data)
      toast({
        title: 'Perfil actualizado',
        description: 'Tu información ha sido actualizada exitosamente',
      })
    } catch (error) {
      toast({
        title: 'Error',
        description: 'No se pudo actualizar tu perfil',
        variant: 'destructive',
      })
    }
  }

  if (isLoading) {
    return (
      <div className="flex justify-center items-center h-64">
        <Loader2 className="w-8 h-8 animate-spin text-primary" />
      </div>
    )
  }

  return (
    <Form {...form}>
      <form
        onSubmit={form.handleSubmit(onSubmit)}
        className="space-y-6 max-w-2xl mx-auto"
      >
        <FormField
          control={form.control}
          name="full_name"
          render={({ field }) => (
            <FormItem>
              <FormLabel>Nombre Completo</FormLabel>
              <FormControl>
                <Input {...field} placeholder="Tu nombre completo" />
              </FormControl>
              <FormMessage />
            </FormItem>
          )}
        />

        <FormField
          control={form.control}
          name="username"
          render={({ field }) => (
            <FormItem>
              <FormLabel>Nombre de Usuario</FormLabel>
              <FormControl>
                <Input {...field} placeholder="Tu nombre de usuario" />
              </FormControl>
              <FormMessage />
            </FormItem>
          )}
        />

        <FormField
          control={form.control}
          name="phone_number"
          render={({ field }) => (
            <FormItem>
              <FormLabel>Teléfono</FormLabel>
              <FormControl>
                <Input
                  {...field}
                  type="tel"
                  placeholder="Tu número de teléfono"
                />
              </FormControl>
              <FormMessage />
            </FormItem>
          )}
        />

        <FormField
          control={form.control}
          name="bio"
          render={({ field }) => (
            <FormItem>
              <FormLabel>Biografía</FormLabel>
              <FormControl>
                <Textarea
                  {...field}
                  placeholder="Cuéntanos un poco sobre ti"
                />
              </FormControl>
              <FormMessage />
            </FormItem>
          )}
        />

        <Button type="submit" disabled={isPending}>
          {isPending ? (
            <>
              <Loader2 className="w-4 h-4 mr-2 animate-spin" />
              Actualizando...
            </>
          ) : (
            'Guardar Cambios'
          )}
        </Button>
      </form>
    </Form>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\user\UserReservations.tsx
import { useQuery } from '@tanstack/react-query'
import { supabase } from '@/integrations/supabase/client'
import {
  Table,
  TableBody,
  TableCell,
  TableHead,
  TableHeader,
  TableRow,
} from '@/components/ui/table'
import { Badge } from '@/components/ui/badge'
import { Loader2 } from 'lucide-react'
import { formatDistanceToNow } from 'date-fns'
import { es } from 'date-fns/locale'

export const UserReservations = () => {
  const { data: requests, isLoading } = useQuery({
    queryKey: ['vehicleRequests'],
    queryFn: async () => {
      const { data, error } = await supabase
        .from('vehicle_requests')
        .select('*')
        .order('created_at', { ascending: false })

      if (error) throw error
      return data
    },
  })

  if (isLoading) {
    return (
      <div className="flex justify-center items-center h-64">
        <Loader2 className="w-8 h-8 animate-spin text-primary" />
      </div>
    )
  }

  return (
    <div className="space-y-6">
      <div className="rounded-md border">
        <Table>
          <TableHeader>
            <TableRow>
              <TableHead>Vehículo</TableHead>
              <TableHead>Estado</TableHead>
              <TableHead>Fecha</TableHead>
              <TableHead>Pago</TableHead>
            </TableRow>
          </TableHeader>
          <TableBody>
            {requests?.map((request) => (
              <TableRow key={request.id}>
                <TableCell>
                  {request.vehicle_make} {request.vehicle_model} (
                  {request.vehicle_year})
                </TableCell>
                <TableCell>
                  <Badge
                    variant={
                      request.status === 'completed'
                        ? 'default'
                        : request.status === 'pending'
                        ? 'secondary'
                        : 'destructive'
                    }
                  >
                    {request.status}
                  </Badge>
                </TableCell>
                <TableCell>
                  {formatDistanceToNow(new Date(request.created_at), {
                    addSuffix: true,
                    locale: es,
                  })}
                </TableCell>
                <TableCell>
                  <Badge
                    variant={
                      request.payment_status === 'completed'
                        ? 'default'
                        : 'secondary'
                    }
                  >
                    {request.payment_status}
                  </Badge>
                </TableCell>
              </TableRow>
            ))}
          </TableBody>
        </Table>
      </div>
    </div>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\components\user\UserSettings.tsx
import { Card } from '@/components/ui/card'
import { motion } from 'framer-motion'
import { Settings, LogOut } from 'lucide-react'
import { Button } from '@/components/ui/button'
import { useToast } from '@/hooks/use-toast'

export const UserSettings = () => {
  const { toast } = useToast()

  const handleLogout = () => {
    // Add your logout logic here
    toast({
      title: 'Cerraste sesión',
      description: 'Tu sesión ha sido cerrada correctamente.',
    })
  }

  return (
    <motion.div
      initial={{ opacity: 0 }}
      animate={{ opacity: 1 }}
      className="space-y-4"
    >
      <h2 className="text-2xl font-semibold mb-4">Configuración de Cuenta</h2>
      <Card className="p-6 gradient-border">
        <div className="flex flex-col items-center justify-center py-8 text-gray-500">
          <Settings className="w-12 h-12 mb-4" />
          <p>Configuración de cuenta próximamente</p>
        </div>
      </Card>

      <Button
        variant="destructive"
        className="w-full mt-6"
        onClick={handleLogout}
      >
        <LogOut className="w-4 h-4 mr-2" />
        Cerrar Sesión
      </Button>
    </motion.div>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\components\user\hooks\useUserProfile.ts
import { useState, useEffect } from 'react'
import { supabase } from '@/integrations/supabase/client'
import { Profile } from '@/types/user'
import { useToast } from '@/hooks/use-toast'

export const useUserProfile = () => {
  const [profile, setProfile] = useState<Profile | null>(null)
  const [loading, setLoading] = useState(true)
  const { toast } = useToast()

  useEffect(() => {
    const fetchProfile = async () => {
      try {
        const {
          data: { user },
        } = await supabase.auth.getUser()
        if (user) {
          const { data, error } = await supabase
            .from('profiles')
            .select('*')
            .eq('id', user.id)
            .single()

          if (error) throw error
          setProfile(data as Profile)
        }
      } catch (error) {
        console.error('Error fetching profile:', error)
        toast({
          title: 'Error',
          description: 'Could not fetch profile',
          variant: 'destructive',
        })
      } finally {
        setLoading(false)
      }
    }

    fetchProfile()
  }, [toast])

  const updateProfile = async (updates: Partial<Profile>) => {
    try {
      const {
        data: { user },
      } = await supabase.auth.getUser()
      if (!user) throw new Error('No user')

      const { error } = await supabase
        .from('profiles')
        .update(updates)
        .eq('id', user.id)

      if (error) throw error

      setProfile((prev) => (prev ? { ...prev, ...updates } : null))
      return profile
    } catch (error) {
      console.error('Error updating profile:', error)
      toast({
        title: 'Error',
        description: 'Could not update profile',
        variant: 'destructive',
      })
      return null
    }
  }

  return {
    profile,
    loading,
    updateProfile,
  }
}



// C:\Users\israe\Documents\GitHub\recentmap\src\contexts\SidebarContext.tsx
import { createContext, useContext, useState, ReactNode } from 'react'

interface SidebarContextType {
  isOpen: boolean
  toggle: () => void
  setIsOpen: (isOpen: boolean) => void
}

const SidebarContext = createContext<SidebarContextType | undefined>(undefined)

export const SidebarProvider = ({ children }: { children: ReactNode }) => {
  const [isOpen, setIsOpen] = useState(true)

  const toggle = () => setIsOpen(!isOpen)

  return (
    <SidebarContext.Provider value={{ isOpen, toggle, setIsOpen }}>
      {children}
    </SidebarContext.Provider>
  )
}

export const useSidebar = () => {
  const context = useContext(SidebarContext)
  if (context === undefined) {
    throw new Error('useSidebar must be used within a SidebarProvider')
  }
  return context
}



// C:\Users\israe\Documents\GitHub\recentmap\src\contexts\towing.ts
import { TollLocation } from '@/types/toll'

export interface LocationInfo {
  pickup?: { lat: number; lng: number; address: string }
  drop?: { lat: number; lng: number; address: string }
}

export interface TollInfo {
  tolls: TollLocation[]
  totalTollCost: number
}

export interface PaymentInfo {
  subtotal: number
  tax: number
  total: number
  isPending: boolean
  isProcessing: boolean
}

export interface TowingContextType {
  totalDistance: number
  totalCost: number
  detectedTolls: TollLocation[]
  totalTollCost: number
  truckType: 'A' | 'B' | 'C' | 'D'
  requiresManeuver: boolean
  selectedVehicleModel: string
  tollInfo: TollInfo | null
  paymentInfo: PaymentInfo
  isLoadingLocations: boolean
  isProcessingPayment: boolean
  updateTowingInfo: (distance: number) => void
  updateTollInfo: (tolls: TollLocation[], tollCost: number) => void
  updateTruckType: (type: 'A' | 'B' | 'C' | 'D') => void
  updateManeuverRequired: (required: boolean) => void
  updateSelectedVehicleModel: (model: string) => void
  updateLocationInfo: (info: LocationInfo) => void
  processPayment: (amount: number) => Promise<boolean>
}



// C:\Users\israe\Documents\GitHub\recentmap\src\contexts\TowingContext.tsx
import { createContext, useContext, useState, ReactNode } from 'react'
import { TollLocation } from '@/data/tollData'

interface LocationInfo {
  pickup?: { lat: number; lng: number; address: string }
  drop?: { lat: number; lng: number; address: string }
}

interface TollInfo {
  tolls: TollLocation[]
  totalTollCost: number
}

interface TowingContextType {
  totalDistance: number
  totalCost: number
  detectedTolls: TollLocation[]
  totalTollCost: number
  truckType: 'A' | 'B' | 'C' | 'D'
  requiresManeuver: boolean
  selectedVehicleModel: string
  tollInfo: TollInfo | null
  updateTowingInfo: (distance: number) => void
  updateTollInfo: (tolls: TollLocation[], tollCost: number) => void
  updateTruckType: (type: 'A' | 'B' | 'C' | 'D') => void
  updateManeuverRequired: (required: boolean) => void
  updateSelectedVehicleModel: (model: string) => void
  updateLocationInfo: (info: LocationInfo) => void
}

const TowingContext = createContext<TowingContextType | undefined>(undefined)

export const TowingProvider = ({ children }: { children: ReactNode }) => {
  const [totalDistance, setTotalDistance] = useState(0)
  const [totalCost, setTotalCost] = useState(0)
  const [detectedTolls, setDetectedTolls] = useState<TollLocation[]>([])
  const [totalTollCost, setTotalTollCost] = useState(0)
  const [truckType, setTruckType] = useState<'A' | 'B' | 'C' | 'D'>('A')
  const [requiresManeuver, setRequiresManeuver] = useState(false)
  const [selectedVehicleModel, setSelectedVehicleModel] = useState('')
  const [tollInfo, setTollInfo] = useState<TollInfo | null>(null)

  const updateTowingInfo = (distance: number) => {
    setTotalDistance(distance)
    setTotalCost(
      calculateTotalCost(distance, truckType, requiresManeuver, totalTollCost),
    )
  }

  const updateTollInfo = (tolls: TollLocation[], tollCost: number) => {
    setDetectedTolls(tolls)
    setTotalTollCost(tollCost)
    setTollInfo({ tolls, totalTollCost: tollCost })
    setTotalCost(
      calculateTotalCost(totalDistance, truckType, requiresManeuver, tollCost),
    )
  }

  const updateTruckType = (type: 'A' | 'B' | 'C' | 'D') => {
    setTruckType(type)
    setTotalCost(
      calculateTotalCost(totalDistance, type, requiresManeuver, totalTollCost),
    )
  }

  const updateManeuverRequired = (required: boolean) => {
    setRequiresManeuver(required)
    setTotalCost(
      calculateTotalCost(totalDistance, truckType, required, totalTollCost),
    )
  }

  const updateSelectedVehicleModel = (model: string) => {
    setSelectedVehicleModel(model)
  }

  const updateLocationInfo = (info: LocationInfo) => {
    // This function is used to update pickup and drop location information
    // The actual state updates will be handled by the map component
  }

  return (
    <TowingContext.Provider
      value={{
        totalDistance,
        totalCost,
        detectedTolls,
        totalTollCost,
        truckType,
        requiresManeuver,
        selectedVehicleModel,
        tollInfo,
        updateTowingInfo,
        updateTollInfo,
        updateTruckType,
        updateManeuverRequired,
        updateSelectedVehicleModel,
        updateLocationInfo,
      }}
    >
      {children}
    </TowingContext.Provider>
  )
}

export const useTowing = () => {
  const context = useContext(TowingContext)
  if (context === undefined) {
    throw new Error('useTowing must be used within a TowingProvider')
  }
  return context
}

const calculateTotalCost = (
  distance: number,
  truckType: 'A' | 'B' | 'C' | 'D',
  requiresManeuver: boolean,
  tollCost: number,
): number => {
  const baseRate =
    {
      A: 18.82,
      B: 20.62,
      C: 23.47,
      D: 32.35,
    }[truckType] || 18.82

  const maneuverCost = requiresManeuver
    ? {
        A: 1219.55,
        B: 1336.73,
        C: 1524.21,
        D: 2101.65,
      }[truckType]
    : 0

  const flagDropFee = {
    A: 528.69,
    B: 607.43,
    C: 721.79,
    D: 885.84,
  }[truckType]

  return distance * baseRate + maneuverCost + flagDropFee + tollCost
}



// C:\Users\israe\Documents\GitHub\recentmap\src\contexts\towing\TowingContext.tsx
import { createContext, useContext, useReducer, ReactNode } from 'react'
import { TowingContextType, LocationInfo } from './types'
import { towingReducer } from './towingReducer'
import { useToast } from '@/hooks/use-toast'

const initialState = {
  totalDistance: 0,
  totalCost: 0,
  detectedTolls: [],
  totalTollCost: 0,
  truckType: 'A' as const,
  requiresManeuver: false,
  selectedVehicleModel: '',
  tollInfo: null,
  paymentInfo: {
    subtotal: 0,
    tax: 0,
    total: 0,
    isPending: false,
    isProcessing: false,
  },
  isLoadingLocations: false,
  isProcessingPayment: false,
}

const TowingContext = createContext<TowingContextType | null>(null)

export const TowingProvider = ({ children }: { children: ReactNode }) => {
  const [state, dispatch] = useReducer(towingReducer, initialState)
  const { toast } = useToast()

  const updateTowingInfo = (distance: number) => {
    dispatch({ type: 'UPDATE_DISTANCE', payload: distance })
  }

  const updateTollInfo = (tolls: any[], tollCost: number) => {
    dispatch({ type: 'UPDATE_TOLL_INFO', payload: { tolls, tollCost } })
  }

  const updateTruckType = (type: 'A' | 'B' | 'C' | 'D') => {
    dispatch({ type: 'UPDATE_TRUCK_TYPE', payload: type })
  }

  const updateManeuverRequired = (required: boolean) => {
    dispatch({ type: 'UPDATE_MANEUVER', payload: required })
  }

  const updateSelectedVehicleModel = (model: string) => {
    dispatch({ type: 'UPDATE_VEHICLE_MODEL', payload: model })
  }

  const updateLocationInfo = async (info: LocationInfo) => {
    dispatch({ type: 'SET_LOADING_LOCATIONS', payload: true })
    try {
      if (info.pickup) {
        toast({
          title: 'Ubicación de Recogida Actualizada',
          description: info.pickup.address,
        })
      }
      if (info.drop) {
        toast({
          title: 'Ubicación de Entrega Actualizada',
          description: info.drop.address,
        })
      }
    } catch (error) {
      toast({
        title: 'Error',
        description: 'No se pudo actualizar la ubicación',
        variant: 'destructive',
      })
    } finally {
      dispatch({ type: 'SET_LOADING_LOCATIONS', payload: false })
    }
  }

  const processPayment = async (amount: number): Promise<boolean> => {
    dispatch({ type: 'SET_PROCESSING_PAYMENT', payload: true })
    try {
      await new Promise((resolve) => setTimeout(resolve, 2000))
      toast({
        title: 'Pago Procesado',
        description: `Se ha procesado el pago por $${amount.toFixed(2)} MXN`,
      })
      return true
    } catch (error) {
      toast({
        title: 'Error en el Pago',
        description: 'No se pudo procesar el pago',
        variant: 'destructive',
      })
      return false
    } finally {
      dispatch({ type: 'SET_PROCESSING_PAYMENT', payload: false })
    }
  }

  const setLoadingLocations = (loading: boolean) => {
    dispatch({ type: 'SET_LOADING_LOCATIONS', payload: loading })
  }

  return (
    <TowingContext.Provider
      value={{
        ...state,
        updateTowingInfo,
        updateTollInfo,
        updateTruckType,
        updateManeuverRequired,
        updateSelectedVehicleModel,
        updateLocationInfo,
        processPayment,
        setLoadingLocations,
      }}
    >
      {children}
    </TowingContext.Provider>
  )
}

export const useTowing = () => {
  const context = useContext(TowingContext)
  if (context === null) {
    throw new Error('useTowing must be used within a TowingProvider')
  }
  return context
}


// C:\Users\israe\Documents\GitHub\recentmap\src\contexts\towing\towingReducer.ts
import { TowingState } from './types'
import { calculateTotalCost } from '@/utils/costCalculator'

export type TowingAction =
  | { type: 'UPDATE_DISTANCE'; payload: number }
  | { type: 'UPDATE_TOLL_INFO'; payload: { tolls: any[]; tollCost: number } }
  | { type: 'UPDATE_TRUCK_TYPE'; payload: 'A' | 'B' | 'C' | 'D' }
  | { type: 'UPDATE_MANEUVER'; payload: boolean }
  | { type: 'UPDATE_VEHICLE_MODEL'; payload: string }
  | { type: 'SET_LOADING_LOCATIONS'; payload: boolean }
  | { type: 'SET_PROCESSING_PAYMENT'; payload: boolean }

export const towingReducer = (state: TowingState, action: TowingAction): TowingState => {
  switch (action.type) {
    case 'UPDATE_DISTANCE': {
      const costBreakdown = calculateTotalCost(
        action.payload,
        state.truckType,
        state.requiresManeuver,
        state.totalTollCost
      )
      return {
        ...state,
        totalDistance: action.payload,
        totalCost: costBreakdown.finalTotal,
        paymentInfo: {
          ...state.paymentInfo,
          subtotal: costBreakdown.subtotal,
          total: costBreakdown.finalTotal,
        },
      }
    }

    case 'UPDATE_TOLL_INFO':
      return {
        ...state,
        detectedTolls: action.payload.tolls,
        totalTollCost: action.payload.tollCost,
        tollInfo: {
          tolls: action.payload.tolls,
          totalTollCost: action.payload.tollCost,
        },
      }

    case 'UPDATE_TRUCK_TYPE':
      return {
        ...state,
        truckType: action.payload,
      }

    case 'UPDATE_MANEUVER':
      return {
        ...state,
        requiresManeuver: action.payload,
      }

    case 'UPDATE_VEHICLE_MODEL':
      return {
        ...state,
        selectedVehicleModel: action.payload,
      }

    case 'SET_LOADING_LOCATIONS':
      return {
        ...state,
        isLoadingLocations: action.payload,
      }

    case 'SET_PROCESSING_PAYMENT':
      return {
        ...state,
        isProcessingPayment: action.payload,
      }

    default:
      return state
  }
}


// C:\Users\israe\Documents\GitHub\recentmap\src\contexts\towing\types.ts
import { TollLocation } from '@/types/toll'

export interface LocationInfo {
  pickup?: { lat: number; lng: number; address: string }
  drop?: { lat: number; lng: number; address: string }
}

export interface TollInfo {
  tolls: TollLocation[]
  totalTollCost: number
}

export interface PaymentInfo {
  subtotal: number
  tax: number
  total: number
  isPending: boolean
  isProcessing: boolean
}

export interface TowingState {
  totalDistance: number
  totalCost: number
  detectedTolls: TollLocation[]
  totalTollCost: number
  truckType: 'A' | 'B' | 'C' | 'D'
  requiresManeuver: boolean
  selectedVehicleModel: string
  tollInfo: TollInfo | null
  paymentInfo: PaymentInfo
  isLoadingLocations: boolean
  isProcessingPayment: boolean
}

export interface TowingActions {
  updateTowingInfo: (distance: number) => void
  updateTollInfo: (tolls: TollLocation[], tollCost: number) => void
  updateTruckType: (type: 'A' | 'B' | 'C' | 'D') => void
  updateManeuverRequired: (required: boolean) => void
  updateSelectedVehicleModel: (model: string) => void
  updateLocationInfo: (info: LocationInfo) => void
  processPayment: (amount: number) => Promise<boolean>
  setLoadingLocations: (loading: boolean) => void
}

export interface TowingContextType extends TowingState, TowingActions {}


// C:\Users\israe\Documents\GitHub\recentmap\src\data\tollData.ts
import { TollLocation } from '@/types/toll'
import { monterreyTolls } from './tolls/monterrey'
import { saltilloTolls } from './tolls/saltillo'
import { zacatecasTolls } from './tolls/zacatecas'
import { monclovaTolls } from './tolls/monclova'
import { nuevoLeonTolls } from './tolls/nuevoLeon'

export const TOLL_LOCATIONS: TollLocation[] = [
  ...monterreyTolls,
  ...saltilloTolls,
  ...zacatecasTolls,
  ...monclovaTolls,
  ...nuevoLeonTolls,
]

export type { TollLocation }


// C:\Users\israe\Documents\GitHub\recentmap\src\data\vehicleData.ts
export const vehicleBrands = [
  'Toyota',
  'Honda',
  'Ford',
  'Chevrolet',
  'Nissan',
  'Volkswagen',
  'BMW',
  'Mercedes-Benz',
  'Audi',
  'Hyundai',
  'Mazda',
  'Subaru',
  'Kia',
  'Lexus',
  'Volvo',
  'Tesla',
  'Porsche',
  'Jaguar',
  'Land Rover',
  'Acura',
  'RAM',
  'GMC',
  'Jeep',
  'Dodge',
  'Chrysler',
  'Mitsubishi',
  'Ferrari',
  'Lamborghini',
  'Bentley',
  'Bugatti',
  'Alfa Romeo',
].sort()

export const vehicleModels: Record<string, string[]> = {
  Toyota: [
    'Corolla',
    'Camry',
    'RAV4',
    'Highlander',
    'Tacoma',
    'Tundra',
    'Sienna',
    'Prius',
    '4Runner',
    'Land Cruiser',
  ].sort(),
  Honda: [
    'Civic',
    'Accord',
    'CR-V',
    'Pilot',
    'Odyssey',
    'HR-V',
    'Fit',
    'Ridgeline',
    'Passport',
  ].sort(),
  Ford: [
    'F-150',
    'Mustang',
    'Explorer',
    'Escape',
    'Focus',
    'Ranger',
    'Edge',
    'Expedition',
    'F-250',
    'F-350',
    'Bronco',
  ].sort(),
  Chevrolet: [
    'Silverado',
    'Malibu',
    'Equinox',
    'Traverse',
    'Camaro',
    'Tahoe',
    'Suburban',
    'Colorado',
    'Silverado 2500HD',
  ].sort(),
  Nissan: [
    'Altima',
    'Rogue',
    'Sentra',
    'Maxima',
    'Pathfinder',
    'Murano',
    'Titan',
    'Leaf',
    'Titan XD',
  ].sort(),
  Volkswagen: [
    'Jetta',
    'Passat',
    'Tiguan',
    'Atlas',
    'Golf',
    'ID.4',
    'Arteon',
    'Taos',
  ].sort(),
  BMW: [
    '3 Series',
    '5 Series',
    'X3',
    'X5',
    '7 Series',
    'M4',
    'X1',
    'X7',
  ].sort(),
  'Mercedes-Benz': [
    'C-Class',
    'E-Class',
    'GLC',
    'GLE',
    'S-Class',
    'A-Class',
    'GLA',
    'GLS',
  ].sort(),
  Audi: ['A4', 'A6', 'Q5', 'Q7', 'e-tron', 'A3', 'Q3', 'TT'].sort(),
  Hyundai: [
    'Elantra',
    'Sonata',
    'Tucson',
    'Santa Fe',
    'Kona',
    'Palisade',
    'Venue',
    'Ioniq',
  ].sort(),
  Mazda: [
    'Mazda3',
    'Mazda6',
    'CX-5',
    'CX-9',
    'MX-5 Miata',
    'CX-30',
    'CX-3',
    'CX-50',
  ].sort(),
  Subaru: [
    'Outback',
    'Forester',
    'Impreza',
    'Crosstrek',
    'Legacy',
    'Ascent',
    'WRX',
    'BRZ',
  ].sort(),
  Kia: [
    'Forte',
    'Optima',
    'Sportage',
    'Sorento',
    'Telluride',
    'Soul',
    'Stinger',
    'Seltos',
  ].sort(),
  Lexus: ['RX', 'ES', 'NX', 'IS', 'GX', 'UX', 'LS', 'LC'].sort(),
  Volvo: ['XC90', 'XC60', 'S60', 'V60', 'XC40', 'S90', 'V90', 'C40'].sort(),
  Tesla: [
    'Model 3',
    'Model S',
    'Model X',
    'Model Y',
    'Cybertruck',
    'Roadster',
  ].sort(),
  Porsche: [
    '911',
    'Cayenne',
    'Panamera',
    'Macan',
    'Taycan',
    'Boxster',
    'Cayman',
    '718',
  ].sort(),
  Jaguar: [
    'F-PACE',
    'XF',
    'E-PACE',
    'I-PACE',
    'XE',
    'F-TYPE',
    'XJ',
    'XK',
  ].sort(),
  'Land Rover': [
    'Range Rover',
    'Discovery',
    'Defender',
    'Evoque',
    'Velar',
  ].sort(),
  Acura: ['TLX', 'RDX', 'MDX', 'ILX', 'NSX', 'RLX', 'TSX', 'RSX'].sort(),
  RAM: ['1500', '2500', '3500', 'ProMaster', 'ProMaster City'].sort(),
  GMC: [
    'Sierra',
    'Yukon',
    'Terrain',
    'Acadia',
    'Canyon',
    'Savana',
    'Sierra 2500HD',
  ].sort(),
  Jeep: [
    'Wrangler',
    'Grand Cherokee',
    'Cherokee',
    'Compass',
    'Renegade',
    'Gladiator',
  ].sort(),
  Dodge: [
    'Charger',
    'Challenger',
    'Durango',
    'Journey',
    'Grand Caravan',
    'Ram 3500',
  ].sort(),
  Chrysler: ['300', 'Pacifica', 'Voyager'].sort(),
  Mitsubishi: [
    'Outlander',
    'Pajero',
    'Lancer',
    'Eclipse Cross',
    'Mirage',
    'ASX',
  ].sort(),
  Ferrari: [
    '488',
    'Portofino',
    'Roma',
    'SF90 Stradale',
    'F8 Tributo',
    'GTC4Lusso',
  ].sort(),
  Lamborghini: ['Huracan', 'Aventador', 'Urus', 'Gallardo'].sort(),
  Bentley: ['Continental GT', 'Flying Spur', 'Bentayga'].sort(),
  Bugatti: ['Chiron', 'Veyron', 'Divo', 'Centodieci'].sort(),
  'Alfa Romeo': ['Giulia', 'Stelvio', '4C', 'Giulietta'].sort(),
}



// C:\Users\israe\Documents\GitHub\recentmap\src\data\tolls\monclova.ts
import { TollLocation } from '@/types/toll'

export const monclovaTolls: TollLocation[] = [
  {
    name: 'Monclova - Ojo Caliente 1',
    location: 'Monclova - Ojo Caliente 1',
    lat: 25.8667,
    lng: -100.7833,
    cost: 57.0,
    description: 'Peaje entre Monclova y Ojo Caliente 1',
    type: 'highway',
    operatingHours: '24/7',
    acceptedPayments: ['cash', 'card', 'tag'],
    vehicleTypes: ['car', 'truck', 'motorcycle'],
    lastUpdated: '2024-03-20',
    status: 'active',
  },
  {
    name: 'Monclova - Ojo Caliente 2',
    location: 'Monclova - Ojo Caliente 2',
    lat: 25.8667,
    lng: -100.7833,
    cost: 102.0,
    description: 'Peaje entre Monclova y Ojo Caliente 2',
    type: 'highway',
    operatingHours: '24/7',
    acceptedPayments: ['cash', 'card', 'tag'],
    vehicleTypes: ['car', 'truck', 'motorcycle'],
    lastUpdated: '2024-03-20',
    status: 'active',
  },
]



// C:\Users\israe\Documents\GitHub\recentmap\src\data\tolls\monterrey.ts
import { TollLocation } from '@/types/toll'

export const monterreyTolls: TollLocation[] = [
  {
    name: 'Monterrey - Nuevo Laredo',
    location: 'Monterrey - Nuevo Laredo',
    lat: 25.8941,
    lng: -100.1824,
    cost: 418.0,
    description: 'Cuota principal hacia Nuevo Laredo',
    type: 'highway',
    operatingHours: '24/7',
    acceptedPayments: ['cash', 'card', 'tag'],
    vehicleTypes: ['car', 'truck', 'motorcycle'],
    lastUpdated: '2024-03-20',
    status: 'active',
    route: 'Monterrey - Nuevo Laredo',
    distance: 123.1,
  },
  {
    name: 'Agualeguas',
    location: 'Agualeguas',
    lat: 26.3167,
    lng: -99.5333,
    cost: 171.0,
    description: 'Caseta Agualeguas',
    type: 'highway',
    operatingHours: '24/7',
    acceptedPayments: ['cash', 'card', 'tag'],
    vehicleTypes: ['car', 'truck', 'motorcycle'],
    lastUpdated: '2024-03-20',
    status: 'active',
    kilometer: '79+600',
    route: 'Monterrey - Agualeguas',
    distance: 56.9,
  },
]



// C:\Users\israe\Documents\GitHub\recentmap\src\data\tolls\nuevoLeon.ts
import { TollLocation } from '@/types/toll'

export const nuevoLeonTolls: TollLocation[] = [
  {
    name: 'Monterrey - Cadereyta',
    location: 'Monterrey - Cadereyta',
    lat: 25.5833,
    lng: -100.0167,
    cost: 89.0,
    description: 'Cuota principal hacia Cadereyta',
    type: 'highway',
    operatingHours: '24/7',
    acceptedPayments: ['cash', 'card', 'tag'],
    vehicleTypes: ['car', 'truck', 'motorcycle'],
    lastUpdated: '2024-03-20',
    status: 'active',
    route: 'Monterrey - Cadereyta',
    distance: 36.5,
  },
  {
    name: 'Monterrey - Colombia',
    location: 'Monterrey - Colombia',
    lat: 25.8941,
    lng: -100.1824,
    cost: 156.0,
    description: 'Cuota hacia Puente Colombia',
    type: 'highway',
    operatingHours: '24/7',
    acceptedPayments: ['cash', 'card', 'tag'],
    vehicleTypes: ['car', 'truck', 'motorcycle'],
    lastUpdated: '2024-03-20',
    status: 'active',
    route: 'Monterrey - Colombia',
    distance: 72.3,
  },
  {
    name: 'Monterrey - Linares',
    location: 'Monterrey - Linares',
    lat: 24.8667,
    lng: -99.5667,
    cost: 245.0,
    description: 'Cuota hacia Linares',
    type: 'highway',
    operatingHours: '24/7',
    acceptedPayments: ['cash', 'card', 'tag'],
    vehicleTypes: ['car', 'truck', 'motorcycle'],
    lastUpdated: '2024-03-20',
    status: 'active',
    route: 'Monterrey - Linares',
    distance: 135.0,
  }
]


// C:\Users\israe\Documents\GitHub\recentmap\src\data\tolls\saltillo.ts
import { TollLocation } from '@/types/toll'

export const saltilloTolls: TollLocation[] = [
  {
    name: 'Monterrey - La Gloria',
    location: 'Monterrey - La Gloria',
    lat: 25.7833,
    lng: -100.5667,
    cost: 418.0,
    description: 'Peaje entre Monterrey y La Gloria',
    type: 'highway',
    operatingHours: '24/7',
    acceptedPayments: ['cash', 'card', 'tag'],
    vehicleTypes: ['car', 'truck', 'motorcycle'],
    lastUpdated: '2024-03-20',
    status: 'active',
    kilometer: '100+000',
    route: 'Monterrey - La Gloria',
    distance: 45.8,
  },
  {
    name: 'Monterrey - Sabinas',
    location: 'Monterrey - Sabinas',
    lat: 25.4506,
    lng: -100.9447,
    cost: 231.0,
    description: 'Peaje entre Monterrey y Sabinas',
    type: 'highway',
    operatingHours: '24/7',
    acceptedPayments: ['cash', 'card', 'tag'],
    vehicleTypes: ['car', 'truck', 'motorcycle'],
    lastUpdated: '2024-03-20',
    status: 'active',
    kilometer: '99+300',
    route: 'Monterrey - Sabinas',
    distance: 77.3,
  },
]



// C:\Users\israe\Documents\GitHub\recentmap\src\data\tolls\zacatecas.ts
import { TollLocation } from '@/types/toll'

export const zacatecasTolls: TollLocation[] = [
  {
    name: 'Zacatecas - Monclova',
    location: 'Zacatecas - Monclova',
    lat: 23.9999,
    lng: -102.0,
    cost: 133.0,
    description: 'Peaje entre Zacatecas y Monclova',
    type: 'highway',
    operatingHours: '24/7',
    acceptedPayments: ['cash', 'card', 'tag'],
    vehicleTypes: ['car', 'truck', 'motorcycle'],
    lastUpdated: '2024-03-20',
    status: 'active',
  },
  {
    name: 'Zacatecas - Torreón',
    location: 'Zacatecas - Torreón',
    lat: 25.8667,
    lng: -100.7833,
    cost: 91.0,
    description: 'Peaje entre Zacatecas y Torreón',
    type: 'highway',
    operatingHours: '24/7',
    acceptedPayments: ['cash', 'card', 'tag'],
    vehicleTypes: ['car', 'truck', 'motorcycle'],
    lastUpdated: '2024-03-20',
    status: 'active',
  },
]



// C:\Users\israe\Documents\GitHub\recentmap\src\data\vehicles\categories.ts
export type VehicleCategory = 'sedan' | 'suv' | 'pickup' | 'van' | 'luxury' | 'commercial' | 'sports'

export const vehicleCategories: Record<VehicleCategory, string> = {
  sedan: 'Sedán',
  suv: 'SUV',
  pickup: 'Pickup',
  van: 'Van',
  luxury: 'Luxury',
  commercial: 'Commercial',
  sports: 'Sports'
}


// C:\Users\israe\Documents\GitHub\recentmap\src\data\vehicles\commercial.ts
export const commercialBrands = {
  Ford: ['Transit', 'Transit Connect', 'F-450', 'F-550', 'F-650'],
  Mercedes: ['Sprinter', 'Metris'],
  Ram: ['ProMaster', 'ProMaster City'],
  Chevrolet: ['Express', 'Low Cab Forward'],
  Isuzu: ['NPR', 'NQR', 'NRR'],
  Freightliner: ['M2', 'Sprinter'],
  International: ['CV Series', 'MV Series'],
  Hino: ['155', '195', '268', '338'],
}


// C:\Users\israe\Documents\GitHub\recentmap\src\data\vehicles\index.ts
import { sedanBrands } from './sedans'
import { suvBrands } from './suvs'
import { pickupBrands } from './pickups'
import { commercialBrands } from './commercial'
import { VehicleCategory, vehicleCategories } from './categories'

export const allVehicleBrands = {
  ...sedanBrands,
  ...suvBrands,
  ...pickupBrands,
  ...commercialBrands,
}

export { vehicleCategories, type VehicleCategory }
export { sedanBrands } from './sedans'
export { suvBrands } from './suvs'
export { pickupBrands } from './pickups'
export { commercialBrands } from './commercial'


// C:\Users\israe\Documents\GitHub\recentmap\src\data\vehicles\pickups.ts
export const pickupBrands = {
  Toyota: ['Tacoma', 'Tundra', 'Hilux'],
  Ford: ['F-150', 'F-250', 'F-350', 'Ranger', 'Maverick'],
  Chevrolet: ['Silverado 1500', 'Silverado 2500HD', 'Colorado', 'S10'],
  Ram: ['1500', '2500', '3500', 'ProMaster'],
  Nissan: ['Frontier', 'Titan', 'NP300'],
  GMC: ['Sierra 1500', 'Sierra 2500HD', 'Canyon'],
  Honda: ['Ridgeline'],
  Hyundai: ['Santa Cruz'],
}


// C:\Users\israe\Documents\GitHub\recentmap\src\data\vehicles\sedans.ts
export const sedanBrands = {
  Toyota: ['Corolla', 'Camry', 'Yaris', 'Prius'],
  Honda: ['Civic', 'Accord', 'Insight'],
  Nissan: ['Sentra', 'Altima', 'Versa', 'Maxima'],
  Volkswagen: ['Jetta', 'Passat', 'Virtus'],
  Chevrolet: ['Malibu', 'Cruze', 'Sonic'],
  Hyundai: ['Elantra', 'Sonata', 'Accent'],
  Kia: ['Forte', 'Rio', 'K5'],
  Mazda: ['Mazda3', 'Mazda6'],
}


// C:\Users\israe\Documents\GitHub\recentmap\src\data\vehicles\suvs.ts
export const suvBrands = {
  Toyota: ['RAV4', 'Highlander', '4Runner', 'Land Cruiser', 'Sequoia'],
  Honda: ['CR-V', 'HR-V', 'Pilot', 'Passport'],
  Nissan: ['Rogue', 'Murano', 'Pathfinder', 'Armada', 'Kicks'],
  Ford: ['Explorer', 'Escape', 'Edge', 'Expedition', 'Bronco'],
  Chevrolet: ['Equinox', 'Traverse', 'Tahoe', 'Suburban', 'Trax', 'Blazer'],
  Hyundai: ['Tucson', 'Santa Fe', 'Palisade', 'Venue', 'Kona'],
  Kia: ['Sportage', 'Sorento', 'Telluride', 'Seltos'],
  Mazda: ['CX-3', 'CX-30', 'CX-5', 'CX-9'],
}


// C:\Users\israe\Documents\GitHub\recentmap\src\features\map\index.ts
export { default } from './MapPage'
export * from './components'
export * from './hooks'
export * from './utils'


// C:\Users\israe\Documents\GitHub\recentmap\src\features\map\MapPage.tsx
import { useRef } from 'react'
import { Map } from 'leaflet'
import 'leaflet/dist/leaflet.css'
import { MapContainerComponent } from '@/components/map/MapContainer'
import { MapControlPanel } from './components/MapControlPanel'
import { useToast } from '@/hooks/use-toast'
import { detectTollsOnRoute } from '@/utils/tollCalculator'
import { useTowing, TowingProvider } from '@/contexts/TowingContext'
import { motion, AnimatePresence } from 'framer-motion'
import { FloatingQuestionsPanel } from '@/components/FloatingQuestionsPanel'
import { useMapState } from './hooks/useMapState'
import { Location } from '@/types/location'
import { getAddressFromCoords } from '@/services/geocodingService'
import { MapLoadingOverlay } from './components/MapLoadingOverlay'
import { LocationSelectionHint } from './components/LocationSelectionHint'

const TowMapContent = () => {
  const mapRef = useRef<Map | null>(null)
  const { toast } = useToast()
  const { updateTollInfo } = useTowing()
  const {
    pickupLocation,
    dropLocation,
    pickupAddress,
    dropAddress,
    selectingPickup,
    selectingDrop,
    isLoading,
    setSelectingPickup,
    setSelectingDrop,
    handleLocationSelect: handleMapLocationSelect,
  } = useMapState()

  const handleTollDetection = async () => {
    if (pickupLocation && dropLocation) {
      try {
        const tollInfo = await detectTollsOnRoute(pickupLocation, dropLocation)
        updateTollInfo(tollInfo.tolls, tollInfo.totalTollCost)

        if (tollInfo.tolls.length > 0) {
          toast({
            title: 'Peajes Detectados',
            description: `Se detectaron ${tollInfo.tolls.length} peajes en la ruta con un costo total de ${tollInfo.totalTollCost}`,
            className: 'bg-blue-50 border-blue-200 text-blue-800',
          })
        }
      } catch (error) {
        console.error('Error detecting tolls:', error)
        toast({
          title: 'Error',
          description: 'No se pudieron detectar los peajes en la ruta',
          variant: 'destructive',
        })
      }
    }
  }

  const handleLocationSelect = async (location: Location) => {
    try {
      const address = await getAddressFromCoords(location.lat, location.lng)

      if (selectingPickup) {
        handleMapLocationSelect({ ...location, address }, 'pickup')
        setSelectingPickup(false)
        toast({
          title: 'Punto de Recogida Actualizado',
          description: address,
          className: 'bg-green-50 border-green-200 text-green-800',
        })
      } else if (selectingDrop) {
        handleMapLocationSelect({ ...location, address }, 'drop')
        setSelectingDrop(false)
        toast({
          title: 'Punto de Entrega Actualizado',
          description: address,
          className: 'bg-blue-50 border-blue-200 text-blue-800',
        })
      }
    } catch (error) {
      console.error('Error getting address:', error)
      toast({
        title: 'Error',
        description: 'No se pudo obtener la dirección',
        variant: 'destructive',
      })
    }
  }

  return (
    <motion.div
      className="relative h-screen w-full bg-gradient-to-br from-blue-50/50 via-white to-blue-50/50"
      initial={{ opacity: 0 }}
      animate={{ opacity: 1 }}
      transition={{ duration: 0.5 }}
    >
      <AnimatePresence>
        <MapLoadingOverlay isVisible={isLoading} />
      </AnimatePresence>

      <div className="absolute inset-0 z-0">
        <MapContainerComponent
          pickupLocation={pickupLocation}
          dropLocation={dropLocation}
          selectingPickup={selectingPickup}
          selectingDrop={selectingDrop}
          onLocationSelect={handleLocationSelect}
          setPickupLocation={(location: Location | null) =>
            location && handleLocationSelect(location)
          }
          setDropLocation={(location: Location | null) =>
            location && handleLocationSelect(location)
          }
          isLoading={isLoading}
          mapRef={mapRef}
          onRouteCalculated={handleTollDetection}
        />
      </div>

      <MapControlPanel
        selectingPickup={selectingPickup}
        selectingDrop={selectingDrop}
        setSelectingPickup={setSelectingPickup}
        setSelectingDrop={setSelectingDrop}
        pickupLocation={pickupLocation}
        dropLocation={dropLocation}
        pickupAddress={pickupAddress}
        dropAddress={dropAddress}
        isLoading={isLoading}
      />

      <FloatingQuestionsPanel
        pickupLocation={pickupLocation}
        dropLocation={dropLocation}
        pickupAddress={pickupAddress}
        dropAddress={dropAddress}
        onPickupSelect={(location: Location) => handleLocationSelect(location)}
        onDropSelect={(location: Location) => handleLocationSelect(location)}
        onSelectingPickup={() => setSelectingPickup(true)}
        onSelectingDrop={() => setSelectingDrop(true)}
      />

      <LocationSelectionHint
        isSelectingPickup={selectingPickup}
        isSelectingDrop={selectingDrop}
      />
    </motion.div>
  )
}

const MapPage = () => {
  return (
    <TowingProvider>
      <TowMapContent />
    </TowingProvider>
  )
}

export default MapPage


// C:\Users\israe\Documents\GitHub\recentmap\src\features\map\TowMap.tsx
import { useRef } from 'react'
import { Map } from 'leaflet'
import 'leaflet/dist/leaflet.css'
import { MapContainerComponent } from '@/components/map/MapContainer'
import { MapControlPanel } from './components/MapControlPanel'
import { useToast } from '@/hooks/use-toast'
import { detectTollsOnRoute } from '@/utils/tollCalculator'
import { useTowing, TowingProvider } from '@/contexts/TowingContext'
import { motion, AnimatePresence } from 'framer-motion'
import { FloatingQuestionsPanel } from '@/components/FloatingQuestionsPanel'
import { useMapState } from './hooks/useMapState'
import { Location } from '@/types/location'
import { getAddressFromCoords } from '@/services/geocodingService'
import { MapLoadingOverlay } from './components/MapLoadingOverlay'
import { LocationSelectionHint } from './components/LocationSelectionHint'

const TowMapContent = () => {
  const mapRef = useRef<Map | null>(null)
  const { toast } = useToast()
  const { updateTollInfo } = useTowing()
  const {
    pickupLocation,
    dropLocation,
    pickupAddress,
    dropAddress,
    selectingPickup,
    selectingDrop,
    isLoading,
    setSelectingPickup,
    setSelectingDrop,
    handleLocationSelect: handleMapLocationSelect,
  } = useMapState()

  const handleTollDetection = async () => {
    if (pickupLocation && dropLocation) {
      try {
        const tollInfo = await detectTollsOnRoute(pickupLocation, dropLocation)
        updateTollInfo(tollInfo.tolls, tollInfo.totalTollCost)

        if (tollInfo.tolls.length > 0) {
          toast({
            title: 'Peajes Detectados',
            description: `Se detectaron ${tollInfo.tolls.length} peajes en la ruta con un costo total de $${tollInfo.totalTollCost}`,
            className: 'bg-blue-50 border-blue-200 text-blue-800',
          })
        }
      } catch (error) {
        console.error('Error detecting tolls:', error)
        toast({
          title: 'Error',
          description: 'No se pudieron detectar los peajes en la ruta',
          variant: 'destructive',
        })
      }
    }
  }

  const handleLocationSelect = async (location: Location) => {
    try {
      const address = await getAddressFromCoords(location.lat, location.lng)
      
      if (selectingPickup) {
        handleMapLocationSelect({ ...location, address }, 'pickup')
        setSelectingPickup(false)
        toast({
          title: 'Punto de Recogida Actualizado',
          description: address,
          className: 'bg-green-50 border-green-200 text-green-800',
        })
      } else if (selectingDrop) {
        handleMapLocationSelect({ ...location, address }, 'drop')
        setSelectingDrop(false)
        toast({
          title: 'Punto de Entrega Actualizado',
          description: address,
          className: 'bg-blue-50 border-blue-200 text-blue-800',
        })
      }
    } catch (error) {
      console.error('Error getting address:', error)
      toast({
        title: 'Error',
        description: 'No se pudo obtener la dirección',
        variant: 'destructive',
      })
    }
  }

  return (
    <motion.div
      className="relative h-screen w-full bg-gradient-to-br from-blue-50/50 via-white to-blue-50/50"
      initial={{ opacity: 0 }}
      animate={{ opacity: 1 }}
      transition={{ duration: 0.5 }}
    >
      <AnimatePresence>
        <MapLoadingOverlay isVisible={isLoading} />
      </AnimatePresence>

      <div className="absolute inset-0 z-0">
        <MapContainerComponent
          pickupLocation={pickupLocation}
          dropLocation={dropLocation}
          selectingPickup={selectingPickup}
          selectingDrop={selectingDrop}
          onLocationSelect={handleLocationSelect}
          setPickupLocation={(location: Location | null) =>
            location && handleLocationSelect(location)
          }
          setDropLocation={(location: Location | null) =>
            location && handleLocationSelect(location)
          }
          isLoading={isLoading}
          mapRef={mapRef}
          onRouteCalculated={handleTollDetection}
        />
      </div>

      <MapControlPanel
        selectingPickup={selectingPickup}
        selectingDrop={selectingDrop}
        setSelectingPickup={setSelectingPickup}
        setSelectingDrop={setSelectingDrop}
        pickupLocation={pickupLocation}
        dropLocation={dropLocation}
        pickupAddress={pickupAddress}
        dropAddress={dropAddress}
        isLoading={isLoading}
      />

      <FloatingQuestionsPanel
        pickupLocation={pickupLocation}
        dropLocation={dropLocation}
        pickupAddress={pickupAddress}
        dropAddress={dropAddress}
        onPickupSelect={(location: Location) => handleLocationSelect(location)}
        onDropSelect={(location: Location) => handleLocationSelect(location)}
        onSelectingPickup={() => setSelectingPickup(true)}
        onSelectingDrop={() => setSelectingDrop(true)}
      />

      <LocationSelectionHint
        isSelectingPickup={selectingPickup}
        isSelectingDrop={selectingDrop}
      />
    </motion.div>
  )
}

const TowMap = () => {
  return (
    <TowingProvider>
      <TowMapContent />
    </TowingProvider>
  )
}

export default TowMap


// C:\Users\israe\Documents\GitHub\recentmap\src\features\map\components\index.ts
export * from './MapLoadingOverlay'
export * from './LocationSelectionHint'
export * from './MapContainer'
export * from './MapControlPanel'
export * from './MapControls'
export * from './RouteStreetInfo'


// C:\Users\israe\Documents\GitHub\recentmap\src\features\map\components\LocationSelectionHint.tsx
import { motion } from 'framer-motion'

interface LocationSelectionHintProps {
  isSelectingPickup: boolean
  isSelectingDrop: boolean
}

export const LocationSelectionHint = ({
  isSelectingPickup,
  isSelectingDrop,
}: LocationSelectionHintProps) => {
  if (!isSelectingPickup && !isSelectingDrop) return null

  return (
    <motion.div
      initial={{ opacity: 0 }}
      animate={{ opacity: 1 }}
      exit={{ opacity: 0 }}
      className="absolute inset-0 pointer-events-none bg-gradient-to-b from-primary/5 via-transparent to-transparent"
    >
      <div className="absolute top-4 left-1/2 transform -translate-x-1/2 bg-white/95 backdrop-blur-sm px-6 py-3 rounded-full shadow-lg border border-primary/10">
        <p className="text-sm text-primary/80 font-medium">
          {isSelectingPickup
            ? 'Haz clic en el mapa para seleccionar el punto de recogida'
            : 'Haz clic en el mapa para seleccionar el punto de entrega'}
        </p>
      </div>
    </motion.div>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\features\map\components\MapContainer.tsx
import { MapContainer, TileLayer } from 'react-leaflet'
import { Map } from 'leaflet'
import { MutableRefObject, useState } from 'react'
import { MapMarkers } from './MapMarkers'
import { MapUpdater } from './MapUpdater'
import { UserLocationMarker } from './UserLocationMarker'
import { UserLocationControl } from '@/features/map/components/UserLocationControl'
import { motion } from 'framer-motion'
import { Location } from '@/types/location'

interface MapContainerComponentProps {
  pickupLocation: Location | null
  dropLocation: Location | null
  selectingPickup: boolean
  selectingDrop: boolean
  onLocationSelect: (location: Location) => void
  setPickupLocation: (location: Location | null) => void
  setDropLocation: (location: Location | null) => void
  onRouteCalculated: (distance: number) => void
  isLoading?: boolean
  mapRef?: MutableRefObject<Map | null>
}

export const MapContainerComponent = ({
  pickupLocation,
  dropLocation,
  selectingPickup,
  selectingDrop,
  onLocationSelect,
  setPickupLocation,
  setDropLocation,
  onRouteCalculated,
  isLoading = false,
  mapRef,
}: MapContainerComponentProps) => {
  const [showUserLocation, setShowUserLocation] = useState(false)
  const defaultPosition: [number, number] = [25.6866, -100.3161]

  return (
    <motion.div
      initial={{ opacity: 0, scale: 0.98 }}
      animate={{ opacity: 1, scale: 1 }}
      transition={{ duration: 0.5, ease: 'easeOut' }}
      className="w-full h-full rounded-xl overflow-hidden shadow-2xl relative border-2 border-primary/10"
    >
      <MapContainer
        center={defaultPosition}
        zoom={13}
        className="w-full h-full"
        zoomControl={false}
        ref={mapRef}
      >
        <TileLayer
          attribution='&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>'
          url="https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"
          className="brightness-[0.97] contrast-[1.02]"
        />

        <MapMarkers
          pickupLocation={pickupLocation}
          dropLocation={dropLocation}
          selectingPickup={selectingPickup}
          selectingDrop={selectingDrop}
          onLocationSelect={onLocationSelect}
          setPickupLocation={setPickupLocation}
          setDropLocation={setDropLocation}
          onRouteCalculated={onRouteCalculated}
        />

        <MapUpdater
          pickupLocation={pickupLocation}
          dropLocation={dropLocation}
        />

        <UserLocationMarker visible={showUserLocation} />

        <div className="absolute bottom-5 right-5 z-[1000]">
          <UserLocationControl
            visible={showUserLocation}
            onToggle={() => setShowUserLocation(!showUserLocation)}
          />
        </div>
      </MapContainer>
    </motion.div>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\features\map\components\MapControlPanel.tsx
import { MapControls } from './MapControls'
import { RouteStreetInfo } from './RouteStreetInfo'
import { useToast } from '@/hooks/use-toast'
import { motion, AnimatePresence } from 'framer-motion'
import { Card } from '@/components/ui/card'
import { Loader2 } from 'lucide-react'
import { useMapNotifications } from '../hooks/useMapNotifications'

interface MapControlPanelProps {
  selectingPickup: boolean
  selectingDrop: boolean
  setSelectingPickup: (value: boolean) => void
  setSelectingDrop: (value: boolean) => void
  pickupLocation: { lat: number; lng: number } | null
  dropLocation: { lat: number; lng: number } | null
  pickupAddress?: string
  dropAddress?: string
  isLoading?: boolean
  className?: string // Added className prop
}

export const MapControlPanel = ({
  selectingPickup,
  selectingDrop,
  setSelectingPickup,
  setSelectingDrop,
  pickupLocation,
  dropLocation,
  pickupAddress,
  dropAddress,
  isLoading = false,
}: MapControlPanelProps) => {
  const { toast } = useToast()
  const { showLocationSelectionNotification } = useMapNotifications()

  const handlePickupClick = () => {
    setSelectingPickup(true)
    setSelectingDrop(false)
    showLocationSelectionNotification('pickup')
  }

  const handleDropClick = () => {
    setSelectingDrop(true)
    setSelectingPickup(false)
    showLocationSelectionNotification('drop')
  }

  return (
    <div className="fixed top-16 left-1/2 transform -translate-x-1/2 z-50 w-full max-w-2xl px-3 sm:px-4">
      <motion.div
        initial={{ opacity: 0, y: -20 }}
        animate={{ opacity: 1, y: 0 }}
        transition={{ duration: 0.3 }}
        className="w-full"
      >
        <Card className="relative w-full bg-white/90 backdrop-blur-xl shadow-lg rounded-lg p-4 border-2 border-primary/20 hover:border-primary/30 transition-all duration-300 ring-4 ring-primary/5">
          {isLoading && (
            <motion.div
              initial={{ opacity: 0 }}
              animate={{ opacity: 1 }}
              exit={{ opacity: 0 }}
              className="absolute inset-0 bg-white/70 backdrop-blur-sm flex items-center justify-center z-50 rounded-lg"
            >
              <Loader2 className="w-6 h-6 animate-spin text-primary" />
            </motion.div>
          )}
          <MapControls
            selectingPickup={selectingPickup}
            selectingDrop={selectingDrop}
            onPickupClick={handlePickupClick}
            onDropClick={handleDropClick}
          />
        </Card>
      </motion.div>

      <AnimatePresence>
        {(pickupLocation || dropLocation) && (
          <motion.div
            initial={{ opacity: 0, y: 10, scale: 0.95 }}
            animate={{ opacity: 1, y: 0, scale: 1 }}
            exit={{ opacity: 0, y: -10, scale: 0.95 }}
            transition={{ duration: 0.2 }}
            className="mt-3 w-full"
          >
            <RouteStreetInfo
              pickupLocation={pickupLocation}
              dropLocation={dropLocation}
              pickupAddress={pickupAddress}
              dropAddress={dropAddress}
              isLoading={isLoading}
            />
          </motion.div>
        )}
      </AnimatePresence>
    </div>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\features\map\components\MapControls.tsx
import { MapPin, Navigation } from 'lucide-react'
import { Button } from '@/components/ui/button'
import { cn } from '@/lib/utils'

interface MapControlsProps {
  selectingPickup: boolean
  selectingDrop: boolean
  onPickupClick: () => void
  onDropClick: () => void
}

export const MapControls = ({
  selectingPickup,
  selectingDrop,
  onPickupClick,
  onDropClick,
}: MapControlsProps) => {
  return (
    <div className="flex flex-col sm:flex-row gap-3">
      <Button
        variant="outline"
        size="lg"
        onClick={onPickupClick}
        className={cn(
          'flex items-center gap-2 transition-all duration-300',
          selectingPickup
            ? 'bg-green-50 border-green-200 text-green-700'
            : 'hover:bg-green-50',
        )}
      >
        <MapPin className="h-4 w-4" />
        <span className="hidden sm:inline">Punto de Recogida</span>
      </Button>

      <Button
        variant="outline"
        size="lg"
        onClick={onDropClick}
        className={cn(
          'flex items-center gap-2 transition-all duration-300',
          selectingDrop
            ? 'bg-blue-50 border-blue-200 text-blue-700'
            : 'hover:bg-blue-50',
        )}
      >
        <Navigation className="h-4 w-4" />
        <span className="hidden sm:inline">Punto de Entrega</span>
      </Button>
    </div>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\features\map\components\MapLoadingOverlay.tsx
import { motion } from 'framer-motion'
import { Loader2 } from 'lucide-react'

interface MapLoadingOverlayProps {
  isVisible: boolean
}

export const MapLoadingOverlay = ({ isVisible }: MapLoadingOverlayProps) => {
  if (!isVisible) return null

  return (
    <motion.div
      initial={{ opacity: 0 }}
      animate={{ opacity: 1 }}
      exit={{ opacity: 0 }}
      className="absolute inset-0 bg-white/50 backdrop-blur-sm z-50 flex items-center justify-center"
    >
      <div className="bg-white/90 p-6 rounded-lg shadow-lg">
        <div className="animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full" />
        <p className="mt-4 text-primary/80 font-medium">Cargando...</p>
      </div>
    </motion.div>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\features\map\components\MapMarkers.tsx
import { DraggableMarker } from '@/components/map/DraggableMarker'
import { RoutePolyline } from '@/components/map/RoutePolyline'
import { MapLocationHandler } from '@/components/map/MapLocationHandler'
import { enterpriseIcon, pickupIcon, dropIcon } from '@/utils/mapUtils'
import { COMPANY_LOCATION } from '@/services/routeService'
import { Marker, Popup } from 'react-leaflet'
import { Location } from '@/types/location'
import { useToast } from '@/hooks/use-toast'

interface MapMarkersProps {
  pickupLocation: Location | null
  dropLocation: Location | null
  selectingPickup: boolean
  selectingDrop: boolean
  onLocationSelect: (location: Location) => void
  setPickupLocation: (location: Location | null) => void
  setDropLocation: (location: Location | null) => void
  onRouteCalculated: (distance: number) => void
}

export const MapMarkers = ({
  pickupLocation,
  dropLocation,
  selectingPickup,
  selectingDrop,
  onLocationSelect,
  setPickupLocation,
  setDropLocation,
  onRouteCalculated,
}: MapMarkersProps) => {
  const { toast } = useToast()

  const handlePickupDragEnd = (latlng: L.LatLng) => {
    const location = { lat: latlng.lat, lng: latlng.lng }
    setPickupLocation(location)
    onLocationSelect(location)
    toast({
      title: 'Punto de recogida actualizado',
      description: 'La ubicación de recogida ha sido actualizada',
    })
  }

  const handleDropDragEnd = (latlng: L.LatLng) => {
    const location = { lat: latlng.lat, lng: latlng.lng }
    setDropLocation(location)
    onLocationSelect(location)
    toast({
      title: 'Punto de entrega actualizado',
      description: 'La ubicación de entrega ha sido actualizada',
    })
  }

  return (
    <>
      <MapLocationHandler
        onLocationSelect={onLocationSelect}
        selectingPickup={selectingPickup}
        selectingDrop={selectingDrop}
      />

      <Marker position={[COMPANY_LOCATION.lat, COMPANY_LOCATION.lng]} icon={enterpriseIcon}>
        <Popup className="rounded-lg shadow-lg">
          <div className="font-semibold">Empresa de Grúas</div>
          <div className="text-sm text-gray-600">Ubicación Principal</div>
        </Popup>
      </Marker>

      {pickupLocation && (
        <DraggableMarker
          position={[pickupLocation.lat, pickupLocation.lng]}
          onDragEnd={handlePickupDragEnd}
          icon={pickupIcon}
          label="Punto de Recogida"
          isPickup={true}
        />
      )}

      {dropLocation && (
        <DraggableMarker
          position={[dropLocation.lat, dropLocation.lng]}
          onDragEnd={handleDropDragEnd}
          icon={dropIcon}
          label="Punto de Entrega"
          isPickup={false}
        />
      )}

      {pickupLocation && dropLocation && (
        <RoutePolyline
          pickupLocation={pickupLocation}
          dropLocation={dropLocation}
          onRouteCalculated={onRouteCalculated}
        />
      )}
    </>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\features\map\components\MapUpdater.tsx
import { useEffect } from 'react'
import { useMap } from 'react-leaflet'
import { LatLngBounds } from 'leaflet'
import { useToast } from '@/hooks/use-toast'
import { Location } from '@/types/location'

interface MapUpdaterProps {
  pickupLocation: Location | null
  dropLocation: Location | null
}

export const MapUpdater = ({
  pickupLocation,
  dropLocation,
}: MapUpdaterProps) => {
  const map = useMap()
  const { toast } = useToast()

  useEffect(() => {
    if (!map) return

    const locations = [pickupLocation, dropLocation].filter(Boolean) as Location[]

    if (locations.length === 0) return

    if (locations.length === 1) {
      map.setView([locations[0].lat, locations[0].lng], 15)
    } else {
      const bounds = new LatLngBounds(
        locations.map((loc) => [loc.lat, loc.lng]),
      )
      map.fitBounds(bounds, { padding: [50, 50] })
    }

    toast({
      title: 'Mapa actualizado',
      description:
        locations.length > 1
          ? 'Ruta completa visible'
          : 'Vista centrada en ubicación',
    })
  }, [map, pickupLocation, dropLocation, toast])

  return null
}


// C:\Users\israe\Documents\GitHub\recentmap\src\features\map\components\RouteStreetInfo.tsx
import { Card } from '@/components/ui/card'
import { MapPin, Navigation, Loader2 } from 'lucide-react'
import Draggable from 'react-draggable'
import { useRef } from 'react'

interface RouteStreetInfoProps {
  pickupLocation: { lat: number; lng: number } | null
  dropLocation: { lat: number; lng: number } | null
  pickupAddress?: string
  dropAddress?: string
  isLoading?: boolean
}

export const RouteStreetInfo = ({
  pickupLocation,
  dropLocation,
  pickupAddress,
  dropAddress,
  isLoading = false,
}: RouteStreetInfoProps) => {
  const nodeRef = useRef(null)

  if (!pickupLocation && !dropLocation) return null

  return (
    <Draggable handle=".drag-handle" bounds="parent" nodeRef={nodeRef}>
      <div ref={nodeRef} className="absolute z-[1000] max-w-md">
        <Card className="p-4 space-y-3 bg-white/90 backdrop-blur-xl shadow-xl transition-all duration-300 hover:shadow-2xl border-2 border-primary/20 hover:border-primary/30 ring-4 ring-primary/5">
          <div className="flex items-center justify-between border-b pb-2 mb-2 drag-handle cursor-move bg-primary/5 rounded-lg p-2">
            <div className="font-semibold text-sm text-primary/90 drop-shadow-sm">
              Detalles de Ubicación
            </div>
            {isLoading && (
              <Loader2 className="w-4 h-4 animate-spin text-primary" />
            )}
          </div>

          {pickupLocation && (
            <div className="flex items-start gap-2 bg-green-50/50 p-3 rounded-lg">
              <MapPin className="w-5 h-5 mt-1 text-green-500 flex-shrink-0 drop-shadow" />
              <div className="flex-1">
                <div className="font-semibold text-sm text-green-700 drop-shadow-sm">Punto de Recogida</div>
                <div className="text-sm text-gray-600 break-words bg-white/50 p-2 rounded-md">
                  {pickupAddress || 'Cargando dirección...'}
                </div>
                <div className="text-xs text-gray-500 mt-1">
                  Coordenadas: {pickupLocation.lat.toFixed(6)},{' '}
                  {pickupLocation.lng.toFixed(6)}
                </div>
              </div>
            </div>
          )}

          {dropLocation && (
            <div className="flex items-start gap-2 bg-blue-50/50 p-3 rounded-lg">
              <Navigation className="w-5 h-5 mt-1 text-blue-500 flex-shrink-0 drop-shadow" />
              <div className="flex-1">
                <div className="font-semibold text-sm text-blue-700 drop-shadow-sm">Punto de Entrega</div>
                <div className="text-sm text-gray-600 break-words bg-white/50 p-2 rounded-md">
                  {dropAddress || 'Cargando dirección...'}
                </div>
                <div className="text-xs text-gray-500 mt-1">
                  Coordenadas: {dropLocation.lat.toFixed(6)},{' '}
                  {dropLocation.lng.toFixed(6)}
                </div>
              </div>
            </div>
          )}
        </Card>
      </div>
    </Draggable>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\features\map\components\UserLocationControl.tsx
import { Button } from '@/components/ui/button'
import { MapPin } from 'lucide-react'
import { cn } from '@/lib/utils'

interface UserLocationControlProps {
  visible: boolean
  onToggle: () => void
}

export const UserLocationControl = ({
  visible,
  onToggle,
}: UserLocationControlProps) => {
  return (
    <Button
      variant="outline"
      size="icon"
      onClick={onToggle}
      className={cn(
        'h-10 w-10 rounded-full',
        visible && 'bg-blue-50 border-blue-200 text-blue-700 hover:bg-blue-100',
      )}
      title={visible ? 'Hide your location' : 'Show your location'}
    >
      <MapPin className="h-4 w-4" />
    </Button>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\features\map\components\UserLocationMarker.tsx
import { useState, useEffect } from 'react'
import { Marker, Popup, useMap } from 'react-leaflet'
import L from 'leaflet'
import { useToast } from '@/hooks/use-toast'
import { getAddressFromCoords } from '@/services/geocodingService'

interface UserLocationMarkerProps {
  visible: boolean
}

const createUserIcon = () => {
  return L.divIcon({
    className: 'relative',
    html: `
      <div class="relative">
        <div class="absolute -top-4 -left-4 w-8 h-8 bg-blue-500 rounded-full opacity-25 animate-ping"></div>
        <div class="absolute -top-3 -left-3 w-6 h-6 bg-blue-500 rounded-full"></div>
        <div class="absolute -top-2 -left-2 w-4 h-4 bg-white rounded-full flex items-center justify-center">
          <div class="w-2 h-2 bg-blue-500 rounded-full"></div>
        </div>
      </div>
    `,
    iconSize: [20, 20],
  })
}

export const UserLocationMarker = ({ visible }: UserLocationMarkerProps) => {
  const [position, setPosition] = useState<[number, number] | null>(null)
  const [address, setAddress] = useState<string>('')
  const map = useMap()
  const { toast } = useToast()

  useEffect(() => {
    if (!visible) return

    const watchId = navigator.geolocation.watchPosition(
      async (pos) => {
        const newPos: [number, number] = [
          pos.coords.latitude,
          pos.coords.longitude,
        ]
        setPosition(newPos)

        try {
          const addr = await getAddressFromCoords(newPos[0], newPos[1])
          setAddress(addr)
        } catch (error) {
          console.error('Error fetching address:', error)
        }
      },
      (error) => {
        toast({
          title: 'Error de ubicación',
          description: 'No se pudo obtener tu ubicación. Por favor verifica los permisos del navegador.',
          variant: 'destructive',
        })
        console.error('Geolocation error:', error)
      },
      {
        enableHighAccuracy: true,
        timeout: 5000,
        maximumAge: 0,
      }
    )

    return () => {
      navigator.geolocation.clearWatch(watchId)
    }
  }, [visible, toast])

  if (!visible || !position) return null

  return (
    <Marker position={position} icon={createUserIcon()}>
      <Popup>
        <div className="p-2">
          <h3 className="font-semibold mb-1">Tu ubicación</h3>
          <p className="text-sm text-gray-600">{address}</p>
          <div className="text-xs text-gray-500 mt-1">
            {position[0].toFixed(6)}, {position[1].toFixed(6)}
          </div>
        </div>
      </Popup>
    </Marker>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\features\map\hooks\index.ts
export * from './useMapState'
export * from './useMapNotifications'


// C:\Users\israe\Documents\GitHub\recentmap\src\features\map\hooks\useMapNotifications.tsx
import { useToast } from '@/hooks/use-toast'
import { MapPin } from 'lucide-react'
import { ReactNode } from 'react'
import { ToastActionElement } from '@/components/ui/toast'

const NOTIFICATION_COOLDOWN = 3000 // 3 seconds cooldown
const notificationTimestamps: { [key: string]: number } = {}

export const useMapNotifications = () => {
  const { toast } = useToast()

  const shouldShowNotification = (type: string): boolean => {
    const now = Date.now()
    const lastShown = notificationTimestamps[type] || 0

    if (now - lastShown > NOTIFICATION_COOLDOWN) {
      notificationTimestamps[type] = now
      return true
    }
    return false
  }

  const showLocationSelectionNotification = (type: 'pickup' | 'drop'): void => {
    if (!shouldShowNotification(`location_${type}`)) return

    toast({
      title:
        type === 'pickup'
          ? 'Seleccionando punto de recogida'
          : 'Seleccionando punto de entrega',
      description: `Haz clic en el mapa para seleccionar el punto de ${
        type === 'pickup' ? 'recogida' : 'entrega'
      }`,
      className:
        type === 'pickup'
          ? 'bg-green-50 border-green-200'
          : 'bg-blue-50 border-blue-200',
    })
  }

  const showRouteCalculationError = (error: string): void => {
    if (!shouldShowNotification('route_error')) return

    toast({
      title: 'Error al calcular la ruta',
      description: error,
      variant: 'destructive',
    })
  }

  const showLocationUpdateSuccess = (
    type: 'pickup' | 'drop',
    address: string,
  ): void => {
    if (!shouldShowNotification(`location_update_${type}`)) return

    toast({
      title: `${
        type === 'pickup' ? 'Punto de recogida' : 'Punto de entrega'
      } actualizado`,
      description: address,
      className:
        type === 'pickup'
          ? 'bg-green-50 border-green-200'
          : 'bg-blue-50 border-blue-200',
    })
  }

  return {
    showLocationSelectionNotification,
    showRouteCalculationError,
    showLocationUpdateSuccess,
  }
}



// C:\Users\israe\Documents\GitHub\recentmap\src\features\map\hooks\useMapState.ts
import { useState } from 'react'
import { Location } from '@/types/location'
import { getAddressFromCoords } from '@/services/geocodingService'

export const useMapState = () => {
  const [pickupLocation, setPickupLocation] = useState<Location | null>(null)
  const [dropLocation, setDropLocation] = useState<Location | null>(null)
  const [pickupAddress, setPickupAddress] = useState<string>('')
  const [dropAddress, setDropAddress] = useState<string>('')
  const [selectingPickup, setSelectingPickup] = useState<boolean>(false)
  const [selectingDrop, setSelectingDrop] = useState<boolean>(false)
  const [isLoading, setIsLoading] = useState<boolean>(false)

  const handleLocationSelect = (location: Location, type: 'pickup' | 'drop') => {
    if (type === 'pickup') {
      setPickupLocation(location)
      setPickupAddress(location.address || '')
    } else {
      setDropLocation(location)
      setDropAddress(location.address || '')
    }
  }

  const resetLocations = () => {
    setPickupLocation(null)
    setDropLocation(null)
    setPickupAddress('')
    setDropAddress('')
    setSelectingPickup(false)
    setSelectingDrop(false)
  }

  return {
    pickupLocation,
    dropLocation,
    pickupAddress,
    dropAddress,
    selectingPickup,
    selectingDrop,
    isLoading,
    setSelectingPickup,
    setSelectingDrop,
    handleLocationSelect,
    resetLocations,
  }
}



// C:\Users\israe\Documents\GitHub\recentmap\src\features\map\utils\index.ts
export const calculateMapCenter = (markers: { lat: number; lng: number }[]) => {
  if (markers.length === 0) return null;
  
  const total = markers.reduce(
    (acc, marker) => ({
      lat: acc.lat + marker.lat,
      lng: acc.lng + marker.lng,
    }),
    { lat: 0, lng: 0 }
  );
  
  return {
    lat: total.lat / markers.length,
    lng: total.lng / markers.length,
  };
};

export const fitBoundsToMarkers = (markers: { lat: number; lng: number }[]) => {
  if (markers.length === 0) return null;
  
  const bounds = markers.reduce(
    (acc, marker) => ({
      minLat: Math.min(acc.minLat, marker.lat),
      maxLat: Math.max(acc.maxLat, marker.lat),
      minLng: Math.min(acc.minLng, marker.lng),
      maxLng: Math.max(acc.maxLng, marker.lng),
    }),
    {
      minLat: markers[0].lat,
      maxLat: markers[0].lat,
      minLng: markers[0].lng,
      maxLng: markers[0].lng,
    }
  );
  
  return [
    [bounds.minLat, bounds.minLng],
    [bounds.maxLat, bounds.maxLng],
  ];
};


// C:\Users\israe\Documents\GitHub\recentmap\src\features\reservations\components\ReservationFilters.tsx
import { Input } from '@/components/ui/input'
import { Button } from '@/components/ui/button'
import { Calendar } from '@/components/ui/calendar'
import { Filter, SortAsc, SortDesc } from 'lucide-react'
import { motion } from 'framer-motion'

interface ReservationFiltersProps {
  searchQuery: string
  onSearchChange: (value: string) => void
  selectedDate: Date | undefined
  onDateSelect: (date: Date | Date[] | undefined) => void
  sortDirection: 'asc' | 'desc'
  onSortChange: () => void
}

export const ReservationFilters = ({
  searchQuery,
  onSearchChange,
  selectedDate,
  onDateSelect,
  sortDirection,
  onSortChange,
}: ReservationFiltersProps) => {
  const handleDateSelect = (date: Date | Date[] | undefined) => {
    if (Array.isArray(date)) {
      onDateSelect(date[0])
    } else {
      onDateSelect(date)
    }
  }

  return (
    <div className="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
      <div className="space-y-2">
        <div className="flex items-center gap-2">
          <Filter className="h-4 w-4 text-gray-500" />
          <span className="text-sm font-medium text-gray-700">
            Filtrar Reservas
          </span>
        </div>
        <Input
          placeholder="Buscar reservas..."
          value={searchQuery}
          onChange={(e) => onSearchChange(e.target.value)}
          className="w-full"
        />
      </div>
      <div className="space-y-2">
        <div className="flex items-center gap-2">
          <Filter className="h-4 w-4 text-gray-500" />
          <span className="text-sm font-medium text-gray-700">
            Filtrar por Fecha
          </span>
        </div>
        <div className="flex items-center gap-2">
          <Calendar
            mode="single"
            selected={selectedDate}
            onSelect={handleDateSelect}
            className="rounded-md border"
          />
          <Button
            variant="outline"
            size="icon"
            onClick={onSortChange}
            className="relative group"
          >
            {sortDirection === 'asc' ? (
              <SortAsc className="h-4 w-4" />
            ) : (
              <SortDesc className="h-4 w-4" />
            )}
          </Button>
        </div>
      </div>
    </div>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\features\reservations\components\ReservationList.tsx
import {
  Table,
  TableBody,
  TableCell,
  TableHead,
  TableHeader,
  TableRow,
} from '@/components/ui/table'
import { Button } from '@/components/ui/button'
import { useToast } from '@/hooks/use-toast'
import { ServiceRequest } from '@/types/service'
import { motion } from 'framer-motion'

interface ReservationListProps {
  reservations: ServiceRequest[]
  isLoading: boolean
}

export const ReservationList = ({
  reservations,
  isLoading,
}: ReservationListProps) => {
  const { toast } = useToast()

  return (
    <motion.div
      initial={{ opacity: 0 }}
      animate={{ opacity: 1 }}
      exit={{ opacity: 0 }}
      className="rounded-md border"
    >
      <Table>
        <TableHeader>
          <TableRow>
            <TableHead>ID</TableHead>
            <TableHead>Status</TableHead>
            <TableHead>Created</TableHead>
            <TableHead>Customer</TableHead>
            <TableHead>Vehicle</TableHead>
            <TableHead>Actions</TableHead>
          </TableRow>
        </TableHeader>
        <TableBody>
          {reservations.map((reservation) => (
            <TableRow key={reservation.id}>
              <TableCell>{reservation.id}</TableCell>
              <TableCell>
                <span
                  className={`px-2 py-1 rounded-full text-xs ${
                    reservation.status === 'completed'
                      ? 'bg-green-100 text-green-800'
                      : 'bg-yellow-100 text-yellow-800'
                  }`}
                >
                  {reservation.status}
                </span>
              </TableCell>
              <TableCell>
                {reservation.createdAt.toLocaleDateString()}
              </TableCell>
              <TableCell>{reservation.username}</TableCell>
              <TableCell>{`${reservation.vehicleYear} ${reservation.vehicleMake} ${reservation.vehicleModel}`}</TableCell>
              <TableCell>
                <Button
                  variant="outline"
                  size="sm"
                  onClick={() => {
                    toast({
                      title: 'Ver Detalles',
                      description: `Viendo reserva ${reservation.id}`,
                    })
                  }}
                >
                  Ver
                </Button>
              </TableCell>
            </TableRow>
          ))}
        </TableBody>
      </Table>
    </motion.div>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\hooks\base.ts
import { useEffect, useState } from 'react'

export function useBase<T>(initialValue: T) {
  const [value, setValue] = useState<T>(initialValue)
  const [error, setError] = useState<Error | null>(null)
  const [loading, setLoading] = useState<boolean>(false)

  const reset = () => {
    setValue(initialValue)
    setError(null)
    setLoading(false)
  }

  return {
    value,
    setValue,
    error,
    setError,
    loading,
    setLoading,
    reset,
  }
}

export function useAsync<T>(asyncFn: () => Promise<T>, immediate = true) {
  const [value, setValue] = useState<T | null>(null)
  const [error, setError] = useState<Error | null>(null)
  const [loading, setLoading] = useState<boolean>(false)

  const execute = async () => {
    try {
      setLoading(true)
      setError(null)
      const result = await asyncFn()
      setValue(result)
      return result
    } catch (err) {
      setError(err as Error)
      throw err
    } finally {
      setLoading(false)
    }
  }

  useEffect(() => {
    if (immediate) {
      execute()
    }
  }, [immediate])

  return {
    value,
    error,
    loading,
    execute,
  }
}



// C:\Users\israe\Documents\GitHub\recentmap\src\hooks\use-toast.ts
import * as React from 'react'
import { ToastActionElement, ToastProps } from '@/components/ui/toast'

const TOAST_LIMIT = 1
const TOAST_REMOVE_DELAY = 5000

type ToasterToast = ToastProps & {
  id: string
  title?: React.ReactNode
  description?: React.ReactNode
  action?: ToastActionElement
}

const actionTypes = {
  ADD_TOAST: 'ADD_TOAST',
  UPDATE_TOAST: 'UPDATE_TOAST',
  DISMISS_TOAST: 'DISMISS_TOAST',
  REMOVE_TOAST: 'REMOVE_TOAST',
} as const

let count = 0

function genId() {
  count = (count + 1) % Number.MAX_SAFE_INTEGER
  return count.toString()
}

type ActionType = typeof actionTypes

type Action =
  | { type: ActionType['ADD_TOAST']; toast: ToasterToast }
  | { type: ActionType['UPDATE_TOAST']; toast: Partial<ToasterToast> }
  | { type: ActionType['DISMISS_TOAST']; toastId?: ToasterToast['id'] }
  | { type: ActionType['REMOVE_TOAST']; toastId?: ToasterToast['id'] }

interface State {
  toasts: ToasterToast[]
}

const toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()

const addToRemoveQueue = (toastId: string) => {
  if (toastTimeouts.has(toastId)) return

  const timeout = setTimeout(() => {
    toastTimeouts.delete(toastId)
    dispatch({
      type: 'REMOVE_TOAST',
      toastId: toastId,
    })
  }, TOAST_REMOVE_DELAY)

  toastTimeouts.set(toastId, timeout)
}

export const reducer = (state: State, action: Action): State => {
  switch (action.type) {
    case 'ADD_TOAST':
      return {
        ...state,
        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),
      }

    case 'UPDATE_TOAST':
      return {
        ...state,
        toasts: state.toasts.map((t) =>
          t.id === action.toast.id ? { ...t, ...action.toast } : t,
        ),
      }

    case 'DISMISS_TOAST': {
      const { toastId } = action
      if (toastId) {
        addToRemoveQueue(toastId)
      } else {
        state.toasts.forEach((toast) => {
          addToRemoveQueue(toast.id)
        })
      }
      return {
        ...state,
        toasts: state.toasts.map((t) =>
          t.id === toastId || toastId === undefined
            ? {
                ...t,
                open: false,
              }
            : t,
        ),
      }
    }
    case 'REMOVE_TOAST':
      if (action.toastId === undefined) {
        return {
          ...state,
          toasts: [],
        }
      }
      return {
        ...state,
        toasts: state.toasts.filter((t) => t.id !== action.toastId),
      }
  }
}

const listeners: Array<(state: State) => void> = []
let memoryState: State = { toasts: [] }

function dispatch(action: Action) {
  memoryState = reducer(memoryState, action)
  listeners.forEach((listener) => {
    listener(memoryState)
  })
}

type Toast = Omit<ToasterToast, 'id'>

function toast({ ...props }: Toast) {
  const id = genId()

  const update = (props: ToasterToast) =>
    dispatch({
      type: 'UPDATE_TOAST',
      toast: { ...props, id },
    })
  const dismiss = () => dispatch({ type: 'DISMISS_TOAST', toastId: id })

  dispatch({
    type: 'ADD_TOAST',
    toast: {
      ...props,
      id,
      open: true,
      onOpenChange: (open) => {
        if (!open) dismiss()
      },
    },
  })

  return {
    id: id,
    dismiss,
    update,
  }
}

function useToast() {
  const [state, setState] = React.useState<State>(memoryState)

  React.useEffect(() => {
    listeners.push(setState)
    return () => {
      const index = listeners.indexOf(setState)
      if (index > -1) {
        listeners.splice(index, 1)
      }
    }
  }, [state])

  return {
    ...state,
    toast,
    dismiss: (toastId?: string) => dispatch({ type: 'DISMISS_TOAST', toastId }),
  }
}

export { useToast, toast }



// C:\Users\israe\Documents\GitHub\recentmap\src\hooks\useLoadingState.ts
import { useState, useCallback } from 'react'
import { useToast } from './use-toast'

interface UseLoadingStateOptions {
  successMessage?: string
  errorMessage?: string
}

export const useLoadingState = (options: UseLoadingStateOptions = {}) => {
  const [isLoading, setIsLoading] = useState(false)
  const { toast } = useToast()

  const withLoading = useCallback(
    async <T>(callback: () => Promise<T>): Promise<T | undefined> => {
      setIsLoading(true)
      try {
        const result = await callback()
        if (options.successMessage) {
          toast({
            title: 'Success',
            description: options.successMessage,
          })
        }
        return result
      } catch (error) {
        toast({
          title: 'Error',
          description:
            options.errorMessage ||
            (error instanceof Error ? error.message : 'An error occurred'),
          variant: 'destructive',
        })
      } finally {
        setIsLoading(false)
      }
    },
    [options.successMessage, options.errorMessage, toast],
  )

  return {
    isLoading,
    withLoading,
  }
}



// C:\Users\israe\Documents\GitHub\recentmap\src\hooks\useProfile.ts
import { useQuery, useMutation } from '@tanstack/react-query'
import { supabase } from '@/integrations/supabase/client'
import { Profile } from '@/types/user'

export const useProfile = () => {
  const {
    data: profile,
    isLoading,
    error,
  } = useQuery({
    queryKey: ['profile'],
    queryFn: async () => {
      const {
        data: { user },
      } = await supabase.auth.getUser()
      if (!user) return null

      const { data, error } = await supabase
        .from('profiles')
        .select('*')
        .eq('id', user.id)
        .single()

      if (error) throw error
      return data
    },
  })

  const { mutateAsync: updateProfile, isPending } = useMutation({
    mutationFn: async (updates: Partial<Profile>) => {
      const {
        data: { user },
      } = await supabase.auth.getUser()
      if (!user) return null

      const { data, error } = await supabase
        .from('profiles')
        .update(updates)
        .eq('id', user.id)
        .select()
        .single()

      if (error) throw error
      return data
    },
  })

  return {
    profile,
    isLoading,
    updateProfile,
    isPending,
  }
}



// C:\Users\israe\Documents\GitHub\recentmap\src\hooks\useServiceRequest.ts
import { useToast } from '@/components/ui/use-toast'
import { ServiceRequest } from '@/types/service'
import { useMutation } from '@tanstack/react-query'

// Mock service request function
const mockSubmitServiceRequest = async (
  data: Omit<ServiceRequest, 'id' | 'status' | 'createdAt'>,
): Promise<ServiceRequest> => {
  // Simulate network delay
  await new Promise((resolve) => setTimeout(resolve, 1000))

  // Create a mock response
  return {
    ...data,
    id: Math.random().toString(36).substr(2, 9),
    status: 'pending',
    createdAt: new Date(),
  }
}

export const useServiceRequest = () => {
  const { toast } = useToast()

  return useMutation({
    mutationFn: mockSubmitServiceRequest,
    onSuccess: () => {
      toast({
        title: 'Service Request Submitted',
        description: "We'll notify you when a tow truck is assigned.",
      })
    },
    onError: (error: Error) => {
      toast({
        title: 'Error',
        description: error.message,
        variant: 'destructive',
      })
    },
  })
}



// C:\Users\israe\Documents\GitHub\recentmap\src\hooks\useTowingCost.ts
import { useState } from 'react'
import { towTruckTypes } from '@/utils/pricing'

export const useTowingCost = () => {
  const [selectedTruck, setSelectedTruck] = useState<'A' | 'B' | 'C' | 'D'>('A')
  const [distance, setDistance] = useState(0)
  const [requiresManeuver, setRequiresManeuver] = useState(false)
  const [tollCost, setTollCost] = useState(0)

  const truck = towTruckTypes[selectedTruck]
  const baseCost = distance * truck.perKm
  const flagDropFee = truck.flagDropFee
  const maneuverCost = requiresManeuver ? truck.maneuverCharge : 0
  const totalCost = baseCost + flagDropFee + maneuverCost + tollCost

  return {
    selectedTruck,
    setSelectedTruck,
    distance,
    setDistance,
    requiresManeuver,
    setRequiresManeuver,
    tollCost,
    setTollCost,
    totalCost,
    baseCost,
    flagDropFee,
    maneuverCost,
  }
}



// C:\Users\israe\Documents\GitHub\recentmap\src\hooks\useVehicleForm.ts
import { useForm } from 'react-hook-form'
import { zodResolver } from '@hookform/resolvers/zod'
import { FormData, formSchema } from '@/types/form'
import { useServiceRequest } from '@/hooks/useServiceRequest'
import { useToast } from '@/hooks/use-toast'

interface Location {
  lat: number
  lng: number
}

export const useVehicleForm = (
  pickupLocation: Location | null,
  dropLocation: Location | null,
  serviceType: 'standard' | 'flatbed' | 'emergency',
) => {
  const { toast } = useToast()
  const { mutate: submitRequest, isPending } = useServiceRequest()

  const form = useForm<FormData>({
    resolver: zodResolver(formSchema),
    defaultValues: {
      vehicleModel: '',
      truckType: 'A',
      issueDescription: '',
    },
  })

  const onSubmit = async (data: FormData) => {
    if (!pickupLocation || !dropLocation) {
      toast({
        title: 'Missing Location',
        description: 'Please select both pickup and drop-off locations',
        variant: 'destructive',
      })
      return
    }

    submitRequest({
      username: 'guest', // Default value
      vehicleMake: 'Unknown', // Default value
      vehicleModel: data.vehicleModel,
      vehicleYear: new Date().getFullYear(), // Default current year
      vehicleColor: 'Unknown', // Default value
      truckType: data.truckType,
      issueDescription: data.issueDescription || '',
      pickupLocation,
      dropLocation,
      serviceType,
      requiresManeuver: false,
      tollFees: 0, // Default value
    })
  }

  return {
    form,
    onSubmit,
    isPending,
  }
}



// C:\Users\israe\Documents\GitHub\recentmap\src\hooks\useVehicleRequests.ts
import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'
import { supabase } from '@/integrations/supabase/client'
import { useToast } from './use-toast'

export const useVehicleRequests = () => {
  const { toast } = useToast()
  const queryClient = useQueryClient()

  const { data: vehicleRequests, isLoading } = useQuery({
    queryKey: ['vehicleRequests'],
    queryFn: async () => {
      const { data, error } = await supabase
        .from('vehicle_requests')
        .select(
          `
          *,
          profiles:profiles(username, full_name, phone_number)
        `,
        )
        .order('created_at', { ascending: false })

      if (error) {
        toast({
          title: 'Error fetching requests',
          description: error.message,
          variant: 'destructive',
        })
        throw error
      }

      return data
    },
  })

  const createRequest = useMutation({
    mutationFn: async (requestData: {
      vehicle_make: string
      vehicle_model: string
      vehicle_year: string
      vehicle_color: string
      requires_maneuver: boolean
      truck_type: string
      pickup_location: { lat: number; lng: number }
      dropoff_location: { lat: number; lng: number }
    }) => {
      const { data: userData, error: userError } = await supabase.auth.getUser()
      if (userError) throw userError

      const { data, error } = await supabase
        .from('vehicle_requests')
        .insert([
          {
            ...requestData,
            user_id: userData.user.id,
            status: 'pending',
          },
        ])
        .select()
        .single()

      if (error) throw error

      // Notify webhooks
      await supabase.functions.invoke('webhook-notify', {
        body: { requestId: data.id },
      })

      // Notify admin via email
      await supabase.functions.invoke('notify-request', {
        body: { requestId: data.id },
      })

      return data
    },
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['vehicleRequests'] })
      toast({
        title: 'Request Created',
        description: 'Your towing request has been submitted successfully.',
      })
    },
    onError: (error: Error) => {
      toast({
        title: 'Error',
        description: error.message,
        variant: 'destructive',
      })
    },
  })

  const updateRequest = useMutation({
    mutationFn: async ({
      id,
      ...updateData
    }: {
      id: string
      status?: string
      requires_maneuver?: boolean
      truck_type?: string
    }) => {
      const { data, error } = await supabase
        .from('vehicle_requests')
        .update(updateData)
        .eq('id', id)
        .select()
        .single()

      if (error) throw error
      return data
    },
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['vehicleRequests'] })
      toast({
        title: 'Request Updated',
        description: 'The towing request has been updated successfully.',
      })
    },
    onError: (error: Error) => {
      toast({
        title: 'Error',
        description: error.message,
        variant: 'destructive',
      })
    },
  })

  return {
    vehicleRequests,
    isLoading,
    createRequest,
    updateRequest,
  }
}



// C:\Users\israe\Documents\GitHub\recentmap\src\hooks\useWebhooks.ts
import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'
import { supabase } from '@/integrations/supabase/client'
import { useToast } from './use-toast'
import { Database } from '@/integrations/supabase/types'

type Tables = Database['public']['Tables']
type Webhook = Tables['webhooks']['Row']
type WebhookInsert = Tables['webhooks']['Insert']
type WebhookUpdate = Tables['webhooks']['Update']

export const useWebhooks = () => {
  const { toast } = useToast()
  const queryClient = useQueryClient()

  const { data: webhooks, isLoading } = useQuery({
    queryKey: ['webhooks'],
    queryFn: async () => {
      console.log('Fetching webhooks')
      const { data, error } = await supabase
        .from('webhooks')
        .select('*')
        .order('created_at', { ascending: false })

      if (error) {
        console.error('Error fetching webhooks:', error)
        toast({
          title: 'Error al cargar webhooks',
          description: error.message,
          variant: 'destructive',
        })
        throw error
      }

      return data as Webhook[]
    },
  })

  const createWebhook = useMutation({
    mutationFn: async (webhookData: WebhookInsert) => {
      console.log('Creating webhook:', webhookData)
      const { data, error } = await supabase
        .from('webhooks')
        .insert([webhookData])
        .select()
        .single()

      if (error) throw error
      return data as Webhook
    },
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['webhooks'] })
      toast({
        title: 'Webhook Creado',
        description: 'El webhook ha sido creado exitosamente.',
      })
    },
    onError: (error: Error) => {
      console.error('Error creating webhook:', error)
      toast({
        title: 'Error',
        description: error.message,
        variant: 'destructive',
      })
    },
  })

  const updateWebhook = useMutation({
    mutationFn: async ({
      id,
      ...updateData
    }: WebhookUpdate & { id: string }) => {
      console.log('Updating webhook:', id, updateData)
      const { data, error } = await supabase
        .from('webhooks')
        .update(updateData)
        .eq('id', id)
        .select()
        .single()

      if (error) throw error
      return data as Webhook
    },
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['webhooks'] })
      toast({
        title: 'Webhook Actualizado',
        description: 'El webhook ha sido actualizado exitosamente.',
      })
    },
    onError: (error: Error) => {
      console.error('Error updating webhook:', error)
      toast({
        title: 'Error',
        description: error.message,
        variant: 'destructive',
      })
    },
  })

  const deleteWebhook = useMutation({
    mutationFn: async (id: string) => {
      console.log('Deleting webhook:', id)
      const { error } = await supabase.from('webhooks').delete().eq('id', id)

      if (error) throw error
    },
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['webhooks'] })
      toast({
        title: 'Webhook Eliminado',
        description: 'El webhook ha sido eliminado exitosamente.',
      })
    },
    onError: (error: Error) => {
      console.error('Error deleting webhook:', error)
      toast({
        title: 'Error',
        description: error.message,
        variant: 'destructive',
      })
    },
  })

  return {
    webhooks,
    isLoading,
    createWebhook,
    updateWebhook,
    deleteWebhook,
  }
}


// C:\Users\israe\Documents\GitHub\recentmap\src\integrations\supabase\client.ts
import { createClient } from '@supabase/supabase-js'
import type { Database } from './types'

// For development, use these fallback values if env vars are not set
const supabaseUrl =
  import.meta.env.VITE_SUPABASE_URL ||
  'https://fhisqbevtkjdcokqeoqa.supabase.co'
const supabaseKey =
  import.meta.env.VITE_SUPABASE_ANON_KEY ||
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZoaXNxYmV2dGtqZGNva3Flb3FhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDc5MjA0MDAsImV4cCI6MjAyMzQ5NjQwMH0.dPTGt8OLhxq-KfqYKwVRkKkqE8fXHQa_PKhF5LqQyYE'

// Create and export the Supabase client
export const supabase = createClient<Database>(supabaseUrl, supabaseKey)



// C:\Users\israe\Documents\GitHub\recentmap\src\integrations\supabase\towing.tsx
import { supabase } from './client'
import { TowingContextType } from '@/types/towing'
import { Profile } from '@/types/user'

export const createTowingContext = (): TowingContextType => {
  return {
    totalDistance: 0,
    totalCost: 0,
    detectedTolls: [],
    totalTollCost: 0,
    truckType: 'A',
    requiresManeuver: false,
    selectedVehicleModel: '',
    tollInfo: null,
    paymentInfo: {
      subtotal: 0,
      tax: 0,
      total: 0,
      isPending: false,
      isProcessing: false,
    },
    isLoadingLocations: false,
    isProcessingPayment: false,
    updateTowingInfo: () => {},
    updateTollInfo: () => {},
    updateTruckType: () => {},
    updateManeuverRequired: () => {},
    updateSelectedVehicleModel: () => {},
    updateLocationInfo: () => {},
    processPayment: async () => false,
    fetchRequests: async () => {
      const { data, error } = await supabase
        .from('vehicle_requests')
        .select('*')
      if (error) throw error
      return data
    },
    fetchRequestById: async (id: string) => {
      const { data, error } = await supabase
        .from('vehicle_requests')
        .select('*')
        .eq('id', id)
        .single()
      if (error) throw error
      return data
    },
    createRequest: async (request: any) => {
      const { data, error } = await supabase
        .from('vehicle_requests')
        .insert([request])
        .select()
      if (error) throw error
      return data[0]
    },
    updateRequest: async (id: string, updates: any) => {
      const { data, error } = await supabase
        .from('vehicle_requests')
        .update(updates)
        .eq('id', id)
        .select()
      if (error) throw error
      return data[0]
    },
    deleteRequest: async (id: string) => {
      const { error } = await supabase
        .from('vehicle_requests')
        .delete()
        .eq('id', id)
      if (error) throw error
    },
    fetchPayments: async () => {
      const { data, error } = await supabase
        .from('payment_transactions')
        .select('*')
      if (error) throw error
      return data
    },
    fetchMetrics: async () => {
      const { data: requests, error: requestsError } = await supabase
        .from('vehicle_requests')
        .select('*')
      if (requestsError) throw requestsError

      const { data: payments, error: paymentsError } = await supabase
        .from('payment_transactions')
        .select('*')
      if (paymentsError) throw paymentsError

      return {
        totalRequests: requests?.length || 0,
        totalPayments: payments?.length || 0,
      }
    },
  }
}



// C:\Users\israe\Documents\GitHub\recentmap\src\integrations\supabase\types.ts
export type Json =
  | string
  | number
  | boolean
  | null
  | { [key: string]: Json | undefined }
  | Json[]

export type Database = {
  public: {
    Tables: {
      payment_transactions: {
        Row: {
          amount: number
          created_at: string
          id: string
          request_id: string | null
          status: string
          stripe_payment_intent_id: string | null
          user_id: string
        }
        Insert: {
          amount: number
          created_at?: string
          id?: string
          request_id?: string | null
          status: string
          stripe_payment_intent_id?: string | null
          user_id?: string
        }
        Update: {
          amount?: number
          created_at?: string
          id?: string
          request_id?: string | null
          status?: string
          stripe_payment_intent_id?: string | null
          user_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "payment_transactions_request_id_fkey"
            columns: ["request_id"]
            isOneToOne: false
            referencedRelation: "vehicle_requests"
            referencedColumns: ["id"]
          },
        ]
      }
      profiles: {
        Row: {
          avatar_url: string | null
          bio: string | null
          created_at: string
          full_name: string | null
          id: string
          notification_preferences: Json | null
          operator_status: Json | null
          phone_number: string | null
          preferences: Json | null
          updated_at: string
          username: string | null
        }
        Insert: {
          avatar_url?: string | null
          bio?: string | null
          created_at?: string
          full_name?: string | null
          id: string
          notification_preferences?: Json | null
          operator_status?: Json | null
          phone_number?: string | null
          preferences?: Json | null
          updated_at?: string
          username?: string | null
        }
        Update: {
          avatar_url?: string | null
          bio?: string | null
          created_at?: string
          full_name?: string | null
          id?: string
          notification_preferences?: Json | null
          operator_status?: Json | null
          phone_number?: string | null
          preferences?: Json | null
          updated_at?: string
          username?: string | null
        }
        Relationships: []
      }
      toll_points: {
        Row: {
          cost: number
          created_at: string
          end_lat: number
          end_lng: number
          id: string
          name: string
          start_lat: number
          start_lng: number
        }
        Insert: {
          cost: number
          created_at?: string
          end_lat: number
          end_lng: number
          id?: string
          name: string
          start_lat: number
          start_lng: number
        }
        Update: {
          cost?: number
          created_at?: string
          end_lat?: number
          end_lng?: number
          id?: string
          name?: string
          start_lat?: number
          start_lng?: number
        }
        Relationships: []
      }
      vehicle_requests: {
        Row: {
          admin_notified: boolean | null
          created_at: string
          dropoff_location: Json | null
          id: string
          notifications_sent: Json | null
          payment_amount: number | null
          payment_intent_id: string | null
          payment_status: string | null
          pickup_location: Json | null
          requires_maneuver: boolean | null
          service_completed_at: string | null
          service_completed_by_client: boolean | null
          service_completion_notes: string | null
          service_notes: string | null
          status: string
          truck_type: string
          user_id: string
          vehicle_color: string
          vehicle_make: string
          vehicle_model: string
          vehicle_year: string
        }
        Insert: {
          admin_notified?: boolean | null
          created_at?: string
          dropoff_location?: Json | null
          id?: string
          notifications_sent?: Json | null
          payment_amount?: number | null
          payment_intent_id?: string | null
          payment_status?: string | null
          pickup_location?: Json | null
          requires_maneuver?: boolean | null
          service_completed_at?: string | null
          service_completed_by_client?: boolean | null
          service_completion_notes?: string | null
          service_notes?: string | null
          status?: string
          truck_type: string
          user_id: string
          vehicle_color: string
          vehicle_make: string
          vehicle_model: string
          vehicle_year: string
        }
        Update: {
          admin_notified?: boolean | null
          created_at?: string
          dropoff_location?: Json | null
          id?: string
          notifications_sent?: Json | null
          payment_amount?: number | null
          payment_intent_id?: string | null
          payment_status?: string | null
          pickup_location?: Json | null
          requires_maneuver?: boolean | null
          service_completed_at?: string | null
          service_completed_by_client?: boolean | null
          service_completion_notes?: string | null
          service_notes?: string | null
          status?: string
          truck_type?: string
          user_id?: string
          vehicle_color?: string
          vehicle_make?: string
          vehicle_model?: string
          vehicle_year?: string
        }
        Relationships: [
          {
            foreignKeyName: "vehicle_requests_user_id_fkey"
            columns: ["user_id"]
            isOneToOne: false
            referencedRelation: "profiles"
            referencedColumns: ["id"]
          },
        ]
      }
      webhooks: {
        Row: {
          created_at: string
          description: string | null
          id: string
          is_active: boolean
          secret_key: string
          updated_at: string
          url: string
          user_id: string
        }
        Insert: {
          created_at?: string
          description?: string | null
          id?: string
          is_active?: boolean
          secret_key: string
          updated_at?: string
          url: string
          user_id?: string
        }
        Update: {
          created_at?: string
          description?: string | null
          id?: string
          is_active?: boolean
          secret_key?: string
          updated_at?: string
          url?: string
          user_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "webhooks_user_id_fkey"
            columns: ["user_id"]
            isOneToOne: false
            referencedRelation: "profiles"
            referencedColumns: ["id"]
          },
        ]
      }
    }
    Views: {
      [_ in never]: never
    }
    Functions: {
      [_ in never]: never
    }
    Enums: {
      [_ in never]: never
    }
    CompositeTypes: {
      [_ in never]: never
    }
  }
}

type PublicSchema = Database[Extract<keyof Database, "public">]

export type Tables<
  PublicTableNameOrOptions extends
    | keyof (PublicSchema["Tables"] & PublicSchema["Views"])
    | { schema: keyof Database },
  TableName extends PublicTableNameOrOptions extends { schema: keyof Database }
    ? keyof (Database[PublicTableNameOrOptions["schema"]]["Tables"] &
        Database[PublicTableNameOrOptions["schema"]]["Views"])
    : never = never,
> = PublicTableNameOrOptions extends { schema: keyof Database }
  ? (Database[PublicTableNameOrOptions["schema"]]["Tables"] &
      Database[PublicTableNameOrOptions["schema"]]["Views"])[TableName] extends {
      Row: infer R
    }
    ? R
    : never
  : PublicTableNameOrOptions extends keyof (PublicSchema["Tables"] &
        PublicSchema["Views"])
    ? (PublicSchema["Tables"] &
        PublicSchema["Views"])[PublicTableNameOrOptions] extends {
        Row: infer R
      }
      ? R
      : never
    : never

export type TablesInsert<
  PublicTableNameOrOptions extends
    | keyof PublicSchema["Tables"]
    | { schema: keyof Database },
  TableName extends PublicTableNameOrOptions extends { schema: keyof Database }
    ? keyof Database[PublicTableNameOrOptions["schema"]]["Tables"]
    : never = never,
> = PublicTableNameOrOptions extends { schema: keyof Database }
  ? Database[PublicTableNameOrOptions["schema"]]["Tables"][TableName] extends {
      Insert: infer I
    }
    ? I
    : never
  : PublicTableNameOrOptions extends keyof PublicSchema["Tables"]
    ? PublicSchema["Tables"][PublicTableNameOrOptions] extends {
        Insert: infer I
      }
      ? I
      : never
    : never

export type TablesUpdate<
  PublicTableNameOrOptions extends
    | keyof PublicSchema["Tables"]
    | { schema: keyof Database },
  TableName extends PublicTableNameOrOptions extends { schema: keyof Database }
    ? keyof Database[PublicTableNameOrOptions["schema"]]["Tables"]
    : never = never,
> = PublicTableNameOrOptions extends { schema: keyof Database }
  ? Database[PublicTableNameOrOptions["schema"]]["Tables"][TableName] extends {
      Update: infer U
    }
    ? U
    : never
  : PublicTableNameOrOptions extends keyof PublicSchema["Tables"]
    ? PublicSchema["Tables"][PublicTableNameOrOptions] extends {
        Update: infer U
      }
      ? U
      : never
    : never

export type Enums<
  PublicEnumNameOrOptions extends
    | keyof PublicSchema["Enums"]
    | { schema: keyof Database },
  EnumName extends PublicEnumNameOrOptions extends { schema: keyof Database }
    ? keyof Database[PublicEnumNameOrOptions["schema"]]["Enums"]
    : never = never,
> = PublicEnumNameOrOptions extends { schema: keyof Database }
  ? Database[PublicEnumNameOrOptions["schema"]]["Enums"][EnumName]
  : PublicEnumNameOrOptions extends keyof PublicSchema["Enums"]
    ? PublicSchema["Enums"][PublicEnumNameOrOptions]
    : never

export type CompositeTypes<
  PublicCompositeTypeNameOrOptions extends
    | keyof PublicSchema["CompositeTypes"]
    | { schema: keyof Database },
  CompositeTypeName extends PublicCompositeTypeNameOrOptions extends {
    schema: keyof Database
  }
    ? keyof Database[PublicCompositeTypeNameOrOptions["schema"]]["CompositeTypes"]
    : never = never,
> = PublicCompositeTypeNameOrOptions extends { schema: keyof Database }
  ? Database[PublicCompositeTypeNameOrOptions["schema"]]["CompositeTypes"][CompositeTypeName]
  : PublicCompositeTypeNameOrOptions extends keyof PublicSchema["CompositeTypes"]
    ? PublicSchema["CompositeTypes"][PublicCompositeTypeNameOrOptions]
    : never



// C:\Users\israe\Documents\GitHub\recentmap\src\integrations\supabase\types\base.ts
import { Tables } from './tables'

export type Json =
  | string
  | number
  | boolean
  | null
  | { [key: string]: Json | undefined }
  | Json[]

export type Database = {
  public: {
    Tables: Tables
    Views: {}
    Functions: {}
    Enums: {}
    CompositeTypes: {}
  }
}



// C:\Users\israe\Documents\GitHub\recentmap\src\integrations\supabase\types\index.ts
export * from './base'
export * from './tables'



// C:\Users\israe\Documents\GitHub\recentmap\src\integrations\supabase\types\tables.ts
import { Json } from './base'

interface ProfilesTable {
  Row: {
    created_at: string
    full_name: string | null
    id: string
    phone_number: string | null
    updated_at: string
    username: string | null
  }
  Insert: {
    created_at?: string
    full_name?: string | null
    id: string
    phone_number?: string | null
    updated_at?: string
    username?: string | null
  }
  Update: {
    created_at?: string
    full_name?: string | null
    id?: string
    phone_number?: string | null
    updated_at?: string
    username?: string | null
  }
  Relationships: []
}

interface VehicleRequestsTable {
  Row: {
    created_at: string
    dropoff_location: Json | null
    id: string
    pickup_location: Json | null
    requires_maneuver: boolean | null
    status: string
    truck_type: string
    user_id: string
    vehicle_color: string
    vehicle_make: string
    vehicle_model: string
    vehicle_year: string
  }
  Insert: {
    created_at?: string
    dropoff_location?: Json | null
    id?: string
    pickup_location?: Json | null
    requires_maneuver?: boolean | null
    status?: string
    truck_type: string
    user_id: string
    vehicle_color: string
    vehicle_make: string
    vehicle_model: string
    vehicle_year: string
  }
  Update: {
    created_at?: string
    dropoff_location?: Json | null
    id?: string
    pickup_location?: Json | null
    requires_maneuver?: boolean | null
    status?: string
    truck_type?: string
    user_id?: string
    vehicle_color?: string
    vehicle_make?: string
    vehicle_model?: string
    vehicle_year?: string
  }
  Relationships: [
    {
      foreignKeyName: 'vehicle_requests_user_id_fkey'
      columns: ['user_id']
      isOneToOne: false
      referencedRelation: 'profiles'
      referencedColumns: ['id']
    },
  ]
}

interface WebhooksTable {
  Row: {
    id: string
    created_at: string
    updated_at: string
    url: string
    description: string | null
    is_active: boolean
    secret_key: string
  }
  Insert: {
    id?: string
    created_at?: string
    updated_at?: string
    url: string
    description?: string | null
    is_active?: boolean
    secret_key: string
  }
  Update: {
    url?: string
    description?: string | null
    is_active?: boolean
    secret_key?: string
    updated_at?: string
  }
  Relationships: []
}

export interface Tables {
  profiles: ProfilesTable
  vehicle_requests: VehicleRequestsTable
  webhooks: WebhooksTable
}



// C:\Users\israe\Documents\GitHub\recentmap\src\lib\utils.ts
import { twMerge } from 'tailwind-merge'

export function cn(...inputs: any[]) {
  // Changed ClassValue to any[]
  return twMerge(inputs)
}



// C:\Users\israe\Documents\GitHub\recentmap\src\pages\index.tsx
import { Suspense, lazy } from 'react'
import { FormProvider, useForm } from 'react-hook-form'
import { motion } from 'framer-motion'
import { TowingWrapper } from '@/components/TowingWrapper'
import { LoadingSpinner } from '@/components/index/LoadingSpinner'
import { NavigationBar } from '@/components/index/NavigationBar'
import { ErrorBoundary } from '@/components/error/ErrorBoundary'

const TowMap = lazy(() => import('@/features/map/TowMap'))

const Index = (): JSX.Element => {
  const methods = useForm()

  return (
    <FormProvider {...methods}>
      <motion.div
        initial={{ opacity: 0 }}
        animate={{ opacity: 1 }}
        transition={{ duration: 0.5 }}
        className="relative min-h-[100dvh] overflow-hidden bg-gradient-to-br from-blue-50/90 via-white/90 to-blue-100/90 dark:from-blue-950/90 dark:via-gray-900/90 dark:to-blue-900/90 safe-area-view"
      >
        <div className="absolute inset-0 bg-grid-pattern opacity-5" />
        <div className="absolute inset-0 bg-gradient-to-br from-blue-500/5 via-transparent to-blue-600/5" />
        <div className="absolute inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-blue-200/20 via-transparent to-transparent" />
        
        <NavigationBar />

        <div className="relative z-10 h-full">
          <ErrorBoundary>
            <TowingWrapper>
              <Suspense fallback={<LoadingSpinner />}>
                <TowMap />
              </Suspense>
            </TowingWrapper>
          </ErrorBoundary>
        </div>
      </motion.div>
    </FormProvider>
  )
}

export default Index


// C:\Users\israe\Documents\GitHub\recentmap\src\pages\Landing.tsx
import React from 'react'
import { Header } from '@/components/landing/Header'
import { MetaTags } from '@/components/landing/MetaTags'
import { Services } from '@/components/landing/Services'
import { Hero } from '@/components/landing/Hero'
import { TowingTypes } from '@/components/landing/TowingTypes'
import { ContactSection } from '@/components/landing/ContactSection'
import { FooterSection } from '@/components/landing/FooterSection'
import { motion } from 'framer-motion'

const Landing = (): JSX.Element => {
  return (
    <motion.div 
      initial={{ opacity: 0 }}
      animate={{ opacity: 1 }}
      transition={{ duration: 0.5 }}
      className="min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900"
    >
      <div className="absolute inset-0 bg-grid-pattern opacity-5" />
      <div className="absolute inset-0 bg-gradient-to-br from-blue-500/5 via-transparent to-blue-600/5" />
      <div className="absolute inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-blue-200/20 via-transparent to-transparent" />
      <div className="relative z-10">
        <MetaTags />
        <Header />
        <Hero />
        <main className="relative z-10 overflow-hidden">
          <TowingTypes />
          <Services />
          <ContactSection />
        </main>
        <FooterSection />
      </div>
    </motion.div>
  )
}

export default Landing


// C:\Users\israe\Documents\GitHub\recentmap\src\providers\StripeProvider.tsx
import { Elements } from '@stripe/react-stripe-js'
import { loadStripe } from '@stripe/stripe-js'
import { ReactNode, useEffect, useState } from 'react'
import { useToast } from '@/hooks/use-toast'
import { Loader2 } from 'lucide-react'

// Move Stripe key to a constant
const STRIPE_PUBLIC_KEY =
  'pk_test_51OxpVXBIrjwXwQdF1HpkQABXYGqpWZBFGPvXVoYZtqxPZqQtQvtgWXxYGHuVZyXxWXwXwXwXwXwXwXwXwXwX'

export const StripeProvider = ({ children }: { children: ReactNode }) => {
  const [stripePromise, setStripePromise] = useState<Promise<any> | null>(null)
  const { toast } = useToast()

  useEffect(() => {
    const initStripe = async () => {
      try {
        const stripe = await loadStripe(STRIPE_PUBLIC_KEY)
        if (stripe) {
          setStripePromise(Promise.resolve(stripe))
        } else {
          throw new Error('Failed to initialize Stripe')
        }
      } catch (error) {
        console.error('Stripe initialization error:', error)
        toast({
          title: 'Payment System Error',
          description:
            'Unable to initialize payment system. Please try again later.',
          variant: 'destructive',
        })
      }
    }

    initStripe()
  }, [toast])

  if (!stripePromise) {
    return (
      <div className="flex items-center justify-center min-h-[200px]">
        <Loader2 className="h-8 w-8 animate-spin text-primary" />
      </div>
    )
  }

  return <Elements stripe={stripePromise}>{children}</Elements>
}



// C:\Users\israe\Documents\GitHub\recentmap\src\providers\ThemeProvider.tsx
import { ThemeProvider as NextThemesProvider } from 'next-themes'
import type { ThemeProviderProps } from 'next-themes'

export function ThemeProvider({ children, ...props }: ThemeProviderProps) {
  return <NextThemesProvider {...props}>{children}</NextThemesProvider>
}



// C:\Users\israe\Documents\GitHub\recentmap\src\reservations\components\ReservationFilters.tsx
import { Input } from '@/components/ui/input'
import { Button } from '@/components/ui/button'
import { Calendar } from '@/components/ui/calendar'
import { Filter, SortAsc, SortDesc } from 'lucide-react'
import { motion } from 'framer-motion'

interface ReservationFiltersProps {
  searchQuery: string
  onSearchChange: (value: string) => void
  selectedDate: Date | undefined
  onDateSelect: (date: Date | Date[] | undefined) => void
  sortDirection: 'asc' | 'desc'
  onSortChange: () => void
}

export const ReservationFilters = ({
  searchQuery,
  onSearchChange,
  selectedDate,
  onDateSelect,
  sortDirection,
  onSortChange,
}: ReservationFiltersProps) => {
  const handleDateSelect = (date: Date | Date[] | undefined) => {
    if (Array.isArray(date)) {
      onDateSelect(date[0])
    } else {
      onDateSelect(date)
    }
  }

  return (
    <div className="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
      <div className="space-y-2">
        <div className="flex items-center gap-2">
          <Filter className="h-4 w-4 text-gray-500" />
          <span className="text-sm font-medium text-gray-700">
            Filtrar Reservas
          </span>
        </div>
        <Input
          placeholder="Buscar reservas..."
          value={searchQuery}
          onChange={(e) => onSearchChange(e.target.value)}
          className="w-full"
        />
      </div>
      <div className="space-y-2">
        <div className="flex items-center gap-2">
          <Filter className="h-4 w-4 text-gray-500" />
          <span className="text-sm font-medium text-gray-700">
            Filtrar por Fecha
          </span>
        </div>
        <div className="flex items-center gap-2">
          <Calendar
            mode="single"
            selected={selectedDate}
            onSelect={handleDateSelect}
            className="rounded-md border"
          />
          <Button
            variant="outline"
            size="icon"
            onClick={onSortChange}
            className="relative group"
          >
            {sortDirection === 'asc' ? (
              <SortAsc className="h-4 w-4" />
            ) : (
              <SortDesc className="h-4 w-4" />
            )}
          </Button>
        </div>
      </div>
    </div>
  )
}


// C:\Users\israe\Documents\GitHub\recentmap\src\reservations\components\ReservationList.tsx
import {
  Table,
  TableBody,
  TableCell,
  TableHead,
  TableHeader,
  TableRow,
} from '@/components/ui/table'
import { Button } from '@/components/ui/button'
import { useToast } from '@/hooks/use-toast'
import { ServiceRequest } from '@/types/service'
import { motion } from 'framer-motion'

interface ReservationListProps {
  reservations: ServiceRequest[]
  isLoading: boolean
}

export const ReservationList = ({
  reservations,
  isLoading,
}: ReservationListProps) => {
  const { toast } = useToast()

  return (
    <motion.div
      initial={{ opacity: 0 }}
      animate={{ opacity: 1 }}
      exit={{ opacity: 0 }}
      className="rounded-md border"
    >
      <Table>
        <TableHeader>
          <TableRow>
            <TableHead>ID</TableHead>
            <TableHead>Status</TableHead>
            <TableHead>Created</TableHead>
            <TableHead>Customer</TableHead>
            <TableHead>Vehicle</TableHead>
            <TableHead>Actions</TableHead>
          </TableRow>
        </TableHeader>
        <TableBody>
          {reservations.map((reservation) => (
            <TableRow key={reservation.id}>
              <TableCell>{reservation.id}</TableCell>
              <TableCell>
                <span
                  className={`px-2 py-1 rounded-full text-xs ${
                    reservation.status === 'completed'
                      ? 'bg-green-100 text-green-800'
                      : 'bg-yellow-100 text-yellow-800'
                  }`}
                >
                  {reservation.status}
                </span>
              </TableCell>
              <TableCell>
                {reservation.createdAt.toLocaleDateString()}
              </TableCell>
              <TableCell>{reservation.username}</TableCell>
              <TableCell>{`${reservation.vehicleYear} ${reservation.vehicleMake} ${reservation.vehicleModel}`}</TableCell>
              <TableCell>
                <Button
                  variant="outline"
                  size="sm"
                  onClick={() => {
                    toast({
                      title: 'Ver Detalles',
                      description: `Viendo reserva ${reservation.id}`,
                    })
                  }}
                >
                  Ver
                </Button>
              </TableCell>
            </TableRow>
          ))}
        </TableBody>
      </Table>
    </motion.div>
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\routes\index.tsx
import { createBrowserRouter } from 'react-router-dom'
import Landing from '@/pages/Landing'
import Index from '@/pages/index'
import { AdminPanel } from '@/components/admin/AdminPanel'
import { UserDashboard } from '@/components/user/UserDashboard'
import { AuthGuard } from '@/components/auth/AuthGuard'

export const router = createBrowserRouter([
  {
    path: '/',
    element: <Landing />,
  },
  {
    path: '/map',
    element: <Index />,
  },
  {
    path: '/admin/*',
    element: (
      <AuthGuard requiredRole="admin">
        <AdminPanel />
      </AuthGuard>
    ),
  },
  {
    path: '/user/*',
    element: (
      <AuthGuard>
        <UserDashboard />
      </AuthGuard>
    ),
  },
])


// C:\Users\israe\Documents\GitHub\recentmap\src\services\formService.ts
import { useForm } from '@formspree/react'

export const FORM_ID = import.meta.env.VITE_FORMSPREE_FORM_ID || ''

export const submitServiceRequest = async (data: any) => {
  try {
    const response = await fetch(`https://formspree.io/f/${FORM_ID}`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({
        ...data,
        timestamp: new Date().toISOString(),
        source: 'website',
      }),
    })

    if (response.ok) {
      return {
        success: true,
        message: 'Service request submitted successfully',
      }
    } else {
      throw new Error('Failed to submit form')
    }
  } catch (error) {
    console.error('Form submission error:', error)
    throw error
  }
}



// C:\Users\israe\Documents\GitHub\recentmap\src\services\geocodingService.ts
import {
  FALLBACK_GEOCODING_URL,
  DEFAULT_SEARCH_LIMIT,
  DEFAULT_COUNTRY_CODE,
  GeocodingOptions
} from './geocoding/proxyConfig'
import { tryFetchWithProxies } from './geocoding/proxyFetch'

export interface GeocodingResult {
  address: string
  lat: string
  lon: string
  display_name: string
  importance?: number
  place_id?: string
}

export const searchAddresses = async (
  query: string,
  options: GeocodingOptions = {}
): Promise<GeocodingResult[]> => {
  const {
    fuzzyMatch = true,
    limit = DEFAULT_SEARCH_LIMIT,
    countryCode = DEFAULT_COUNTRY_CODE,
    proximity,
  } = options

  const params = new URLSearchParams({
    q: query,
    format: 'json',
    limit: limit.toString(),
    countrycodes: countryCode,
  })

  if (proximity) {
    params.append('lat', proximity.lat.toString())
    params.append('lon', proximity.lng.toString())
  }

  console.log('Geocoding search params:', Object.fromEntries(params.entries()))
  
  const baseUrl = FALLBACK_GEOCODING_URL.replace(/\/+$/, '')
  const url = `${baseUrl}/search?${params}`
  
  try {
    const results = await tryFetchWithProxies(url)
    
    if (!Array.isArray(results)) {
      console.error('Invalid geocoding response:', results)
      return []
    }

    console.log('Geocoding results:', results)

    const mappedResults = results.map((result: any) => ({
      address: result.display_name,
      lat: result.lat,
      lon: result.lon,
      display_name: result.display_name,
      importance: result.importance,
      place_id: result.place_id
    }))

    return fuzzyMatch 
      ? mappedResults 
      : mappedResults.filter(r => 
          r.display_name.toLowerCase().includes(query.toLowerCase())
        )
  } catch (error) {
    console.error('Geocoding search failed:', error)
    return []
  }
}

export const getAddressFromCoords = async (lat: number, lon: number): Promise<string> => {
  // Ensure coordinates are valid numbers and convert to fixed precision strings
  const validLat = Number(parseFloat(lat.toString()).toFixed(6))
  const validLon = Number(parseFloat(lon.toString()).toFixed(6))

  if (isNaN(validLat) || isNaN(validLon)) {
    throw new Error('Invalid coordinates provided')
  }

  const params = new URLSearchParams()
  params.append('format', 'json')
  params.append('lat', validLat.toString())
  params.append('lon', validLon.toString())

  try {
    console.log('Reverse geocoding request:', { lat: validLat, lon: validLon })
    const baseUrl = FALLBACK_GEOCODING_URL.replace(/\/+$/, '')
    const url = `${baseUrl}/reverse?${params.toString()}`
    
    const result = await tryFetchWithProxies(url)
    console.log('Reverse geocoding result:', result)
    return result?.display_name || 'Address not found'
  } catch (error) {
    console.error('Reverse geocoding failed:', error)
    return 'Error retrieving address'
  }
}


// C:\Users\israe\Documents\GitHub\recentmap\src\services\notificationService.ts
import axios from 'axios'

const TELEGRAM_BOT_TOKEN = import.meta.env.VITE_TELEGRAM_BOT_TOKEN
const TELEGRAM_CHAT_ID = import.meta.env.VITE_TELEGRAM_CHAT_ID
const FORMSPREE_ENDPOINT = import.meta.env.VITE_FORMSPREE_ENDPOINT

export const sendTelegramNotification = async (message: string) => {
  if (!TELEGRAM_BOT_TOKEN || !TELEGRAM_CHAT_ID) {
    console.warn('Telegram credentials not configured')
    return
  }

  try {
    await axios.post(
      `https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`,
      {
        chat_id: TELEGRAM_CHAT_ID,
        text: message,
        parse_mode: 'HTML',
      },
    )
  } catch (error) {
    console.error('Error sending Telegram notification:', error)
  }
}

export const submitToFormspree = async (data: any) => {
  if (!FORMSPREE_ENDPOINT) {
    console.warn('Formspree endpoint not configured')
    return
  }

  try {
    const response = await axios.post(FORMSPREE_ENDPOINT, data)
    return response.data
  } catch (error) {
    console.error('Error submitting to Formspree:', error)
    throw error
  }
}



// C:\Users\israe\Documents\GitHub\recentmap\src\services\osrmService.ts
const OSRM_API_URLS = [
  'https://router.project-osrm.org/route/v1',
  'http://router.project-osrm.org/route/v1',
].map((url) => url.replace(/\/+$/, ''))

const MIN_REQUEST_INTERVAL = 1100
const MAX_RETRIES = 3
const BACKOFF_FACTOR = 2
let lastRequestTime = 0
let requestQueue: Promise<any> = Promise.resolve()

interface Coordinates {
  lat: number
  lng: number
}

interface OSRMResponse {
  routes: {
    distance: number
    duration: number
    geometry: string
  }[]
}

const wait = (ms: number) => new Promise((resolve) => setTimeout(resolve, ms))

const calculateBackoffDelay = (attempt: number): number => {
  return Math.min(
    MIN_REQUEST_INTERVAL * Math.pow(BACKOFF_FACTOR, attempt),
    5000,
  )
}

const enforceRateLimit = async () => {
  const now = Date.now()
  const timeSinceLastRequest = now - lastRequestTime

  if (timeSinceLastRequest < MIN_REQUEST_INTERVAL) {
    await wait(MIN_REQUEST_INTERVAL - timeSinceLastRequest)
  }
  lastRequestTime = Date.now()
}

const calculateStraightLineDistance = (
  start: Coordinates,
  end: Coordinates,
): number => {
  const R = 6371
  const dLat = ((end.lat - start.lat) * Math.PI) / 180
  const dLon = ((end.lng - start.lng) * Math.PI) / 180
  const a =
    Math.sin(dLat / 2) * Math.sin(dLat / 2) +
    Math.cos((start.lat * Math.PI) / 180) *
      Math.cos((end.lat * Math.PI) / 180) *
      Math.sin(dLon / 2) *
      Math.sin(dLon / 2)
  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a))
  return R * c
}

async function tryFetchWithUrls(
  urls: string[],
  coordinates: string,
  options: RequestInit,
  attempt = 0,
): Promise<Response> {
  const errors: Error[] = []

  await enforceRateLimit()

  for (const baseUrl of urls) {
    try {
      const url = `${baseUrl}/driving/${coordinates}?overview=full&geometries=polyline`
      console.log('Attempting request to:', url)

      const response = await fetch(url, {
        ...options,
        mode: 'cors',
        credentials: 'omit',
        headers: {
          ...options.headers,
          'Accept': 'application/json',
          'Origin': window.location.origin,
        },
      })

      if (response.ok) {
        return response
      }

      if (response.status === 429) {
        const backoffDelay = calculateBackoffDelay(attempt)
        await wait(backoffDelay)
        if (attempt < MAX_RETRIES) {
          return tryFetchWithUrls(urls, coordinates, options, attempt + 1)
        }
      }

      errors.push(
        new Error(`Failed response from ${baseUrl}: ${response.status}`),
      )
    } catch (error) {
      console.error('Error making request to', baseUrl, ':', error)
      errors.push(
        error instanceof Error
          ? error
          : new Error(`Unknown error from ${baseUrl}`),
      )
      continue
    }
  }

  throw new Error(
    'All routing services failed. Using fallback straight-line calculation.',
  )
}

export async function getRouteFromOSRM(
  start: Coordinates,
  end: Coordinates,
): Promise<{
  distance: number
  duration: number
  geometry: string
}> {
  const coordinates = `${start.lng},${start.lat};${end.lng},${end.lat}`

  try {
    console.log('Starting route calculation:', { start, end })
    const result = await new Promise((resolve, reject) => {
      requestQueue = requestQueue
        .then(() =>
          tryFetchWithUrls(OSRM_API_URLS, coordinates, {
            headers: {
              'Accept': 'application/json',
              'Origin': window.location.origin,
            },
          }),
        )
        .then((response) => response.json())
        .then(resolve)
        .catch(reject)
    })

    const data = result as OSRMResponse

    if (!data.routes || data.routes.length === 0) {
      throw new Error('No route found')
    }

    console.log('Route calculation successful:', data.routes[0])
    return {
      distance: data.routes[0].distance / 1000,
      duration: data.routes[0].duration,
      geometry: data.routes[0].geometry,
    }
  } catch (error) {
    console.error(
      'OSRM routing failed, falling back to straight-line calculation:',
      error,
    )
    const straightLineDistance = calculateStraightLineDistance(start, end)
    const estimatedDuration = straightLineDistance * 60

    return {
      distance: straightLineDistance,
      duration: estimatedDuration,
      geometry: '_p~iF~ps|U_ulLnnqC_mqNvxq`@',
    }
  }
}


// C:\Users\israe\Documents\GitHub\recentmap\src\services\routeService.ts
import { Location, RouteResponse } from '@/types/service'
import { getRouteFromOSRM } from './osrmService'

export const COMPANY_LOCATION: Location = {
  lat: 26.509672,
  lng: -100.0095504,
}

export const getRouteDetails = async (
  origin: Location,
  destination: Location,
): Promise<RouteResponse> => {
  try {
    console.log('Calculating route from:', origin, 'to:', destination)
    const response = await getRouteFromOSRM(origin, destination)
    console.log('Route calculation successful:', response)
    return response
  } catch (error) {
    console.error('Route calculation failed:', error)
    // Return a default response with straight-line calculation
    const straightLineDistance = calculateStraightLineDistance(
      origin,
      destination,
    )
    return {
      distance: straightLineDistance,
      duration: straightLineDistance * 60, // Rough estimate: 1 km/minute
      geometry: '_p~iF~ps|U_ulLnnqC_mqNvxq`@', // Simple straight line encoding
    }
  }
}

const calculateStraightLineDistance = (
  start: Location,
  end: Location,
): number => {
  const R = 6371 // Earth's radius in km
  const dLat = ((end.lat - start.lat) * Math.PI) / 180
  const dLon = ((end.lng - start.lng) * Math.PI) / 180
  const a =
    Math.sin(dLat / 2) * Math.sin(dLat / 2) +
    Math.cos((start.lat * Math.PI) / 180) *
      Math.cos((end.lat * Math.PI) / 180) *
      Math.sin(dLon / 2) *
      Math.sin(dLon / 2)
  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a))
  return Number((R * c).toFixed(2))
}



// C:\Users\israe\Documents\GitHub\recentmap\src\services\geocoding\fetchUtils.ts
export const fetchWithTimeout = async (url: string, options: RequestInit = {}, timeout = 8000) => {
  const controller = new AbortController()
  const timeoutId = setTimeout(() => controller.abort(), timeout)

  try {
    console.log('Fetching URL:', url)
    const response = await fetch(url, {
      ...options,
      signal: controller.signal,
      headers: {
        'Accept': 'application/json',
        'User-Agent': 'TowingServiceApplication/1.0',
        'origin': window.location.origin,
        'x-requested-with': 'XMLHttpRequest',
        ...options.headers,
      },
    })

    if (!response.ok) {
      throw new Error(`HTTP error! status: ${response.status}`)
    }

    const data = await response.json()
    console.log('Fetch successful:', { url, status: response.status })
    return data
  } catch (error) {
    console.error('Fetch failed:', { url, error })
    throw error
  } finally {
    clearTimeout(timeoutId)
  }
}

export const exponentialBackoff = (attempt: number) => {
  const delay = Math.min(1000 * Math.pow(2, attempt), 5000) // Cap at 5 seconds
  return new Promise(resolve => setTimeout(resolve, delay))
}


// C:\Users\israe\Documents\GitHub\recentmap\src\services\geocoding\proxyConfig.ts
export const CORS_PROXIES = [
  'https://api.allorigins.win/raw?url=',
  'https://api.codetabs.com/v1/proxy?quest=',
  'https://corsproxy.io/?',
  'https://proxy.cors.sh/',
  'https://cors-anywhere.herokuapp.com/'
]

export const FALLBACK_GEOCODING_URL = 'https://nominatim.openstreetmap.org'
export const DEFAULT_TIMEOUT = 15000 // Increased timeout to 15 seconds
export const DEFAULT_RETRY_COUNT = 3
export const DEFAULT_COUNTRY_CODE = 'MX'
export const DEFAULT_SEARCH_LIMIT = 5

export interface GeocodingOptions {
  fuzzyMatch?: boolean
  limit?: number
  countryCode?: string
  proximity?: { lat: number; lng: number }
}


// C:\Users\israe\Documents\GitHub\recentmap\src\services\geocoding\proxyFetch.ts
import { CORS_PROXIES, DEFAULT_TIMEOUT } from './proxyConfig'

export const tryFetchWithProxies = async (url: string, retryCount = 3) => {
  let lastError: Error | null = null
  
  for (const proxyUrl of CORS_PROXIES) {
    const encodedUrl = encodeURIComponent(url)
    const proxiedUrl = `${proxyUrl}${encodedUrl}`
    console.log('Attempting proxy:', proxyUrl, 'with URL:', url)

    for (let attempt = 0; attempt < retryCount; attempt++) {
      try {
        const controller = new AbortController()
        const timeoutId = setTimeout(() => {
          try {
            controller.abort()
          } catch (e) {
            console.warn('Error aborting controller:', e)
          }
        }, DEFAULT_TIMEOUT)

        const response = await fetch(proxiedUrl, {
          signal: controller.signal,
          headers: {
            'Accept': 'application/json',
            'User-Agent': 'TowingServiceApplication/1.0',
          }
        }).finally(() => {
          clearTimeout(timeoutId)
        })

        if (!response.ok) {
          const errorText = await response.text()
          console.error(`Proxy error (${response.status}):`, errorText)
          throw new Error(`HTTP error! status: ${response.status}`)
        }

        const data = await response.json()
        console.log('Proxy successful:', proxyUrl)
        return data
      } catch (error) {
        console.warn(`Proxy attempt ${attempt + 1} failed for ${proxyUrl}:`, error)
        lastError = error as Error
        
        if (attempt < retryCount - 1) {
          // Exponential backoff between retries
          await new Promise(resolve => setTimeout(resolve, Math.pow(2, attempt) * 1000))
        }
      }
    }
  }

  console.error('All proxies failed:', lastError)
  throw new Error('Failed to fetch data from all available proxies')
}


// C:\Users\israe\Documents\GitHub\recentmap\src\types\form.ts
import { z } from 'zod'

export const formSchema = z.object({
  userName: z.string().min(1, 'Username is required'),
  phone: z.string().min(1, 'Phone number is required'),
  vehicleMake: z.string().min(1, 'Vehicle make is required'),
  vehicleModel: z.string().min(1, 'Vehicle model is required'),
  vehicleYear: z.string().min(1, 'Vehicle year is required'),
  vehicleColor: z.string().min(1, 'Vehicle color is required'),
  truckType: z.enum(['A', 'B', 'C', 'D']),
  requiresManeuver: z.boolean().default(false),
  issueDescription: z.string().optional(),
  pickupLocation: z
    .object({
      lat: z.number(),
      lng: z.number(),
      address: z.string(),
    })
    .optional(),
  dropoffLocation: z
    .object({
      lat: z.number(),
      lng: z.number(),
      address: z.string(),
    })
    .optional(),
})

export type FormData = z.infer<typeof formSchema>

export const vehicleFormSchema = formSchema



// C:\Users\israe\Documents\GitHub\recentmap\src\types\location-search.ts
import { Location } from './location'

export interface LocationSearchProps {
  onLocationSelect: (location: { lat: number; lng: number; address: string }) => void
  onSelectingLocation?: () => void
  currentAddress?: string
  currentLocation?: Location | null
  placeholder?: string
  type?: 'pickup' | 'drop'
  className?: string
  icon?: React.ReactNode
  requiresInvoice?: boolean
  onInvoiceChange?: (requires: boolean) => void
}

export interface Suggestion {
  address: string
  lat: number
  lon: number
  distance: number
}

export interface ProximityOptions {
  lat: string
  lng: string
}


// C:\Users\israe\Documents\GitHub\recentmap\src\types\location.ts
export interface Location {
  lat: number
  lng: number
  address?: string
}

export interface TollLocation {
  id?: string
  name: string
  location: string
  cost: number
  lat: number
  lng: number
  description: string
  type: 'highway' | 'urban'
  operatingHours: string
  acceptedPayments: ('cash' | 'card' | 'tag')[]
  vehicleTypes: ('car' | 'truck' | 'motorcycle')[]
  lastUpdated: string
  status: 'active' | 'inactive'
  direction?: 'outbound' | 'return'
  kilometer?: string
  route?: string
  distance?: number
}



// C:\Users\israe\Documents\GitHub\recentmap\src\types\service.ts
export interface Location {
  lat: number
  lng: number
}

export interface RouteResponse {
  geometry: string
  distance: number
  duration: number
}

export interface ServiceRequest {
  id: string
  status: 'pending' | 'completed'
  createdAt: Date
  username: string
  vehicleMake: string
  vehicleModel: string
  vehicleYear: number
  vehicleColor: string
  truckType: string
  issueDescription: string
  pickupLocation?: Location
  dropLocation?: Location
  serviceType: 'standard' | 'flatbed' | 'emergency'
  requiresManeuver: boolean
  tollFees: number
}



// C:\Users\israe\Documents\GitHub\recentmap\src\types\toll.ts
export interface TollLocation {
  id?: string
  name: string
  location: string
  cost: number
  lat: number
  lng: number
  description: string
  type: 'highway' | 'urban'
  operatingHours: string
  acceptedPayments: ('cash' | 'card' | 'tag')[]
  vehicleTypes: ('car' | 'truck' | 'motorcycle')[]
  lastUpdated: string
  status: 'active' | 'inactive'
  direction?: 'outbound' | 'return'
  kilometer?: string
  route?: string
  distance?: number
}



// C:\Users\israe\Documents\GitHub\recentmap\src\types\towing.ts
import { TollLocation } from './toll'

export interface TowingContextType {
  totalDistance: number
  totalCost: number
  detectedTolls: TollLocation[]
  totalTollCost: number
  truckType: 'A' | 'B' | 'C' | 'D'
  requiresManeuver: boolean
  selectedVehicleModel: string
  tollInfo: TollInfo | null
  paymentInfo: PaymentInfo
  isLoadingLocations: boolean
  isProcessingPayment: boolean
  updateTowingInfo: (distance: number) => void
  updateTollInfo: (tolls: TollLocation[], tollCost: number) => void
  updateTruckType: (type: 'A' | 'B' | 'C' | 'D') => void
  updateManeuverRequired: (required: boolean) => void
  updateSelectedVehicleModel: (model: string) => void
  updateLocationInfo: (info: LocationInfo) => void
  processPayment: (amount: number) => Promise<boolean>
  fetchRequests: () => Promise<any[]>
  fetchRequestById: (id: string) => Promise<any>
  createRequest: (request: any) => Promise<any>
  updateRequest: (id: string, updates: any) => Promise<any>
  deleteRequest: (id: string) => Promise<void>
  fetchPayments: () => Promise<any[]>
  fetchMetrics: () => Promise<{ totalRequests: number; totalPayments: number }>
}

export interface TollInfo {
  tolls: TollLocation[]
  totalTollCost: number
}

export interface PaymentInfo {
  subtotal: number
  tax: number
  total: number
  isPending: boolean
  isProcessing: boolean
}

export interface LocationInfo {
  pickup?: { lat: number; lng: number; address: string }
  drop?: { lat: number; lng: number; address: string }
}



// C:\Users\israe\Documents\GitHub\recentmap\src\types\user.ts
import { Json } from '@/integrations/supabase/types'

export interface Profile {
  id: string
  created_at: string
  updated_at: string
  username: string | null
  full_name: string | null
  phone_number: string | null
  avatar_url: string | null
  bio: string | null
  preferences: Json
}

export interface UserProfile extends Profile {
  email?: string
}



// C:\Users\israe\Documents\GitHub\recentmap\src\utils\addressUtils.ts
import { getAddressFromCoords } from '@/services/geocodingService'
import { Location } from '@/types/location'

// Dummy function to simulate location fetching
export const fetchLocation = (lat: number, lng: number): Promise<Location> => {
  return new Promise((resolve) => {
    setTimeout(() => {
      resolve({ lat, lng, address: `(${lat}, ${lng})` });
    }, 1000);
  });
};

export const getLocationAndAddress = async (lat: number, lng: number) => {
  const address = await getAddressFromCoords(lat, lng);
  return { lat, lng, address };
};

export const getCoordinatesFromAddress = async (address: string): Promise<Location | null> => {
  // Dummy implementation
  const simulatedLocation = await fetchLocation(25.7617, -80.1918);
  return { ...simulatedLocation, address };
};



// C:\Users\israe\Documents\GitHub\recentmap\src\utils\billingUtils.ts
import { formatCurrency } from './priceCalculator'

export interface BillDetails {
  invoiceNumber: string
  date: Date
  userName: string
  userEmail: string
  phone: string
  vehicleDetails: {
    make: string
    model: string
    year: string
    color: string
  }
  locations: {
    pickup: {
      address: string
      coordinates: { lat: number; lng: number }
    }
    dropoff: {
      address: string
      coordinates: { lat: number; lng: number }
    }
  }
  services: {
    description: string
    amount: number
  }[]
  totalAmount: number
  paymentMethod: string
  paymentId: string
}

export const generateInvoiceNumber = () => {
  const date = new Date()
  const random = Math.floor(Math.random() * 10000)
  return `INV-${date.getFullYear()}${(date.getMonth() + 1).toString().padStart(2, '0')}${random}`
}

export const createBillHTML = (details: BillDetails): string => {
  return `
    <!DOCTYPE html>
    <html>
    <head>
      <style>
        body { font-family: Arial, sans-serif; }
        .header { text-align: center; margin-bottom: 30px; }
        .invoice-details { margin-bottom: 20px; }
        .table { width: 100%; border-collapse: collapse; }
        .table th, .table td { border: 1px solid #ddd; padding: 8px; }
        .total { font-weight: bold; margin-top: 20px; }
      </style>
    </head>
    <body>
      <div class="header">
        <h1>Factura de Servicio de Grúa</h1>
        <p>Número de Factura: ${details.invoiceNumber}</p>
        <p>Fecha: ${details.date.toLocaleDateString()}</p>
      </div>

      <div class="invoice-details">
        <h3>Detalles del Cliente</h3>
        <p>Nombre: ${details.userName}</p>
        <p>Email: ${details.userEmail}</p>
        <p>Teléfono: ${details.phone}</p>

        <h3>Detalles del Vehículo</h3>
        <p>Marca: ${details.vehicleDetails.make}</p>
        <p>Modelo: ${details.vehicleDetails.model}</p>
        <p>Año: ${details.vehicleDetails.year}</p>
        <p>Color: ${details.vehicleDetails.color}</p>

        <h3>Ubicaciones</h3>
        <p>Punto de Recogida: ${details.locations.pickup.address}</p>
        <p>Coordenadas: ${details.locations.pickup.coordinates.lat}, ${details.locations.pickup.coordinates.lng}</p>
        <p>Punto de Entrega: ${details.locations.dropoff.address}</p>
        <p>Coordenadas: ${details.locations.dropoff.coordinates.lat}, ${details.locations.dropoff.coordinates.lng}</p>
      </div>

      <table class="table">
        <thead>
          <tr>
            <th>Descripción</th>
            <th>Monto</th>
          </tr>
        </thead>
        <tbody>
          ${details.services
            .map(
              (service) => `
            <tr>
              <td>${service.description}</td>
              <td>${formatCurrency(service.amount)}</td>
            </tr>
          `,
            )
            .join('')}
        </tbody>
      </table>

      <div class="total">
        <p>Total: ${formatCurrency(details.totalAmount)}</p>
      </div>

      <div class="payment-info">
        <p>Método de Pago: ${details.paymentMethod}</p>
        <p>ID de Transacción: ${details.paymentId}</p>
      </div>

      <footer>
        <p>Este documento sirve como comprobante de pago y solicitud del servicio.</p>
        <p>La grúa ha sido asignada y está en camino.</p>
      </footer>
    </body>
    </html>
  `
}



// C:\Users\israe\Documents\GitHub\recentmap\src\utils\costCalculations.ts
import { TowTruckType } from '@/utils/pricing'

export interface CostBreakdown {
  baseCost: number
  maneuverCost: number
  flagDropFee: number
  tollCost: number
  subtotal: number
  tax: number
  finalTotal: number
}

export const calculateServiceCosts = (
  totalDistance: number,
  truckType: 'A' | 'B' | 'C' | 'D',
  requiresManeuver: boolean,
  totalTollCost: number,
  requiresInvoice: boolean
): CostBreakdown => {
  const baseRate = {
    A: 18.82,
    B: 20.62,
    C: 23.47,
    D: 32.35,
  }[truckType] || 18.82

  const maneuverCostRates = {
    A: 1219.55,
    B: 1336.73,
    C: 1524.21,
    D: 2101.65,
  }

  const flagDropFeeRates = {
    A: 528.69,
    B: 607.43,
    C: 721.79,
    D: 885.84,
  }

  const baseCost = totalDistance * baseRate
  const maneuverCost = requiresManeuver ? maneuverCostRates[truckType] : 0
  const flagDropFee = flagDropFeeRates[truckType]
  const subtotal = baseCost + maneuverCost + flagDropFee + totalTollCost
  const tax = requiresInvoice ? subtotal * 0.16 : 0
  const finalTotal = subtotal + tax

  return {
    baseCost,
    maneuverCost,
    flagDropFee,
    tollCost: totalTollCost,
    subtotal,
    tax,
    finalTotal,
  }
}


// C:\Users\israe\Documents\GitHub\recentmap\src\utils\costCalculator.ts
import { TowTruckType } from '@/utils/pricing'

export const calculateTotalCost = (
  distance: number,
  truckType: 'A' | 'B' | 'C' | 'D',
  requiresManeuver: boolean,
  tollCost: number = 0,
  requiresInvoice: boolean = false,
): { subtotal: number; tax: number; finalTotal: number } => {
  const baseRate = {
    A: 18.82,
    B: 20.62,
    C: 23.47,
    D: 32.35,
  }[truckType] || 18.82

  const maneuverCost = requiresManeuver
    ? {
        A: 1219.55,
        B: 1336.73,
        C: 1524.21,
        D: 2101.65,
      }[truckType]
    : 0

  const flagDropFee = {
    A: 528.69,
    B: 607.43,
    C: 721.79,
    D: 885.84,
  }[truckType]

  const baseCost = distance * baseRate
  const subtotal = baseCost + maneuverCost + flagDropFee + tollCost
  const tax = requiresInvoice ? subtotal * 0.16 : 0
  const finalTotal = subtotal + tax

  return {
    subtotal,
    tax,
    finalTotal,
  }
}

export const formatCurrency = (amount: number): string => {
  return new Intl.NumberFormat('es-MX', {
    style: 'currency',
    currency: 'MXN',
    minimumFractionDigits: 2,
    maximumFractionDigits: 2,
  }).format(amount)
}


// C:\Users\israe\Documents\GitHub\recentmap\src\utils\distanceUtils.ts
export const calculateDistance = (
  point1: { lat: number; lng: number },
  point2: { lat: number; lng: number },
): number => {
  const R = 6371 // Earth's radius in km
  const dLat = ((point2.lat - point1.lat) * Math.PI) / 180
  const dLon = ((point2.lng - point1.lng) * Math.PI) / 180
  const a =
    Math.sin(dLat / 2) * Math.sin(dLat / 2) +
    Math.cos((point1.lat * Math.PI) / 180) *
      Math.cos((point2.lat * Math.PI) / 180) *
      Math.sin(dLon / 2) *
      Math.sin(dLon / 2)
  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a))
  return R * c
}



// C:\Users\israe\Documents\GitHub\recentmap\src\utils\downloadUtils.ts
export type TowTruckType = 'A' | 'B' | 'C' | 'D'

export interface TowTruckDetails {
  name: string
  capacity: string
  perKm: number
  maneuverCharge: number
  maxWeight: number
}

export const downloadServiceInfo = (data: any, format: 'csv' | 'txt') => {
  const content =
    format === 'csv' ? convertToCSV(data) : JSON.stringify(data, null, 2)

  const blob = new Blob([content], {
    type: format === 'csv' ? 'text/csv' : 'text/plain',
  })
  const url = window.URL.createObjectURL(blob)
  const a = document.createElement('a')
  a.href = url
  a.download = `service-info.${format}`
  a.click()
  window.URL.revokeObjectURL(url)
}

const convertToCSV = (data: any) => {
  const headers = Object.keys(data)
  const values = Object.values(data)
  return `${headers.join(',')}\n${values.join(',')}`
}



// C:\Users\israe\Documents\GitHub\recentmap\src\utils\emailService.ts
import { BillDetails } from './billingUtils'

// This is a mock email service - replace with your actual email service implementation
export const sendEmail = async (
  to: string,
  subject: string,
  html: string,
): Promise<boolean> => {
  console.log(`Email would be sent to ${to}`)
  console.log(`Subject: ${subject}`)
  console.log(`Content: ${html}`)

  // Simulate API call
  await new Promise((resolve) => setTimeout(resolve, 1000))
  return true
}

export const sendBillEmails = async (
  billDetails: BillDetails,
  billHtml: string,
): Promise<void> => {
  const adminEmail = 'admin@example.com' // Replace with actual admin email

  // Send to user
  await sendEmail(
    billDetails.userEmail,
    `Confirmación de Servicio de Grúa - ${billDetails.invoiceNumber}`,
    billHtml,
  )

  // Send to admin
  await sendEmail(
    adminEmail,
    `Nueva Solicitud de Servicio - ${billDetails.invoiceNumber}`,
    billHtml,
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\utils\errorHandling.ts
import { toast } from '@/hooks/use-toast'

export class APIError extends Error {
  constructor(
    message: string,
    public statusCode?: number,
    public details?: unknown,
  ) {
    super(message)
    this.name = 'APIError'
  }
}

export const handleError = (error: unknown) => {
  if (error instanceof APIError) {
    toast({
      title: 'API Error',
      description: error.message,
      variant: 'destructive',
    })
    return
  }

  if (error instanceof Error) {
    toast({
      title: 'Error',
      description: error.message,
      variant: 'destructive',
    })
    return
  }

  toast({
    title: 'Unknown Error',
    description: 'An unexpected error occurred',
    variant: 'destructive',
  })
}

export const createAPIError = (
  response: Response,
  message?: string,
): APIError => {
  return new APIError(
    message || `Request failed with status ${response.status}`,
    response.status,
  )
}



// C:\Users\israe\Documents\GitHub\recentmap\src\utils\mapUtils.ts
import L from 'leaflet'

export const ENTERPRISE_LOCATIONS = [
  { lat: 26.510272, lng: -100.006323, name: 'Main Service Center' },
]

export const enterpriseIcon = new L.Icon({
  iconUrl:
    'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png',
  shadowUrl:
    'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
  iconSize: [25, 41],
  iconAnchor: [12, 41],
  popupAnchor: [1, -34],
  shadowSize: [41, 41],
})

export const pickupIcon = new L.Icon({
  iconUrl:
    'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png',
  shadowUrl:
    'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
  iconSize: [25, 41],
  iconAnchor: [12, 41],
  popupAnchor: [1, -34],
  shadowSize: [41, 41],
})

export const dropIcon = new L.Icon({
  iconUrl:
    'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png',
  shadowUrl:
    'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
  iconSize: [25, 41],
  iconAnchor: [12, 41],
  popupAnchor: [1, -34],
  shadowSize: [41, 41],
})



// C:\Users\israe\Documents\GitHub\recentmap\src\utils\notificationUtils.tsx
import { toast } from '@/hooks/use-toast'
import { Check, AlertTriangle, Info, MapPin } from 'lucide-react'

const NOTIFICATION_COOLDOWN = 10000
const notificationTimestamps: { [key: string]: number } = {}

const shouldShowNotification = (type: string): boolean => {
  const now = Date.now()
  const lastShown = notificationTimestamps[type] || 0

  if (now - lastShown > NOTIFICATION_COOLDOWN) {
    notificationTimestamps[type] = now
    return true
  }
  return false
}

export const showLocationNotification = (
  type: 'pickup' | 'drop',
  coords: { lat: number; lng: number },
) => {
  if (!shouldShowNotification(`location_${type}`)) return

  toast({
    title: `${type === 'pickup' ? 'Pickup' : 'Drop-off'} Location Set`,
    description: (
      <div className="flex items-center gap-2">
        <MapPin className="h-4 w-4" />
        <span>
          Coordinates: {coords.lat.toFixed(4)}, {coords.lng.toFixed(4)}
        </span>
      </div>
    ),
    duration: 5000,
    className: 'bg-green-50 border-green-200',
  })
}

export const showRouteNotification = (distance: number) => {
  if (!shouldShowNotification('route')) return

  toast({
    title: 'Route Calculated',
    description: (
      <div className="flex items-center gap-2">
        <Info className="h-4 w-4" />
        <span>Total route distance: {distance.toFixed(2)} km</span>
      </div>
    ),
    duration: 5000,
    className: 'bg-blue-50 border-blue-200',
  })
}

export const showRouteErrorNotification = (error: string) => {
  if (!shouldShowNotification('route_error')) return

  toast({
    title: 'Route Calculation Error',
    description: (
      <div className="flex items-center gap-2">
        <AlertTriangle className="h-4 w-4" />
        <span>{error}</span>
      </div>
    ),
    duration: 7000,
    variant: 'destructive',
  })
}

export const showPaymentNotification = (success: boolean, error?: string) => {
  if (!shouldShowNotification('payment')) return

  if (success) {
    toast({
      title: 'Payment Successful',
      description: (
        <div className="flex items-center gap-2">
          <Check className="h-4 w-4" />
          <span>Tow truck request confirmed!</span>
        </div>
      ),
      duration: 5000,
      className: 'bg-green-50 border-green-200',
    })
  } else {
    toast({
      title: 'Payment Error',
      description: (
        <div className="flex items-center gap-2">
          <AlertTriangle className="h-4 w-4" />
          <span>{error || 'Payment processing error'}</span>
        </div>
      ),
      duration: 5000,
      variant: 'destructive',
    })
  }
}



// C:\Users\israe\Documents\GitHub\recentmap\src\utils\paymentProcessor.ts
import { toast } from '@/hooks/use-toast'

interface PaymentResult {
  success: boolean
  error?: string
  transactionId?: string
}

export const processPayment = async (
  amount: number,
): Promise<PaymentResult> => {
  try {
    // Simulate payment processing delay
    await new Promise((resolve) => setTimeout(resolve, 1500))

    // Simulate successful payment with 90% probability
    const isSuccessful = Math.random() < 0.9

    if (!isSuccessful) {
      throw new Error('Payment processing failed. Please try again.')
    }

    // Generate a mock transaction ID
    const transactionId = `TRX-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`

    return {
      success: true,
      transactionId,
    }
  } catch (error: any) {
    return {
      success: false,
      error: error.message || 'An unexpected error occurred',
    }
  }
}

export const validatePaymentDetails = (cardElement: any) => {
  if (!cardElement) {
    toast({
      title: 'Error de Validación',
      description: 'Por favor, ingrese los detalles de la tarjeta',
      variant: 'destructive',
    })
    return false
  }
  return true
}



// C:\Users\israe\Documents\GitHub\recentmap\src\utils\priceCalculator.ts
import { TowTruckType, towTruckTypes } from '@/utils/pricing'

export const formatCurrency = (amount: number): string => {
  return new Intl.NumberFormat('es-MX', {
    style: 'currency',
    currency: 'MXN',
    minimumFractionDigits: 2,
    maximumFractionDigits: 2,
  }).format(amount)
}

export const calculateTotalCost = (
  distance: number,
  truckType: string,
  requiresManeuver: boolean,
  tollCosts: number = 0,
  requiresInvoice: boolean = false,
): number => {
  const truck = towTruckTypes[truckType as keyof typeof towTruckTypes] || towTruckTypes.A
  const baseCost = calculateBaseCost(distance, truckType)
  const maneuverCost = requiresManeuver ? truck.maneuverCharge : 0
  const flagDropFee = truck.flagDropFee
  const subtotal = baseCost + maneuverCost + tollCosts + flagDropFee
  const tax = requiresInvoice ? subtotal * 0.16 : 0

  console.log('Cost calculation:', {
    distance,
    truckType,
    baseCost,
    maneuverCost,
    flagDropFee,
    tollCosts,
    subtotal,
    tax,
    total: subtotal + tax,
  })

  return subtotal + tax
}

export const calculateBaseCost = (
  distance: number,
  truckType: string,
): number => {
  const truck = towTruckTypes[truckType as keyof typeof towTruckTypes] || towTruckTypes.A
  return distance * truck.perKm
}

export const COMPANY_LOCATION = { lat: 26.510272, lng: -100.006323 }


// C:\Users\israe\Documents\GitHub\recentmap\src\utils\routeCalculator.ts
interface Location {
  lat: number
  lng: number
}

const MEXICAN_ROADS_ADJUSTMENT = 1.15 // 15% adjustment for Mexican roads
const URBAN_AREA_THRESHOLD = 0.1 // 100m threshold for urban area detection

export const calculateRoadDistance = async (
  point1: Location,
  point2: Location,
): Promise<number> => {
  try {
    const response = await fetch(
      `https://router.project-osrm.org/route/v1/driving/${point1.lng},${point1.lat};${point2.lng},${point2.lat}?overview=false&alternatives=true`,
    )

    if (!response.ok) {
      throw new Error('Error al obtener la ruta')
    }

    const data = await response.json()

    if (!data.routes || data.routes.length === 0) {
      throw new Error('No se encontró ninguna ruta')
    }

    // Find the most efficient route
    const bestRoute = data.routes.reduce((best: any, current: any) => {
      return current.duration / current.distance < best.duration / best.distance
        ? current
        : best
    }, data.routes[0])

    // Apply Mexican roads adjustment
    return Number(
      ((bestRoute.distance / 1000) * MEXICAN_ROADS_ADJUSTMENT).toFixed(2),
    )
  } catch (error) {
    console.error('Error calculando la distancia por carretera:', error)
    return (
      calculateStraightLineDistance(point1, point2) * MEXICAN_ROADS_ADJUSTMENT
    )
  }
}

const calculateStraightLineDistance = (
  point1: Location,
  point2: Location,
): number => {
  const R = 6371
  const dLat = ((point2.lat - point1.lat) * Math.PI) / 180
  const dLon = ((point2.lng - point1.lng) * Math.PI) / 180
  const a =
    Math.sin(dLat / 2) * Math.sin(dLat / 2) +
    Math.cos((point1.lat * Math.PI) / 180) *
      Math.cos((point2.lat * Math.PI) / 180) *
      Math.sin(dLon / 2) *
      Math.sin(dLon / 2)
  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a))
  return Number((R * c).toFixed(2))
}



// C:\Users\israe\Documents\GitHub\recentmap\src\utils\serviceCompletion.ts
import { supabase } from '@/integrations/supabase/client'
import { toast } from '@/hooks/use-toast'

export const completeService = async (
  requestId: string,
  completionNotes?: string,
) => {
  try {
    const { data, error } = await supabase
      .from('vehicle_requests')
      .update({
        service_completed_at: new Date().toISOString(),
        service_completed_by_client: true,
        service_completion_notes: completionNotes || null,
        status: 'completed',
      })
      .eq('id', requestId)
      .select()
      .single()

    if (error) throw error

    toast({
      title: 'Service Completed',
      description: 'Thank you for confirming the service completion!',
      className: 'bg-green-50 border-green-200 text-green-800',
    })

    return data
  } catch (error) {
    console.error('Error completing service:', error)
    toast({
      title: 'Error',
      description: 'Could not complete the service. Please try again.',
      variant: 'destructive',
    })
    throw error
  }
}


// C:\Users\israe\Documents\GitHub\recentmap\src\utils\tollCalculator.ts
import { TOLL_LOCATIONS } from '@/data/tollData'
import { calculateDistance } from './distanceUtils'
import { getRouteDetails } from '@/services/routeService'
import { COMPANY_LOCATION } from './priceCalculator'
import { TollLocation } from '@/types/toll'

interface Location {
  lat: number
  lng: number
}

const TOLL_DETECTION_RADIUS = 2.0 // Increased radius for better detection
const TOLL_BUFFER_DISTANCE = 0.5 // Increased buffer for more accurate toll detection

export const detectTollsOnRoute = async (
  pickupLocation: Location,
  dropLocation: Location,
) => {
  try {
    const routes = await getRouteSegments(pickupLocation, dropLocation)
    const routePoints = extractRoutePoints(routes)

    const outboundTolls = detectTollsForSegment(
      pickupLocation,
      dropLocation,
      routePoints,
      'outbound',
    )
    const returnTolls = detectTollsForSegment(
      dropLocation,
      COMPANY_LOCATION,
      routePoints,
      'return',
    )

    const allTolls = [...outboundTolls, ...returnTolls]
    const totalTollCost = calculateTotalTollCost(allTolls)

    return { 
      tolls: allTolls, 
      totalTollCost, 
      routeDetails: routes,
      outboundTollCost: calculateTotalTollCost(outboundTolls),
      returnTollCost: calculateTotalTollCost(returnTolls)
    }
  } catch (error) {
    console.warn('Error detecting tolls:', error)
    return { 
      tolls: [], 
      totalTollCost: 0, 
      routeDetails: null,
      outboundTollCost: 0,
      returnTollCost: 0
    }
  }
}

const getRouteSegments = async (
  pickupLocation: Location,
  dropLocation: Location,
) => {
  const companyToPickup = await getRouteDetails(
    COMPANY_LOCATION,
    pickupLocation,
  )
  const pickupToDrop = await getRouteDetails(pickupLocation, dropLocation)
  const dropToCompany = await getRouteDetails(dropLocation, COMPANY_LOCATION)

  return { outbound: pickupToDrop, return: dropToCompany }
}

const extractRoutePoints = (routes: any) => {
  const points: [number, number][] = []
  if (routes.outbound?.geometry)
    points.push(...decodePolyline(routes.outbound.geometry))
  if (routes.return?.geometry)
    points.push(...decodePolyline(routes.return.geometry))
  return points
}

const detectTollsForSegment = (
  start: Location,
  end: Location,
  routePoints: [number, number][],
  direction: 'outbound' | 'return',
) => {
  return TOLL_LOCATIONS.filter((toll) => {
    const nearStart = calculateDistance(start, toll) <= TOLL_DETECTION_RADIUS
    const nearEnd = calculateDistance(end, toll) <= TOLL_DETECTION_RADIUS
    const nearRoute = routePoints.some(
      (point) =>
        calculateDistance({ lat: point[0], lng: point[1] }, toll) <=
        TOLL_BUFFER_DISTANCE,
    )
    return nearStart || nearEnd || nearRoute
  }).map((toll) => ({
    ...toll,
    direction,
  }))
}

const calculateTotalTollCost = (tolls: TollLocation[]): number => {
  return tolls.reduce((sum, toll) => sum + toll.cost, 0)
}

const decodePolyline = (str: string, precision = 5) => {
  let index = 0,
    lat = 0,
    lng = 0,
    coordinates: [number, number][] = []
  const factor = Math.pow(10, precision)

  while (index < str.length) {
    let result = 0,
      shift = 0,
      byte

    do {
      byte = str.charCodeAt(index++) - 63
      result |= (byte & 0x1f) << shift
      shift += 5
    } while (byte >= 0x20)

    const latitude_change = result & 1 ? ~(result >> 1) : result >> 1

    result = 0
    shift = 0

    do {
      byte = str.charCodeAt(index++) - 63
      result |= (byte & 0x1f) << shift
      shift += 5
    } while (byte >= 0x20)

    const longitude_change = result & 1 ? ~(result >> 1) : result >> 1

    lat += latitude_change
    lng += longitude_change

    coordinates.push([lat / factor, lng / factor])
  }

  return coordinates
}


// C:\Users\israe\Documents\GitHub\recentmap\src\utils\tollUtils.ts
import { TollLocation } from '@/types/toll'

/**
 * Separates tolls by direction (outbound/return)
 */
export const separateTollsByDirection = (tolls: TollLocation[]) => {
  return {
    outboundTolls: tolls.filter((toll) => toll.direction === 'outbound'),
    returnTolls: tolls.filter((toll) => toll.direction === 'return'),
  }
}

/**
 * Formats toll information for display
 */
export const formatTollInfo = (toll: TollLocation) => ({
  name: toll.name,
  cost: toll.cost,
  operatingHours: toll.operatingHours,
  acceptedPayments: toll.acceptedPayments.join(', '),
})

/**
 * Calculates total toll cost for a route
 */
export const calculateTotalTollCost = (tolls: TollLocation[]): number => {
  return tolls.reduce((sum, toll) => sum + toll.cost, 0)
}



// C:\Users\israe\Documents\GitHub\recentmap\src\utils\pricing\index.ts
export * from './truckTypes'
export * from './vehicleClassification'


// C:\Users\israe\Documents\GitHub\recentmap\src\utils\pricing\truckTypes.ts
export interface TowTruckType {
  name: string
  capacity: string
  perKm: number
  maneuverCharge: number
  flagDropFee: number
  maxWeight: number
}

export const towTruckTypes: Record<string, TowTruckType> = {
  A: {
    name: 'Grúa tipo A',
    capacity: 'hasta 2000kg',
    perKm: 18.82,
    maneuverCharge: 1219.55,
    flagDropFee: 528.69,
    maxWeight: 2000,
  },
  B: {
    name: 'Grúa tipo B',
    capacity: 'hasta 3000kg',
    perKm: 20.62,
    maneuverCharge: 1336.73,
    flagDropFee: 607.43,
    maxWeight: 3000,
  },
  C: {
    name: 'Grúa tipo C',
    capacity: 'hasta 4000kg',
    perKm: 23.47,
    maneuverCharge: 1524.21,
    flagDropFee: 721.79,
    maxWeight: 4000,
  },
  D: {
    name: 'Grúa tipo D',
    capacity: 'hasta 8000kg',
    perKm: 32.35,
    maneuverCharge: 2101.65,
    flagDropFee: 885.84,
    maxWeight: 8000,
  },
}


// C:\Users\israe\Documents\GitHub\recentmap\src\utils\pricing\vehicleClassification.ts
import { sedanBrands } from '@/data/vehicles/sedans'
import { suvBrands } from '@/data/vehicles/suvs'
import { pickupBrands } from '@/data/vehicles/pickups'
import { commercialBrands } from '@/data/vehicles/commercial'

const getVehicleType = (make: string, model: string): 'A' | 'B' | 'C' | 'D' => {
  const modelLower = model.toLowerCase()
  const makeLower = make.toLowerCase()

  // Type D (Heavy/Commercial)
  if (isCommercialVehicle(makeLower, modelLower)) return 'D'
  
  // Type C (Large SUVs/Pickups)
  if (isLargeVehicle(makeLower, modelLower)) return 'C'
  
  // Type B (Medium SUVs/Crossovers)
  if (isMediumVehicle(makeLower, modelLower)) return 'B'
  
  // Type A (Default - Sedans and small vehicles)
  return 'A'
}

const isCommercialVehicle = (make: string, model: string): boolean => {
  // Check commercial vehicles
  const isCommercial = Object.entries(commercialBrands).some(([brand, models]) => {
    return make.includes(brand.toLowerCase()) && 
           models.some(m => model.includes(m.toLowerCase()))
  })

  // Check heavy duty pickups
  const heavyDutyKeywords = ['2500', '3500', '4500', 'heavy duty', 'hd']
  const isHeavyDuty = heavyDutyKeywords.some(keyword => model.includes(keyword))

  return isCommercial || isHeavyDuty
}

const isLargeVehicle = (make: string, model: string): boolean => {
  // Large SUVs
  const largeSuvs = ['tahoe', 'suburban', 'expedition', 'sequoia', 'armada', 'telluride', 'palisade']
  if (largeSuvs.some(suv => model.includes(suv))) return true

  // Full-size pickups
  const fullSizePickups = ['f-150', 'silverado 1500', 'ram 1500', 'tundra', 'titan']
  if (fullSizePickups.some(pickup => model.includes(pickup))) return true

  return false
}

const isMediumVehicle = (make: string, model: string): boolean => {
  // Check medium SUVs
  const isMediumSuv = Object.entries(suvBrands).some(([brand, models]) => {
    return make.includes(brand.toLowerCase()) && 
           models.some(m => model.includes(m.toLowerCase()))
  })

  // Medium-size keywords
  const mediumKeywords = ['suv', 'crossover', 'pickup', 'mid-size']
  const hasMediumKeyword = mediumKeywords.some(keyword => model.includes(keyword))

  return isMediumSuv || hasMediumKeyword
}

export const getTruckTypeForVehicle = (make: string, model: string): 'A' | 'B' | 'C' | 'D' => {
  return getVehicleType(make, model)
}


// C:\Users\israe\Documents\GitHub\recentmap\supabase\functions\create-payment-intent\index.ts
import { serve } from 'https://deno.land/std@0.168.0/http/server.ts'
import Stripe from 'https://esm.sh/stripe@14.21.0'
import { createClient } from 'https://esm.sh/@supabase/supabase-js@2.7.1'

const corsHeaders = {
  'Access-Control-Allow-Origin': '*',
  'Access-Control-Allow-Headers':
    'authorization, x-client-info, apikey, content-type',
}

serve(async (req) => {
  if (req.method === 'OPTIONS') {
    return new Response(null, { headers: corsHeaders })
  }

  try {
    const stripe = new Stripe(Deno.env.get('STRIPE_SECRET_KEY') || '', {
      apiVersion: '2023-10-16',
    })

    const supabaseClient = createClient(
      Deno.env.get('SUPABASE_URL') ?? '',
      Deno.env.get('SUPABASE_ANON_KEY') ?? '',
    )

    const { amount, requestId } = await req.json()

    // Get the session or user object
    const authHeader = req.headers.get('Authorization')!
    const token = authHeader.replace('Bearer ', '')
    const { data: { user } } = await supabaseClient.auth.getUser(token)

    if (!user) {
      throw new Error('No authenticated user found')
    }

    // Create payment intent
    const paymentIntent = await stripe.paymentIntents.create({
      amount: Math.round(amount * 100), // Convert to cents
      currency: 'mxn',
      metadata: {
        requestId,
        userId: user.id,
      },
    })

    // Create payment transaction record
    const { error: transactionError } = await supabaseClient
      .from('payment_transactions')
      .insert({
        request_id: requestId,
        amount,
        status: 'pending',
        stripe_payment_intent_id: paymentIntent.id,
        user_id: user.id,
      })

    if (transactionError) {
      console.error('Error creating transaction:', transactionError)
      throw transactionError
    }

    return new Response(
      JSON.stringify({
        clientSecret: paymentIntent.client_secret,
        paymentIntentId: paymentIntent.id,
      }),
      {
        headers: { ...corsHeaders, 'Content-Type': 'application/json' },
        status: 200,
      },
    )
  } catch (error) {
    console.error('Error:', error)
    return new Response(
      JSON.stringify({ error: error.message }),
      {
        headers: { ...corsHeaders, 'Content-Type': 'application/json' },
        status: 500,
      },
    )
  }
})


// C:\Users\israe\Documents\GitHub\recentmap\supabase\functions\notify-request\index.ts
import { serve } from 'https://deno.land/std@0.168.0/http/server.ts'
import { createClient } from 'https://esm.sh/@supabase/supabase-js@2.7.1'

const corsHeaders = {
  'Access-Control-Allow-Origin': '*',
  'Access-Control-Allow-Headers':
    'authorization, x-client-info, apikey, content-type',
}

// Fetch environment variables and handle undefined values
const RESEND_API_KEY = Deno.env.get('RESEND_API_KEY')
const supabaseUrl = Deno.env.get('SUPABASE_URL')
const supabaseKey = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY')

if (!RESEND_API_KEY || !supabaseUrl || !supabaseKey) {
  console.error('Missing one or more environment variables.')
  Deno.exit(1) // Exit if essential variables are missing
}

serve(async (req) => {
  if (req.method === 'OPTIONS') {
    return new Response(null, { headers: corsHeaders })
  }

  try {
    const { requestId } = await req.json()

    const supabase = createClient(supabaseUrl, supabaseKey)

    // Fetch request details and profile
    const { data: request, error: requestError } = await supabase
      .from('vehicle_requests')
      .select(`*, profiles:profiles(full_name, phone_number)`)
      .eq('id', requestId)
      .single()

    if (requestError)
      throw new Error(`Failed to fetch request: ${requestError.message}`)

    // Send email notification
    const emailResponse = await fetch('https://api.resend.com/emails', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        Authorization: `Bearer ${RESEND_API_KEY}`,
      },
      body: JSON.stringify({
        from: 'MRGruas <onboarding@resend.dev>',
        to: ['admin@mrgruas.com'],
        subject: `New Towing Request - ${request.vehicle_make} ${request.vehicle_model}`,
        html: `
          <h2>New Towing Request</h2>
          <p><strong>Customer:</strong> ${request.profiles.full_name}</p>
          <p><strong>Phone:</strong> ${request.profiles.phone_number}</p>
          <p><strong>Vehicle:</strong> ${request.vehicle_make} ${request.vehicle_model} (${request.vehicle_year})</p>
          <p><strong>Color:</strong> ${request.vehicle_color}</p>
          <p><strong>Truck Type:</strong> ${request.truck_type}</p>
          <p><strong>Requires Maneuver:</strong> ${request.requires_maneuver ? 'Yes' : 'No'}</p>
          <h3>Locations</h3>
          <p><strong>Pickup:</strong> ${JSON.stringify(request.pickup_location)}</p>
          <p><strong>Dropoff:</strong> ${JSON.stringify(request.dropoff_location)}</p>
        `,
      }),
    })

    if (!emailResponse.ok) {
      const errorText = await emailResponse.text()
      throw new Error(`Failed to send email: ${errorText}`)
    }

    return new Response(JSON.stringify({ success: true, requestId }), {
      headers: { ...corsHeaders, 'Content-Type': 'application/json' },
    })
  } catch (error) {
    console.error('Error:', error)
    return new Response(JSON.stringify({ error: error.message }), {
      status: 500,
      headers: { ...corsHeaders, 'Content-Type': 'application/json' },
    })
  }
})



// C:\Users\israe\Documents\GitHub\recentmap\supabase\functions\webhook-notify\index.ts
import { serve } from 'https://deno.land/std@0.168.0/http/server.ts'
import { createClient } from 'https://esm.sh/@supabase/supabase-js@2.7.1'

const corsHeaders = {
  'Access-Control-Allow-Origin': '*',
  'Access-Control-Allow-Headers':
    'authorization, x-client-info, apikey, content-type',
}

serve(async (req) => {
  // Handle CORS preflight requests
  if (req.method === 'OPTIONS') {
    return new Response(null, { headers: corsHeaders })
  }

  try {
    const supabaseUrl = Deno.env.get('SUPABASE_URL')!
    const supabaseKey = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY')!
    const supabase = createClient(supabaseUrl, supabaseKey)

    const { requestId } = await req.json()
    console.log('Processing webhook for request:', requestId)

    // Fetch request details with profile information
    const { data: request, error: requestError } = await supabase
      .from('vehicle_requests')
      .select(
        `
        *,
        profiles:profiles(username, full_name, phone_number)
      `,
      )
      .eq('id', requestId)
      .single()

    if (requestError) {
      console.error('Error fetching request:', requestError)
      throw new Error(`Failed to fetch request: ${requestError.message}`)
    }

    // Fetch active webhooks
    const { data: webhooks, error: webhooksError } = await supabase
      .from('webhooks')
      .select('*')
      .eq('is_active', true)

    if (webhooksError) {
      console.error('Error fetching webhooks:', webhooksError)
      throw new Error(`Failed to fetch webhooks: ${webhooksError.message}`)
    }

    console.log(`Found ${webhooks.length} active webhooks`)

    // Send webhook notifications
    const notifications = webhooks.map(async (webhook) => {
      const payload = {
        event: 'vehicle_request.created',
        request: {
          id: request.id,
          created_at: request.created_at,
          vehicle_make: request.vehicle_make,
          vehicle_model: request.vehicle_model,
          status: request.status,
          customer: {
            name: request.profiles.full_name,
            phone: request.profiles.phone_number,
          },
          locations: {
            pickup: request.pickup_location,
            dropoff: request.dropoff_location,
          },
        },
      }

      try {
        const signature = await createSignature(
          JSON.stringify(payload),
          webhook.secret_key,
        )

        console.log(`Sending webhook to ${webhook.url}`)
        const response = await fetch(webhook.url, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'X-Webhook-Signature': signature,
            ...corsHeaders,
          },
          body: JSON.stringify(payload),
        })

        if (!response.ok) {
          console.error(
            `Webhook to ${webhook.url} failed with status ${response.status}`,
          )
          throw new Error(`Webhook failed with status ${response.status}`)
        }

        console.log(`Successfully sent webhook to ${webhook.url}`)
        return response
      } catch (error) {
        console.error(`Error sending webhook to ${webhook.url}:`, error)
        throw error
      }
    })

    await Promise.all(notifications)

    return new Response(
      JSON.stringify({ success: true, message: 'Webhooks sent successfully' }),
      {
        headers: { ...corsHeaders, 'Content-Type': 'application/json' },
      },
    )
  } catch (error) {
    console.error('Error in webhook handler:', error)
    return new Response(
      JSON.stringify({
        error: error.message,
        details: 'Failed to process webhook notifications',
      }),
      {
        status: 500,
        headers: { ...corsHeaders, 'Content-Type': 'application/json' },
      },
    )
  }
})

async function createSignature(
  payload: string,
  secret: string,
): Promise<string> {
  const encoder = new TextEncoder()
  const key = await crypto.subtle.importKey(
    'raw',
    encoder.encode(secret),
    { name: 'HMAC', hash: 'SHA-256' },
    false,
    ['sign'],
  )
  const signature = await crypto.subtle.sign(
    'HMAC',
    key,
    encoder.encode(payload),
  )
  return Array.from(new Uint8Array(signature))
    .map((b) => b.toString(16).padStart(2, '0'))
    .join('')
}
